{"version":3,"sources":["../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/utils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/errors.js","../node_modules/@blink-mind/core/node_modules/debug/src/browser.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/utils/compareUtils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/utils/safeInvokeMember.js","../node_modules/@blink-mind/plugin-rich-text-editor/node_modules/debug/src/browser.js","../node_modules/@blink-mind/plugin-json-serializer/node_modules/debug/src/browser.js","images/default.jpg","images/theme1.jpg","images/theme2.jpg","images/theme3.jpg","images/theme4.jpg","../node_modules/@blink-mind/renderer-react/node_modules/debug/src/browser.js","../node_modules/@blink-mind/renderer-react/node_modules/debug/src/common.js","../node_modules/@blink-mind/core/node_modules/debug/src/common.js","../node_modules/@blink-mind/plugin-simple-text-editor/node_modules/debug/src/common.js","../node_modules/@blink-mind/plugin-rich-text-editor/node_modules/debug/src/common.js","../node_modules/@blink-mind/plugin-json-serializer/node_modules/debug/src/common.js","../node_modules/@blink-mind/core/node_modules/tiny-warning/dist/tiny-warning.esm.js","../node_modules/@blink-mind/core/node_modules/is-plain-object/index.js","../node_modules/@blink-mind/core/node_modules/isobject/index.js","../node_modules/@blink-mind/core/lib/main.es.js","../node_modules/@blink-mind/renderer-react/node_modules/tslib/tslib.es6.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/position.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popoverSharedProps.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/alignment.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/elevation.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/intent.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/classes.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/keys.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/props.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/abstractPureComponent2.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/icon/icon.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/breadcrumbs/breadcrumb.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/portal/portal.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/overlay/overlay.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/resize-sensor/resizeSensor.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popperUtils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popoverArrow.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popoverMigrationUtils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popover.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/tooltip/tooltip.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/boundary.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/html/html.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/overflow-list/overflowList.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/menu/menuDivider.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/text/text.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/menu/menuItem.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/menu/menu.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/breadcrumbs/breadcrumbs.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/spinner/spinner.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/button/abstractButton.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/button/buttons.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/dialog/dialog.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/divider/divider.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/button/buttonGroup.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/forms/controlGroup.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/forms/inputGroup.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/forms/numericInputUtils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/forms/numericInput.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/context-menu/contextMenu.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/context-menu/contextMenuTarget.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/utils/isDarkTheme.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeyParser.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/drawer/drawer.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/keyCombo.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkey.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeys.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeysDialog.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeysEvents.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeysTarget.js","../node_modules/@blink-mind/plugin-simple-text-editor/lib/main.es.js","../node_modules/@blink-mind/renderer-react/lib/main.es.js","../node_modules/@blink-mind/plugin-rich-text-editor/lib/main.es.js","../node_modules/@blink-mind/plugin-json-serializer/lib/main.es.js","../node_modules/@blink-mind/plugin-theme-selector/lib/main.es.js","component/toolbar/toolbar-item-open.js","component/toolbar/toolbar-item-layout.js","component/toolbar/toolbar-item-theme.js","utils/index.js","component/toolbar/toolbar-item-export.js","component/toolbar/toolbar.js","component/mindmap.js","App.js","serviceWorker.js","index.js","../node_modules/@blink-mind/plugin-simple-text-editor/node_modules/debug/src/browser.js"],"names":["isNodeEnv","env","process","isFunction","value","isReactNodeEmpty","node","skipArray","Array","isArray","length","every","n","ensureElement","child","tagName","trim","undefined","type","isReactElement","props","getDisplayName","ComponentClass","displayName","name","isElementOfType","element","ComponentType","safeInvoke","func","args","_i","arguments","apply","safeInvokeOrValue","funcOrValue","elementIsOrContains","testElement","contains","arrayLengthCompare","a","b","approxEqual","tolerance","Math","abs","clamp","val","min","max","Error","countDecimalPlaces","num","isFinite","e","p","round","throttleEvent","target","eventName","newEventName","throttledFunc","_throttleHelper","event","dispatchEvent","CustomEvent","addEventListener","throttleReactEventCallback","callback","options","event2","preventDefault","persist","throttle","method","onAnimationFrameRequested","onBeforeIsRunningCheck","onAfterIsRunningCheck","isRunning","requestAnimationFrame","ns","CLAMP_MIN_MAX","CONTEXTMENU_WARN_DECORATOR_NO_METHOD","CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT","HOTKEYS_HOTKEY_CHILDREN","HOTKEYS_WARN_DECORATOR_NO_METHOD","HOTKEYS_WARN_DECORATOR_NEEDS_REACT_ELEMENT","NUMERIC_INPUT_MIN_MAX","NUMERIC_INPUT_MINOR_STEP_SIZE_BOUND","NUMERIC_INPUT_MAJOR_STEP_SIZE_BOUND","NUMERIC_INPUT_MINOR_STEP_SIZE_NON_POSITIVE","NUMERIC_INPUT_MAJOR_STEP_SIZE_NON_POSITIVE","NUMERIC_INPUT_STEP_SIZE_NON_POSITIVE","NUMERIC_INPUT_STEP_SIZE_NULL","OVERFLOW_LIST_OBSERVE_PARENTS_CHANGED","POPOVER_REQUIRES_TARGET","POPOVER_HAS_BACKDROP_INTERACTION","POPOVER_WARN_TOO_MANY_CHILDREN","POPOVER_WARN_DOUBLE_CONTENT","POPOVER_WARN_DOUBLE_TARGET","POPOVER_WARN_EMPTY_CONTENT","POPOVER_WARN_HAS_BACKDROP_INLINE","POPOVER_WARN_UNCONTROLLED_ONINTERACTION","PORTAL_CONTEXT_CLASS_NAME_STRING","SPINNER_WARN_CLASSES_SIZE","DIALOG_WARN_NO_HEADER_ICON","DIALOG_WARN_NO_HEADER_CLOSE_BUTTON","DRAWER_VERTICAL_IS_IGNORED","DRAWER_ANGLE_POSITIONS_ARE_CASTED","_typeof","obj","Symbol","iterator","constructor","prototype","exports","log","_console","console","formatArgs","this","useColors","namespace","module","humanize","diff","c","color","splice","index","lastC","replace","match","save","namespaces","storage","setItem","removeItem","error","load","r","getItem","DEBUG","window","__nwjs","navigator","userAgent","toLowerCase","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","localStorage","localstorage","colors","formatters","j","v","JSON","stringify","message","arraysEqual","arrA","arrB","compare","i","shallowCompareKeys","objA","objB","keys","_shallowCompareKeys","keysA","Object","keysB","include","deepCompareKeys","_isSimplePrimitiveType","_deepCompareKeys","getDeepUnequalKeyValues","compareFn","filter","key","map","valueA","valueB","_getUnequalKeyValues","keySet","_arrayToObject","concat","_unionKeys","_isWhitelist","exclude","_isBlacklist","keySet_1","forEach","_filterKeys","hasOwnProperty","arr","reduce","safeInvokeMember","member","selectColor","hash","charCodeAt","createDebug","prevTime","debug","enabled","_len","_key","self","curr","Number","Date","ms","prev","coerce","unshift","format","formatter","call","destroy","extend","init","instances","push","indexOf","delimiter","default","stack","disable","enable","names","skips","split","len","substr","instance","test","isProduction","condition","text","warn","x","isObjectObject","o","toString","isPlainObject","ctor","prot","_extendStatics","d","setPrototypeOf","__proto__","__extends","__","create","__read","m","ar","next","done","__spread","compose","middleware","e_1","_a","TypeError","middleware_1","__values","middleware_1_1","e_1_1","return","context","dispatch","fn","bind","err","DiagramLayoutType","Controller","diagram","_b","plugins","onChange","readOnly","Map","registerPlugin","controller","plugin","CorePlugin","run","fns","composedFn","change","model","_super","Block","defineProperty","get","enumerable","configurable","createList","isList","data","defaultTheme","randomColor","background","highlightColor","marginH","marginV","contentStyle","lineHeight","linkStyle","lineRadius","lineType","lineWidth","rootTopic","fontSize","borderRadius","padding","subLinkStyle","lineColor","primaryTopic","borderWidth","borderStyle","normalTopic","border","TopicDirection","TopicVisualLevel","ROOT","PRIMARY","NORMAL","BlockType","CONTENT","DESC","FocusMode","EDITING_CONTENT","EDITING_DESC","SHOW_POPUP","DRAGGING","TopicRelationship","ANCESTOR","DESCENDANT","SIBLING","NONE","OpType","TOGGLE_COLLAPSE","COLLAPSE_ALL","EXPAND_ALL","ADD_CHILD","ADD_SIBLING","DELETE_TOPIC","FOCUS_TOPIC","SET_STYLE","SET_TOPIC_CONTENT","SET_TOPIC_DESC","START_EDITING_CONTENT","START_EDITING_DESC","DRAG_AND_DROP","SET_EDITOR_ROOT","defaultConfigRecord","allowUndo","layoutDir","LEFT_AND_RIGHT","theme","Config","fromJSON","Data","attrs","isMap","object","createKey","random","Topic","getBlock","blocks","findIndex","block","parentKey","subKeys","_c","collapse","content","_d","_e","relations","defaultModelRecord","topics","config","rootTopicKey","editorRootTopicKey","focusKey","focusMode","formatVersion","zoomFactor","Model","isModel","createEmpty","update","set","merge","withMutations","topic","toJS","values","getTopic","getParentTopic","getTopicVisualLevel","level","getAllSubTopicKeys","topicKey","item","res","size","toArray","acc","log$1","focusTopic","addChild","child_1","addSibling","pItem","idx_1","sibling_1","updateIn","insert","toggleCollapse","collapseAll","topicKeys","setIn","expandAll","deleteTopic","delete","deleteKeys","t","dKey","setContent","dt","setDesc","setStyle","s","setTheme","setLayoutDir","setEditorRootTopicKey","setZoomFactor","_assign","assign","__rest","getOwnPropertySymbols","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","Position","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_BOTTOM","LEFT_TOP","RIGHT","RIGHT_BOTTOM","RIGHT_TOP","TOP","TOP_LEFT","TOP_RIGHT","getPositionIgnoreAngles","position","PopoverPosition","AUTO","AUTO_END","AUTO_START","Alignment","CENTER","Elevation","Intent","SUCCESS","WARNING","DANGER","NS","BLUEPRINT_NAMESPACE","REACT_APP_BLUEPRINT_NAMESPACE","ACTIVE","ALIGN_LEFT","ALIGN_RIGHT","DARK","DISABLED","FILL","FIXED","FIXED_TOP","INLINE","INTERACTIVE","LARGE","LOADING","MINIMAL","MULTILINE","ROUND","SMALL","VERTICAL","POSITION_TOP","positionClass","POSITION_BOTTOM","POSITION_LEFT","POSITION_RIGHT","ELEVATION_0","elevationClass","ELEVATION_1","ELEVATION_2","ELEVATION_3","ELEVATION_4","INTENT_PRIMARY","INTENT_SUCCESS","INTENT_WARNING","INTENT_DANGER","FOCUS_DISABLED","UI_TEXT","RUNNING_TEXT","MONOSPACE_TEXT","TEXT_LARGE","TEXT_SMALL","TEXT_MUTED","TEXT_DISABLED","TEXT_OVERFLOW_ELLIPSIS","BLOCKQUOTE","CODE","CODE_BLOCK","HEADING","LIST","LIST_UNSTYLED","RTL","ALERT","ALERT_BODY","ALERT_CONTENTS","ALERT_FOOTER","BREADCRUMB","BREADCRUMB_CURRENT","BREADCRUMBS","BREADCRUMBS_COLLAPSED","BUTTON","BUTTON_GROUP","BUTTON_SPINNER","BUTTON_TEXT","CALLOUT","CALLOUT_ICON","CARD","COLLAPSE","COLLAPSE_BODY","COLLAPSIBLE_LIST","CONTEXT_MENU","CONTEXT_MENU_POPOVER_TARGET","CONTROL_GROUP","DIALOG","DIALOG_CONTAINER","DIALOG_BODY","DIALOG_CLOSE_BUTTON","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","DIALOG_HEADER","DIVIDER","DRAWER","DRAWER_BODY","DRAWER_FOOTER","DRAWER_HEADER","EDITABLE_TEXT","EDITABLE_TEXT_CONTENT","EDITABLE_TEXT_EDITING","EDITABLE_TEXT_INPUT","EDITABLE_TEXT_PLACEHOLDER","FLEX_EXPANDER","HTML_SELECT","SELECT","HTML_TABLE","HTML_TABLE_BORDERED","HTML_TABLE_CONDENSED","HTML_TABLE_STRIPED","INPUT","INPUT_GHOST","INPUT_GROUP","INPUT_ACTION","CONTROL","CONTROL_INDICATOR","CONTROL_INDICATOR_CHILD","CHECKBOX","RADIO","SWITCH","SWITCH_INNER_TEXT","FILE_INPUT","FILE_INPUT_HAS_SELECTION","FILE_UPLOAD_INPUT","FILE_UPLOAD_INPUT_CUSTOM_TEXT","KEY","KEY_COMBO","MODIFIER_KEY","HOTKEY","HOTKEY_LABEL","HOTKEY_COLUMN","HOTKEY_DIALOG","LABEL","FORM_GROUP","FORM_CONTENT","FORM_HELPER_TEXT","MENU","MENU_ITEM","MENU_ITEM_LABEL","MENU_SUBMENU","MENU_DIVIDER","MENU_HEADER","NAVBAR","NAVBAR_GROUP","NAVBAR_HEADING","NAVBAR_DIVIDER","NON_IDEAL_STATE","NON_IDEAL_STATE_VISUAL","NUMERIC_INPUT","OVERFLOW_LIST","OVERFLOW_LIST_SPACER","OVERLAY","OVERLAY_BACKDROP","OVERLAY_CONTAINER","OVERLAY_CONTENT","OVERLAY_INLINE","OVERLAY_OPEN","OVERLAY_SCROLL_CONTAINER","PANEL_STACK","PANEL_STACK_HEADER","PANEL_STACK_HEADER_BACK","PANEL_STACK_VIEW","POPOVER","POPOVER_ARROW","POPOVER_BACKDROP","POPOVER_CONTENT","POPOVER_CONTENT_SIZING","POPOVER_DISMISS","POPOVER_DISMISS_OVERRIDE","POPOVER_OPEN","POPOVER_TARGET","POPOVER_WRAPPER","TRANSITION_CONTAINER","PROGRESS_BAR","PROGRESS_METER","PROGRESS_NO_STRIPES","PROGRESS_NO_ANIMATION","PORTAL","SKELETON","SLIDER","SLIDER_AXIS","SLIDER_HANDLE","SLIDER_LABEL","SLIDER_TRACK","SLIDER_PROGRESS","START","END","SPINNER","SPINNER_ANIMATION","SPINNER_HEAD","SPINNER_NO_SPIN","SPINNER_TRACK","TAB","TAB_INDICATOR","TAB_INDICATOR_WRAPPER","TAB_LIST","TAB_PANEL","TABS","TAG","TAG_REMOVE","TAG_INPUT","TAG_INPUT_ICON","TAG_INPUT_VALUES","TOAST","TOAST_CONTAINER","TOAST_MESSAGE","TOOLTIP","TOOLTIP_INDICATOR","TREE","TREE_NODE","TREE_NODE_CARET","TREE_NODE_CARET_CLOSED","TREE_NODE_CARET_NONE","TREE_NODE_CARET_OPEN","TREE_NODE_CONTENT","TREE_NODE_EXPANDED","TREE_NODE_ICON","TREE_NODE_LABEL","TREE_NODE_LIST","TREE_NODE_SECONDARY_LABEL","TREE_NODE_SELECTED","TREE_ROOT","ICON","ICON_STANDARD","ICON_LARGE","getClassNamespace","alignmentClass","alignment","elevation","iconClass","iconName","intent","BACKSPACE","ENTER","SHIFT","ESCAPE","SPACE","ARROW_LEFT","ARROW_UP","ARROW_RIGHT","ARROW_DOWN","DELETE","isKeyboardClick","keyCode","INVALID_PROPS","removeNonHTMLProps","invalidProps","shouldMerge","AbstractPureComponent2","_this","timeoutIds","clearTimeouts","timeoutId","clearTimeout","validateProps","componentDidUpdate","_prevProps","_prevState","_snapshot","componentWillUnmount","setTimeout","timeout","handle","_props","Icon","Icon_1","render","icon","className","htmlTitle","iconSize","SIZE_STANDARD","title","htmlprops","pixelGridSize","SIZE_LARGE","paths","renderSvgPaths","classes","intentClass","viewBox","fill","width","height","pathsSize","pathStrings","fillRule","DISPLAYNAME_PREFIX","breadcrumbProps","current","disabled","href","onClick","children","tabIndex","cannotCreatePortal","REACT_CONTEXT_TYPES","blueprintPortalClassName","Portal","state","hasMounted","portalElement","componentDidMount","container","createContainerElement","appendChild","setState","onChildrenMount","unstableRenderNoPortal","prevProps","classList","remove","maybeAddClass","createElement","add","contextTypes","defaultProps","body","Overlay","refHandlers","ref","containerElement","maybeRenderChild","decoratedChild","onOpening","onOpened","onClosing","onClosed","transitionDuration","transitionName","classNames","onEntering","onEntered","onExiting","onExited","handleBackdropMouseDown","backdropProps","canOutsideClickClose","enforceFocus","onClose","bringFocusInsideOverlay","onMouseDown","handleDocumentClick","isOpen","eventTarget","stackIndex","Overlay_1","openStack","isClickInThisOverlayOrDescendant","slice","some","elem","isSameNode","handleDocumentFocus","stopImmediatePropagation","handleKeyDown","canEscapeKeyClose","which","hasEverOpened","getDerivedStateFromProps","lazy","usePortal","childrenWithTransitions","maybeRenderBackdrop","containerClasses","transitionGroup","appear","component","onKeyDown","portalClassName","portalContainer","overlayWillOpen","overlayWillClose","activeElement","autofocusElement","querySelector","wrapperElement","focus","backdropClassName","hasBackdrop","removeEventListener","lastOpenedOverlay","getLastOpened","autoFocus","ResizeSensor","observer","entries","onResize","only","observeElement","observeParents","disconnect","force","getElement","Element","observe","parent_1","parentElement","getPosition","placement","isVerticalPosition","side","getOppositePosition","getAlignment","getTransformOrigin","arrowElement","arrowSizeShift","clientHeight","arrow","offsets","top","left","arrowOffsetModifier","arrowSize","clientWidth","isVertical","offsetSide","arrowOffsetSize","sqrt","popper","getArrowAngle","arrowProps","isNaN","transform","positionToPlacement","assertNever","PopoverInteractionKind","CLICK","CLICK_TARGET_ONLY","HOVER","HOVER_TARGET_ONLY","Popover","hasDarkParent","getIsOpen","transformOrigin","isMouseInTargetOrPopover","lostFocusOnSamePage","popover","popoverElement","popoverRef","targetElement","reposition","popperScheduleUpdate","renderPopover","popperProps","interactionKind","scheduleUpdate","popoverHandlers","handlePopoverClick","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","popoverClasses","inheritDarkTheme","minimal","popoverClassName","isArrowEnabled","understandChildren","renderTarget","referenceProps","openOnTargetFocus","targetClassName","targetProps","isControlled","isHoverInteractionKind","targetTagName","finalTargetProps","onBlur","handleTargetBlur","onFocus","handleTargetFocus","handleTargetClick","rawTarget","rawTabIndex","clonedTarget","relatedTarget","isElementInPopover","setOpenState","hoverOpenDelay","hoverCloseDelay","dismissElement","closest","shouldDismiss","isDisabled","isDefaultPrevented","captureDismiss","handleOverlayClose","nativeEvent","KeyboardEvent","prevState","updatePopoverState","wrapperTagName","isContentEmpty","wrapperClasses","wrapper","Reference","innerRef","Popper","modifiers","getPopperModifiers","Manager","updateDarkParent","_","snapshot","nextIsOpen","onInteraction","childrenCount","count","hasContentProp","hasTargetProp","contentProp","targetProp","targetChild","contentChild","defaultIsOpen","boundary","flip","preventOverflow","arrowOffset","order","boundariesElement","cancelOpenTimeout","Tooltip","restProps","_ref","Boundary","htmlElement","tagClassName","elementRef","htmlProps","OverflowDirection","H4","H6","MenuDivider","Text","isContentOverflowing","textContent","textRef","ellipsize","newState","scrollWidth","MenuItem","active","labelElement","labelClassName","multiline","shouldDismissPopover","popoverProps","textClassName","hasSubmenu","anchorClasses","DISABLED_PROPS","maybeRenderLabel","liClasses","maybeRenderPopover","label","SUBMENU_POPOVER_MODIFIERS","offset","Menu","large","ulRef","Divider","Item","OverflowList","direction","lastOverflowCount","overflow","visible","items","previousWidths","spacer","resize","growing","entry","previousWidth","contentRect","repartition","ofType","shouldComponentUpdate","_nextProps","nextState","collapseFrom","minVisibleItems","overflowRenderer","visibleItemRenderer","GROW","onOverflow","maybeRenderOverflow","list","getBoundingClientRect","collapseFromStart","shift","pop","SHRINK","Breadcrumbs","renderOverflow","orderedItems","reverse","renderOverflowBreadcrumb","isClickable","renderBreadcrumbWrapper","isCurrent","renderBreadcrumb","overflowListProps","currentBreadcrumbRenderer","breadcrumbRenderer","R","Spinner","Spinner_1","forceUpdate","getSize","strokeWidth","strokeOffset","toFixed","getViewBox","pathLength","strokeDasharray","PATH_LENGTH","strokeDashoffset","SIZE_SMALL","radius","viewBoxX","viewBoxWidth","AbstractButton","isActive","button","buttonRef","currentKeyDown","handleKeyUp","click","onKeyUp","getCommonButtonProps","alignText","loading","small","renderChildren","rightIcon","Button","AnchorButton","commonProps","role","Dialog","maybeRenderHeader","isCloseButtonShown","maybeRenderCloseButton","ButtonGroup","vertical","buttonGroupClasses","ControlGroup","rootClasses","DEFAULT_RIGHT_ELEMENT_WIDTH","InputGroup","rightElementWidth","rightElement","leftIcon","paddingRight","inputRef","maybeRenderRightElement","getValueOrEmptyValue","IncrementDirection","FLOATING_POINT_NUMBER_CHARACTER_REGEX","isFloatingPointNumericCharacter","character","NON_HTML_PROPS","NumericInput","shouldSelectAfterUpdate","stepMaxPrecision","NumericInput_1","getStepMaxPrecision","didPasteEventJustOccur","delta","inputElement","intervalId","incrementButtonHandlers","getButtonEventHandlers","UP","decrementButtonHandlers","DOWN","input","handleButtonClick","updateDelta","nextValue","incrementValue","invokeValueCallback","onButtonClick","stopContinuousChange","clearInterval","handleContinuousChange","handleInputFocus","selectAllOnFocus","handleInputBlur","clampValueOnBlur","sanitizedValue","getSanitizedValue","handleInputKeyDown","handleInputKeyPress","allowNumericCharactersOnly","ctrlKey","altKey","metaKey","isValidNumericKeyboardEvent","onKeyPress","handleInputPaste","onPaste","handleInputChange","join","prevMinProp","prevMaxProp","prevValueProp","didMinChange","didMaxChange","didBoundsChange","VALUE_EMPTY","minorStepSize","stepSize","parseFloat","isValueNumeric","adjustedMin","Infinity","adjustedMax","clampValue","maxPrecision","scaleFactor","pow","toMaxPrecision","buttonPosition","buttons","renderButtons","renderInput","setSelectionRange","onValueChange","nextProps","majorStepSize","inputGroupHtmlProps","autoComplete","evt","startContinuousChange","setInterval","CONTINUOUS_CHANGE_INTERVAL","CONTINUOUS_CHANGE_DELAY","currValue","VALUE_ZERO","selectAllOnIncrement","getIncrementDelta","isShiftKeyPressed","isAltKeyPressed","shiftKey","contextMenuElement","contextMenu","POPPER_MODIFIERS","TRANSITION_DURATION","ContextMenu","isDarkTheme","menu","cancelContextMenu","handleBackdropContextMenu","elementFromPoint","clientX","clientY","MouseEvent","handlePopoverInteraction","nextOpenState","hide","onContextMenu","show","ContextMenuTarget","WrappedComponent","renderContextMenu","ContextMenuTargetClass","oldOnContextMenu","defaultPrevented","darkTheme","onContextMenuClose","Drawer","realPosition","styleProp","isPositionHorizontal","KeyCodes","8","9","13","20","27","32","33","34","35","36","37","38","39","40","45","46","48","49","50","51","52","53","54","55","56","57","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","Modifiers","16","17","18","91","93","224","ModifierBitMasks","alt","ctrl","meta","Aliases","cmd","command","escape","minus","mod","isMac","option","plus","win","ShiftKeys","$","comboMatches","parseKeyCombo","combo","pieces_1","piece","getKeyCombo","String","fromCharCode","platformOverride","platform","KeyIcons","down","enter","right","up","KeyCombo","renderKey","reactKey","renderMinimalKey","keyName","normalizeKeyCombo","toUpperCase","Hotkey","spreadableProps","global","group","allowInInput","stopPropagation","Hotkeys","hotkeys","sort","localeCompare","lastGroup","elems","hotkeys_1","hotkey","groupLabel","HOTKEYS_DIALOG","HotkeysDialog","componentProps","globalHotkeysGroup","hotkeysQueue","isDialogShowing","getContainer","renderComponent","unmount","enqueueHotkeysForDisplay","showTimeoutToken","hideAfterDelay","hideTimeoutToken","isShowing","renderHotkeys","elements","emptyHotkeyQueue","queued","isHotkeysDialogShowing","HotkeyScope","SHOW_DIALOG_KEY","HotkeysEvents","scope","actions","isTextInput","invokeNamedCallbackIfComboRecognized","action","clear","setHotkeys","isScope","callbackName","isPropagationStopped","GLOBAL","LOCAL","editable","inputType","HotkeysTarget","HotkeysTargetClass","globalHotkeysEvents","localHotkeysEvents","existingKeyDown_1","existingKeyUp_1","cooked","raw","templateObject_1","Content","div","SimpleTextEditor","onMouseMove","_handleClick","root","onClickOutSide","rootRef","saveRef","initState","getCustomizeProps","getContent","deserialize","refKeyPrefix","placeholder","editorProps","contentProps","TopicContentEditor","whiteSpace","editingContentKey","opType","log$2","TopicDescEditor","editingDescKey","getTopicTitle","renderTopicContentEditor","renderTopicDescEditor","isBlockEmpty","serializeBlockData","serialize","serializeBlock","deserializeBlock","templateObject_2","templateObject_1$1","templateObject_2$1","templateObject_3","templateObject_4","templateObject_5","templateObject_6","templateObject_7","BaseWidget","operation","arg","DragScrollView","DragScrollContent","DragScrollWidget","contentResizeCallback","oldContentRect","widgetStyle","bigView","contentResizeObserver","contentRef","viewBoxRef","enableMouseWheel","passive","setViewBoxScroll","bigViewRef","setWidgetStyle","scrollLeft","scrollTop","setViewBoxScrollDelta","deltaLeft","deltaTop","mouseKey","needKeyPressed","canDragFunc","_lastCoordX","_lastCoordY","onMouseUp","handleContextMenu","SaveRef","getRef","fireListener","observers","has","listeners","listeners_1","listeners_1_1","listener","registerRefListener","Flex","alignItems","Margin","margin","ShowMenuIcon","IconBg","Btn","CloseIcon","Title","IconName","SHOW_MENU","CLOSE","COLOR_PICKER","NOTES","PLUS","MINUS","iconClassName","contentRefKey","topicWidgetRefKey","topicRefKey","linksRefKey","linksSvgRefKey","collapseRefKey","RefKey","DIAGRAM_ROOT_KEY","DRAG_SCROLL_WIDGET_KEY","SVG_HIGHLIGHT_KEY","FOCUS_HIGHLIGHT_KEY","DROP_EFFECT_KEY","EventKey","CENTER_ROOT_TOPIC","cancelEvent","centerY","rect","bottom","centerPointX","p1","p2","centerPointY","y","center","_getRelativeRect","el","rel","scale","relCenter","elCenter","getRelativeVector","templateObject_1$2","templateObject_1$3","DropEffectSvg","svg","TopicDropEffect","layout","dropDir","svgRect","stroke","DropArea","DragAndDrop","dragTargetKey","dragTargetDir","renderTopicDropArea","eventHandlers","onDragEnter","ev","onDragLeave","onDragOver","onDrop","renderDragAndDropEffect","getDragTargetProps","handleTopicDragStart","canDrop","srcKey","dstKey","srcTopic","dstTopic","pTopic","getRelationship","handleTopicDragEnter","handleTopicDragLeave","handleTopicDrop","log$3","EventPlugin","eventListeners","handleTopicClick","handleTopicDoubleClick","handleTopicContextMenu","handleActiveModalClose","activeModalProps","once","origin","fireEvent","HotKeyName","EDIT_CONTENT","EDIT_NOTES","HotKeyPlugin","customizeHotKeys","op","log$4","OperationPlugin","OpMap","srcParentKey","srcParentSubKeys","srcIndex","dstSubKeys_1","dstParentKey_1","dstParentSubKeys_1","dstIndex","newDstParentSubKeys_1","undoStack","redoStack","getAllowUndo","getUndoRedoStack","setUndoStack","setRedoStack","canUndo","canRedo","undo","newModel","peek","redo","beforeOperation","opArray","undoStack_1","cur","opFunc","afterOperation","templateObject_1$4","templateObject_2$2","templateObject_3$1","templateObject_1$5","templateObject_2$3","templateObject_1$6","templateObject_1$7","templateObject_2$4","templateObject_1$8","templateObject_2$5","templateObject_3$2","templateObject_4$1","templateObject_5$1","EditorRootBreadcrumbsRoot","TooltipContent","BreadcrumbTitle","span","EditorRootBreadcrumbs","breadProps","propertyIsEnumerable","needTooltip","tooltipProps","breadcrumb","editingRootKey","NodeLayer","DIV","MindDragScrollWidget","dragScrollWidget","onWheel","deltaY","nodeLayer","rootTopicRect","nodeLayerRect","nodeKey","rootWidgetProps","Modals","handleClose","activeModal","minHeight","RootLinksSvg","RootSubLinks","curves","curve","vDir","hDir","log$6","LayerPart","topicDirection","RootWidget","renderPartTopics","dir","isRoot","subTopics","cxName","topicStyle","topicContent","partTopics","L","LEFT_TO_RIGHT","RIGHT_TO_LEFT","TOP_TO_BOTTOM","B","SettingTitle","SettingItem","SettingRow","ColorBar","WithBorder","unit","handleClick","query","PxSelect","borderWidthItems","borderWidthItems$1","borderRadiusItems","borderStyleItems","lineTypes","templateObject_1$9","templateObject_2$6","templateObject_1$a","templateObject_2$7","templateObject_3$3","log$7","StyleEditorRoot","PopRoot","StyleEditor","setShowPanel","showPanel","setTopicContentStyle","handleBackgroundColorChange","hex","handleClearStyle","handleCopyStyle","copiedStyle","handlePasteStyle","itemRenderer","filterable","onItemSelect","borderColor","onChangeComplete","BorderStyleEditor","fontSizeNumInputProps","lineHeightInputProps","TextStyleEditor","LinkStyleEditor","ClearAllCustomStyle","Icon$1","TopicCollapseIcon","onClickCollapse","iconfont","templateObject_1$b","templateObject_2$8","log$8","EditingRoot","EditingWrapper","cancelEvent$1","TopicContent","editor","wrapper_1","rect_1","editorDiv","contentResizeObserver_1","templateObject_1$c","templateObject_2$9","templateObject_1$d","templateObject_2$a","templateObject_3$4","log$9","TopicContent$1","TopicContentWithDropArea","TopicContentWidget","onDragStart","isDoubleClick","onDoubleClick","needRelocation","oldCollapseIconVector","dragEnter","newRect","newVector","vector","draggable","collapseIcon","prevDropArea","nextDropArea","dropEventHandlers","TopicContextMenu","log$a","DescIcon","DescEditorWrapper","TooltipContentWrapper","TopicDesc","isEditing","descEditor","diagramRoot","maxWidth","maxHeight","dRect","classname","descIcon","descData","templateObject_1$e","templateObject_1$f","templateObject_1$g","templateObject_2$b","templateObject_3$5","templateObject_1$h","templateObject_2$c","templateObject_3$6","FocusHighlightSvg","TopicHighlight","TopicLinksSvg","log$b","TopicSubLinks","p3","z","collapseRect","log$c","Node","NodeChildren","NodeTopic","TopicWidget","renderSubTopics","subLinks","layoutLinks","links","propsMore","log$d","ViewerRoot","Item_","ZoomFactorSpan","tooltip","ViewPortViewer","zoomFactorChange","onClickResetZoom","onClickAddZoom","onClickMinusZoom","onClickCollapseAll","centerRootTopic","onClickExpandAll","dragScroll","floor","shortcut","rootCanUse","customizeTopicContextMenu","onClickItem","Theme","templateObject_1$i","log$e","RenderingPlugin","DiagramRoot","renderDiagram","widgetProps","renderDiagramCustomize","renderEditorRootBreadcrumbs","renderModals","renderModal","getActiveModalProps","renderDoc","renderRootWidget","renderTopicWidget","renderTopicContent","renderTopicContextMenu","renderTopicCollapseIcon","renderTopicBlocks","blockKey","renderTopicBlock","renderTopicBlockContent","renderTopicBlockDesc","renderSubLinks","renderRootSubLinks","renderFocusItemHighlight","renderRootWidgetOtherChildren","renderStyleEditor","renderViewPortViewer","log$f","UtilsPlugin","tempValueMap","eventListenerMap","addTempValueChangeListener","removeTempValueChangeListener","l","getTempValue","setTempValue","deleteTempValue","log$g","StylePlugin","colorMap","colorIndex","getTopicStyle","getTopicContentStyle","themeStyle","visualLevel","customStyle","parse","getLinkStyle","presetStyle","parentSubLinkStyle","getSubLinkStyle","styleObj","newStyleObj","newStyleStr","setLinkStyle","setSubLinkStyle","getTopicThemeStyle","getRandomColor","clearAllCustomStyle","keySeq","DefaultPlugin","getPartTopics","subTopicCount","ceil","createSubTopics","tKey","topicProps","highlight","dropEffect","layoutTopic","topicWidget","subKey","getRelativeRect","getRelativeRectFromViewPort","getRelativeVectorFromViewPort","addZoomFactorChangeEventListener","removeZoomFactorChangeEventListener","getZoomFactor","Diagram","resolveController","commands","TheDefaultPlugin","defaultPlugin","construct","getDiagramProps","diagramProps","hotKeys","k","NodeContent","RichTextEditor","richEditorProps","editorValue","nodeContentProps","markdownSerializer","DATA_VERSION","themeRandomColorSquare","theme1","theme2","boxShadow","theme3","theme4","ToolbarItemOpen","accept","file","files","fr","FileReader","onload","txt","result","readAsText","ToolbarItemLayout","layoutDirs","onClickSetLayout","cx","ToolbarItemTheme","onClickSetTheme","themeKey","themes","defaultThemeImg","theme1Img","theme2Img","theme3Img","theme4Img","src","downloadFile","url","filename","link","download","generateSimpleModel","rootKey","ToolbarItemExport","json","jsonStr","encodeURIComponent","Toolbar","onClickUndo","onClickRedo","React","PureComponent","RichTextEditorPlugin","serializeModel","valueSeq","deserializeModel","serializeConfig","deserializeConfig","serializeTopic","deserializeTopic","deserializeTopics","deserializeBlocks","themeMap","getAllThemes","allTheme","ThemeSelectorPlugin","Mindmap","diagramRef","initModel","toolbarProps","renderToolbar","Component","App","Boolean","location","hostname","ReactDOM","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/chunk-blinkmind.00f8cc93.chunk.js","sourcesContent":["/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as React from \"react\";\nimport { CLAMP_MIN_MAX } from \"./errors\";\nexport * from \"./utils/compareUtils\";\nexport * from \"./utils/safeInvokeMember\";\n/** Returns whether `process.env.NODE_ENV` exists and equals `env`. */\n\nexport function isNodeEnv(env) {\n  return typeof process !== \"undefined\" && process.env && process.env.NODE_ENV === env;\n}\n/** Returns whether the value is a function. Acts as a type guard. */\n// tslint:disable-next-line:ban-types\n\nexport function isFunction(value) {\n  return typeof value === \"function\";\n}\n/**\n * Returns true if `node` is null/undefined, false, empty string, or an array\n * composed of those. If `node` is an array, only one level of the array is\n * checked, for performance reasons.\n */\n\nexport function isReactNodeEmpty(node, skipArray) {\n  if (skipArray === void 0) {\n    skipArray = false;\n  }\n\n  return node == null || node === \"\" || node === false || !skipArray && Array.isArray(node) && ( // only recurse one level through arrays, for performance\n  node.length === 0 || node.every(function (n) {\n    return isReactNodeEmpty(n, true);\n  }));\n}\n/**\n * Converts a React node to an element: non-empty string or number or\n * `React.Fragment` (React 16.3+) is wrapped in given tag name; empty strings\n * and booleans are discarded.\n */\n\nexport function ensureElement(child, tagName) {\n  if (tagName === void 0) {\n    tagName = \"span\";\n  }\n\n  if (child == null || typeof child === \"boolean\") {\n    return undefined;\n  } else if (typeof child === \"string\") {\n    // cull whitespace strings\n    return child.trim().length > 0 ? React.createElement(tagName, {}, child) : undefined;\n  } else if (typeof child === \"number\" || typeof child.type === \"symbol\" || Array.isArray(child)) {\n    // React.Fragment has a symbol type, ReactNodeArray extends from Array\n    return React.createElement(tagName, {}, child);\n  } else if (isReactElement(child)) {\n    return child;\n  } else {\n    // child is inferred as {}\n    return undefined;\n  }\n}\nexport function isReactElement(child) {\n  return typeof child === \"object\" && typeof child.type !== \"undefined\" && typeof child.props !== \"undefined\";\n}\nexport function getDisplayName(ComponentClass) {\n  return ComponentClass.displayName || ComponentClass.name || \"Unknown\";\n}\n/**\n * Returns true if the given JSX element matches the given component type.\n *\n * NOTE: This function only checks equality of `displayName` for performance and\n * to tolerate multiple minor versions of a component being included in one\n * application bundle.\n * @param element JSX element in question\n * @param ComponentType desired component type of element\n */\n\nexport function isElementOfType(element, ComponentType) {\n  return element != null && element.type != null && element.type.displayName != null && element.type.displayName === ComponentType.displayName;\n} // tslint:disable-next-line:ban-types\n\nexport function safeInvoke(func) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  if (isFunction(func)) {\n    return func.apply(void 0, args);\n  }\n\n  return undefined;\n} // tslint:disable-next-line:ban-types\n\nexport function safeInvokeOrValue(funcOrValue) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  return isFunction(funcOrValue) ? funcOrValue.apply(void 0, args) : funcOrValue;\n}\nexport function elementIsOrContains(element, testElement) {\n  return element === testElement || element.contains(testElement);\n}\n/**\n * Returns the difference in length between two arrays. A `null` argument is\n * considered an empty list. The return value will be positive if `a` is longer\n * than `b`, negative if the opposite is true, and zero if their lengths are\n * equal.\n */\n\nexport function arrayLengthCompare(a, b) {\n  if (a === void 0) {\n    a = [];\n  }\n\n  if (b === void 0) {\n    b = [];\n  }\n\n  return a.length - b.length;\n}\n/**\n * Returns true if the two numbers are within the given tolerance of each other.\n * This is useful to correct for floating point precision issues, less useful\n * for integers.\n */\n\nexport function approxEqual(a, b, tolerance) {\n  if (tolerance === void 0) {\n    tolerance = 0.00001;\n  }\n\n  return Math.abs(a - b) <= tolerance;\n}\n/**\n * Clamps the given number between min and max values. Returns value if within\n * range, or closest bound.\n */\n\nexport function clamp(val, min, max) {\n  if (val == null) {\n    return val;\n  }\n\n  if (max < min) {\n    throw new Error(CLAMP_MIN_MAX);\n  }\n\n  return Math.min(Math.max(val, min), max);\n}\n/** Returns the number of decimal places in the given number. */\n\nexport function countDecimalPlaces(num) {\n  if (!isFinite(num)) {\n    return 0;\n  }\n\n  var e = 1,\n      p = 0;\n\n  while (Math.round(num * e) / e !== num) {\n    e *= 10;\n    p++;\n  }\n\n  return p;\n}\n/**\n * Throttle an event on an EventTarget by wrapping it in a\n * `requestAnimationFrame` call. Returns the event handler that was bound to\n * given eventName so you can clean up after yourself.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events/scroll\n */\n\nexport function throttleEvent(target, eventName, newEventName) {\n  var throttledFunc = _throttleHelper(function (event) {\n    target.dispatchEvent(new CustomEvent(newEventName, event));\n  });\n\n  target.addEventListener(eventName, throttledFunc);\n  return throttledFunc;\n}\n/**\n * Throttle a callback by wrapping it in a `requestAnimationFrame` call. Returns\n * the throttled function.\n * @see https://www.html5rocks.com/en/tutorials/speed/animations/\n */\n\nexport function throttleReactEventCallback(callback, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var throttledFunc = _throttleHelper(callback, function (event2) {\n    if (options.preventDefault) {\n      event2.preventDefault();\n    }\n  }, // prevent React from reclaiming the event object before we reference it\n  function (event2) {\n    return event2.persist();\n  });\n\n  return throttledFunc;\n}\n/**\n * Throttle a method by wrapping it in a `requestAnimationFrame` call. Returns\n * the throttled function.\n */\n// tslint:disable-next-line:ban-types\n\nexport function throttle(method) {\n  return _throttleHelper(method);\n} // tslint:disable-next-line:ban-types\n\nfunction _throttleHelper(onAnimationFrameRequested, onBeforeIsRunningCheck, onAfterIsRunningCheck) {\n  var isRunning = false;\n\n  var func = function func() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    } // don't use safeInvoke, because we might have more than its max number\n    // of typed params\n\n\n    if (isFunction(onBeforeIsRunningCheck)) {\n      onBeforeIsRunningCheck.apply(void 0, args);\n    }\n\n    if (isRunning) {\n      return;\n    }\n\n    isRunning = true;\n\n    if (isFunction(onAfterIsRunningCheck)) {\n      onAfterIsRunningCheck.apply(void 0, args);\n    }\n\n    requestAnimationFrame(function () {\n      onAnimationFrameRequested.apply(void 0, args);\n      isRunning = false;\n    });\n  };\n\n  return func;\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ns = \"[Blueprint]\";\nexport var CLAMP_MIN_MAX = ns + \" clamp: max cannot be less than min\";\nexport var ALERT_WARN_CANCEL_PROPS = ns + \" <Alert> cancelButtonText and onCancel should be set together.\";\nexport var ALERT_WARN_CANCEL_ESCAPE_KEY = ns + \" <Alert> canEscapeKeyCancel enabled without onCancel or onClose handler.\";\nexport var ALERT_WARN_CANCEL_OUTSIDE_CLICK = ns + \" <Alert> canOutsideClickCancel enbaled without onCancel or onClose handler.\";\nexport var COLLAPSIBLE_LIST_INVALID_CHILD = ns + \" <CollapsibleList> children must be <MenuItem>s\";\nexport var CONTEXTMENU_WARN_DECORATOR_NO_METHOD = ns + \" @ContextMenuTarget-decorated class should implement renderContextMenu.\";\nexport var CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT = ns + \" \\\"@ContextMenuTarget-decorated components must return a single JSX.Element or an empty render.\";\nexport var HOTKEYS_HOTKEY_CHILDREN = ns + \" <Hotkeys> only accepts <Hotkey> children.\";\nexport var HOTKEYS_WARN_DECORATOR_NO_METHOD = ns + \" @HotkeysTarget-decorated class should implement renderHotkeys.\";\nexport var HOTKEYS_WARN_DECORATOR_NEEDS_REACT_ELEMENT = ns + \" \\\"@HotkeysTarget-decorated components must return a single JSX.Element or an empty render.\";\nexport var NUMERIC_INPUT_MIN_MAX = ns + \" <NumericInput> requires min to be no greater than max if both are defined.\";\nexport var NUMERIC_INPUT_MINOR_STEP_SIZE_BOUND = ns + \" <NumericInput> requires minorStepSize to be no greater than stepSize.\";\nexport var NUMERIC_INPUT_MAJOR_STEP_SIZE_BOUND = ns + \" <NumericInput> requires stepSize to be no greater than majorStepSize.\";\nexport var NUMERIC_INPUT_MINOR_STEP_SIZE_NON_POSITIVE = ns + \" <NumericInput> requires minorStepSize to be strictly greater than zero.\";\nexport var NUMERIC_INPUT_MAJOR_STEP_SIZE_NON_POSITIVE = ns + \" <NumericInput> requires majorStepSize to be strictly greater than zero.\";\nexport var NUMERIC_INPUT_STEP_SIZE_NON_POSITIVE = ns + \" <NumericInput> requires stepSize to be strictly greater than zero.\";\nexport var NUMERIC_INPUT_STEP_SIZE_NULL = ns + \" <NumericInput> requires stepSize to be defined.\";\nexport var PANEL_STACK_INITIAL_PANEL_STACK_MUTEX = ns + \" <PanelStack> requires exactly one of initialPanel and stack prop\";\nexport var PANEL_STACK_REQUIRES_PANEL = ns + \" <PanelStack> requires at least one panel in the stack\";\nexport var OVERFLOW_LIST_OBSERVE_PARENTS_CHANGED = ns + \" <OverflowList> does not support changing observeParents after mounting.\"; // TODO (clewis): Migrate old Popover validation errors to the component formerly known as Popover2.\n// See: https://github.com/palantir/blueprint/issues/1940\n\nexport var POPOVER_REQUIRES_TARGET = ns + \" <Popover> requires target prop or at least one child element.\";\nexport var POPOVER_HAS_BACKDROP_INTERACTION = ns + \" <Popover hasBackdrop={true}> requires interactionKind={PopoverInteractionKind.CLICK}.\";\nexport var POPOVER_WARN_TOO_MANY_CHILDREN = ns + \" <Popover> supports one or two children; additional children are ignored.\" + \" First child is the target, second child is the content. You may instead supply these two as props.\";\nexport var POPOVER_WARN_DOUBLE_CONTENT = ns + \" <Popover> with two children ignores content prop; use either prop or children.\";\nexport var POPOVER_WARN_DOUBLE_TARGET = ns + \" <Popover> with children ignores target prop; use either prop or children.\";\nexport var POPOVER_WARN_EMPTY_CONTENT = ns + \" Disabling <Popover> with empty/whitespace content...\";\nexport var POPOVER_WARN_HAS_BACKDROP_INLINE = ns + \" <Popover usePortal={false}> ignores hasBackdrop\";\nexport var POPOVER_WARN_UNCONTROLLED_ONINTERACTION = ns + \" <Popover> onInteraction is ignored when uncontrolled.\";\nexport var PORTAL_CONTEXT_CLASS_NAME_STRING = ns + \" <Portal> context blueprintPortalClassName must be string\";\nexport var RADIOGROUP_WARN_CHILDREN_OPTIONS_MUTEX = ns + \" <RadioGroup> children and options prop are mutually exclusive, with options taking priority.\";\nexport var SLIDER_ZERO_STEP = ns + \" <Slider> stepSize must be greater than zero.\";\nexport var SLIDER_ZERO_LABEL_STEP = ns + \" <Slider> labelStepSize must be greater than zero.\";\nexport var RANGESLIDER_NULL_VALUE = ns + \" <RangeSlider> value prop must be an array of two non-null numbers.\";\nexport var MULTISLIDER_INVALID_CHILD = ns + \" <MultiSlider> children must be <SliderHandle>s or <SliderTrackStop>s\";\nexport var SPINNER_WARN_CLASSES_SIZE = ns + \" <Spinner> Classes.SMALL/LARGE are ignored if size prop is set.\";\nexport var TOASTER_CREATE_NULL = ns + \" Toaster.create() is not supported inside React lifecycle methods in React 16.\" + \" See usage example on the docs site.\";\nexport var TOASTER_WARN_INLINE = ns + \" Toaster.create() ignores inline prop as it always creates a new element.\";\nexport var DIALOG_WARN_NO_HEADER_ICON = ns + \" <Dialog> iconName is ignored if title is omitted.\";\nexport var DIALOG_WARN_NO_HEADER_CLOSE_BUTTON = ns + \" <Dialog> isCloseButtonShown prop is ignored if title is omitted.\";\nexport var DRAWER_VERTICAL_IS_IGNORED = ns + \" <Drawer> vertical is ignored if position is defined\";\nexport var DRAWER_ANGLE_POSITIONS_ARE_CASTED = ns + \" <Drawer> all angle positions are casted into pure position (TOP, BOTTOM, LEFT or RIGHT)\";\nexport var TOASTER_MAX_TOASTS_INVALID = ns + \" <Toaster> maxToasts is set to an invalid number, must be greater than 0\";","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns true if the arrays are equal. Elements will be shallowly compared by\n * default, or they will be compared using the custom `compare` function if one\n * is provided.\n */\nexport function arraysEqual(arrA, arrB, compare) {\n  if (compare === void 0) {\n    compare = function compare(a, b) {\n      return a === b;\n    };\n  } // treat `null` and `undefined` as the same\n\n\n  if (arrA == null && arrB == null) {\n    return true;\n  } else if (arrA == null || arrB == null || arrA.length !== arrB.length) {\n    return false;\n  } else {\n    return arrA.every(function (a, i) {\n      return compare(a, arrB[i]);\n    });\n  }\n}\n/**\n * Shallow comparison between objects. If `keys` is provided, just that subset\n * of keys will be compared; otherwise, all keys will be compared.\n * @returns true if items are equal.\n */\n\nexport function shallowCompareKeys(objA, objB, keys) {\n  // treat `null` and `undefined` as the same\n  if (objA == null && objB == null) {\n    return true;\n  } else if (objA == null || objB == null) {\n    return false;\n  } else if (Array.isArray(objA) || Array.isArray(objB)) {\n    return false;\n  } else if (keys != null) {\n    return _shallowCompareKeys(objA, objB, keys);\n  } else {\n    // shallowly compare all keys from both objects\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB);\n    return _shallowCompareKeys(objA, objB, {\n      include: keysA\n    }) && _shallowCompareKeys(objA, objB, {\n      include: keysB\n    });\n  }\n}\n/**\n * Deep comparison between objects. If `keys` is provided, just that subset of\n * keys will be compared; otherwise, all keys will be compared.\n * @returns true if items are equal.\n */\n\nexport function deepCompareKeys(objA, objB, keys) {\n  if (objA === objB) {\n    return true;\n  } else if (objA == null && objB == null) {\n    // treat `null` and `undefined` as the same\n    return true;\n  } else if (objA == null || objB == null) {\n    return false;\n  } else if (Array.isArray(objA) || Array.isArray(objB)) {\n    return arraysEqual(objA, objB, deepCompareKeys);\n  } else if (_isSimplePrimitiveType(objA) || _isSimplePrimitiveType(objB)) {\n    return objA === objB;\n  } else if (keys != null) {\n    return _deepCompareKeys(objA, objB, keys);\n  } else if (objA.constructor !== objB.constructor) {\n    return false;\n  } else {\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB);\n\n    if (keysA == null || keysB == null) {\n      return false;\n    }\n\n    if (keysA.length === 0 && keysB.length === 0) {\n      return true;\n    }\n\n    return arraysEqual(keysA, keysB) && _deepCompareKeys(objA, objB, keysA);\n  }\n}\n/**\n * Returns a descriptive object for each key whose values are deeply unequal\n * between two provided objects. Useful for debugging shouldComponentUpdate.\n */\n\nexport function getDeepUnequalKeyValues(objA, objB, keys) {\n  if (objA === void 0) {\n    objA = {};\n  }\n\n  if (objB === void 0) {\n    objB = {};\n  }\n\n  var filteredKeys = keys == null ? _unionKeys(objA, objB) : keys;\n  return _getUnequalKeyValues(objA, objB, filteredKeys, function (a, b, key) {\n    return deepCompareKeys(a, b, [key]);\n  });\n} // Private helpers\n// ===============\n\n/**\n * Partial shallow comparison between objects using the given list of keys.\n */\n\nfunction _shallowCompareKeys(objA, objB, keys) {\n  return _filterKeys(objA, objB, keys).every(function (key) {\n    return objA.hasOwnProperty(key) === objB.hasOwnProperty(key) && objA[key] === objB[key];\n  });\n}\n/**\n * Partial deep comparison between objects using the given list of keys.\n */\n\n\nfunction _deepCompareKeys(objA, objB, keys) {\n  return keys.every(function (key) {\n    return objA.hasOwnProperty(key) === objB.hasOwnProperty(key) && deepCompareKeys(objA[key], objB[key]);\n  });\n}\n\nfunction _isSimplePrimitiveType(value) {\n  return typeof value === \"number\" || typeof value === \"string\" || typeof value === \"boolean\";\n}\n\nfunction _filterKeys(objA, objB, keys) {\n  if (_isWhitelist(keys)) {\n    return keys.include;\n  } else if (_isBlacklist(keys)) {\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB); // merge keys from both objects into a big set for quick access\n\n    var keySet_1 = _arrayToObject(keysA.concat(keysB)); // delete blacklisted keys from the key set\n\n\n    keys.exclude.forEach(function (key) {\n      return delete keySet_1[key];\n    }); // return the remaining keys as an array\n\n    return Object.keys(keySet_1);\n  }\n\n  return [];\n}\n\nfunction _isWhitelist(keys) {\n  return keys != null && keys.include != null;\n}\n\nfunction _isBlacklist(keys) {\n  return keys != null && keys.exclude != null;\n}\n\nfunction _arrayToObject(arr) {\n  return arr.reduce(function (obj, element) {\n    obj[element] = true;\n    return obj;\n  }, {});\n}\n\nfunction _getUnequalKeyValues(objA, objB, keys, compareFn) {\n  var unequalKeys = keys.filter(function (key) {\n    return !compareFn(objA, objB, key);\n  });\n  var unequalKeyValues = unequalKeys.map(function (key) {\n    return {\n      key: key,\n      valueA: objA[key],\n      valueB: objB[key]\n    };\n  });\n  return unequalKeyValues;\n}\n\nfunction _unionKeys(objA, objB) {\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  var concatKeys = keysA.concat(keysB);\n\n  var keySet = _arrayToObject(concatKeys);\n\n  return Object.keys(keySet);\n}","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isFunction } from \"../utils\"; // tslint:disable-next-line:ban-types\n\nexport function safeInvokeMember(obj, key) {\n  var args = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n\n  if (obj != null) {\n    var member = obj[key];\n\n    if (isFunction(member)) {\n      return member.apply(void 0, args);\n    }\n  }\n\n  return undefined;\n}","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};","module.exports = __webpack_public_path__ + \"static/media/default.4f8c4983.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme1.2f59f00b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme2.b18193fb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme3.61c97910.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme4.1e21408c.jpg\";","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","var isProduction = process.env.NODE_ENV === 'production';\n\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\nimport isObject from 'isobject';\n\nfunction isObjectObject(o) {\n  return isObject(o) === true && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport default function isPlainObject(o) {\n  var ctor, prot;\n  if (isObjectObject(o) === false) return false; // If has modified constructor\n\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false; // If has modified prototype\n\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false; // If constructor does not have an Object-specific method\n\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n;","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\nexport default function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n}\n;","import debug from 'debug';\nimport memoizeOne from 'memoize-one';\nimport warning from 'tiny-warning';\nimport { List, Record, Map as Map$1 } from 'immutable';\nimport isPlainObject from 'is-plain-object';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nfunction __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n\nfunction CorePlugin(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _a = options.plugins,\n      plugins = _a === void 0 ? [] : _a;\n  return __spread(plugins);\n}\n\nvar log = debug('core:controller');\n\nfunction registerPlugin(controller, plugin) {\n  if (Array.isArray(plugin)) {\n    plugin.forEach(function (p) {\n      return registerPlugin(controller, p);\n    });\n    return;\n  }\n\n  if (plugin == null) {\n    return;\n  }\n\n  for (var key in plugin) {\n    var fn = plugin[key];\n    controller.middleware[key] = controller.middleware[key] || [];\n    controller.middleware[key].push(fn);\n  }\n} // modified from koa-compose\n\n\nfunction compose(middleware) {\n  var e_1, _a;\n\n  if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!');\n\n  try {\n    for (var middleware_1 = __values(middleware), middleware_1_1 = middleware_1.next(); !middleware_1_1.done; middleware_1_1 = middleware_1.next()) {\n      var fn = middleware_1_1.value;\n      if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!');\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (middleware_1_1 && !middleware_1_1.done && (_a = middleware_1.return)) _a.call(middleware_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return function (context, next) {\n    // last called middleware #\n    var index = -1;\n    return dispatch(0);\n\n    function dispatch(i) {\n      if (i <= index) throw new Error('next() called multiple times');\n      index = i;\n      var fn = middleware[i];\n      if (i === middleware.length) fn = next;\n      if (!fn) return null;\n\n      try {\n        return fn(context, dispatch.bind(null, i + 1));\n      } catch (err) {\n        throw err;\n      }\n    }\n  };\n}\n\nvar Controller =\n/** @class */\nfunction () {\n  function Controller(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _a = options.diagram,\n        diagram = _a === void 0 ? this : _a,\n        _b = options.plugins,\n        plugins = _b === void 0 ? [] : _b,\n        onChange = options.onChange,\n        readOnly = options.readOnly;\n    this.diagram = diagram;\n    this.readOnly = readOnly;\n    this.onChange = onChange;\n    this.middleware = new Map();\n    var corePlugin = CorePlugin({\n      plugins: plugins\n    });\n    registerPlugin(this, corePlugin);\n  }\n\n  Controller.prototype.run = function (key) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var middleware = this.middleware;\n    var fns = middleware[key] || [];\n    warning(fns.length !== 0, \"the middleware function \" + key + \" is not found!\");\n    var composedFn = memoizeOne(compose)(fns); // @ts-ignore\n\n    return composedFn.apply(void 0, __spread(args));\n  };\n\n  Controller.prototype.change = function (model) {\n    this.onChange(model);\n  };\n\n  return Controller;\n}();\n\nvar defaultBlockRecord = {\n  type: null,\n  key: null,\n  data: null\n};\n\nvar Block =\n/** @class */\nfunction (_super) {\n  __extends(Block, _super);\n\n  function Block() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Block.prototype, \"data\", {\n    get: function get() {\n      return this.get('data');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Block.prototype, \"type\", {\n    get: function get() {\n      return this.get('type');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Block.create = function (obj) {\n    return new Block(obj);\n  };\n\n  Block.createList = function (obj) {\n    if (List.isList(obj) || Array.isArray(obj)) {\n      // @ts-ignore\n      return List(obj.map(Block.create));\n    }\n\n    throw new Error(\"Block.createList only accepts Array or List, but you passed it: \" + obj);\n  };\n\n  return Block;\n}(Record(defaultBlockRecord));\n\nvar defaultTheme = {\n  name: 'default',\n  randomColor: true,\n  background: 'rgb(57,60,65)',\n  highlightColor: '#50C9CE',\n  marginH: 60,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5,\n    lineType: 'curve',\n    lineWidth: 3\n  },\n  rootTopic: {\n    contentStyle: {\n      fontSize: '34px',\n      borderRadius: '35px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3,\n      lineColor: 'rgb(113, 203, 45)'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderRadius: '20px',\n      fontSize: '17px',\n      padding: '10px 15px 10px 15px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3,\n      lineColor: 'rgb(113, 203, 45)'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      border: '1px solid #e8eaec',\n      borderRadius: '20px',\n      fontSize: '17px',\n      padding: '4px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3,\n      lineColor: 'white'\n    }\n  }\n};\nvar TopicDirection = {\n  LEFT: 'L',\n  RIGHT: 'R',\n  BOTTOM: 'B',\n  MAIN: 'M' // root\n\n};\nvar DiagramLayoutType;\n\n(function (DiagramLayoutType) {\n  DiagramLayoutType[DiagramLayoutType[\"LEFT_TO_RIGHT\"] = 0] = \"LEFT_TO_RIGHT\";\n  DiagramLayoutType[DiagramLayoutType[\"RIGHT_TO_LEFT\"] = 1] = \"RIGHT_TO_LEFT\";\n  DiagramLayoutType[DiagramLayoutType[\"LEFT_AND_RIGHT\"] = 2] = \"LEFT_AND_RIGHT\";\n  DiagramLayoutType[DiagramLayoutType[\"TOP_TO_BOTTOM\"] = 3] = \"TOP_TO_BOTTOM\";\n})(DiagramLayoutType || (DiagramLayoutType = {}));\n\nvar TopicVisualLevel = {\n  ROOT: 0,\n  PRIMARY: 1,\n  NORMAL: 2\n};\nvar BlockType = {\n  CONTENT: 'CONTENT',\n  DESC: 'DESC'\n};\nvar FocusMode = {\n  NORMAL: 'NORMAL',\n  EDITING_CONTENT: 'EDITING_CONTENT',\n  EDITING_DESC: 'EDITING_DESC',\n  SHOW_POPUP: 'SHOW_POPUP',\n  DRAGGING: 'DRAGGING'\n};\nvar TopicRelationship = {\n  ANCESTOR: 'ANCESTOR',\n  DESCENDANT: 'DESCENDANT',\n  SIBLING: 'SIBLING',\n  NONE: 'NONE'\n};\nvar OpType = {\n  TOGGLE_COLLAPSE: 'TOGGLE_COLLAPSE',\n  COLLAPSE_ALL: 'COLLAPSE_ALL',\n  EXPAND_ALL: 'EXPAND_ALL',\n  ADD_CHILD: 'ADD_CHILD',\n  ADD_SIBLING: 'ADD_SIBLING',\n  DELETE_TOPIC: 'DELETE_TOPIC',\n  FOCUS_TOPIC: 'FOCUS_TOPIC',\n  SET_STYLE: 'SET_STYLE',\n  SET_TOPIC_CONTENT: 'SET_TOPIC_CONTENT',\n  SET_TOPIC_DESC: 'SET_TOPIC_DESC',\n  START_EDITING_CONTENT: 'START_EDITING_CONTENT',\n  START_EDITING_DESC: 'START_EDITING_DESC',\n  DRAG_AND_DROP: 'DRAG_AND_DROP',\n  SET_EDITOR_ROOT: 'SET_EDITOR_ROOT'\n};\nvar defaultConfigRecord = {\n  readOnly: false,\n  allowUndo: true,\n  layoutDir: DiagramLayoutType.LEFT_AND_RIGHT,\n  theme: defaultTheme\n};\n\nvar Config =\n/** @class */\nfunction (_super) {\n  __extends(Config, _super);\n\n  function Config() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Config.prototype, \"layoutDir\", {\n    get: function get() {\n      return this.get('layoutDir');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Config.prototype, \"readOnly\", {\n    get: function get() {\n      return this.get('readOnly');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Config.prototype, \"allowUndo\", {\n    get: function get() {\n      return this.get('allowUndo');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Config.prototype, \"theme\", {\n    get: function get() {\n      return this.get('theme');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Config.fromJSON = function (obj) {\n    return new Config(obj);\n  };\n\n  return Config;\n}(Record(defaultConfigRecord));\n/**\r\n * Data.\r\n *\r\n * This isn't an immutable record, it's just a thin wrapper around `Map` so that\r\n * we can allow for more convenient creation.\r\n *\r\n * @type {Object}\r\n */\n\n\nvar Data =\n/** @class */\nfunction () {\n  function Data() {}\n  /**\r\n   * Create a new `Data` with `attrs`.\r\n   *\r\n   * @param {Object|Map} attrs\r\n   * @return {Data} data\r\n   */\n\n\n  Data.create = function (attrs) {\n    if (attrs === void 0) {\n      attrs = {};\n    }\n\n    if (Map$1.isMap(attrs)) {\n      return attrs;\n    }\n\n    if (isPlainObject(attrs)) {\n      return Data.fromJSON(attrs);\n    }\n\n    throw new Error(\"`Data.create` only accepts objects or maps, but you passed it: \" + attrs);\n  };\n  /**\r\n   * Create a `Data` from a JSON `object`.\r\n   *\r\n   * @param {Object} object\r\n   * @return {Data}\r\n   */\n\n\n  Data.fromJSON = function (object) {\n    return Map$1(object);\n  };\n\n  return Data;\n}();\n\nfunction createKey() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nvar defaultTopicRecord = {\n  key: null,\n  parentKey: null,\n  collapse: false,\n  subKeys: null,\n  blocks: null,\n  relations: null,\n  style: null\n};\n\nvar Topic =\n/** @class */\nfunction (_super) {\n  __extends(Topic, _super);\n\n  function Topic() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Topic.prototype, \"key\", {\n    get: function get() {\n      return this.get('key');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"parentKey\", {\n    get: function get() {\n      return this.get('parentKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"collapse\", {\n    get: function get() {\n      return this.get('collapse');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"subKeys\", {\n    get: function get() {\n      return this.get('subKeys');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"blocks\", {\n    get: function get() {\n      return this.get('blocks');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"relations\", {\n    get: function get() {\n      return this.get('relations');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"style\", {\n    get: function get() {\n      return this.get('style');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Topic.prototype.getBlock = function (type) {\n    var index = this.blocks.findIndex(function (b) {\n      return b.type === type;\n    });\n    if (index === -1) return {\n      index: index,\n      block: null\n    };\n    return {\n      index: index,\n      block: this.blocks.get(index)\n    };\n  };\n\n  Topic.fromJSON = function (obj) {\n    var key = obj.key,\n        _a = obj.parentKey,\n        parentKey = _a === void 0 ? null : _a,\n        blocks = obj.blocks,\n        _b = obj.subKeys,\n        subKeys = _b === void 0 ? [] : _b,\n        _c = obj.collapse,\n        collapse = _c === void 0 ? false : _c;\n    return new Topic({\n      key: key,\n      parentKey: parentKey,\n      collapse: collapse,\n      subKeys: List(subKeys),\n      blocks: Block.createList(blocks)\n    });\n  };\n\n  Topic.create = function (_a) {\n    var key = _a.key,\n        _b = _a.parentKey,\n        parentKey = _b === void 0 ? null : _b,\n        _c = _a.content,\n        content = _c === void 0 ? '' : _c,\n        _d = _a.subKeys,\n        subKeys = _d === void 0 ? [] : _d,\n        _e = _a.collapse,\n        collapse = _e === void 0 ? false : _e;\n    var block = Block.create({\n      type: BlockType.CONTENT,\n      data: content,\n      key: null\n    });\n    var blocks = List([block]);\n    return new Topic({\n      key: key,\n      parentKey: parentKey,\n      blocks: blocks,\n      subKeys: List(subKeys),\n      collapse: collapse\n    });\n  };\n\n  return Topic;\n}(Record(defaultTopicRecord));\n\nvar defaultModelRecord = {\n  topics: Map$1(),\n  data: null,\n  config: null,\n  rootTopicKey: null,\n  editorRootTopicKey: null,\n  focusKey: null,\n  focusMode: null,\n  formatVersion: null,\n  zoomFactor: 1\n};\n\nvar Model =\n/** @class */\nfunction (_super) {\n  __extends(Model, _super);\n\n  function Model() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Model.isModel = function (obj) {\n    return obj instanceof Model;\n  };\n\n  Model.create = function (attrs) {\n    if (attrs === void 0) {\n      attrs = null;\n    }\n\n    if (attrs == null) return Model.createEmpty();\n\n    if (Model.isModel(attrs)) {\n      return attrs;\n    }\n\n    if (isPlainObject(attrs)) {\n      return Model.fromJSON(attrs);\n    }\n\n    throw new Error(\"`Value.create` only accepts objects or values, but you passed it: \" + attrs);\n  };\n\n  Model.createEmpty = function () {\n    var model = new Model();\n    var rootTopic = Topic.create({\n      key: createKey()\n    });\n    return model.update('topics', function (topics) {\n      return topics.set(rootTopic.key, rootTopic);\n    }).set('rootTopicKey', rootTopic.key);\n  };\n\n  Model.fromJSON = function (object) {\n    var model = new Model();\n    var _a = object.data,\n        data = _a === void 0 ? {} : _a,\n        _b = object.topics,\n        topics = _b === void 0 ? [] : _b,\n        _c = object.config,\n        config = _c === void 0 ? {} : _c,\n        rootTopicKey = object.rootTopicKey;\n    var editorRootTopicKey = object.editorRootTopicKey;\n    if (editorRootTopicKey === undefined) editorRootTopicKey = rootTopicKey;\n    model = model.merge({\n      rootTopicKey: rootTopicKey,\n      editorRootTopicKey: editorRootTopicKey\n    });\n    model = model.withMutations(function (model) {\n      topics.forEach(function (topic) {\n        model.update('topics', function (topics) {\n          return topics.set(topic.key, Topic.fromJSON(topic));\n        });\n      });\n      model.set('config', Config.fromJSON(config));\n      model.set('data', Data.fromJSON(data));\n    });\n    return model;\n  };\n\n  Model.prototype.toJS = function () {\n    var obj = {\n      rootTopicKey: this.rootTopicKey,\n      topics: Object.values(this.topics.toJS()),\n      config: this.config,\n      data: this.data,\n      zoomFactor: this.zoomFactor\n    };\n    return obj;\n  };\n\n  Object.defineProperty(Model.prototype, \"topics\", {\n    get: function get() {\n      return this.get('topics');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"config\", {\n    get: function get() {\n      return this.get('config');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"formatVersion\", {\n    get: function get() {\n      return this.get('formatVersion');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"rootTopicKey\", {\n    get: function get() {\n      return this.get('rootTopicKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"editorRootTopicKey\", {\n    get: function get() {\n      return this.get('editorRootTopicKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"focusKey\", {\n    get: function get() {\n      return this.get('focusKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"focusMode\", {\n    get: function get() {\n      return this.get('focusMode');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"editingContentKey\", {\n    get: function get() {\n      return this.focusMode === FocusMode.EDITING_CONTENT ? this.focusKey : null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"editingDescKey\", {\n    get: function get() {\n      return this.focusMode === FocusMode.EDITING_DESC ? this.focusKey : null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Model.prototype.getTopic = function (key) {\n    return this.topics.get(key);\n  };\n\n  Model.prototype.getParentTopic = function (key) {\n    var topic = this.getTopic(key);\n    return topic.parentKey ? this.getTopic(topic.parentKey) : null;\n  };\n\n  Model.prototype.getTopicVisualLevel = function (key) {\n    var topic = this.getTopic(key);\n    var level = 0;\n\n    while (topic && topic.key !== this.editorRootTopicKey) {\n      level++;\n      topic = this.getParentTopic(topic.key);\n    }\n\n    return level;\n  };\n\n  Object.defineProperty(Model.prototype, \"rootTopic\", {\n    get: function get() {\n      return this.getTopic(this.rootTopicKey);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"zoomFactor\", {\n    get: function get() {\n      return this.get('zoomFactor');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Model;\n}(Record(defaultModelRecord));\n\nfunction getAllSubTopicKeys(model, topicKey) {\n  var item = model.getTopic(topicKey);\n  var res = [];\n\n  if (item.subKeys.size > 0) {\n    var subKeys = item.subKeys.toArray();\n    res.push.apply(res, __spread(subKeys));\n    res = subKeys.reduce(function (acc, key) {\n      acc.push.apply(acc, __spread(getAllSubTopicKeys(model, key)));\n      return acc;\n    }, res);\n  }\n\n  return res;\n}\n\nfunction getRelationship(model, srcKey, dstKey) {\n  var srcTopic = model.getTopic(srcKey);\n  var dstTopic = model.getTopic(dstKey);\n\n  if (srcTopic && dstTopic) {\n    if (srcTopic.parentKey == dstTopic.parentKey) return TopicRelationship.SIBLING;\n    var pTopic = srcTopic;\n\n    while (pTopic.parentKey) {\n      if (pTopic.parentKey === dstTopic.key) return TopicRelationship.DESCENDANT;\n      pTopic = model.getParentTopic(pTopic.key);\n    }\n\n    pTopic = dstTopic;\n\n    while (pTopic.parentKey) {\n      if (pTopic.parentKey === srcTopic.key) return TopicRelationship.ANCESTOR;\n      pTopic = model.getParentTopic(pTopic.key);\n    }\n  }\n\n  return TopicRelationship.NONE;\n}\n\nvar log$1 = debug('modifier');\n\nfunction toggleCollapse(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  var topic = model.getTopic(topicKey);\n\n  if (topic && topic.subKeys.size !== 0) {\n    topic = topic.merge({\n      collapse: !topic.collapse\n    });\n    model = model.updateIn(['topics', topic.key, 'collapse'], function (collapse) {\n      return !collapse;\n    });\n  }\n\n  return model;\n}\n\nfunction collapseAll(_a) {\n  var model = _a.model;\n  log$1('collapseAll');\n  var topicKeys = getAllSubTopicKeys(model, model.editorRootTopicKey);\n  log$1(model);\n  model = model.withMutations(function (m) {\n    topicKeys.forEach(function (topicKey) {\n      m.setIn(['topics', topicKey, 'collapse'], true);\n    });\n  });\n  log$1(model);\n  return model;\n}\n\nfunction expandAll(_a) {\n  var model = _a.model;\n  var topicKeys = getAllSubTopicKeys(model, model.editorRootTopicKey);\n  log$1(model);\n  model = model.withMutations(function (m) {\n    topicKeys.forEach(function (topicKey) {\n      m.setIn(['topics', topicKey, 'collapse'], false);\n    });\n  });\n  log$1(model);\n  return model;\n}\n\nfunction focusTopic(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      focusMode = _a.focusMode;\n  log$1('focus topic');\n  if (topicKey !== model.focusKey) model = model.set('focusKey', topicKey);\n  if (focusMode !== model.focusMode) model = model.set('focusMode', focusMode);\n  return model;\n}\n\nfunction addChild(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  log$1('addChild:', topicKey);\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var child_1 = Topic.create({\n      key: createKey(),\n      parentKey: topic.key\n    });\n    topic = topic.set('collapse', false).update('subKeys', function (subKeys) {\n      return subKeys.push(child_1.key);\n    });\n    model = model.update('topics', function (topics) {\n      return topics.set(topicKey, topic).set(child_1.key, child_1);\n    });\n    return focusTopic({\n      model: model,\n      topicKey: child_1.key,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction addSibling(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  if (topicKey === model.rootTopicKey) return model;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var pItem = model.getTopic(topic.parentKey);\n    var idx_1 = pItem.subKeys.indexOf(topicKey);\n    var sibling_1 = Topic.create({\n      key: createKey(),\n      parentKey: pItem.key\n    });\n    model = model.update('topics', function (topics) {\n      return topics.set(sibling_1.key, sibling_1);\n    }).updateIn(['topics', pItem.key, 'subKeys'], function (subKeys) {\n      return subKeys.insert(idx_1 + 1, sibling_1.key);\n    });\n    return focusTopic({\n      model: model,\n      topicKey: sibling_1.key,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction deleteTopic(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  if (topicKey === model.rootTopicKey) return model;\n  var item = model.getTopic(topicKey);\n\n  if (item) {\n    model = model.withMutations(function (m) {\n      m.update('topics', function (topics) {\n        topics = topics.delete(topicKey);\n        var deleteKeys = getAllSubTopicKeys(model, topicKey);\n        topics = topics.withMutations(function (t) {\n          deleteKeys.forEach(function (dKey) {\n            t.delete(dKey);\n          });\n        });\n        return topics;\n      });\n      m.updateIn(['topics', item.parentKey, 'subKeys'], function (subKeys) {\n        return subKeys.delete(subKeys.indexOf(topicKey));\n      });\n      if (m.focusKey === topicKey) m.set('focusKey', null).set('focusMode', null);\n    });\n  }\n\n  return model;\n}\n\nfunction setContent(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      data = _a.data;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var _b = topic.getBlock(BlockType.CONTENT),\n        index = _b.index,\n        block = _b.block;\n\n    if (block.data !== data) {\n      model = model.updateIn(['topics', topicKey, 'blocks', index, 'data'], function (dt) {\n        return data;\n      });\n    }\n\n    return focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction setStyle(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      style = _a.style;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    if (style !== topic.style) {\n      model = model.updateIn(['topics', topicKey, 'style'], function (s) {\n        return style;\n      });\n    }\n  }\n\n  return model;\n}\n\nfunction setDesc(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      data = _a.data;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var _b = topic.getBlock(BlockType.DESC),\n        index = _b.index,\n        block = _b.block;\n\n    if (index === -1) {\n      model = model.updateIn(['topics', topicKey, 'blocks'], function (blocks) {\n        return blocks.push(Block.create({\n          type: BlockType.DESC,\n          data: data\n        }));\n      });\n    } else {\n      if (block.data !== data) {\n        model = model.updateIn(['topics', topicKey, 'blocks', index, 'data'], function (dt) {\n          return data;\n        });\n      }\n    }\n\n    return focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_DESC\n    });\n  }\n\n  return model;\n}\n\nfunction setTheme(_a) {\n  var model = _a.model,\n      theme = _a.theme;\n  model = model.setIn(['config', 'theme'], theme);\n  return model;\n}\n\nfunction setLayoutDir(_a) {\n  var model = _a.model,\n      layoutDir = _a.layoutDir;\n  if (model.config.layoutDir === layoutDir) return model;\n  model = model.setIn(['config', 'layoutDir'], layoutDir);\n  return model;\n}\n\nfunction setEditorRootTopicKey(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  if (model.editorRootTopicKey !== topicKey) model = model.set('editorRootTopicKey', topicKey);\n  if (model.getTopic(topicKey).collapse) model = model.setIn(['topics', topicKey, 'collapse'], false);\n  return model;\n}\n\nfunction setZoomFactor(_a) {\n  var model = _a.model,\n      zoomFactor = _a.zoomFactor;\n  if (model.editorRootTopicKey !== zoomFactor) model = model.set('zoomFactor', zoomFactor);\n  return model;\n}\n\nvar index = {\n  addChild: addChild,\n  addSibling: addSibling,\n  toggleCollapse: toggleCollapse,\n  collapseAll: collapseAll,\n  expandAll: expandAll,\n  focusTopic: focusTopic,\n  deleteTopic: deleteTopic,\n  setContent: setContent,\n  setDesc: setDesc,\n  setStyle: setStyle,\n  setTheme: setTheme,\n  setLayoutDir: setLayoutDir,\n  setEditorRootTopicKey: setEditorRootTopicKey,\n  setZoomFactor: setZoomFactor\n};\nvar index$1 = {\n  Block: Block,\n  Config: Config,\n  Model: Model,\n  Topic: Topic,\n  Data: Data\n};\nexport { Block, BlockType, Config, Controller, Data, DiagramLayoutType, FocusMode, Model, index as ModelModifier, index as Modifiers, OpType, Topic, TopicDirection, TopicRelationship, TopicVisualLevel, defaultTheme, getAllSubTopicKeys, getRelationship, index$1 as models };","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport function __exportStar(m, exports) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nexport function __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result.default = mod;\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var Position = {\n  BOTTOM: \"bottom\",\n  BOTTOM_LEFT: \"bottom-left\",\n  BOTTOM_RIGHT: \"bottom-right\",\n  LEFT: \"left\",\n  LEFT_BOTTOM: \"left-bottom\",\n  LEFT_TOP: \"left-top\",\n  RIGHT: \"right\",\n  RIGHT_BOTTOM: \"right-bottom\",\n  RIGHT_TOP: \"right-top\",\n  TOP: \"top\",\n  TOP_LEFT: \"top-left\",\n  TOP_RIGHT: \"top-right\"\n};\nexport function isPositionHorizontal(position) {\n  /* istanbul ignore next */\n  return position === Position.TOP || position === Position.TOP_LEFT || position === Position.TOP_RIGHT || position === Position.BOTTOM || position === Position.BOTTOM_LEFT || position === Position.BOTTOM_RIGHT;\n}\nexport function isPositionVertical(position) {\n  /* istanbul ignore next */\n  return position === Position.LEFT || position === Position.LEFT_TOP || position === Position.LEFT_BOTTOM || position === Position.RIGHT || position === Position.RIGHT_TOP || position === Position.RIGHT_BOTTOM;\n}\nexport function getPositionIgnoreAngles(position) {\n  if (position === Position.TOP || position === Position.TOP_LEFT || position === Position.TOP_RIGHT) {\n    return Position.TOP;\n  } else if (position === Position.BOTTOM || position === Position.BOTTOM_LEFT || position === Position.BOTTOM_RIGHT) {\n    return Position.BOTTOM;\n  } else if (position === Position.LEFT || position === Position.LEFT_TOP || position === Position.LEFT_BOTTOM) {\n    return Position.LEFT;\n  } else {\n    return Position.RIGHT;\n  }\n}","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { Position } from \"../../common/position\";\n/** `Position` with `\"auto\"` values, used by `Popover` and `Tooltip`. */\n\nexport var PopoverPosition = tslib_1.__assign({}, Position, {\n  AUTO: \"auto\",\n  AUTO_END: \"auto-end\",\n  AUTO_START: \"auto-start\"\n});","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Alignment along the horizontal axis. */\nexport var Alignment = {\n  CENTER: \"center\",\n  LEFT: \"left\",\n  RIGHT: \"right\"\n};","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// tslint:disable:object-literal-sort-keys\nexport var Elevation = {\n  ZERO: 0,\n  ONE: 1,\n  TWO: 2,\n  THREE: 3,\n  FOUR: 4\n};","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// tslint:disable:object-literal-sort-keys\n\n/**\n * The four basic intents.\n */\nexport var Intent = {\n  NONE: \"none\",\n  PRIMARY: \"primary\",\n  SUCCESS: \"success\",\n  WARNING: \"warning\",\n  DANGER: \"danger\"\n};","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Alignment } from \"./alignment\";\nimport { Elevation } from \"./elevation\";\nimport { Intent } from \"./intent\";\nimport { Position } from \"./position\";\nvar NS = process.env.BLUEPRINT_NAMESPACE || process.env.REACT_APP_BLUEPRINT_NAMESPACE || \"bp3\"; // modifiers\n\nexport var ACTIVE = NS + \"-active\";\nexport var ALIGN_LEFT = NS + \"-align-left\";\nexport var ALIGN_RIGHT = NS + \"-align-right\";\nexport var DARK = NS + \"-dark\";\nexport var DISABLED = NS + \"-disabled\";\nexport var FILL = NS + \"-fill\";\nexport var FIXED = NS + \"-fixed\";\nexport var FIXED_TOP = NS + \"-fixed-top\";\nexport var INLINE = NS + \"-inline\";\nexport var INTERACTIVE = NS + \"-interactive\";\nexport var LARGE = NS + \"-large\";\nexport var LOADING = NS + \"-loading\";\nexport var MINIMAL = NS + \"-minimal\";\nexport var MULTILINE = NS + \"-multiline\";\nexport var ROUND = NS + \"-round\";\nexport var SMALL = NS + \"-small\";\nexport var VERTICAL = NS + \"-vertical\";\nexport var POSITION_TOP = positionClass(Position.TOP);\nexport var POSITION_BOTTOM = positionClass(Position.BOTTOM);\nexport var POSITION_LEFT = positionClass(Position.LEFT);\nexport var POSITION_RIGHT = positionClass(Position.RIGHT);\nexport var ELEVATION_0 = elevationClass(Elevation.ZERO);\nexport var ELEVATION_1 = elevationClass(Elevation.ONE);\nexport var ELEVATION_2 = elevationClass(Elevation.TWO);\nexport var ELEVATION_3 = elevationClass(Elevation.THREE);\nexport var ELEVATION_4 = elevationClass(Elevation.FOUR);\nexport var INTENT_PRIMARY = intentClass(Intent.PRIMARY);\nexport var INTENT_SUCCESS = intentClass(Intent.SUCCESS);\nexport var INTENT_WARNING = intentClass(Intent.WARNING);\nexport var INTENT_DANGER = intentClass(Intent.DANGER);\nexport var FOCUS_DISABLED = NS + \"-focus-disabled\"; // text utilities\n\nexport var UI_TEXT = NS + \"-ui-text\";\nexport var RUNNING_TEXT = NS + \"-running-text\";\nexport var MONOSPACE_TEXT = NS + \"-monospace-text\";\nexport var TEXT_LARGE = NS + \"-text-large\";\nexport var TEXT_SMALL = NS + \"-text-small\";\nexport var TEXT_MUTED = NS + \"-text-muted\";\nexport var TEXT_DISABLED = NS + \"-text-disabled\";\nexport var TEXT_OVERFLOW_ELLIPSIS = NS + \"-text-overflow-ellipsis\"; // textual elements\n\nexport var BLOCKQUOTE = NS + \"-blockquote\";\nexport var CODE = NS + \"-code\";\nexport var CODE_BLOCK = NS + \"-code-block\";\nexport var HEADING = NS + \"-heading\";\nexport var LIST = NS + \"-list\";\nexport var LIST_UNSTYLED = NS + \"-list-unstyled\";\nexport var RTL = NS + \"-rtl\"; // components\n\nexport var ALERT = NS + \"-alert\";\nexport var ALERT_BODY = ALERT + \"-body\";\nexport var ALERT_CONTENTS = ALERT + \"-contents\";\nexport var ALERT_FOOTER = ALERT + \"-footer\";\nexport var BREADCRUMB = NS + \"-breadcrumb\";\nexport var BREADCRUMB_CURRENT = BREADCRUMB + \"-current\";\nexport var BREADCRUMBS = BREADCRUMB + \"s\";\nexport var BREADCRUMBS_COLLAPSED = BREADCRUMB + \"s-collapsed\";\nexport var BUTTON = NS + \"-button\";\nexport var BUTTON_GROUP = BUTTON + \"-group\";\nexport var BUTTON_SPINNER = BUTTON + \"-spinner\";\nexport var BUTTON_TEXT = BUTTON + \"-text\";\nexport var CALLOUT = NS + \"-callout\";\nexport var CALLOUT_ICON = CALLOUT + \"-icon\";\nexport var CARD = NS + \"-card\";\nexport var COLLAPSE = NS + \"-collapse\";\nexport var COLLAPSE_BODY = COLLAPSE + \"-body\";\nexport var COLLAPSIBLE_LIST = NS + \"-collapse-list\";\nexport var CONTEXT_MENU = NS + \"-context-menu\";\nexport var CONTEXT_MENU_POPOVER_TARGET = CONTEXT_MENU + \"-popover-target\";\nexport var CONTROL_GROUP = NS + \"-control-group\";\nexport var DIALOG = NS + \"-dialog\";\nexport var DIALOG_CONTAINER = DIALOG + \"-container\";\nexport var DIALOG_BODY = DIALOG + \"-body\";\nexport var DIALOG_CLOSE_BUTTON = DIALOG + \"-close-button\";\nexport var DIALOG_FOOTER = DIALOG + \"-footer\";\nexport var DIALOG_FOOTER_ACTIONS = DIALOG + \"-footer-actions\";\nexport var DIALOG_HEADER = DIALOG + \"-header\";\nexport var DIVIDER = NS + \"-divider\";\nexport var DRAWER = NS + \"-drawer\";\nexport var DRAWER_BODY = DRAWER + \"-body\";\nexport var DRAWER_FOOTER = DRAWER + \"-footer\";\nexport var DRAWER_HEADER = DRAWER + \"-header\";\nexport var EDITABLE_TEXT = NS + \"-editable-text\";\nexport var EDITABLE_TEXT_CONTENT = EDITABLE_TEXT + \"-content\";\nexport var EDITABLE_TEXT_EDITING = EDITABLE_TEXT + \"-editing\";\nexport var EDITABLE_TEXT_INPUT = EDITABLE_TEXT + \"-input\";\nexport var EDITABLE_TEXT_PLACEHOLDER = EDITABLE_TEXT + \"-placeholder\";\nexport var FLEX_EXPANDER = NS + \"-flex-expander\";\nexport var HTML_SELECT = NS + \"-html-select\";\n/** @deprecated prefer `<HTMLSelect>` component */\n\nexport var SELECT = NS + \"-select\";\nexport var HTML_TABLE = NS + \"-html-table\";\nexport var HTML_TABLE_BORDERED = HTML_TABLE + \"-bordered\";\nexport var HTML_TABLE_CONDENSED = HTML_TABLE + \"-condensed\";\nexport var HTML_TABLE_STRIPED = HTML_TABLE + \"-striped\";\nexport var INPUT = NS + \"-input\";\nexport var INPUT_GHOST = INPUT + \"-ghost\";\nexport var INPUT_GROUP = INPUT + \"-group\";\nexport var INPUT_ACTION = INPUT + \"-action\";\nexport var CONTROL = NS + \"-control\";\nexport var CONTROL_INDICATOR = CONTROL + \"-indicator\";\nexport var CONTROL_INDICATOR_CHILD = CONTROL_INDICATOR + \"-child\";\nexport var CHECKBOX = NS + \"-checkbox\";\nexport var RADIO = NS + \"-radio\";\nexport var SWITCH = NS + \"-switch\";\nexport var SWITCH_INNER_TEXT = SWITCH + \"-inner-text\";\nexport var FILE_INPUT = NS + \"-file-input\";\nexport var FILE_INPUT_HAS_SELECTION = NS + \"-file-input-has-selection\";\nexport var FILE_UPLOAD_INPUT = NS + \"-file-upload-input\";\nexport var FILE_UPLOAD_INPUT_CUSTOM_TEXT = NS + \"-file-upload-input-custom-text\";\nexport var KEY = NS + \"-key\";\nexport var KEY_COMBO = KEY + \"-combo\";\nexport var MODIFIER_KEY = NS + \"-modifier-key\";\nexport var HOTKEY = NS + \"-hotkey\";\nexport var HOTKEY_LABEL = HOTKEY + \"-label\";\nexport var HOTKEY_COLUMN = HOTKEY + \"-column\";\nexport var HOTKEY_DIALOG = HOTKEY + \"-dialog\";\nexport var LABEL = NS + \"-label\";\nexport var FORM_GROUP = NS + \"-form-group\";\nexport var FORM_CONTENT = NS + \"-form-content\";\nexport var FORM_HELPER_TEXT = NS + \"-form-helper-text\";\nexport var MENU = NS + \"-menu\";\nexport var MENU_ITEM = MENU + \"-item\";\nexport var MENU_ITEM_LABEL = MENU_ITEM + \"-label\";\nexport var MENU_SUBMENU = NS + \"-submenu\";\nexport var MENU_DIVIDER = MENU + \"-divider\";\nexport var MENU_HEADER = MENU + \"-header\";\nexport var NAVBAR = NS + \"-navbar\";\nexport var NAVBAR_GROUP = NAVBAR + \"-group\";\nexport var NAVBAR_HEADING = NAVBAR + \"-heading\";\nexport var NAVBAR_DIVIDER = NAVBAR + \"-divider\";\nexport var NON_IDEAL_STATE = NS + \"-non-ideal-state\";\nexport var NON_IDEAL_STATE_VISUAL = NON_IDEAL_STATE + \"-visual\";\nexport var NUMERIC_INPUT = NS + \"-numeric-input\";\nexport var OVERFLOW_LIST = NS + \"-overflow-list\";\nexport var OVERFLOW_LIST_SPACER = OVERFLOW_LIST + \"-spacer\";\nexport var OVERLAY = NS + \"-overlay\";\nexport var OVERLAY_BACKDROP = OVERLAY + \"-backdrop\";\nexport var OVERLAY_CONTAINER = OVERLAY + \"-container\";\nexport var OVERLAY_CONTENT = OVERLAY + \"-content\";\nexport var OVERLAY_INLINE = OVERLAY + \"-inline\";\nexport var OVERLAY_OPEN = OVERLAY + \"-open\";\nexport var OVERLAY_SCROLL_CONTAINER = OVERLAY + \"-scroll-container\";\nexport var PANEL_STACK = NS + \"-panel-stack\";\nexport var PANEL_STACK_HEADER = PANEL_STACK + \"-header\";\nexport var PANEL_STACK_HEADER_BACK = PANEL_STACK + \"-header-back\";\nexport var PANEL_STACK_VIEW = PANEL_STACK + \"-view\";\nexport var POPOVER = NS + \"-popover\";\nexport var POPOVER_ARROW = POPOVER + \"-arrow\";\nexport var POPOVER_BACKDROP = POPOVER + \"-backdrop\";\nexport var POPOVER_CONTENT = POPOVER + \"-content\";\nexport var POPOVER_CONTENT_SIZING = POPOVER_CONTENT + \"-sizing\";\nexport var POPOVER_DISMISS = POPOVER + \"-dismiss\";\nexport var POPOVER_DISMISS_OVERRIDE = POPOVER_DISMISS + \"-override\";\nexport var POPOVER_OPEN = POPOVER + \"-open\";\nexport var POPOVER_TARGET = POPOVER + \"-target\";\nexport var POPOVER_WRAPPER = POPOVER + \"-wrapper\";\nexport var TRANSITION_CONTAINER = NS + \"-transition-container\";\nexport var PROGRESS_BAR = NS + \"-progress-bar\";\nexport var PROGRESS_METER = NS + \"-progress-meter\";\nexport var PROGRESS_NO_STRIPES = NS + \"-no-stripes\";\nexport var PROGRESS_NO_ANIMATION = NS + \"-no-animation\";\nexport var PORTAL = NS + \"-portal\";\nexport var SKELETON = NS + \"-skeleton\";\nexport var SLIDER = NS + \"-slider\";\nexport var SLIDER_AXIS = SLIDER + \"-axis\";\nexport var SLIDER_HANDLE = SLIDER + \"-handle\";\nexport var SLIDER_LABEL = SLIDER + \"-label\";\nexport var SLIDER_TRACK = SLIDER + \"-track\";\nexport var SLIDER_PROGRESS = SLIDER + \"-progress\";\nexport var START = NS + \"-start\";\nexport var END = NS + \"-end\";\nexport var SPINNER = NS + \"-spinner\";\nexport var SPINNER_ANIMATION = SPINNER + \"-animation\";\nexport var SPINNER_HEAD = SPINNER + \"-head\";\nexport var SPINNER_NO_SPIN = NS + \"-no-spin\";\nexport var SPINNER_TRACK = SPINNER + \"-track\";\nexport var TAB = NS + \"-tab\";\nexport var TAB_INDICATOR = TAB + \"-indicator\";\nexport var TAB_INDICATOR_WRAPPER = TAB_INDICATOR + \"-wrapper\";\nexport var TAB_LIST = TAB + \"-list\";\nexport var TAB_PANEL = TAB + \"-panel\";\nexport var TABS = TAB + \"s\";\nexport var TAG = NS + \"-tag\";\nexport var TAG_REMOVE = TAG + \"-remove\";\nexport var TAG_INPUT = NS + \"-tag-input\";\nexport var TAG_INPUT_ICON = TAG_INPUT + \"-icon\";\nexport var TAG_INPUT_VALUES = TAG_INPUT + \"-values\";\nexport var TOAST = NS + \"-toast\";\nexport var TOAST_CONTAINER = TOAST + \"-container\";\nexport var TOAST_MESSAGE = TOAST + \"-message\";\nexport var TOOLTIP = NS + \"-tooltip\";\nexport var TOOLTIP_INDICATOR = TOOLTIP + \"-indicator\";\nexport var TREE = NS + \"-tree\";\nexport var TREE_NODE = NS + \"-tree-node\";\nexport var TREE_NODE_CARET = TREE_NODE + \"-caret\";\nexport var TREE_NODE_CARET_CLOSED = TREE_NODE_CARET + \"-closed\";\nexport var TREE_NODE_CARET_NONE = TREE_NODE_CARET + \"-none\";\nexport var TREE_NODE_CARET_OPEN = TREE_NODE_CARET + \"-open\";\nexport var TREE_NODE_CONTENT = TREE_NODE + \"-content\";\nexport var TREE_NODE_EXPANDED = TREE_NODE + \"-expanded\";\nexport var TREE_NODE_ICON = TREE_NODE + \"-icon\";\nexport var TREE_NODE_LABEL = TREE_NODE + \"-label\";\nexport var TREE_NODE_LIST = TREE_NODE + \"-list\";\nexport var TREE_NODE_SECONDARY_LABEL = TREE_NODE + \"-secondary-label\";\nexport var TREE_NODE_SELECTED = TREE_NODE + \"-selected\";\nexport var TREE_ROOT = NS + \"-tree-root\";\nexport var ICON = NS + \"-icon\";\nexport var ICON_STANDARD = ICON + \"-standard\";\nexport var ICON_LARGE = ICON + \"-large\";\n/**\n * Returns the namespace prefix for all Blueprint CSS classes.\n * Customize this namespace at build time with the `process.env.BLUEPRINT_NAMESPACE` environment variable.\n */\n\nexport function getClassNamespace() {\n  return NS;\n}\n/** Return CSS class for alignment. */\n\nexport function alignmentClass(alignment) {\n  switch (alignment) {\n    case Alignment.LEFT:\n      return ALIGN_LEFT;\n\n    case Alignment.RIGHT:\n      return ALIGN_RIGHT;\n\n    default:\n      return undefined;\n  }\n}\nexport function elevationClass(elevation) {\n  if (elevation == null) {\n    return undefined;\n  }\n\n  return NS + \"-elevation-\" + elevation;\n}\n/** Returns CSS class for icon name. */\n\nexport function iconClass(iconName) {\n  if (iconName == null) {\n    return undefined;\n  }\n\n  return iconName.indexOf(NS + \"-icon-\") === 0 ? iconName : NS + \"-icon-\" + iconName;\n}\n/** Return CSS class for intent. */\n\nexport function intentClass(intent) {\n  if (intent == null || intent === Intent.NONE) {\n    return undefined;\n  }\n\n  return NS + \"-intent-\" + intent.toLowerCase();\n}\nexport function positionClass(position) {\n  if (position == null) {\n    return undefined;\n  }\n\n  return NS + \"-position-\" + position;\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var BACKSPACE = 8;\nexport var TAB = 9;\nexport var ENTER = 13;\nexport var SHIFT = 16;\nexport var ESCAPE = 27;\nexport var SPACE = 32;\nexport var ARROW_LEFT = 37;\nexport var ARROW_UP = 38;\nexport var ARROW_RIGHT = 39;\nexport var ARROW_DOWN = 40;\nexport var DELETE = 46;\n/** Returns whether the key code is `enter` or `space`, the two keys that can click a button. */\n\nexport function isKeyboardClick(keyCode) {\n  return keyCode === ENTER || keyCode === SPACE;\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nexport var DISPLAYNAME_PREFIX = \"Blueprint3\";\n/** A collection of curated prop keys used across our Components which are not valid HTMLElement props. */\n\nvar INVALID_PROPS = [\"active\", \"alignText\", \"containerRef\", \"elementRef\", \"fill\", \"icon\", \"inputRef\", \"intent\", \"inline\", \"large\", \"loading\", \"leftIcon\", \"minimal\", \"onChildrenMount\", \"onRemove\", \"panel\", \"panelClassName\", \"popoverProps\", \"rightElement\", \"rightIcon\", \"round\", \"small\", \"text\"];\n/**\n * Typically applied to HTMLElements to filter out blacklisted props. When applied to a Component,\n * can filter props from being passed down to the children. Can also filter by a combined list of\n * supplied prop keys and the blacklist (only appropriate for HTMLElements).\n * @param props The original props object to filter down.\n * @param {string[]} invalidProps If supplied, overwrites the default blacklist.\n * @param {boolean} shouldMerge If true, will merge supplied invalidProps and blacklist together.\n */\n\nexport function removeNonHTMLProps(props, invalidProps, shouldMerge) {\n  if (invalidProps === void 0) {\n    invalidProps = INVALID_PROPS;\n  }\n\n  if (shouldMerge === void 0) {\n    shouldMerge = false;\n  }\n\n  if (shouldMerge) {\n    invalidProps = invalidProps.concat(INVALID_PROPS);\n  }\n\n  return invalidProps.reduce(function (prev, curr) {\n    if (prev.hasOwnProperty(curr)) {\n      delete prev[curr];\n    }\n\n    return prev;\n  }, tslib_1.__assign({}, props));\n}","/*\n * Copyright 2019 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport { isNodeEnv } from \"./utils\";\n/**\n * An abstract component that Blueprint components can extend\n * in order to add some common functionality like runtime props validation.\n */\n\nvar AbstractPureComponent2 =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(AbstractPureComponent2, _super);\n\n  function AbstractPureComponent2(props, context) {\n    var _this = _super.call(this, props, context) || this; // Not bothering to remove entries when their timeouts finish because clearing invalid ID is a no-op\n\n\n    _this.timeoutIds = [];\n    /**\n     * Clear all known timeouts.\n     */\n\n    _this.clearTimeouts = function () {\n      if (_this.timeoutIds.length > 0) {\n        for (var _i = 0, _a = _this.timeoutIds; _i < _a.length; _i++) {\n          var timeoutId = _a[_i];\n          window.clearTimeout(timeoutId);\n        }\n\n        _this.timeoutIds = [];\n      }\n    };\n\n    if (!isNodeEnv(\"production\")) {\n      _this.validateProps(_this.props);\n    }\n\n    return _this;\n  }\n\n  AbstractPureComponent2.prototype.componentDidUpdate = function (_prevProps, _prevState, _snapshot) {\n    if (!isNodeEnv(\"production\")) {\n      this.validateProps(this.props);\n    }\n  };\n\n  AbstractPureComponent2.prototype.componentWillUnmount = function () {\n    this.clearTimeouts();\n  };\n  /**\n   * Set a timeout and remember its ID.\n   * All stored timeouts will be cleared when component unmounts.\n   * @returns a \"cancel\" function that will clear timeout when invoked.\n   */\n\n\n  AbstractPureComponent2.prototype.setTimeout = function (callback, timeout) {\n    var handle = window.setTimeout(callback, timeout);\n    this.timeoutIds.push(handle);\n    return function () {\n      return window.clearTimeout(handle);\n    };\n  };\n  /**\n   * Ensures that the props specified for a component are valid.\n   * Implementations should check that props are valid and usually throw an Error if they are not.\n   * Implementations should not duplicate checks that the type system already guarantees.\n   *\n   * This method should be used instead of React's\n   * [propTypes](https://facebook.github.io/react/docs/reusable-components.html#prop-validation) feature.\n   * Like propTypes, these runtime checks run only in development mode.\n   */\n\n\n  AbstractPureComponent2.prototype.validateProps = function (_props) {// implement in subclass\n  };\n\n  return AbstractPureComponent2;\n}(React.PureComponent);\n\nexport { AbstractPureComponent2 };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { IconSvgPaths16, IconSvgPaths20 } from \"@blueprintjs/icons\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX } from \"../../common\";\n\nvar Icon =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Icon, _super);\n\n  function Icon() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Icon_1 = Icon;\n\n  Icon.prototype.render = function () {\n    var icon = this.props.icon;\n\n    if (icon == null || typeof icon === \"boolean\") {\n      return null;\n    } else if (typeof icon !== \"string\") {\n      return icon;\n    }\n\n    var _a = this.props,\n        className = _a.className,\n        color = _a.color,\n        htmlTitle = _a.htmlTitle,\n        _b = _a.iconSize,\n        iconSize = _b === void 0 ? Icon_1.SIZE_STANDARD : _b,\n        intent = _a.intent,\n        _c = _a.title,\n        title = _c === void 0 ? icon : _c,\n        _d = _a.tagName,\n        tagName = _d === void 0 ? \"span\" : _d,\n        htmlprops = tslib_1.__rest(_a, [\"className\", \"color\", \"htmlTitle\", \"iconSize\", \"intent\", \"title\", \"tagName\"]); // choose which pixel grid is most appropriate for given icon size\n\n\n    var pixelGridSize = iconSize >= Icon_1.SIZE_LARGE ? Icon_1.SIZE_LARGE : Icon_1.SIZE_STANDARD; // render path elements, or nothing if icon name is unknown.\n\n    var paths = this.renderSvgPaths(pixelGridSize, icon);\n    var classes = classNames(Classes.ICON, Classes.iconClass(icon), Classes.intentClass(intent), className);\n    var viewBox = \"0 0 \" + pixelGridSize + \" \" + pixelGridSize;\n    return React.createElement(tagName, tslib_1.__assign({}, htmlprops, {\n      className: classes,\n      title: htmlTitle\n    }), React.createElement(\"svg\", {\n      fill: color,\n      \"data-icon\": icon,\n      width: iconSize,\n      height: iconSize,\n      viewBox: viewBox\n    }, title && React.createElement(\"desc\", null, title), paths));\n  };\n  /** Render `<path>` elements for the given icon name. Returns `null` if name is unknown. */\n\n\n  Icon.prototype.renderSvgPaths = function (pathsSize, iconName) {\n    var svgPathsRecord = pathsSize === Icon_1.SIZE_STANDARD ? IconSvgPaths16 : IconSvgPaths20;\n    var pathStrings = svgPathsRecord[iconName];\n\n    if (pathStrings == null) {\n      return null;\n    }\n\n    return pathStrings.map(function (d, i) {\n      return React.createElement(\"path\", {\n        key: i,\n        d: d,\n        fillRule: \"evenodd\"\n      });\n    });\n  };\n\n  var Icon_1;\n  Icon.displayName = DISPLAYNAME_PREFIX + \".Icon\";\n  Icon.SIZE_STANDARD = 16;\n  Icon.SIZE_LARGE = 20;\n  Icon = Icon_1 = tslib_1.__decorate([polyfill], Icon);\n  return Icon;\n}(AbstractPureComponent2);\n\nexport { Icon };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport * as Classes from \"../../common/classes\";\nimport { Icon } from \"../icon/icon\";\nexport var Breadcrumb = function Breadcrumb(breadcrumbProps) {\n  var _a;\n\n  var classes = classNames(Classes.BREADCRUMB, (_a = {}, _a[Classes.BREADCRUMB_CURRENT] = breadcrumbProps.current, _a[Classes.DISABLED] = breadcrumbProps.disabled, _a), breadcrumbProps.className);\n  var icon = breadcrumbProps.icon != null ? React.createElement(Icon, {\n    icon: breadcrumbProps.icon\n  }) : undefined;\n\n  if (breadcrumbProps.href == null && breadcrumbProps.onClick == null) {\n    return React.createElement(\"span\", {\n      className: classes\n    }, icon, breadcrumbProps.text, breadcrumbProps.children);\n  }\n\n  return React.createElement(\"a\", {\n    className: classes,\n    href: breadcrumbProps.href,\n    onClick: breadcrumbProps.disabled ? null : breadcrumbProps.onClick,\n    tabIndex: breadcrumbProps.disabled ? null : 0,\n    target: breadcrumbProps.target\n  }, icon, breadcrumbProps.text, breadcrumbProps.children);\n};","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport * as Classes from \"../../common/classes\";\nimport * as Errors from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { isFunction } from \"../../common/utils\";\n/** Detect if `React.createPortal()` API method does not exist. */\n\nvar cannotCreatePortal = !isFunction(ReactDOM.createPortal);\nvar REACT_CONTEXT_TYPES = {\n  blueprintPortalClassName: function blueprintPortalClassName(obj, key) {\n    if (obj[key] != null && typeof obj[key] !== \"string\") {\n      return new Error(Errors.PORTAL_CONTEXT_CLASS_NAME_STRING);\n    }\n\n    return undefined;\n  }\n};\n/**\n * This component detaches its contents and re-attaches them to document.body.\n * Use it when you need to circumvent DOM z-stacking (for dialogs, popovers, etc.).\n * Any class names passed to this element will be propagated to the new container element on document.body.\n */\n\nvar Portal =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Portal, _super);\n\n  function Portal() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      hasMounted: false\n    };\n    return _this;\n  }\n\n  Portal.prototype.render = function () {\n    // Only render `children` once this component has mounted in a browser environment, so they are\n    // immediately attached to the DOM tree and can do DOM things like measuring or `autoFocus`.\n    // See long comment on componentDidMount in https://reactjs.org/docs/portals.html#event-bubbling-through-portals\n    if (cannotCreatePortal || typeof document === \"undefined\" || !this.state.hasMounted) {\n      return null;\n    } else {\n      return ReactDOM.createPortal(this.props.children, this.portalElement);\n    }\n  };\n\n  Portal.prototype.componentDidMount = function () {\n    if (!this.props.container) {\n      return;\n    }\n\n    this.portalElement = this.createContainerElement();\n    this.props.container.appendChild(this.portalElement);\n    this.setState({\n      hasMounted: true\n    }, this.props.onChildrenMount);\n\n    if (cannotCreatePortal) {\n      this.unstableRenderNoPortal();\n    }\n  };\n\n  Portal.prototype.componentDidUpdate = function (prevProps) {\n    // update className prop on portal DOM element\n    if (this.portalElement != null && prevProps.className !== this.props.className) {\n      this.portalElement.classList.remove(prevProps.className);\n      maybeAddClass(this.portalElement.classList, this.props.className);\n    }\n\n    if (cannotCreatePortal) {\n      this.unstableRenderNoPortal();\n    }\n  };\n\n  Portal.prototype.componentWillUnmount = function () {\n    if (this.portalElement != null) {\n      if (cannotCreatePortal) {\n        ReactDOM.unmountComponentAtNode(this.portalElement);\n      }\n\n      this.portalElement.remove();\n    }\n  };\n\n  Portal.prototype.createContainerElement = function () {\n    var container = document.createElement(\"div\");\n    container.classList.add(Classes.PORTAL);\n    maybeAddClass(container.classList, this.props.className);\n\n    if (this.context != null) {\n      maybeAddClass(container.classList, this.context.blueprintPortalClassName);\n    }\n\n    return container;\n  };\n\n  Portal.prototype.unstableRenderNoPortal = function () {\n    ReactDOM.unstable_renderSubtreeIntoContainer(\n    /* parentComponent */\n    this, React.createElement(\"div\", null, this.props.children), this.portalElement);\n  };\n\n  Portal.displayName = DISPLAYNAME_PREFIX + \".Portal\";\n  Portal.contextTypes = REACT_CONTEXT_TYPES;\n  Portal.defaultProps = {\n    container: typeof document !== \"undefined\" ? document.body : null\n  };\n  return Portal;\n}(React.Component);\n\nexport { Portal };\n\nfunction maybeAddClass(classList, className) {\n  if (className != null && className !== \"\") {\n    classList.add.apply(classList, className.split(\" \"));\n  }\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport { findDOMNode } from \"react-dom\";\nimport { AbstractPureComponent2, Classes, Keys } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { safeInvoke } from \"../../common/utils\";\nimport { Portal } from \"../portal/portal\";\n\nvar Overlay =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Overlay, _super);\n\n  function Overlay(props, context) {\n    var _this = _super.call(this, props, context) || this;\n\n    _this.refHandlers = {\n      container: function container(ref) {\n        return _this.containerElement = findDOMNode(ref);\n      }\n    };\n\n    _this.maybeRenderChild = function (child) {\n      if (child == null) {\n        return null;\n      } // add a special class to each child element that will automatically set the appropriate\n      // CSS position mode under the hood. also, make the container focusable so we can\n      // trap focus inside it (via `enforceFocus`).\n\n\n      var decoratedChild = typeof child === \"object\" ? React.cloneElement(child, {\n        className: classNames(child.props.className, Classes.OVERLAY_CONTENT),\n        tabIndex: 0\n      }) : React.createElement(\"span\", {\n        className: Classes.OVERLAY_CONTENT\n      }, child);\n      var _a = _this.props,\n          onOpening = _a.onOpening,\n          onOpened = _a.onOpened,\n          onClosing = _a.onClosing,\n          onClosed = _a.onClosed,\n          transitionDuration = _a.transitionDuration,\n          transitionName = _a.transitionName;\n      return React.createElement(CSSTransition, {\n        classNames: transitionName,\n        onEntering: onOpening,\n        onEntered: onOpened,\n        onExiting: onClosing,\n        onExited: onClosed,\n        timeout: transitionDuration\n      }, decoratedChild);\n    };\n\n    _this.handleBackdropMouseDown = function (e) {\n      var _a = _this.props,\n          backdropProps = _a.backdropProps,\n          canOutsideClickClose = _a.canOutsideClickClose,\n          enforceFocus = _a.enforceFocus,\n          onClose = _a.onClose;\n\n      if (canOutsideClickClose) {\n        safeInvoke(onClose, e);\n      }\n\n      if (enforceFocus) {\n        // make sure document.activeElement is updated before bringing the focus back\n        _this.bringFocusInsideOverlay();\n      }\n\n      safeInvoke(backdropProps.onMouseDown, e);\n    };\n\n    _this.handleDocumentClick = function (e) {\n      var _a = _this.props,\n          canOutsideClickClose = _a.canOutsideClickClose,\n          isOpen = _a.isOpen,\n          onClose = _a.onClose;\n      var eventTarget = e.target;\n      var stackIndex = Overlay_1.openStack.indexOf(_this);\n      var isClickInThisOverlayOrDescendant = Overlay_1.openStack.slice(stackIndex).some(function (_a) {\n        var elem = _a.containerElement; // `elem` is the container of backdrop & content, so clicking on that container\n        // should not count as being \"inside\" the overlay.\n\n        return elem && elem.contains(eventTarget) && !elem.isSameNode(eventTarget);\n      });\n\n      if (isOpen && canOutsideClickClose && !isClickInThisOverlayOrDescendant) {\n        // casting to any because this is a native event\n        safeInvoke(onClose, e);\n      }\n    };\n\n    _this.handleDocumentFocus = function (e) {\n      if (_this.props.enforceFocus && _this.containerElement != null && !_this.containerElement.contains(e.target)) {\n        // prevent default focus behavior (sometimes auto-scrolls the page)\n        e.preventDefault();\n        e.stopImmediatePropagation();\n\n        _this.bringFocusInsideOverlay();\n      }\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _a = _this.props,\n          canEscapeKeyClose = _a.canEscapeKeyClose,\n          onClose = _a.onClose;\n\n      if (e.which === Keys.ESCAPE && canEscapeKeyClose) {\n        safeInvoke(onClose, e); // prevent browser-specific escape key behavior (Safari exits fullscreen)\n\n        e.preventDefault();\n      }\n    };\n\n    _this.state = {\n      hasEverOpened: props.isOpen\n    };\n    return _this;\n  }\n\n  Overlay_1 = Overlay;\n\n  Overlay.getDerivedStateFromProps = function (_a) {\n    var hasEverOpened = _a.isOpen;\n\n    if (hasEverOpened) {\n      return {\n        hasEverOpened: hasEverOpened\n      };\n    }\n\n    return null;\n  };\n\n  Overlay.prototype.render = function () {\n    var _a; // oh snap! no reason to render anything at all if we're being truly lazy\n\n\n    if (this.props.lazy && !this.state.hasEverOpened) {\n      return null;\n    }\n\n    var _b = this.props,\n        children = _b.children,\n        className = _b.className,\n        usePortal = _b.usePortal,\n        isOpen = _b.isOpen; // TransitionGroup types require single array of children; does not support nested arrays.\n    // So we must collapse backdrop and children into one array, and every item must be wrapped in a\n    // Transition element (no ReactText allowed).\n\n    var childrenWithTransitions = isOpen ? React.Children.map(children, this.maybeRenderChild) : [];\n    childrenWithTransitions.unshift(this.maybeRenderBackdrop());\n    var containerClasses = classNames(Classes.OVERLAY, (_a = {}, _a[Classes.OVERLAY_OPEN] = isOpen, _a[Classes.OVERLAY_INLINE] = !usePortal, _a), className);\n    var transitionGroup = React.createElement(TransitionGroup, {\n      appear: true,\n      className: containerClasses,\n      component: \"div\",\n      onKeyDown: this.handleKeyDown,\n      ref: this.refHandlers.container\n    }, childrenWithTransitions);\n\n    if (usePortal) {\n      return React.createElement(Portal, {\n        className: this.props.portalClassName,\n        container: this.props.portalContainer\n      }, transitionGroup);\n    } else {\n      return transitionGroup;\n    }\n  };\n\n  Overlay.prototype.componentDidMount = function () {\n    if (this.props.isOpen) {\n      this.overlayWillOpen();\n    }\n  };\n\n  Overlay.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.isOpen && !this.props.isOpen) {\n      this.overlayWillClose();\n    } else if (!prevProps.isOpen && this.props.isOpen) {\n      this.overlayWillOpen();\n    }\n  };\n\n  Overlay.prototype.componentWillUnmount = function () {\n    this.overlayWillClose();\n  };\n  /**\n   * @public for testing\n   * @internal\n   */\n\n\n  Overlay.prototype.bringFocusInsideOverlay = function () {\n    var _this = this; // always delay focus manipulation to just before repaint to prevent scroll jumping\n\n\n    return requestAnimationFrame(function () {\n      // container ref may be undefined between component mounting and Portal rendering\n      // activeElement may be undefined in some rare cases in IE\n      if (_this.containerElement == null || document.activeElement == null || !_this.props.isOpen) {\n        return;\n      }\n\n      var isFocusOutsideModal = !_this.containerElement.contains(document.activeElement);\n\n      if (isFocusOutsideModal) {\n        // element marked autofocus has higher priority than the other clowns\n        var autofocusElement = _this.containerElement.querySelector(\"[autofocus]\");\n\n        var wrapperElement = _this.containerElement.querySelector(\"[tabindex]\");\n\n        if (autofocusElement != null) {\n          autofocusElement.focus();\n        } else if (wrapperElement != null) {\n          wrapperElement.focus();\n        }\n      }\n    });\n  };\n\n  Overlay.prototype.maybeRenderBackdrop = function () {\n    var _a = this.props,\n        backdropClassName = _a.backdropClassName,\n        backdropProps = _a.backdropProps,\n        hasBackdrop = _a.hasBackdrop,\n        isOpen = _a.isOpen,\n        transitionDuration = _a.transitionDuration,\n        transitionName = _a.transitionName;\n\n    if (hasBackdrop && isOpen) {\n      return React.createElement(CSSTransition, {\n        classNames: transitionName,\n        key: \"__backdrop\",\n        timeout: transitionDuration\n      }, React.createElement(\"div\", tslib_1.__assign({}, backdropProps, {\n        className: classNames(Classes.OVERLAY_BACKDROP, backdropClassName, backdropProps.className),\n        onMouseDown: this.handleBackdropMouseDown,\n        tabIndex: this.props.canOutsideClickClose ? 0 : null\n      })));\n    } else {\n      return null;\n    }\n  };\n\n  Overlay.prototype.overlayWillClose = function () {\n    document.removeEventListener(\"focus\", this.handleDocumentFocus,\n    /* useCapture */\n    true);\n    document.removeEventListener(\"mousedown\", this.handleDocumentClick);\n    var openStack = Overlay_1.openStack;\n    var stackIndex = openStack.indexOf(this);\n\n    if (stackIndex !== -1) {\n      openStack.splice(stackIndex, 1);\n\n      if (openStack.length > 0) {\n        var lastOpenedOverlay = Overlay_1.getLastOpened();\n\n        if (lastOpenedOverlay.props.enforceFocus) {\n          document.addEventListener(\"focus\", lastOpenedOverlay.handleDocumentFocus,\n          /* useCapture */\n          true);\n        }\n      }\n\n      if (openStack.filter(function (o) {\n        return o.props.usePortal && o.props.hasBackdrop;\n      }).length === 0) {\n        document.body.classList.remove(Classes.OVERLAY_OPEN);\n      }\n    }\n  };\n\n  Overlay.prototype.overlayWillOpen = function () {\n    var openStack = Overlay_1.openStack;\n\n    if (openStack.length > 0) {\n      document.removeEventListener(\"focus\", Overlay_1.getLastOpened().handleDocumentFocus,\n      /* useCapture */\n      true);\n    }\n\n    openStack.push(this);\n\n    if (this.props.autoFocus) {\n      this.bringFocusInsideOverlay();\n    }\n\n    if (this.props.enforceFocus) {\n      document.addEventListener(\"focus\", this.handleDocumentFocus,\n      /* useCapture */\n      true);\n    }\n\n    if (this.props.canOutsideClickClose && !this.props.hasBackdrop) {\n      document.addEventListener(\"mousedown\", this.handleDocumentClick);\n    }\n\n    if (this.props.hasBackdrop && this.props.usePortal) {\n      // add a class to the body to prevent scrolling of content below the overlay\n      document.body.classList.add(Classes.OVERLAY_OPEN);\n    }\n  };\n\n  var Overlay_1;\n  Overlay.displayName = DISPLAYNAME_PREFIX + \".Overlay\";\n  Overlay.defaultProps = {\n    autoFocus: true,\n    backdropProps: {},\n    canEscapeKeyClose: true,\n    canOutsideClickClose: true,\n    enforceFocus: true,\n    hasBackdrop: true,\n    isOpen: false,\n    lazy: true,\n    transitionDuration: 300,\n    transitionName: Classes.OVERLAY,\n    usePortal: true\n  };\n  Overlay.openStack = [];\n\n  Overlay.getLastOpened = function () {\n    return Overlay_1.openStack[Overlay_1.openStack.length - 1];\n  };\n\n  Overlay = Overlay_1 = tslib_1.__decorate([polyfill], Overlay);\n  return Overlay;\n}(AbstractPureComponent2);\n\nexport { Overlay };","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport ResizeObserver from \"resize-observer-polyfill\";\nimport { AbstractPureComponent2 } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { safeInvoke } from \"../../common/utils\";\n\nvar ResizeSensor =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ResizeSensor, _super);\n\n  function ResizeSensor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.element = null;\n    _this.observer = new ResizeObserver(function (entries) {\n      return safeInvoke(_this.props.onResize, entries);\n    });\n    return _this;\n  }\n\n  ResizeSensor.prototype.render = function () {\n    // pass-through render of single child\n    return React.Children.only(this.props.children);\n  };\n\n  ResizeSensor.prototype.componentDidMount = function () {\n    this.observeElement();\n  };\n\n  ResizeSensor.prototype.componentDidUpdate = function (prevProps) {\n    this.observeElement(this.props.observeParents !== prevProps.observeParents);\n  };\n\n  ResizeSensor.prototype.componentWillUnmount = function () {\n    this.observer.disconnect();\n  };\n  /**\n   * Observe the DOM element, if defined and different from the currently\n   * observed element. Pass `force` argument to skip element checks and always\n   * re-observe.\n   */\n\n\n  ResizeSensor.prototype.observeElement = function (force) {\n    if (force === void 0) {\n      force = false;\n    }\n\n    var element = this.getElement();\n\n    if (!(element instanceof Element)) {\n      // stop everything if not defined\n      this.observer.disconnect();\n      return;\n    }\n\n    if (element === this.element && !force) {\n      // quit if given same element -- nothing to update (unless forced)\n      return;\n    } else {\n      // clear observer list if new element\n      this.observer.disconnect(); // remember element reference for next time\n\n      this.element = element;\n    } // observer callback is invoked immediately when observing new elements\n\n\n    this.observer.observe(element);\n\n    if (this.props.observeParents) {\n      var parent_1 = element.parentElement;\n\n      while (parent_1 != null) {\n        this.observer.observe(parent_1);\n        parent_1 = parent_1.parentElement;\n      }\n    }\n  };\n\n  ResizeSensor.prototype.getElement = function () {\n    try {\n      // using findDOMNode for two reasons:\n      // 1. cloning to insert a ref is unwieldy and not performant.\n      // 2. ensure that we resolve to an actual DOM node (instead of any JSX ref instance).\n      return findDOMNode(this);\n    } catch (_a) {\n      // swallow error if findDOMNode is run on unmounted component.\n      return null;\n    }\n  };\n\n  ResizeSensor.displayName = DISPLAYNAME_PREFIX + \".ResizeSensor\";\n  ResizeSensor = tslib_1.__decorate([polyfill], ResizeSensor);\n  return ResizeSensor;\n}(AbstractPureComponent2);\n\nexport { ResizeSensor };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Popper placement utils\n// ======================\n\n/** Converts a full placement to one of the four positions by stripping text after the `-`. */\nexport function getPosition(placement) {\n  return placement.split(\"-\")[0];\n}\n/** Returns true if position is left or right. */\n\nexport function isVerticalPosition(side) {\n  return [\"left\", \"right\"].indexOf(side) !== -1;\n}\n/** Returns the opposite position. */\n\nexport function getOppositePosition(side) {\n  switch (side) {\n    case \"top\":\n      return \"bottom\";\n\n    case \"left\":\n      return \"right\";\n\n    case \"bottom\":\n      return \"top\";\n\n    default:\n      return \"left\";\n  }\n}\n/** Returns the CSS alignment keyword corresponding to given placement. */\n\nexport function getAlignment(placement) {\n  var align = placement.split(\"-\")[1];\n\n  switch (align) {\n    case \"start\":\n      return \"left\";\n\n    case \"end\":\n      return \"right\";\n\n    default:\n      return \"center\";\n  }\n} // Popper modifiers\n// ================\n\n/** Modifier helper function to compute popper transform-origin based on arrow position */\n\nexport function getTransformOrigin(data) {\n  var position = getPosition(data.placement);\n\n  if (data.arrowElement == null) {\n    return isVerticalPosition(position) ? getOppositePosition(position) + \" \" + getAlignment(position) : getAlignment(position) + \" \" + getOppositePosition(position);\n  } else {\n    var arrowSizeShift = data.arrowElement.clientHeight / 2;\n    var arrow = data.offsets.arrow; // can use keyword for dimension without the arrow, to ease computation burden.\n    // move origin by half arrow's height to keep it centered.\n\n    return isVerticalPosition(position) ? getOppositePosition(position) + \" \" + (arrow.top + arrowSizeShift) + \"px\" : arrow.left + arrowSizeShift + \"px \" + getOppositePosition(position);\n  }\n} // additional space between arrow and edge of target\n\nvar ARROW_SPACING = 4;\n/** Popper modifier that offsets popper and arrow so arrow points out of the correct side */\n\nexport var arrowOffsetModifier = function arrowOffsetModifier(data) {\n  if (data.arrowElement == null) {\n    return data;\n  } // our arrows have equal width and height\n\n\n  var arrowSize = data.arrowElement.clientWidth; // this logic borrowed from original Popper arrow modifier itself\n\n  var position = getPosition(data.placement);\n  var isVertical = isVerticalPosition(position);\n  var len = isVertical ? \"width\" : \"height\";\n  var offsetSide = isVertical ? \"left\" : \"top\";\n  var arrowOffsetSize = Math.round(arrowSize / 2 / Math.sqrt(2)); // offset popover by arrow size, offset arrow in the opposite direction\n\n  if (position === \"top\" || position === \"left\") {\n    // the \"up & back\" directions require negative popper offsets\n    data.offsets.popper[offsetSide] -= arrowOffsetSize + ARROW_SPACING; // can only use left/top on arrow so gotta get clever with 100% + X\n\n    data.offsets.arrow[offsetSide] = data.offsets.popper[len] - arrowSize + arrowOffsetSize;\n  } else {\n    data.offsets.popper[offsetSide] += arrowOffsetSize + ARROW_SPACING;\n    data.offsets.arrow[offsetSide] = -arrowOffsetSize;\n  }\n\n  return data;\n};","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as React from \"react\";\nimport * as Classes from \"../../common/classes\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { getPosition } from \"./popperUtils\"; // these paths come from the Core Kit Sketch file\n// https://github.com/palantir/blueprint/blob/develop/resources/sketch/Core%20Kit.sketch\n\nvar SVG_SHADOW_PATH = \"M8.11 6.302c1.015-.936 1.887-2.922 1.887-4.297v26c0-1.378\" + \"-.868-3.357-1.888-4.297L.925 17.09c-1.237-1.14-1.233-3.034 0-4.17L8.11 6.302z\";\nvar SVG_ARROW_PATH = \"M8.787 7.036c1.22-1.125 2.21-3.376 2.21-5.03V0v30-2.005\" + \"c0-1.654-.983-3.9-2.21-5.03l-7.183-6.616c-.81-.746-.802-1.96 0-2.7l7.183-6.614z\";\n/** Modifier helper function to compute arrow rotate() transform */\n\nfunction getArrowAngle(placement) {\n  if (placement == null) {\n    return 0;\n  } // can only be top/left/bottom/right - auto is resolved internally\n\n\n  switch (getPosition(placement)) {\n    case \"top\":\n      return -90;\n\n    case \"left\":\n      return 180;\n\n    case \"bottom\":\n      return 90;\n\n    default:\n      return 0;\n  }\n}\n\nexport var PopoverArrow = function PopoverArrow(_a) {\n  var _b = _a.arrowProps,\n      ref = _b.ref,\n      style = _b.style,\n      placement = _a.placement;\n  return React.createElement(\"div\", {\n    className: Classes.POPOVER_ARROW,\n    ref: ref,\n    style: isNaN(+style.left) ? {} : style\n  }, React.createElement(\"svg\", {\n    viewBox: \"0 0 30 30\",\n    style: {\n      transform: \"rotate(\" + getArrowAngle(placement) + \"deg)\"\n    }\n  }, React.createElement(\"path\", {\n    className: Classes.POPOVER_ARROW + \"-border\",\n    d: SVG_SHADOW_PATH\n  }), React.createElement(\"path\", {\n    className: Classes.POPOVER_ARROW + \"-fill\",\n    d: SVG_ARROW_PATH\n  })));\n};\nPopoverArrow.displayName = DISPLAYNAME_PREFIX + \".PopoverArrow\";","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Position } from \"../../common/position\";\n/**\n * Convert a position to a placement.\n * @param position the position to convert\n */\n\nexport function positionToPlacement(position) {\n  /* istanbul ignore next */\n  switch (position) {\n    case Position.TOP_LEFT:\n      return \"top-start\";\n\n    case Position.TOP:\n      return \"top\";\n\n    case Position.TOP_RIGHT:\n      return \"top-end\";\n\n    case Position.RIGHT_TOP:\n      return \"right-start\";\n\n    case Position.RIGHT:\n      return \"right\";\n\n    case Position.RIGHT_BOTTOM:\n      return \"right-end\";\n\n    case Position.BOTTOM_RIGHT:\n      return \"bottom-end\";\n\n    case Position.BOTTOM:\n      return \"bottom\";\n\n    case Position.BOTTOM_LEFT:\n      return \"bottom-start\";\n\n    case Position.LEFT_BOTTOM:\n      return \"left-end\";\n\n    case Position.LEFT:\n      return \"left\";\n\n    case Position.LEFT_TOP:\n      return \"left-start\";\n\n    case \"auto\":\n    case \"auto-start\":\n    case \"auto-end\":\n      // Return the string unchanged.\n      return position;\n\n    default:\n      return assertNever(position);\n  }\n}\n/* istanbul ignore next */\n\nfunction assertNever(x) {\n  throw new Error(\"Unexpected position: \" + x);\n}","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { Manager, Popper, Reference } from \"react-popper\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport * as Utils from \"../../common/utils\";\nimport { Overlay } from \"../overlay/overlay\";\nimport { ResizeSensor } from \"../resize-sensor/resizeSensor\";\nimport { Tooltip } from \"../tooltip/tooltip\";\nimport { PopoverArrow } from \"./popoverArrow\";\nimport { positionToPlacement } from \"./popoverMigrationUtils\";\nimport { arrowOffsetModifier, getTransformOrigin } from \"./popperUtils\";\nexport var PopoverInteractionKind = {\n  CLICK: \"click\",\n  CLICK_TARGET_ONLY: \"click-target\",\n  HOVER: \"hover\",\n  HOVER_TARGET_ONLY: \"hover-target\"\n};\n\nvar Popover =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Popover, _super);\n\n  function Popover() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      hasDarkParent: false,\n      isOpen: _this.getIsOpen(_this.props),\n      transformOrigin: \"\"\n    }; // a flag that lets us detect mouse movement between the target and popover,\n    // now that mouseleave is triggered when you cross the gap between the two.\n\n    _this.isMouseInTargetOrPopover = false; // a flag that indicates whether the target previously lost focus to another\n    // element on the same page.\n\n    _this.lostFocusOnSamePage = true;\n    _this.refHandlers = {\n      popover: function popover(ref) {\n        _this.popoverElement = ref;\n        Utils.safeInvoke(_this.props.popoverRef, ref);\n      },\n      target: function target(ref) {\n        return _this.targetElement = ref;\n      }\n    };\n    /**\n     * Instance method to instruct the `Popover` to recompute its position.\n     *\n     * This method should only be used if you are updating the target in a way\n     * that does not cause it to re-render, such as changing its _position_\n     * without changing its _size_ (since `Popover` already repositions when it\n     * detects a resize).\n     */\n\n    _this.reposition = function () {\n      return Utils.safeInvoke(_this.popperScheduleUpdate);\n    };\n\n    _this.renderPopover = function (popperProps) {\n      var _a;\n\n      var _b = _this.props,\n          usePortal = _b.usePortal,\n          interactionKind = _b.interactionKind;\n      var transformOrigin = _this.state.transformOrigin; // Need to update our reference to this on every render as it will change.\n\n      _this.popperScheduleUpdate = popperProps.scheduleUpdate;\n      var popoverHandlers = {\n        // always check popover clicks for dismiss class\n        onClick: _this.handlePopoverClick\n      };\n\n      if (interactionKind === PopoverInteractionKind.HOVER || !usePortal && interactionKind === PopoverInteractionKind.HOVER_TARGET_ONLY) {\n        popoverHandlers.onMouseEnter = _this.handleMouseEnter;\n        popoverHandlers.onMouseLeave = _this.handleMouseLeave;\n      }\n\n      var popoverClasses = classNames(Classes.POPOVER, (_a = {}, _a[Classes.DARK] = _this.props.inheritDarkTheme && _this.state.hasDarkParent, _a[Classes.MINIMAL] = _this.props.minimal, _a), _this.props.popoverClassName);\n      return React.createElement(\"div\", {\n        className: Classes.TRANSITION_CONTAINER,\n        ref: popperProps.ref,\n        style: popperProps.style\n      }, React.createElement(ResizeSensor, {\n        onResize: _this.reposition\n      }, React.createElement(\"div\", tslib_1.__assign({\n        className: popoverClasses,\n        style: {\n          transformOrigin: transformOrigin\n        }\n      }, popoverHandlers), _this.isArrowEnabled() && React.createElement(PopoverArrow, {\n        arrowProps: popperProps.arrowProps,\n        placement: popperProps.placement\n      }), React.createElement(\"div\", {\n        className: Classes.POPOVER_CONTENT\n      }, _this.understandChildren().content))));\n    };\n\n    _this.renderTarget = function (referenceProps) {\n      var _a, _b;\n\n      var _c = _this.props,\n          fill = _c.fill,\n          openOnTargetFocus = _c.openOnTargetFocus,\n          targetClassName = _c.targetClassName,\n          _d = _c.targetProps,\n          targetProps = _d === void 0 ? {} : _d;\n      var isOpen = _this.state.isOpen;\n\n      var isControlled = _this.isControlled();\n\n      var isHoverInteractionKind = _this.isHoverInteractionKind();\n\n      var targetTagName = _this.props.targetTagName;\n\n      if (fill) {\n        targetTagName = \"div\";\n      }\n\n      var finalTargetProps = isHoverInteractionKind ? {\n        // HOVER handlers\n        onBlur: _this.handleTargetBlur,\n        onFocus: _this.handleTargetFocus,\n        onMouseEnter: _this.handleMouseEnter,\n        onMouseLeave: _this.handleMouseLeave\n      } : {\n        // CLICK needs only one handler\n        onClick: _this.handleTargetClick\n      };\n      finalTargetProps.className = classNames(Classes.POPOVER_TARGET, (_a = {}, _a[Classes.POPOVER_OPEN] = isOpen, _a), targetProps.className, targetClassName);\n      finalTargetProps.ref = referenceProps.ref;\n      var rawTarget = Utils.ensureElement(_this.understandChildren().target);\n      var rawTabIndex = rawTarget.props.tabIndex; // ensure target is focusable if relevant prop enabled\n\n      var tabIndex = rawTabIndex == null && openOnTargetFocus && isHoverInteractionKind ? 0 : rawTabIndex;\n      var clonedTarget = React.cloneElement(rawTarget, {\n        className: classNames(rawTarget.props.className, (_b = {}, // this class is mainly useful for button targets; we should only apply it for uncontrolled popovers\n        // when they are opened by a user interaction\n        _b[Classes.ACTIVE] = isOpen && !isControlled && !isHoverInteractionKind, _b)),\n        // force disable single Tooltip child when popover is open (BLUEPRINT-552)\n        disabled: isOpen && Utils.isElementOfType(rawTarget, Tooltip) ? true : rawTarget.props.disabled,\n        tabIndex: tabIndex\n      });\n      var target = React.createElement(targetTagName, tslib_1.__assign({}, targetProps, finalTargetProps), clonedTarget);\n      return React.createElement(ResizeSensor, {\n        onResize: _this.reposition\n      }, target);\n    };\n\n    _this.isControlled = function () {\n      return _this.props.isOpen !== undefined;\n    };\n\n    _this.handleTargetFocus = function (e) {\n      if (_this.props.openOnTargetFocus && _this.isHoverInteractionKind()) {\n        if (e.relatedTarget == null && !_this.lostFocusOnSamePage) {\n          // ignore this focus event -- the target was already focused but the page itself\n          // lost focus (e.g. due to switching tabs).\n          return;\n        }\n\n        _this.handleMouseEnter(e);\n      }\n\n      Utils.safeInvokeMember(_this.props.targetProps, \"onFocus\", e);\n    };\n\n    _this.handleTargetBlur = function (e) {\n      if (_this.props.openOnTargetFocus && _this.isHoverInteractionKind()) {\n        // if the next element to receive focus is within the popover, we'll want to leave the\n        // popover open. e.relatedTarget ought to tell us the next element to receive focus, but if the user just\n        // clicked on an element which is not focusable (either by default or with a tabIndex attribute),\n        // it won't be set. So, we filter those out here and assume that a click handler somewhere else will\n        // close the popover if necessary.\n        if (e.relatedTarget != null && !_this.isElementInPopover(e.relatedTarget)) {\n          _this.handleMouseLeave(e);\n        }\n      }\n\n      _this.lostFocusOnSamePage = e.relatedTarget != null;\n      Utils.safeInvokeMember(_this.props.targetProps, \"onBlur\", e);\n    };\n\n    _this.handleMouseEnter = function (e) {\n      _this.isMouseInTargetOrPopover = true; // if we're entering the popover, and the mode is set to be HOVER_TARGET_ONLY, we want to manually\n      // trigger the mouse leave event, as hovering over the popover shouldn't count.\n\n      if (!_this.props.usePortal && _this.isElementInPopover(e.target) && _this.props.interactionKind === PopoverInteractionKind.HOVER_TARGET_ONLY && !_this.props.openOnTargetFocus) {\n        _this.handleMouseLeave(e);\n      } else if (!_this.props.disabled) {\n        // only begin opening popover when it is enabled\n        _this.setOpenState(true, e, _this.props.hoverOpenDelay);\n      }\n\n      Utils.safeInvokeMember(_this.props.targetProps, \"onMouseEnter\", e);\n    };\n\n    _this.handleMouseLeave = function (e) {\n      _this.isMouseInTargetOrPopover = false; // wait until the event queue is flushed, because we want to leave the\n      // popover open if the mouse entered the popover immediately after\n      // leaving the target (or vice versa).\n\n      _this.setTimeout(function () {\n        if (_this.isMouseInTargetOrPopover) {\n          return;\n        } // user-configurable closing delay is helpful when moving mouse from target to popover\n\n\n        _this.setOpenState(false, e, _this.props.hoverCloseDelay);\n      });\n\n      Utils.safeInvokeMember(_this.props.targetProps, \"onMouseLeave\", e);\n    };\n\n    _this.handlePopoverClick = function (e) {\n      var eventTarget = e.target; // an OVERRIDE inside a DISMISS does not dismiss, and a DISMISS inside an OVERRIDE will dismiss.\n\n      var dismissElement = eventTarget.closest(\".\" + Classes.POPOVER_DISMISS + \", .\" + Classes.POPOVER_DISMISS_OVERRIDE);\n      var shouldDismiss = dismissElement != null && dismissElement.classList.contains(Classes.POPOVER_DISMISS);\n      var isDisabled = eventTarget.closest(\":disabled, .\" + Classes.DISABLED) != null;\n\n      if (shouldDismiss && !isDisabled && !e.isDefaultPrevented()) {\n        _this.setOpenState(false, e);\n\n        if (_this.props.captureDismiss) {\n          e.preventDefault();\n        }\n      }\n    };\n\n    _this.handleOverlayClose = function (e) {\n      var eventTarget = e.target; // if click was in target, target event listener will handle things, so don't close\n\n      if (!Utils.elementIsOrContains(_this.targetElement, eventTarget) || e.nativeEvent instanceof KeyboardEvent) {\n        _this.setOpenState(false, e);\n      }\n    };\n\n    _this.handleTargetClick = function (e) {\n      // ensure click did not originate from within inline popover before closing\n      if (!_this.props.disabled && !_this.isElementInPopover(e.target)) {\n        if (_this.props.isOpen == null) {\n          _this.setState(function (prevState) {\n            return {\n              isOpen: !prevState.isOpen\n            };\n          });\n        } else {\n          _this.setOpenState(!_this.props.isOpen, e);\n        }\n      }\n\n      Utils.safeInvokeMember(_this.props.targetProps, \"onClick\", e);\n    };\n    /** Popper modifier that updates React state (for style properties) based on latest data. */\n\n\n    _this.updatePopoverState = function (data) {\n      // always set string; let shouldComponentUpdate determine if update is necessary\n      _this.setState({\n        transformOrigin: getTransformOrigin(data)\n      });\n\n      return data;\n    };\n\n    return _this;\n  }\n\n  Popover.prototype.render = function () {\n    var _a; // rename wrapper tag to begin with uppercase letter so it's recognized\n    // as JSX component instead of intrinsic element. but because of its\n    // type, tsc actually recognizes that it is _any_ intrinsic element, so\n    // it can typecheck the HTML props!!\n\n\n    var _b = this.props,\n        className = _b.className,\n        disabled = _b.disabled,\n        fill = _b.fill;\n    var isOpen = this.state.isOpen;\n    var wrapperTagName = this.props.wrapperTagName;\n\n    if (fill) {\n      wrapperTagName = \"div\";\n    }\n\n    var isContentEmpty = Utils.ensureElement(this.understandChildren().content) == null; // need to do this check in render(), because `isOpen` is derived from\n    // state, and state can't necessarily be accessed in validateProps.\n\n    if (isContentEmpty && !disabled && isOpen !== false && !Utils.isNodeEnv(\"production\")) {\n      console.warn(Errors.POPOVER_WARN_EMPTY_CONTENT);\n    }\n\n    var wrapperClasses = classNames(Classes.POPOVER_WRAPPER, className, (_a = {}, _a[Classes.FILL] = fill, _a));\n    var wrapper = React.createElement(wrapperTagName, {\n      className: wrapperClasses\n    }, React.createElement(Reference, {\n      innerRef: this.refHandlers.target\n    }, this.renderTarget), React.createElement(Overlay, {\n      autoFocus: this.props.autoFocus,\n      backdropClassName: Classes.POPOVER_BACKDROP,\n      backdropProps: this.props.backdropProps,\n      canEscapeKeyClose: this.props.canEscapeKeyClose,\n      canOutsideClickClose: this.props.interactionKind === PopoverInteractionKind.CLICK,\n      className: this.props.portalClassName,\n      enforceFocus: this.props.enforceFocus,\n      hasBackdrop: this.props.hasBackdrop,\n      isOpen: isOpen && !isContentEmpty,\n      onClose: this.handleOverlayClose,\n      onClosed: this.props.onClosed,\n      onClosing: this.props.onClosing,\n      onOpened: this.props.onOpened,\n      onOpening: this.props.onOpening,\n      transitionDuration: this.props.transitionDuration,\n      transitionName: Classes.POPOVER,\n      usePortal: this.props.usePortal,\n      portalContainer: this.props.portalContainer\n    }, React.createElement(Popper, {\n      innerRef: this.refHandlers.popover,\n      placement: positionToPlacement(this.props.position),\n      modifiers: this.getPopperModifiers()\n    }, this.renderPopover)));\n    return React.createElement(Manager, null, wrapper);\n  };\n\n  Popover.prototype.componentDidMount = function () {\n    this.updateDarkParent();\n  };\n\n  Popover.prototype.componentDidUpdate = function (_, __, snapshot) {\n    _super.prototype.componentDidUpdate.call(this, _, __, snapshot);\n\n    this.updateDarkParent();\n    var nextIsOpen = this.getIsOpen(this.props);\n\n    if (this.props.isOpen != null && nextIsOpen !== this.state.isOpen) {\n      this.setOpenState(nextIsOpen); // tricky: setOpenState calls setState only if this.props.isOpen is\n      // not controlled, so we need to invoke setState manually here.\n\n      this.setState({\n        isOpen: nextIsOpen\n      });\n    } else if (this.props.disabled && this.state.isOpen && this.props.isOpen == null) {\n      // special case: close an uncontrolled popover when disabled is set to true\n      this.setOpenState(false);\n    }\n  };\n\n  Popover.prototype.validateProps = function (props) {\n    if (props.isOpen == null && props.onInteraction != null) {\n      console.warn(Errors.POPOVER_WARN_UNCONTROLLED_ONINTERACTION);\n    }\n\n    if (props.hasBackdrop && !props.usePortal) {\n      console.warn(Errors.POPOVER_WARN_HAS_BACKDROP_INLINE);\n    }\n\n    if (props.hasBackdrop && props.interactionKind !== PopoverInteractionKind.CLICK) {\n      throw new Error(Errors.POPOVER_HAS_BACKDROP_INTERACTION);\n    }\n\n    var childrenCount = React.Children.count(props.children);\n    var hasContentProp = props.content !== undefined;\n    var hasTargetProp = props.target !== undefined;\n\n    if (childrenCount === 0 && !hasTargetProp) {\n      throw new Error(Errors.POPOVER_REQUIRES_TARGET);\n    }\n\n    if (childrenCount > 2) {\n      console.warn(Errors.POPOVER_WARN_TOO_MANY_CHILDREN);\n    }\n\n    if (childrenCount > 0 && hasTargetProp) {\n      console.warn(Errors.POPOVER_WARN_DOUBLE_TARGET);\n    }\n\n    if (childrenCount === 2 && hasContentProp) {\n      console.warn(Errors.POPOVER_WARN_DOUBLE_CONTENT);\n    }\n  };\n\n  Popover.prototype.updateDarkParent = function () {\n    if (this.props.usePortal && this.state.isOpen) {\n      var hasDarkParent = this.targetElement != null && this.targetElement.closest(\".\" + Classes.DARK) != null;\n      this.setState({\n        hasDarkParent: hasDarkParent\n      });\n    }\n  }; // content and target can be specified as props or as children. this method\n  // normalizes the two approaches, preferring child over prop.\n\n\n  Popover.prototype.understandChildren = function () {\n    var _a = this.props,\n        children = _a.children,\n        contentProp = _a.content,\n        targetProp = _a.target; // #validateProps asserts that 1 <= children.length <= 2 so content is optional\n\n    var _b = React.Children.toArray(children),\n        targetChild = _b[0],\n        contentChild = _b[1];\n\n    return {\n      content: contentChild == null ? contentProp : contentChild,\n      target: targetChild == null ? targetProp : targetChild\n    };\n  };\n\n  Popover.prototype.getIsOpen = function (props) {\n    // disabled popovers should never be allowed to open.\n    if (props.disabled) {\n      return false;\n    } else if (props.isOpen != null) {\n      return props.isOpen;\n    } else {\n      return props.defaultIsOpen;\n    }\n  };\n\n  Popover.prototype.getPopperModifiers = function () {\n    var _a = this.props,\n        boundary = _a.boundary,\n        modifiers = _a.modifiers;\n    var _b = modifiers.flip,\n        flip = _b === void 0 ? {} : _b,\n        _c = modifiers.preventOverflow,\n        preventOverflow = _c === void 0 ? {} : _c;\n    return tslib_1.__assign({}, modifiers, {\n      arrowOffset: {\n        enabled: this.isArrowEnabled(),\n        fn: arrowOffsetModifier,\n        order: 510\n      },\n      flip: tslib_1.__assign({\n        boundariesElement: boundary\n      }, flip),\n      preventOverflow: tslib_1.__assign({\n        boundariesElement: boundary\n      }, preventOverflow),\n      updatePopoverState: {\n        enabled: true,\n        fn: this.updatePopoverState,\n        order: 900\n      }\n    });\n  }; // a wrapper around setState({isOpen}) that will call props.onInteraction instead when in controlled mode.\n  // starts a timeout to delay changing the state if a non-zero duration is provided.\n\n\n  Popover.prototype.setOpenState = function (isOpen, e, timeout) {\n    var _this = this; // cancel any existing timeout because we have new state\n\n\n    Utils.safeInvoke(this.cancelOpenTimeout);\n\n    if (timeout > 0) {\n      this.cancelOpenTimeout = this.setTimeout(function () {\n        return _this.setOpenState(isOpen, e);\n      }, timeout);\n    } else {\n      if (this.props.isOpen == null) {\n        this.setState({\n          isOpen: isOpen\n        });\n      } else {\n        Utils.safeInvoke(this.props.onInteraction, isOpen, e);\n      }\n\n      if (!isOpen) {\n        Utils.safeInvoke(this.props.onClose, e);\n      }\n    }\n  };\n\n  Popover.prototype.isArrowEnabled = function () {\n    var _a = this.props,\n        minimal = _a.minimal,\n        arrow = _a.modifiers.arrow; // omitting `arrow` from `modifiers` uses Popper default, which does show an arrow.\n\n    return !minimal && (arrow == null || arrow.enabled);\n  };\n\n  Popover.prototype.isElementInPopover = function (element) {\n    return this.popoverElement != null && this.popoverElement.contains(element);\n  };\n\n  Popover.prototype.isHoverInteractionKind = function () {\n    return this.props.interactionKind === PopoverInteractionKind.HOVER || this.props.interactionKind === PopoverInteractionKind.HOVER_TARGET_ONLY;\n  };\n\n  Popover.displayName = DISPLAYNAME_PREFIX + \".Popover\";\n  Popover.defaultProps = {\n    boundary: \"scrollParent\",\n    captureDismiss: false,\n    defaultIsOpen: false,\n    disabled: false,\n    fill: false,\n    hasBackdrop: false,\n    hoverCloseDelay: 300,\n    hoverOpenDelay: 150,\n    inheritDarkTheme: true,\n    interactionKind: PopoverInteractionKind.CLICK,\n    minimal: false,\n    modifiers: {},\n    openOnTargetFocus: true,\n    position: \"auto\",\n    targetTagName: \"span\",\n    transitionDuration: 300,\n    usePortal: true,\n    wrapperTagName: \"span\"\n  };\n  Popover = tslib_1.__decorate([polyfill], Popover);\n  return Popover;\n}(AbstractPureComponent2);\n\nexport { Popover };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Popover, PopoverInteractionKind } from \"../popover/popover\";\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Tooltip, _super);\n\n  function Tooltip() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.popover = null;\n    return _this;\n  }\n\n  Tooltip.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        children = _a.children,\n        intent = _a.intent,\n        popoverClassName = _a.popoverClassName,\n        restProps = tslib_1.__rest(_a, [\"children\", \"intent\", \"popoverClassName\"]);\n\n    var classes = classNames(Classes.TOOLTIP, Classes.intentClass(intent), popoverClassName);\n    return React.createElement(Popover, tslib_1.__assign({\n      interactionKind: PopoverInteractionKind.HOVER_TARGET_ONLY\n    }, restProps, {\n      autoFocus: false,\n      canEscapeKeyClose: false,\n      enforceFocus: false,\n      lazy: true,\n      popoverClassName: classes,\n      portalContainer: this.props.portalContainer,\n      ref: function ref(_ref) {\n        return _this.popover = _ref;\n      }\n    }), children);\n  };\n\n  Tooltip.prototype.reposition = function () {\n    if (this.popover != null) {\n      this.popover.reposition();\n    }\n  };\n\n  Tooltip.displayName = DISPLAYNAME_PREFIX + \".Tooltip\";\n  Tooltip.defaultProps = {\n    hoverCloseDelay: 0,\n    hoverOpenDelay: 100,\n    transitionDuration: 100\n  };\n  Tooltip = tslib_1.__decorate([polyfill], Tooltip);\n  return Tooltip;\n}(AbstractPureComponent2);\n\nexport { Tooltip };","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Boundary of a one-dimensional interval. */\nexport var Boundary = {\n  START: \"start\",\n  // tslint:disable-next-line:object-literal-sort-keys\n  END: \"end\"\n};","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { BLOCKQUOTE, CODE, CODE_BLOCK, HEADING, LABEL, LIST } from \"../../common/classes\";\n\nfunction htmlElement(tagName, tagClassName) {\n  return function (props) {\n    var className = props.className,\n        elementRef = props.elementRef,\n        htmlProps = tslib_1.__rest(props, [\"className\", \"elementRef\"]);\n\n    return React.createElement(tagName, tslib_1.__assign({}, htmlProps, {\n      className: classNames(tagClassName, className),\n      ref: elementRef\n    }));\n  };\n} // the following components are linted by blueprint-html-components because\n// they should rarely be used without the Blueprint classes/styles:\n\n\nexport var H1 = htmlElement(\"h1\", HEADING);\nexport var H2 = htmlElement(\"h2\", HEADING);\nexport var H3 = htmlElement(\"h3\", HEADING);\nexport var H4 = htmlElement(\"h4\", HEADING);\nexport var H5 = htmlElement(\"h5\", HEADING);\nexport var H6 = htmlElement(\"h6\", HEADING);\nexport var Blockquote = htmlElement(\"blockquote\", BLOCKQUOTE);\nexport var Code = htmlElement(\"code\", CODE);\nexport var Pre = htmlElement(\"pre\", CODE_BLOCK);\nexport var Label = htmlElement(\"label\", LABEL); // these two are not linted by blueprint-html-components because there are valid\n// uses of these elements without Blueprint styles:\n\nexport var OL = htmlElement(\"ol\", LIST);\nexport var UL = htmlElement(\"ul\", LIST);","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { Boundary } from \"../../common/boundary\";\nimport * as Classes from \"../../common/classes\";\nimport { OVERFLOW_LIST_OBSERVE_PARENTS_CHANGED } from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { safeInvoke, shallowCompareKeys } from \"../../common/utils\";\nimport { ResizeSensor } from \"../resize-sensor/resizeSensor\";\n/** @internal - do not expose this type */\n\nexport var OverflowDirection;\n\n(function (OverflowDirection) {\n  OverflowDirection[OverflowDirection[\"NONE\"] = 0] = \"NONE\";\n  OverflowDirection[OverflowDirection[\"GROW\"] = 1] = \"GROW\";\n  OverflowDirection[OverflowDirection[\"SHRINK\"] = 2] = \"SHRINK\";\n})(OverflowDirection || (OverflowDirection = {}));\n\nvar OverflowList =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(OverflowList, _super);\n\n  function OverflowList() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      direction: OverflowDirection.NONE,\n      lastOverflowCount: 0,\n      overflow: [],\n      visible: _this.props.items\n    };\n    /** A cache containing the widths of all elements being observed to detect growing/shrinking */\n\n    _this.previousWidths = new Map();\n    _this.spacer = null;\n\n    _this.resize = function (entries) {\n      // if any parent is growing, assume we have more room than before\n      var growing = entries.some(function (entry) {\n        var previousWidth = _this.previousWidths.get(entry.target) || 0;\n        return entry.contentRect.width > previousWidth;\n      });\n\n      _this.repartition(growing);\n\n      entries.forEach(function (entry) {\n        return _this.previousWidths.set(entry.target, entry.contentRect.width);\n      });\n    };\n\n    return _this;\n  }\n\n  OverflowList.ofType = function () {\n    return OverflowList;\n  };\n\n  OverflowList.prototype.componentDidMount = function () {\n    this.repartition(false);\n  };\n\n  OverflowList.prototype.shouldComponentUpdate = function (_nextProps, nextState) {\n    // We want this component to always re-render, even when props haven't changed, so that\n    // changes in the renderers' behavior can be reflected.\n    // The following statement prevents re-rendering only in the case where the state changes\n    // identity (i.e. setState was called), but the state is still the same when\n    // shallow-compared to the previous state.\n    return !(this.state !== nextState && shallowCompareKeys(this.state, nextState));\n  };\n\n  OverflowList.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (prevProps.observeParents !== this.props.observeParents) {\n      console.warn(OVERFLOW_LIST_OBSERVE_PARENTS_CHANGED);\n    }\n\n    if (prevProps.collapseFrom !== this.props.collapseFrom || prevProps.items !== this.props.items || prevProps.minVisibleItems !== this.props.minVisibleItems || prevProps.overflowRenderer !== this.props.overflowRenderer || prevProps.visibleItemRenderer !== this.props.visibleItemRenderer) {\n      // reset visible state if the above props change.\n      this.setState({\n        direction: OverflowDirection.GROW,\n        lastOverflowCount: 0,\n        overflow: [],\n        visible: this.props.items\n      });\n    }\n\n    if (!shallowCompareKeys(prevState, this.state)) {\n      this.repartition(false);\n    }\n\n    var _a = this.state,\n        direction = _a.direction,\n        overflow = _a.overflow,\n        lastOverflowCount = _a.lastOverflowCount;\n\n    if ( // if a resize operation has just completed (transition to NONE)\n    direction === OverflowDirection.NONE && direction !== prevState.direction && overflow.length !== lastOverflowCount) {\n      safeInvoke(this.props.onOverflow, overflow);\n    }\n  };\n\n  OverflowList.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        className = _a.className,\n        collapseFrom = _a.collapseFrom,\n        observeParents = _a.observeParents,\n        style = _a.style,\n        _b = _a.tagName,\n        tagName = _b === void 0 ? \"div\" : _b,\n        visibleItemRenderer = _a.visibleItemRenderer;\n    var overflow = this.maybeRenderOverflow();\n    var list = React.createElement(tagName, {\n      className: classNames(Classes.OVERFLOW_LIST, className),\n      style: style\n    }, collapseFrom === Boundary.START ? overflow : null, this.state.visible.map(visibleItemRenderer), collapseFrom === Boundary.END ? overflow : null, React.createElement(\"div\", {\n      className: Classes.OVERFLOW_LIST_SPACER,\n      ref: function ref(_ref) {\n        return _this.spacer = _ref;\n      }\n    }));\n    return React.createElement(ResizeSensor, {\n      onResize: this.resize,\n      observeParents: observeParents\n    }, list);\n  };\n\n  OverflowList.prototype.maybeRenderOverflow = function () {\n    var overflow = this.state.overflow;\n\n    if (overflow.length === 0) {\n      return null;\n    }\n\n    return this.props.overflowRenderer(overflow);\n  };\n\n  OverflowList.prototype.repartition = function (growing) {\n    var _this = this;\n\n    if (this.spacer == null) {\n      return;\n    }\n\n    if (growing) {\n      this.setState(function (state) {\n        return {\n          direction: OverflowDirection.GROW,\n          // store last overflow if this is the beginning of a resize (for check in componentDidUpdate).\n          lastOverflowCount: state.direction === OverflowDirection.NONE ? state.overflow.length : state.lastOverflowCount,\n          overflow: [],\n          visible: _this.props.items\n        };\n      });\n    } else if (this.spacer.getBoundingClientRect().width < 0.9) {\n      // spacer has flex-shrink and width 1px so if it's much smaller then we know to shrink\n      this.setState(function (state) {\n        if (state.visible.length <= _this.props.minVisibleItems) {\n          return null;\n        }\n\n        var collapseFromStart = _this.props.collapseFrom === Boundary.START;\n        var visible = state.visible.slice();\n        var next = collapseFromStart ? visible.shift() : visible.pop();\n\n        if (next === undefined) {\n          return null;\n        }\n\n        var overflow = collapseFromStart ? state.overflow.concat([next]) : [next].concat(state.overflow);\n        return {\n          // set SHRINK mode unless a GROW is already in progress.\n          // GROW shows all items then shrinks until it settles, so we\n          // preserve the fact that the original trigger was a GROW.\n          direction: state.direction === OverflowDirection.NONE ? OverflowDirection.SHRINK : state.direction,\n          overflow: overflow,\n          visible: visible\n        };\n      });\n    } else {\n      // repartition complete!\n      this.setState({\n        direction: OverflowDirection.NONE\n      });\n    }\n  };\n\n  OverflowList.displayName = DISPLAYNAME_PREFIX + \".OverflowList\";\n  OverflowList.defaultProps = {\n    collapseFrom: Boundary.START,\n    minVisibleItems: 0\n  };\n  return OverflowList;\n}(React.Component);\n\nexport { OverflowList };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport * as Classes from \"../../common/classes\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { H6 } from \"../html/html\";\n\nvar MenuDivider =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(MenuDivider, _super);\n\n  function MenuDivider() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MenuDivider.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        title = _a.title;\n\n    if (title == null) {\n      // simple divider\n      return React.createElement(\"li\", {\n        className: classNames(Classes.MENU_DIVIDER, className)\n      });\n    } else {\n      // section header with title\n      return React.createElement(\"li\", {\n        className: classNames(Classes.MENU_HEADER, className)\n      }, React.createElement(H6, null, title));\n    }\n  };\n\n  MenuDivider.displayName = DISPLAYNAME_PREFIX + \".MenuDivider\";\n  return MenuDivider;\n}(React.Component);\n\nexport { MenuDivider };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\n\nvar Text =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Text, _super);\n\n  function Text() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isContentOverflowing: false,\n      textContent: \"\"\n    };\n    _this.textRef = null;\n    return _this;\n  }\n\n  Text.prototype.componentDidMount = function () {\n    this.update();\n  };\n\n  Text.prototype.componentDidUpdate = function () {\n    this.update();\n  };\n\n  Text.prototype.render = function () {\n    var _a;\n\n    var _this = this;\n\n    var classes = classNames((_a = {}, _a[Classes.TEXT_OVERFLOW_ELLIPSIS] = this.props.ellipsize, _a), this.props.className);\n    var _b = this.props,\n        children = _b.children,\n        _c = _b.tagName,\n        tagName = _c === void 0 ? \"div\" : _c;\n    return React.createElement(tagName, {\n      className: classes,\n      ref: function ref(_ref) {\n        return _this.textRef = _ref;\n      },\n      title: this.state.isContentOverflowing ? this.state.textContent : undefined\n    }, children);\n  };\n\n  Text.prototype.update = function () {\n    if (this.textRef == null) {\n      return;\n    }\n\n    var newState = {\n      isContentOverflowing: this.props.ellipsize && this.textRef.scrollWidth > this.textRef.clientWidth,\n      textContent: this.textRef.textContent\n    };\n    this.setState(newState);\n  };\n\n  Text.displayName = DISPLAYNAME_PREFIX + \".Text\";\n  Text = tslib_1.__decorate([polyfill], Text);\n  return Text;\n}(AbstractPureComponent2);\n\nexport { Text };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, Position } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Icon } from \"../icon/icon\";\nimport { Popover, PopoverInteractionKind } from \"../popover/popover\";\nimport { Text } from \"../text/text\";\nimport { Menu } from \"./menu\";\n\nvar MenuItem =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(MenuItem, _super);\n\n  function MenuItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MenuItem.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        active = _c.active,\n        className = _c.className,\n        children = _c.children,\n        disabled = _c.disabled,\n        icon = _c.icon,\n        intent = _c.intent,\n        labelClassName = _c.labelClassName,\n        labelElement = _c.labelElement,\n        multiline = _c.multiline,\n        popoverProps = _c.popoverProps,\n        shouldDismissPopover = _c.shouldDismissPopover,\n        text = _c.text,\n        textClassName = _c.textClassName,\n        _d = _c.tagName,\n        tagName = _d === void 0 ? \"a\" : _d,\n        htmlProps = tslib_1.__rest(_c, [\"active\", \"className\", \"children\", \"disabled\", \"icon\", \"intent\", \"labelClassName\", \"labelElement\", \"multiline\", \"popoverProps\", \"shouldDismissPopover\", \"text\", \"textClassName\", \"tagName\"]);\n\n    var hasSubmenu = children != null;\n    var intentClass = Classes.intentClass(intent);\n    var anchorClasses = classNames(Classes.MENU_ITEM, intentClass, (_a = {}, _a[Classes.ACTIVE] = active, _a[Classes.INTENT_PRIMARY] = active && intentClass == null, _a[Classes.DISABLED] = disabled, // prevent popover from closing when clicking on submenu trigger or disabled item\n    _a[Classes.POPOVER_DISMISS] = shouldDismissPopover && !disabled && !hasSubmenu, _a), className);\n    var target = React.createElement(tagName, tslib_1.__assign({}, htmlProps, disabled ? DISABLED_PROPS : {}, {\n      className: anchorClasses\n    }), React.createElement(Icon, {\n      icon: icon\n    }), React.createElement(Text, {\n      className: classNames(Classes.FILL, textClassName),\n      ellipsize: !multiline\n    }, text), this.maybeRenderLabel(labelElement), hasSubmenu ? React.createElement(Icon, {\n      icon: \"caret-right\"\n    }) : undefined);\n    var liClasses = classNames((_b = {}, _b[Classes.MENU_SUBMENU] = hasSubmenu, _b));\n    return React.createElement(\"li\", {\n      className: liClasses\n    }, this.maybeRenderPopover(target, children));\n  };\n\n  MenuItem.prototype.maybeRenderLabel = function (labelElement) {\n    var _a = this.props,\n        label = _a.label,\n        labelClassName = _a.labelClassName;\n\n    if (label == null && labelElement == null) {\n      return null;\n    }\n\n    return React.createElement(\"span\", {\n      className: classNames(Classes.MENU_ITEM_LABEL, labelClassName)\n    }, label, labelElement);\n  };\n\n  MenuItem.prototype.maybeRenderPopover = function (target, children) {\n    if (children == null) {\n      return target;\n    }\n\n    var _a = this.props,\n        disabled = _a.disabled,\n        popoverProps = _a.popoverProps;\n    return React.createElement(Popover, tslib_1.__assign({\n      autoFocus: false,\n      captureDismiss: false,\n      disabled: disabled,\n      enforceFocus: false,\n      hoverCloseDelay: 0,\n      interactionKind: PopoverInteractionKind.HOVER,\n      modifiers: SUBMENU_POPOVER_MODIFIERS,\n      position: Position.RIGHT_TOP,\n      usePortal: false\n    }, popoverProps, {\n      content: React.createElement(Menu, null, children),\n      minimal: true,\n      popoverClassName: classNames(Classes.MENU_SUBMENU, popoverProps.popoverClassName),\n      target: target\n    }));\n  };\n\n  MenuItem.defaultProps = {\n    disabled: false,\n    multiline: false,\n    popoverProps: {},\n    shouldDismissPopover: true,\n    text: \"\"\n  };\n  MenuItem.displayName = DISPLAYNAME_PREFIX + \".MenuItem\";\n  MenuItem = tslib_1.__decorate([polyfill], MenuItem);\n  return MenuItem;\n}(AbstractPureComponent2);\n\nexport { MenuItem };\nvar SUBMENU_POPOVER_MODIFIERS = {\n  // 20px padding - scrollbar width + a bit\n  flip: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  },\n  // shift popover up 5px so MenuItems align\n  offset: {\n    offset: -5\n  },\n  preventOverflow: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  }\n}; // props to ignore when disabled\n\nvar DISABLED_PROPS = {\n  href: undefined,\n  onClick: undefined,\n  onMouseDown: undefined,\n  onMouseEnter: undefined,\n  onMouseLeave: undefined,\n  tabIndex: -1\n};","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { MenuDivider } from \"./menuDivider\";\nimport { MenuItem } from \"./menuItem\";\n\nvar Menu =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Menu, _super);\n\n  function Menu() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Menu.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        className = _b.className,\n        children = _b.children,\n        large = _b.large,\n        ulRef = _b.ulRef,\n        htmlProps = tslib_1.__rest(_b, [\"className\", \"children\", \"large\", \"ulRef\"]);\n\n    var classes = classNames(Classes.MENU, (_a = {}, _a[Classes.LARGE] = large, _a), className);\n    return React.createElement(\"ul\", tslib_1.__assign({}, htmlProps, {\n      className: classes,\n      ref: ulRef\n    }), children);\n  };\n\n  Menu.displayName = DISPLAYNAME_PREFIX + \".Menu\";\n  Menu.Divider = MenuDivider;\n  Menu.Item = MenuItem;\n  Menu = tslib_1.__decorate([polyfill], Menu);\n  return Menu;\n}(AbstractPureComponent2);\n\nexport { Menu };","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Boundary, Classes, Position } from \"../../common\";\nimport { Menu } from \"../menu/menu\";\nimport { MenuItem } from \"../menu/menuItem\";\nimport { OverflowList } from \"../overflow-list/overflowList\";\nimport { Popover } from \"../popover/popover\";\nimport { Breadcrumb } from \"./breadcrumb\";\n\nvar Breadcrumbs =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Breadcrumbs, _super);\n\n  function Breadcrumbs() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.renderOverflow = function (items) {\n      var collapseFrom = _this.props.collapseFrom;\n      var position = collapseFrom === Boundary.END ? Position.BOTTOM_RIGHT : Position.BOTTOM_LEFT;\n      var orderedItems = items;\n\n      if (collapseFrom === Boundary.START) {\n        // If we're collapsing from the start, the menu should be read from the bottom to the\n        // top, continuing with the breadcrumbs to the right. Since this means the first\n        // breadcrumb in the props must be the last in the menu, we need to reverse the overlow\n        // order.\n        orderedItems = items.slice().reverse();\n      }\n\n      return React.createElement(\"li\", null, React.createElement(Popover, tslib_1.__assign({\n        position: position\n      }, _this.props.popoverProps), React.createElement(\"span\", {\n        className: Classes.BREADCRUMBS_COLLAPSED\n      }), React.createElement(Menu, null, orderedItems.map(_this.renderOverflowBreadcrumb))));\n    };\n\n    _this.renderOverflowBreadcrumb = function (props, index) {\n      var isClickable = props.href != null || props.onClick != null;\n      return React.createElement(MenuItem, tslib_1.__assign({\n        disabled: !isClickable\n      }, props, {\n        text: props.text,\n        key: index\n      }));\n    };\n\n    _this.renderBreadcrumbWrapper = function (props, index) {\n      var isCurrent = _this.props.items[_this.props.items.length - 1] === props;\n      return React.createElement(\"li\", {\n        key: index\n      }, _this.renderBreadcrumb(props, isCurrent));\n    };\n\n    return _this;\n  }\n\n  Breadcrumbs.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        collapseFrom = _a.collapseFrom,\n        items = _a.items,\n        minVisibleItems = _a.minVisibleItems,\n        _b = _a.overflowListProps,\n        overflowListProps = _b === void 0 ? {} : _b;\n    return React.createElement(OverflowList, tslib_1.__assign({\n      collapseFrom: collapseFrom,\n      minVisibleItems: minVisibleItems,\n      tagName: \"ul\"\n    }, overflowListProps, {\n      className: classNames(Classes.BREADCRUMBS, overflowListProps.className, className),\n      items: items,\n      overflowRenderer: this.renderOverflow,\n      visibleItemRenderer: this.renderBreadcrumbWrapper\n    }));\n  };\n\n  Breadcrumbs.prototype.renderBreadcrumb = function (props, isCurrent) {\n    if (isCurrent && this.props.currentBreadcrumbRenderer != null) {\n      return this.props.currentBreadcrumbRenderer(props);\n    } else if (this.props.breadcrumbRenderer != null) {\n      return this.props.breadcrumbRenderer(props);\n    } else {\n      return React.createElement(Breadcrumb, tslib_1.__assign({}, props, {\n        current: isCurrent\n      }));\n    }\n  };\n\n  Breadcrumbs.defaultProps = {\n    collapseFrom: Boundary.START\n  };\n  Breadcrumbs = tslib_1.__decorate([polyfill], Breadcrumbs);\n  return Breadcrumbs;\n}(AbstractPureComponent2);\n\nexport { Breadcrumbs };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { SPINNER_WARN_CLASSES_SIZE } from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { clamp } from \"../../common/utils\"; // see http://stackoverflow.com/a/18473154/3124288 for calculating arc path\n\nvar R = 45;\nvar SPINNER_TRACK = \"M 50,50 m 0,-\" + R + \" a \" + R + \",\" + R + \" 0 1 1 0,\" + R * 2 + \" a \" + R + \",\" + R + \" 0 1 1 0,-\" + R * 2; // unitless total length of SVG path, to which stroke-dash* properties are relative.\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/pathLength\n// this value is the result of `<path d={SPINNER_TRACK} />.getTotalLength()` and works in all browsers:\n\nvar PATH_LENGTH = 280;\nvar MIN_SIZE = 10;\nvar STROKE_WIDTH = 4;\nvar MIN_STROKE_WIDTH = 16;\n\nvar Spinner =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Spinner, _super);\n\n  function Spinner() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Spinner_1 = Spinner;\n\n  Spinner.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.value !== this.props.value) {\n      // IE/Edge: re-render after changing value to force SVG update\n      this.forceUpdate();\n    }\n  };\n\n  Spinner.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        className = _b.className,\n        intent = _b.intent,\n        value = _b.value,\n        _c = _b.tagName,\n        tagName = _c === void 0 ? \"div\" : _c;\n    var size = this.getSize();\n    var classes = classNames(Classes.SPINNER, Classes.intentClass(intent), (_a = {}, _a[Classes.SPINNER_NO_SPIN] = value != null, _a), className); // keep spinner track width consistent at all sizes (down to about 10px).\n\n    var strokeWidth = Math.min(MIN_STROKE_WIDTH, STROKE_WIDTH * Spinner_1.SIZE_LARGE / size);\n    var strokeOffset = PATH_LENGTH - PATH_LENGTH * (value == null ? 0.25 : clamp(value, 0, 1)); // multiple DOM elements around SVG are necessary to properly isolate animation:\n    // - SVG elements in IE do not support anim/trans so they must be set on a parent HTML element.\n    // - SPINNER_ANIMATION isolates svg from parent display and is always centered inside root element.\n\n    return React.createElement(tagName, {\n      className: classes\n    }, React.createElement(tagName, {\n      className: Classes.SPINNER_ANIMATION\n    }, React.createElement(\"svg\", {\n      width: size,\n      height: size,\n      strokeWidth: strokeWidth.toFixed(2),\n      viewBox: this.getViewBox(strokeWidth)\n    }, React.createElement(\"path\", {\n      className: Classes.SPINNER_TRACK,\n      d: SPINNER_TRACK\n    }), React.createElement(\"path\", {\n      className: Classes.SPINNER_HEAD,\n      d: SPINNER_TRACK,\n      pathLength: PATH_LENGTH,\n      strokeDasharray: PATH_LENGTH + \" \" + PATH_LENGTH,\n      strokeDashoffset: strokeOffset\n    }))));\n  };\n\n  Spinner.prototype.validateProps = function (_a) {\n    var _b = _a.className,\n        className = _b === void 0 ? \"\" : _b,\n        size = _a.size;\n\n    if (size != null && (className.indexOf(Classes.SMALL) >= 0 || className.indexOf(Classes.LARGE) >= 0)) {\n      console.warn(SPINNER_WARN_CLASSES_SIZE);\n    }\n  };\n  /**\n   * Resolve size to a pixel value.\n   * Size can be set by className, props, default, or minimum constant.\n   */\n\n\n  Spinner.prototype.getSize = function () {\n    var _a = this.props,\n        _b = _a.className,\n        className = _b === void 0 ? \"\" : _b,\n        size = _a.size;\n\n    if (size == null) {\n      // allow Classes constants to determine default size.\n      if (className.indexOf(Classes.SMALL) >= 0) {\n        return Spinner_1.SIZE_SMALL;\n      } else if (className.indexOf(Classes.LARGE) >= 0) {\n        return Spinner_1.SIZE_LARGE;\n      }\n\n      return Spinner_1.SIZE_STANDARD;\n    }\n\n    return Math.max(MIN_SIZE, size);\n  };\n  /** Compute viewbox such that stroked track sits exactly at edge of image frame. */\n\n\n  Spinner.prototype.getViewBox = function (strokeWidth) {\n    var radius = R + strokeWidth / 2;\n    var viewBoxX = (50 - radius).toFixed(2);\n    var viewBoxWidth = (radius * 2).toFixed(2);\n    return viewBoxX + \" \" + viewBoxX + \" \" + viewBoxWidth + \" \" + viewBoxWidth;\n  };\n\n  var Spinner_1;\n  Spinner.displayName = DISPLAYNAME_PREFIX + \".Spinner\";\n  Spinner.SIZE_SMALL = 20;\n  Spinner.SIZE_STANDARD = 50;\n  Spinner.SIZE_LARGE = 100;\n  Spinner = Spinner_1 = tslib_1.__decorate([polyfill], Spinner);\n  return Spinner;\n}(AbstractPureComponent2);\n\nexport { Spinner };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, Classes, Keys, Utils } from \"../../common\";\nimport { Icon } from \"../icon/icon\";\nimport { Spinner } from \"../spinner/spinner\";\n\nvar AbstractButton =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(AbstractButton, _super);\n\n  function AbstractButton() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isActive: false\n    };\n    _this.refHandlers = {\n      button: function button(ref) {\n        _this.buttonRef = ref;\n        Utils.safeInvoke(_this.props.elementRef, ref);\n      }\n    };\n    _this.currentKeyDown = null; // we're casting as `any` to get around a somewhat opaque safeInvoke error\n    // that \"Type argument candidate 'KeyboardEvent<T>' is not a valid type\n    // argument because it is not a supertype of candidate\n    // 'KeyboardEvent<HTMLElement>'.\"\n\n    _this.handleKeyDown = function (e) {\n      if (Keys.isKeyboardClick(e.which)) {\n        e.preventDefault();\n\n        if (e.which !== _this.currentKeyDown) {\n          _this.setState({\n            isActive: true\n          });\n        }\n      }\n\n      _this.currentKeyDown = e.which;\n      Utils.safeInvoke(_this.props.onKeyDown, e);\n    };\n\n    _this.handleKeyUp = function (e) {\n      if (Keys.isKeyboardClick(e.which)) {\n        _this.setState({\n          isActive: false\n        });\n\n        _this.buttonRef.click();\n      }\n\n      _this.currentKeyDown = null;\n      Utils.safeInvoke(_this.props.onKeyUp, e);\n    };\n\n    return _this;\n  }\n\n  AbstractButton.prototype.getCommonButtonProps = function () {\n    var _a;\n\n    var _b = this.props,\n        alignText = _b.alignText,\n        fill = _b.fill,\n        large = _b.large,\n        loading = _b.loading,\n        minimal = _b.minimal,\n        small = _b.small,\n        tabIndex = _b.tabIndex;\n    var disabled = this.props.disabled || loading;\n    var className = classNames(Classes.BUTTON, (_a = {}, _a[Classes.ACTIVE] = this.state.isActive || this.props.active, _a[Classes.DISABLED] = disabled, _a[Classes.FILL] = fill, _a[Classes.LARGE] = large, _a[Classes.LOADING] = loading, _a[Classes.MINIMAL] = minimal, _a[Classes.SMALL] = small, _a), Classes.alignmentClass(alignText), Classes.intentClass(this.props.intent), this.props.className);\n    return {\n      className: className,\n      disabled: disabled,\n      onClick: disabled ? undefined : this.props.onClick,\n      onKeyDown: this.handleKeyDown,\n      onKeyUp: this.handleKeyUp,\n      ref: this.refHandlers.button,\n      tabIndex: disabled ? -1 : tabIndex\n    };\n  };\n\n  AbstractButton.prototype.renderChildren = function () {\n    var _a = this.props,\n        children = _a.children,\n        icon = _a.icon,\n        loading = _a.loading,\n        rightIcon = _a.rightIcon,\n        text = _a.text;\n    return [loading && React.createElement(Spinner, {\n      key: \"loading\",\n      className: Classes.BUTTON_SPINNER,\n      size: Icon.SIZE_LARGE\n    }), React.createElement(Icon, {\n      key: \"leftIcon\",\n      icon: icon\n    }), (!Utils.isReactNodeEmpty(text) || !Utils.isReactNodeEmpty(children)) && React.createElement(\"span\", {\n      key: \"text\",\n      className: Classes.BUTTON_TEXT\n    }, text, children), React.createElement(Icon, {\n      key: \"rightIcon\",\n      icon: rightIcon\n    })];\n  };\n\n  return AbstractButton;\n}(AbstractPureComponent2);\n\nexport { AbstractButton };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\"; // HACKHACK: these components should go in separate files\n// tslint:disable max-classes-per-file\n\nimport * as React from \"react\";\nimport { DISPLAYNAME_PREFIX, removeNonHTMLProps } from \"../../common/props\";\nimport { AbstractButton } from \"./abstractButton\";\n\nvar Button =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Button, _super);\n\n  function Button() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Button.prototype.render = function () {\n    return React.createElement(\"button\", tslib_1.__assign({\n      type: \"button\"\n    }, removeNonHTMLProps(this.props), this.getCommonButtonProps()), this.renderChildren());\n  };\n\n  Button.displayName = DISPLAYNAME_PREFIX + \".Button\";\n  return Button;\n}(AbstractButton);\n\nexport { Button };\n\nvar AnchorButton =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(AnchorButton, _super);\n\n  function AnchorButton() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AnchorButton.prototype.render = function () {\n    var _a = this.props,\n        href = _a.href,\n        _b = _a.tabIndex,\n        tabIndex = _b === void 0 ? 0 : _b;\n    var commonProps = this.getCommonButtonProps();\n    return React.createElement(\"a\", tslib_1.__assign({\n      role: \"button\"\n    }, removeNonHTMLProps(this.props), commonProps, {\n      href: commonProps.disabled ? undefined : href,\n      tabIndex: commonProps.disabled ? -1 : tabIndex\n    }), this.renderChildren());\n  };\n\n  AnchorButton.displayName = DISPLAYNAME_PREFIX + \".AnchorButton\";\n  return AnchorButton;\n}(AbstractButton);\n\nexport { AnchorButton };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Button } from \"../button/buttons\";\nimport { H4 } from \"../html/html\";\nimport { Icon } from \"../icon/icon\";\nimport { Overlay } from \"../overlay/overlay\";\n\nvar Dialog =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Dialog, _super);\n\n  function Dialog() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Dialog.prototype.render = function () {\n    return React.createElement(Overlay, tslib_1.__assign({}, this.props, {\n      className: Classes.OVERLAY_SCROLL_CONTAINER,\n      hasBackdrop: true\n    }), React.createElement(\"div\", {\n      className: Classes.DIALOG_CONTAINER\n    }, React.createElement(\"div\", {\n      className: classNames(Classes.DIALOG, this.props.className),\n      style: this.props.style\n    }, this.maybeRenderHeader(), this.props.children)));\n  };\n\n  Dialog.prototype.validateProps = function (props) {\n    if (props.title == null) {\n      if (props.icon != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_ICON);\n      }\n\n      if (props.isCloseButtonShown != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_CLOSE_BUTTON);\n      }\n    }\n  };\n\n  Dialog.prototype.maybeRenderCloseButton = function () {\n    // show close button if prop is undefined or null\n    // this gives us a behavior as if the default value were `true`\n    if (this.props.isCloseButtonShown !== false) {\n      return React.createElement(Button, {\n        \"aria-label\": \"Close\",\n        className: Classes.DIALOG_CLOSE_BUTTON,\n        icon: React.createElement(Icon, {\n          icon: \"small-cross\",\n          iconSize: Icon.SIZE_LARGE\n        }),\n        minimal: true,\n        onClick: this.props.onClose\n      });\n    } else {\n      return undefined;\n    }\n  };\n\n  Dialog.prototype.maybeRenderHeader = function () {\n    var _a = this.props,\n        icon = _a.icon,\n        title = _a.title;\n\n    if (title == null) {\n      return undefined;\n    }\n\n    return React.createElement(\"div\", {\n      className: Classes.DIALOG_HEADER\n    }, React.createElement(Icon, {\n      icon: icon,\n      iconSize: Icon.SIZE_LARGE\n    }), React.createElement(H4, null, title), this.maybeRenderCloseButton());\n  };\n\n  Dialog.defaultProps = {\n    canOutsideClickClose: true,\n    isOpen: false\n  };\n  Dialog.displayName = DISPLAYNAME_PREFIX + \".Dialog\";\n  Dialog = tslib_1.__decorate([polyfill], Dialog);\n  return Dialog;\n}(AbstractPureComponent2);\n\nexport { Dialog };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2 } from \"../../common\";\nimport { DIVIDER } from \"../../common/classes\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\"; // this component is simple enough that tests would be purely tautological.\n\n/* istanbul ignore next */\n\nvar Divider =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Divider, _super);\n\n  function Divider() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Divider.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        _b = _a.tagName,\n        tagName = _b === void 0 ? \"div\" : _b,\n        htmlProps = tslib_1.__rest(_a, [\"className\", \"tagName\"]);\n\n    var classes = classNames(DIVIDER, className);\n    return React.createElement(tagName, tslib_1.__assign({}, htmlProps, {\n      className: classes\n    }));\n  };\n\n  Divider.displayName = DISPLAYNAME_PREFIX + \".Divider\";\n  Divider = tslib_1.__decorate([polyfill], Divider);\n  return Divider;\n}(AbstractPureComponent2);\n\nexport { Divider };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\"; // this component is simple enough that tests would be purely tautological.\n\n/* istanbul ignore next */\n\nvar ButtonGroup =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ButtonGroup, _super);\n\n  function ButtonGroup() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ButtonGroup.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        alignText = _b.alignText,\n        className = _b.className,\n        fill = _b.fill,\n        minimal = _b.minimal,\n        large = _b.large,\n        vertical = _b.vertical,\n        htmlProps = tslib_1.__rest(_b, [\"alignText\", \"className\", \"fill\", \"minimal\", \"large\", \"vertical\"]);\n\n    var buttonGroupClasses = classNames(Classes.BUTTON_GROUP, (_a = {}, _a[Classes.FILL] = fill, _a[Classes.LARGE] = large, _a[Classes.MINIMAL] = minimal, _a[Classes.VERTICAL] = vertical, _a), Classes.alignmentClass(alignText), className);\n    return React.createElement(\"div\", tslib_1.__assign({}, htmlProps, {\n      className: buttonGroupClasses\n    }), this.props.children);\n  };\n\n  ButtonGroup.displayName = DISPLAYNAME_PREFIX + \".ButtonGroup\";\n  ButtonGroup = tslib_1.__decorate([polyfill], ButtonGroup);\n  return ButtonGroup;\n}(AbstractPureComponent2);\n\nexport { ButtonGroup };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\"; // this component is simple enough that tests would be purely tautological.\n\n/* istanbul ignore next */\n\nvar ControlGroup =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ControlGroup, _super);\n\n  function ControlGroup() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ControlGroup.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        children = _b.children,\n        className = _b.className,\n        fill = _b.fill,\n        vertical = _b.vertical,\n        htmlProps = tslib_1.__rest(_b, [\"children\", \"className\", \"fill\", \"vertical\"]);\n\n    var rootClasses = classNames(Classes.CONTROL_GROUP, (_a = {}, _a[Classes.FILL] = fill, _a[Classes.VERTICAL] = vertical, _a), className);\n    return React.createElement(\"div\", tslib_1.__assign({}, htmlProps, {\n      className: rootClasses\n    }), children);\n  };\n\n  ControlGroup.displayName = DISPLAYNAME_PREFIX + \".ControlGroup\";\n  ControlGroup = tslib_1.__decorate([polyfill], ControlGroup);\n  return ControlGroup;\n}(AbstractPureComponent2);\n\nexport { ControlGroup };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX, removeNonHTMLProps } from \"../../common/props\";\nimport { Icon } from \"../icon/icon\";\nvar DEFAULT_RIGHT_ELEMENT_WIDTH = 10;\n\nvar InputGroup =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(InputGroup, _super);\n\n  function InputGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      rightElementWidth: DEFAULT_RIGHT_ELEMENT_WIDTH\n    };\n    _this.refHandlers = {\n      rightElement: function rightElement(ref) {\n        return _this.rightElement = ref;\n      }\n    };\n    return _this;\n  }\n\n  InputGroup.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        className = _b.className,\n        disabled = _b.disabled,\n        fill = _b.fill,\n        intent = _b.intent,\n        large = _b.large,\n        small = _b.small,\n        leftIcon = _b.leftIcon,\n        round = _b.round;\n    var classes = classNames(Classes.INPUT_GROUP, Classes.intentClass(intent), (_a = {}, _a[Classes.DISABLED] = disabled, _a[Classes.FILL] = fill, _a[Classes.LARGE] = large, _a[Classes.SMALL] = small, _a[Classes.ROUND] = round, _a), className);\n\n    var style = tslib_1.__assign({}, this.props.style, {\n      paddingRight: this.state.rightElementWidth\n    });\n\n    return React.createElement(\"div\", {\n      className: classes\n    }, React.createElement(Icon, {\n      icon: leftIcon\n    }), React.createElement(\"input\", tslib_1.__assign({\n      type: \"text\"\n    }, removeNonHTMLProps(this.props), {\n      className: Classes.INPUT,\n      ref: this.props.inputRef,\n      style: style\n    })), this.maybeRenderRightElement());\n  };\n\n  InputGroup.prototype.componentDidMount = function () {\n    if (this.rightElement != null) {\n      var clientWidth = this.rightElement.clientWidth; // small threshold to prevent infinite loops\n\n      if (Math.abs(clientWidth - this.state.rightElementWidth) > 2) {\n        this.setState({\n          rightElementWidth: clientWidth\n        });\n      }\n    }\n  };\n\n  InputGroup.prototype.maybeRenderRightElement = function () {\n    var rightElement = this.props.rightElement;\n\n    if (rightElement == null) {\n      return undefined;\n    }\n\n    return React.createElement(\"span\", {\n      className: Classes.INPUT_ACTION,\n      ref: this.refHandlers.rightElement\n    }, rightElement);\n  };\n\n  InputGroup.displayName = DISPLAYNAME_PREFIX + \".InputGroup\";\n  InputGroup = tslib_1.__decorate([polyfill], InputGroup);\n  return InputGroup;\n}(AbstractPureComponent2);\n\nexport { InputGroup };","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { clamp } from \"../../common/utils\";\nexport function clampValue(value, min, max) {\n  // defaultProps won't work if the user passes in null, so just default\n  // to +/- infinity here instead, as a catch-all.\n  var adjustedMin = min != null ? min : -Infinity;\n  var adjustedMax = max != null ? max : Infinity;\n  return clamp(value, adjustedMin, adjustedMax);\n}\nexport function getValueOrEmptyValue(value) {\n  if (value === void 0) {\n    value = \"\";\n  }\n\n  return value.toString();\n}\n/** Returns `true` if the string represents a valid numeric value, like \"1e6\". */\n\nexport function isValueNumeric(value) {\n  // checking if a string is numeric in Typescript is a big pain, because\n  // we can't simply toss a string parameter to isFinite. below is the\n  // essential approach that jQuery uses, which involves subtracting a\n  // parsed numeric value from the string representation of the value. we\n  // need to cast the value to the `any` type to allow this operation\n  // between dissimilar types.\n  return value != null && value - parseFloat(value) + 1 >= 0;\n}\nexport function isValidNumericKeyboardEvent(e) {\n  // unit tests may not include e.key. don't bother disabling those events.\n  if (e.key == null) {\n    return true;\n  } // allow modified key strokes that may involve letters and other\n  // non-numeric/invalid characters (Cmd + A, Cmd + C, Cmd + V, Cmd + X).\n\n\n  if (e.ctrlKey || e.altKey || e.metaKey) {\n    return true;\n  } // keys that print a single character when pressed have a `key` name of\n  // length 1. every other key has a longer `key` name (e.g. \"Backspace\",\n  // \"ArrowUp\", \"Shift\"). since none of those keys can print a character\n  // to the field--and since they may have important native behaviors\n  // beyond printing a character--we don't want to disable their effects.\n\n\n  var isSingleCharKey = e.key.length === 1;\n\n  if (!isSingleCharKey) {\n    return true;\n  } // now we can simply check that the single character that wants to be printed\n  // is a floating-point number character that we're allowed to print.\n\n\n  return isFloatingPointNumericCharacter(e.key);\n}\n/**\n * A regex that matches a string of length 1 (i.e. a standalone character)\n * if and only if it is a floating-point number character as defined by W3C:\n * https://www.w3.org/TR/2012/WD-html-markup-20120329/datatypes.html#common.data.float\n *\n * Floating-point number characters are the only characters that can be\n * printed within a default input[type=\"number\"]. This component should\n * behave the same way when this.props.allowNumericCharactersOnly = true.\n * See here for the input[type=\"number\"].value spec:\n * https://www.w3.org/TR/2012/WD-html-markup-20120329/input.number.html#input.number.attrs.value\n */\n\nvar FLOATING_POINT_NUMBER_CHARACTER_REGEX = /^[Ee0-9\\+\\-\\.]$/;\nexport function isFloatingPointNumericCharacter(character) {\n  return FLOATING_POINT_NUMBER_CHARACTER_REGEX.test(character);\n}\n/**\n * Round the value to have _up to_ the specified maximum precision.\n *\n * This differs from `toFixed(5)` in that trailing zeroes are not added on\n * more precise values, resulting in shorter strings.\n */\n\nexport function toMaxPrecision(value, maxPrecision) {\n  // round the value to have the specified maximum precision (toFixed is the wrong choice,\n  // because it would show trailing zeros in the decimal part out to the specified precision)\n  // source: http://stackoverflow.com/a/18358056/5199574\n  var scaleFactor = Math.pow(10, maxPrecision);\n  return Math.round(value * scaleFactor) / scaleFactor;\n}","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX, Keys, Position, removeNonHTMLProps, Utils } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { ButtonGroup } from \"../button/buttonGroup\";\nimport { Button } from \"../button/buttons\";\nimport { ControlGroup } from \"./controlGroup\";\nimport { InputGroup } from \"./inputGroup\";\nimport { clampValue, getValueOrEmptyValue, isFloatingPointNumericCharacter, isValidNumericKeyboardEvent, isValueNumeric, toMaxPrecision } from \"./numericInputUtils\";\nvar IncrementDirection;\n\n(function (IncrementDirection) {\n  IncrementDirection[IncrementDirection[\"DOWN\"] = -1] = \"DOWN\";\n  IncrementDirection[IncrementDirection[\"UP\"] = 1] = \"UP\";\n})(IncrementDirection || (IncrementDirection = {}));\n\nvar NON_HTML_PROPS = [\"allowNumericCharactersOnly\", \"buttonPosition\", \"clampValueOnBlur\", \"className\", \"majorStepSize\", \"minorStepSize\", \"onButtonClick\", \"onValueChange\", \"selectAllOnFocus\", \"selectAllOnIncrement\", \"stepSize\"];\n\nvar NumericInput =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(NumericInput, _super);\n\n  function NumericInput() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      shouldSelectAfterUpdate: false,\n      stepMaxPrecision: NumericInput_1.getStepMaxPrecision(_this.props),\n      value: getValueOrEmptyValue(_this.props.value)\n    }; // updating these flags need not trigger re-renders, so don't include them in this.state.\n\n    _this.didPasteEventJustOccur = false;\n    _this.delta = 0;\n    _this.inputElement = null;\n    _this.intervalId = null;\n    _this.incrementButtonHandlers = _this.getButtonEventHandlers(IncrementDirection.UP);\n    _this.decrementButtonHandlers = _this.getButtonEventHandlers(IncrementDirection.DOWN);\n\n    _this.inputRef = function (input) {\n      _this.inputElement = input;\n      Utils.safeInvoke(_this.props.inputRef, input);\n    };\n\n    _this.handleButtonClick = function (e, direction) {\n      var delta = _this.updateDelta(direction, e);\n\n      var nextValue = _this.incrementValue(delta);\n\n      _this.invokeValueCallback(nextValue, _this.props.onButtonClick);\n    };\n\n    _this.stopContinuousChange = function () {\n      _this.delta = 0;\n\n      _this.clearTimeouts();\n\n      clearInterval(_this.intervalId);\n      document.removeEventListener(\"mouseup\", _this.stopContinuousChange);\n    };\n\n    _this.handleContinuousChange = function () {\n      var nextValue = _this.incrementValue(_this.delta);\n\n      _this.invokeValueCallback(nextValue, _this.props.onButtonClick);\n    }; // Callbacks - Input\n    // =================\n\n\n    _this.handleInputFocus = function (e) {\n      // update this state flag to trigger update for input selection (see componentDidUpdate)\n      _this.setState({\n        shouldSelectAfterUpdate: _this.props.selectAllOnFocus\n      });\n\n      Utils.safeInvoke(_this.props.onFocus, e);\n    };\n\n    _this.handleInputBlur = function (e) {\n      // always disable this flag on blur so it's ready for next time.\n      _this.setState({\n        shouldSelectAfterUpdate: false\n      });\n\n      if (_this.props.clampValueOnBlur) {\n        var value = e.target.value;\n\n        var sanitizedValue = _this.getSanitizedValue(value);\n\n        _this.setState({\n          value: sanitizedValue\n        });\n      }\n\n      Utils.safeInvoke(_this.props.onBlur, e);\n    };\n\n    _this.handleInputKeyDown = function (e) {\n      if (_this.props.disabled || _this.props.readOnly) {\n        return;\n      }\n\n      var keyCode = e.keyCode;\n      var direction;\n\n      if (keyCode === Keys.ARROW_UP) {\n        direction = IncrementDirection.UP;\n      } else if (keyCode === Keys.ARROW_DOWN) {\n        direction = IncrementDirection.DOWN;\n      }\n\n      if (direction != null) {\n        // when the input field has focus, some key combinations will modify\n        // the field's selection range. we'll actually want to select all\n        // text in the field after we modify the value on the following\n        // lines. preventing the default selection behavior lets us do that\n        // without interference.\n        e.preventDefault();\n\n        var delta = _this.updateDelta(direction, e);\n\n        _this.incrementValue(delta);\n      }\n\n      Utils.safeInvoke(_this.props.onKeyDown, e);\n    };\n\n    _this.handleInputKeyPress = function (e) {\n      // we prohibit keystrokes in onKeyPress instead of onKeyDown, because\n      // e.key is not trustworthy in onKeyDown in all browsers.\n      if (_this.props.allowNumericCharactersOnly && !isValidNumericKeyboardEvent(e)) {\n        e.preventDefault();\n      }\n\n      Utils.safeInvoke(_this.props.onKeyPress, e);\n    };\n\n    _this.handleInputPaste = function (e) {\n      _this.didPasteEventJustOccur = true;\n      Utils.safeInvoke(_this.props.onPaste, e);\n    };\n\n    _this.handleInputChange = function (e) {\n      var value = e.target.value;\n      var nextValue = value;\n\n      if (_this.props.allowNumericCharactersOnly && _this.didPasteEventJustOccur) {\n        _this.didPasteEventJustOccur = false;\n        var valueChars = value.split(\"\");\n        var sanitizedValueChars = valueChars.filter(isFloatingPointNumericCharacter);\n        var sanitizedValue = sanitizedValueChars.join(\"\");\n        nextValue = sanitizedValue;\n      }\n\n      _this.setState({\n        shouldSelectAfterUpdate: false,\n        value: nextValue\n      });\n    };\n\n    return _this;\n  }\n\n  NumericInput_1 = NumericInput;\n\n  NumericInput.getDerivedStateFromProps = function (props, state) {\n    var nextState = {\n      prevMinProp: props.min,\n      prevMaxProp: props.max,\n      prevValueProp: props.value\n    };\n    var didMinChange = props.min !== state.prevMinProp;\n    var didMaxChange = props.max !== state.prevMaxProp;\n    var didBoundsChange = didMinChange || didMaxChange;\n    var didValuePropChange = props.value !== state.prevValueProp;\n    var value = getValueOrEmptyValue(didValuePropChange ? props.value : state.value);\n    var sanitizedValue = value !== NumericInput_1.VALUE_EMPTY ? NumericInput_1.getSanitizedValue(value,\n    /* delta */\n    0, props.min, props.max) : NumericInput_1.VALUE_EMPTY;\n    var stepMaxPrecision = NumericInput_1.getStepMaxPrecision(props); // if a new min and max were provided that cause the existing value to fall\n    // outside of the new bounds, then clamp the value to the new valid range.\n\n    if (didBoundsChange && sanitizedValue !== state.value) {\n      return tslib_1.__assign({}, nextState, {\n        stepMaxPrecision: stepMaxPrecision,\n        value: sanitizedValue\n      });\n    } else {\n      return tslib_1.__assign({}, nextState, {\n        stepMaxPrecision: stepMaxPrecision,\n        value: value\n      });\n    }\n  }; // Value Helpers\n  // =============\n\n\n  NumericInput.getStepMaxPrecision = function (props) {\n    if (props.minorStepSize != null) {\n      return Utils.countDecimalPlaces(props.minorStepSize);\n    } else {\n      return Utils.countDecimalPlaces(props.stepSize);\n    }\n  };\n\n  NumericInput.getSanitizedValue = function (value, stepMaxPrecision, min, max, delta) {\n    if (delta === void 0) {\n      delta = 0;\n    }\n\n    if (!isValueNumeric(value)) {\n      return NumericInput_1.VALUE_EMPTY;\n    }\n\n    var nextValue = toMaxPrecision(parseFloat(value) + delta, stepMaxPrecision);\n    return clampValue(nextValue, min, max).toString();\n  };\n\n  NumericInput.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        buttonPosition = _b.buttonPosition,\n        className = _b.className,\n        fill = _b.fill,\n        large = _b.large;\n    var containerClasses = classNames(Classes.NUMERIC_INPUT, (_a = {}, _a[Classes.LARGE] = large, _a), className);\n    var buttons = this.renderButtons();\n    return React.createElement(ControlGroup, {\n      className: containerClasses,\n      fill: fill\n    }, buttonPosition === Position.LEFT && buttons, this.renderInput(), buttonPosition === Position.RIGHT && buttons);\n  };\n\n  NumericInput.prototype.componentDidUpdate = function (prevProps, prevState) {\n    _super.prototype.componentDidUpdate.call(this, prevProps, prevState);\n\n    if (this.state.shouldSelectAfterUpdate) {\n      this.inputElement.setSelectionRange(0, this.state.value.length);\n    }\n\n    var didControlledValueChange = this.props.value !== prevProps.value;\n\n    if (!didControlledValueChange && this.state.value !== prevState.value) {\n      this.invokeValueCallback(this.state.value, this.props.onValueChange);\n    }\n  };\n\n  NumericInput.prototype.validateProps = function (nextProps) {\n    var majorStepSize = nextProps.majorStepSize,\n        max = nextProps.max,\n        min = nextProps.min,\n        minorStepSize = nextProps.minorStepSize,\n        stepSize = nextProps.stepSize;\n\n    if (min != null && max != null && min > max) {\n      throw new Error(Errors.NUMERIC_INPUT_MIN_MAX);\n    }\n\n    if (stepSize == null) {\n      throw new Error(Errors.NUMERIC_INPUT_STEP_SIZE_NULL);\n    }\n\n    if (stepSize <= 0) {\n      throw new Error(Errors.NUMERIC_INPUT_STEP_SIZE_NON_POSITIVE);\n    }\n\n    if (minorStepSize && minorStepSize <= 0) {\n      throw new Error(Errors.NUMERIC_INPUT_MINOR_STEP_SIZE_NON_POSITIVE);\n    }\n\n    if (majorStepSize && majorStepSize <= 0) {\n      throw new Error(Errors.NUMERIC_INPUT_MAJOR_STEP_SIZE_NON_POSITIVE);\n    }\n\n    if (minorStepSize && minorStepSize > stepSize) {\n      throw new Error(Errors.NUMERIC_INPUT_MINOR_STEP_SIZE_BOUND);\n    }\n\n    if (majorStepSize && majorStepSize < stepSize) {\n      throw new Error(Errors.NUMERIC_INPUT_MAJOR_STEP_SIZE_BOUND);\n    }\n  }; // Render Helpers\n  // ==============\n\n\n  NumericInput.prototype.renderButtons = function () {\n    var intent = this.props.intent;\n    var disabled = this.props.disabled || this.props.readOnly;\n    return React.createElement(ButtonGroup, {\n      className: Classes.FIXED,\n      key: \"button-group\",\n      vertical: true\n    }, React.createElement(Button, tslib_1.__assign({\n      disabled: disabled,\n      icon: \"chevron-up\",\n      intent: intent\n    }, this.incrementButtonHandlers)), React.createElement(Button, tslib_1.__assign({\n      disabled: disabled,\n      icon: \"chevron-down\",\n      intent: intent\n    }, this.decrementButtonHandlers)));\n  };\n\n  NumericInput.prototype.renderInput = function () {\n    var inputGroupHtmlProps = removeNonHTMLProps(this.props, NON_HTML_PROPS, true);\n    return React.createElement(InputGroup, tslib_1.__assign({\n      autoComplete: \"off\"\n    }, inputGroupHtmlProps, {\n      intent: this.props.intent,\n      inputRef: this.inputRef,\n      large: this.props.large,\n      leftIcon: this.props.leftIcon,\n      onFocus: this.handleInputFocus,\n      onBlur: this.handleInputBlur,\n      onChange: this.handleInputChange,\n      onKeyDown: this.handleInputKeyDown,\n      onKeyPress: this.handleInputKeyPress,\n      onPaste: this.handleInputPaste,\n      rightElement: this.props.rightElement,\n      value: this.state.value\n    }));\n  }; // Callbacks - Buttons\n  // ===================\n\n\n  NumericInput.prototype.getButtonEventHandlers = function (direction) {\n    var _this = this;\n\n    return {\n      // keydown is fired repeatedly when held so it's implicitly continuous\n      onKeyDown: function onKeyDown(evt) {\n        if (Keys.isKeyboardClick(evt.keyCode)) {\n          _this.handleButtonClick(evt, direction);\n        }\n      },\n      onMouseDown: function onMouseDown(evt) {\n        _this.handleButtonClick(evt, direction);\n\n        _this.startContinuousChange();\n      }\n    };\n  };\n\n  NumericInput.prototype.startContinuousChange = function () {\n    var _this = this; // The button's onMouseUp event handler doesn't fire if the user\n    // releases outside of the button, so we need to watch all the way\n    // from the top.\n\n\n    document.addEventListener(\"mouseup\", this.stopContinuousChange); // Initial delay is slightly longer to prevent the user from\n    // accidentally triggering the continuous increment/decrement.\n\n    this.setTimeout(function () {\n      _this.intervalId = window.setInterval(_this.handleContinuousChange, NumericInput_1.CONTINUOUS_CHANGE_INTERVAL);\n    }, NumericInput_1.CONTINUOUS_CHANGE_DELAY);\n  };\n\n  NumericInput.prototype.invokeValueCallback = function (value, callback) {\n    Utils.safeInvoke(callback, +value, value);\n  };\n\n  NumericInput.prototype.incrementValue = function (delta) {\n    // pretend we're incrementing from 0 if currValue is empty\n    var currValue = this.state.value || NumericInput_1.VALUE_ZERO;\n    var nextValue = this.getSanitizedValue(currValue, delta);\n    this.setState({\n      shouldSelectAfterUpdate: this.props.selectAllOnIncrement,\n      value: nextValue\n    });\n    return nextValue;\n  };\n\n  NumericInput.prototype.getIncrementDelta = function (direction, isShiftKeyPressed, isAltKeyPressed) {\n    var _a = this.props,\n        majorStepSize = _a.majorStepSize,\n        minorStepSize = _a.minorStepSize,\n        stepSize = _a.stepSize;\n\n    if (isShiftKeyPressed && majorStepSize != null) {\n      return direction * majorStepSize;\n    } else if (isAltKeyPressed && minorStepSize != null) {\n      return direction * minorStepSize;\n    } else {\n      return direction * stepSize;\n    }\n  };\n\n  NumericInput.prototype.getSanitizedValue = function (value, delta) {\n    if (delta === void 0) {\n      delta = 0;\n    }\n\n    return NumericInput_1.getSanitizedValue(value, this.state.stepMaxPrecision, this.props.min, this.props.max, delta);\n  };\n\n  NumericInput.prototype.updateDelta = function (direction, e) {\n    this.delta = this.getIncrementDelta(direction, e.shiftKey, e.altKey);\n    return this.delta;\n  };\n\n  var NumericInput_1;\n  NumericInput.displayName = DISPLAYNAME_PREFIX + \".NumericInput\";\n  NumericInput.VALUE_EMPTY = \"\";\n  NumericInput.VALUE_ZERO = \"0\";\n  NumericInput.defaultProps = {\n    allowNumericCharactersOnly: true,\n    buttonPosition: Position.RIGHT,\n    clampValueOnBlur: false,\n    large: false,\n    majorStepSize: 10,\n    minorStepSize: 0.1,\n    selectAllOnFocus: false,\n    selectAllOnIncrement: false,\n    stepSize: 1,\n    value: NumericInput_1.VALUE_EMPTY\n  };\n  NumericInput.CONTINUOUS_CHANGE_DELAY = 300;\n  NumericInput.CONTINUOUS_CHANGE_INTERVAL = 100;\n  NumericInput = NumericInput_1 = tslib_1.__decorate([polyfill], NumericInput);\n  return NumericInput;\n}(AbstractPureComponent2);\n\nexport { NumericInput };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, Position } from \"../../common\";\nimport { safeInvoke } from \"../../common/utils\";\nimport { Popover } from \"../popover/popover\";\nvar POPPER_MODIFIERS = {\n  preventOverflow: {\n    boundariesElement: \"viewport\"\n  }\n};\nvar TRANSITION_DURATION = 100;\n/* istanbul ignore next */\n\nvar ContextMenu =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ContextMenu, _super);\n\n  function ContextMenu() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isDarkTheme: false,\n      isOpen: false,\n      menu: null,\n      offset: null\n    };\n\n    _this.cancelContextMenu = function (e) {\n      return e.preventDefault();\n    };\n\n    _this.handleBackdropContextMenu = function (e) {\n      // React function to remove from the event pool, useful when using a event within a callback\n      e.persist();\n      e.preventDefault(); // wait for backdrop to disappear so we can find the \"real\" element at event coordinates.\n      // timeout duration is equivalent to transition duration so we know it's animated out.\n\n      _this.setTimeout(function () {\n        // retrigger context menu event at the element beneath the backdrop.\n        // if it has a `contextmenu` event handler then it'll be invoked.\n        // if it doesn't, no native menu will show (at least on OSX) :(\n        var newTarget = document.elementFromPoint(e.clientX, e.clientY);\n        newTarget.dispatchEvent(new MouseEvent(\"contextmenu\", e));\n      }, TRANSITION_DURATION);\n    };\n\n    _this.handlePopoverInteraction = function (nextOpenState) {\n      if (!nextOpenState) {\n        // delay the actual hiding till the event queue clears\n        // to avoid flicker of opening twice\n        requestAnimationFrame(function () {\n          return _this.hide();\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  ContextMenu.prototype.render = function () {\n    var _a; // prevent right-clicking in a context menu\n\n\n    var content = React.createElement(\"div\", {\n      onContextMenu: this.cancelContextMenu\n    }, this.state.menu);\n    var popoverClassName = classNames((_a = {}, _a[Classes.DARK] = this.state.isDarkTheme, _a)); // HACKHACK: workaround until we have access to Popper#scheduleUpdate().\n    // https://github.com/palantir/blueprint/issues/692\n    // Generate key based on offset so a new Popover instance is created\n    // when offset changes, to force recomputing position.\n\n    var key = this.state.offset == null ? \"\" : this.state.offset.left + \"x\" + this.state.offset.top; // wrap the popover in a positioned div to make sure it is properly\n    // offset on the screen.\n\n    return React.createElement(\"div\", {\n      className: Classes.CONTEXT_MENU_POPOVER_TARGET,\n      style: this.state.offset\n    }, React.createElement(Popover, tslib_1.__assign({}, this.props, {\n      backdropProps: {\n        onContextMenu: this.handleBackdropContextMenu\n      },\n      content: content,\n      enforceFocus: false,\n      key: key,\n      hasBackdrop: true,\n      isOpen: this.state.isOpen,\n      minimal: true,\n      modifiers: POPPER_MODIFIERS,\n      onInteraction: this.handlePopoverInteraction,\n      position: Position.RIGHT_TOP,\n      popoverClassName: popoverClassName,\n      target: React.createElement(\"div\", null),\n      transitionDuration: TRANSITION_DURATION\n    })));\n  };\n\n  ContextMenu.prototype.show = function (menu, offset, onClose, isDarkTheme) {\n    this.setState({\n      isOpen: true,\n      menu: menu,\n      offset: offset,\n      onClose: onClose,\n      isDarkTheme: isDarkTheme\n    });\n  };\n\n  ContextMenu.prototype.hide = function () {\n    safeInvoke(this.state.onClose);\n    this.setState({\n      isOpen: false,\n      onClose: undefined\n    });\n  };\n\n  ContextMenu = tslib_1.__decorate([polyfill], ContextMenu);\n  return ContextMenu;\n}(AbstractPureComponent2);\n\nvar contextMenuElement;\nvar contextMenu;\n/**\n * Show the given menu element at the given offset from the top-left corner of the viewport.\n * The menu will appear below-right of this point and will flip to below-left if there is not enough\n * room onscreen. The optional callback will be invoked when this menu closes.\n */\n\nexport function show(menu, offset, onClose, isDarkTheme) {\n  if (contextMenuElement == null) {\n    contextMenuElement = document.createElement(\"div\");\n    contextMenuElement.classList.add(Classes.CONTEXT_MENU);\n    document.body.appendChild(contextMenuElement);\n    contextMenu = ReactDOM.render(React.createElement(ContextMenu, {\n      onClosed: remove\n    }), contextMenuElement);\n  }\n\n  contextMenu.show(menu, offset, onClose, isDarkTheme);\n}\n/** Hide the open context menu. */\n\nexport function hide() {\n  if (contextMenu != null) {\n    contextMenu.hide();\n  }\n}\n/** Return whether a context menu is currently open. */\n\nexport function isOpen() {\n  return contextMenu != null && contextMenu.state.isOpen;\n}\n\nfunction remove() {\n  if (contextMenuElement != null) {\n    ReactDOM.unmountComponentAtNode(contextMenuElement);\n    contextMenuElement.remove();\n    contextMenuElement = null;\n    contextMenu = null;\n  }\n}","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT, CONTEXTMENU_WARN_DECORATOR_NO_METHOD } from \"../../common/errors\";\nimport { getDisplayName, isFunction, safeInvoke } from \"../../common/utils\";\nimport { isDarkTheme } from \"../../common/utils/isDarkTheme\";\nimport * as ContextMenu from \"./contextMenu\";\nexport function ContextMenuTarget(WrappedComponent) {\n  var _a;\n\n  if (!isFunction(WrappedComponent.prototype.renderContextMenu)) {\n    console.warn(CONTEXTMENU_WARN_DECORATOR_NO_METHOD);\n  }\n\n  return _a =\n  /** @class */\n  function (_super) {\n    tslib_1.__extends(ContextMenuTargetClass, _super);\n\n    function ContextMenuTargetClass() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ContextMenuTargetClass.prototype.render = function () {\n      var _this = this;\n\n      var element = _super.prototype.render.call(this);\n\n      if (element == null) {\n        // always return `element` in case caller is distinguishing between `null` and `undefined`\n        return element;\n      }\n\n      if (!React.isValidElement(element)) {\n        console.warn(CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT);\n        return element;\n      }\n\n      var oldOnContextMenu = element.props.onContextMenu;\n\n      var onContextMenu = function onContextMenu(e) {\n        // support nested menus (inner menu target would have called preventDefault())\n        if (e.defaultPrevented) {\n          return;\n        }\n\n        if (isFunction(_this.renderContextMenu)) {\n          var menu = _this.renderContextMenu(e);\n\n          if (menu != null) {\n            var darkTheme = isDarkTheme(ReactDOM.findDOMNode(_this));\n            e.preventDefault();\n            ContextMenu.show(menu, {\n              left: e.clientX,\n              top: e.clientY\n            }, _this.onContextMenuClose, darkTheme);\n          }\n        }\n\n        safeInvoke(oldOnContextMenu, e);\n      };\n\n      return React.cloneElement(element, {\n        onContextMenu: onContextMenu\n      });\n    };\n\n    return ContextMenuTargetClass;\n  }(WrappedComponent), _a.displayName = \"ContextMenuTarget(\" + getDisplayName(WrappedComponent) + \")\", _a;\n}","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Classes } from \"../\";\nexport function isDarkTheme(element) {\n  return element instanceof Element && element.closest(\".\" + Classes.DARK) != null;\n}","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var KeyCodes = {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"enter\",\n  20: \"capslock\",\n  27: \"esc\",\n  32: \"space\",\n  33: \"pageup\",\n  34: \"pagedown\",\n  35: \"end\",\n  36: \"home\",\n  37: \"left\",\n  38: \"up\",\n  39: \"right\",\n  40: \"down\",\n  45: \"ins\",\n  46: \"del\",\n  // number keys\n  48: \"0\",\n  49: \"1\",\n  50: \"2\",\n  51: \"3\",\n  52: \"4\",\n  53: \"5\",\n  54: \"6\",\n  55: \"7\",\n  56: \"8\",\n  57: \"9\",\n  // alphabet\n  65: \"a\",\n  66: \"b\",\n  67: \"c\",\n  68: \"d\",\n  69: \"e\",\n  70: \"f\",\n  71: \"g\",\n  72: \"h\",\n  73: \"i\",\n  74: \"j\",\n  75: \"k\",\n  76: \"l\",\n  77: \"m\",\n  78: \"n\",\n  79: \"o\",\n  80: \"p\",\n  81: \"q\",\n  82: \"r\",\n  83: \"s\",\n  84: \"t\",\n  85: \"u\",\n  86: \"v\",\n  87: \"w\",\n  88: \"x\",\n  89: \"y\",\n  90: \"z\",\n  // punctuation\n  106: \"*\",\n  107: \"+\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\"\n};\nexport var Modifiers = {\n  16: \"shift\",\n  17: \"ctrl\",\n  18: \"alt\",\n  91: \"meta\",\n  93: \"meta\",\n  224: \"meta\"\n};\nexport var ModifierBitMasks = {\n  alt: 1,\n  ctrl: 2,\n  meta: 4,\n  shift: 8\n};\nexport var Aliases = {\n  cmd: \"meta\",\n  command: \"meta\",\n  escape: \"esc\",\n  minus: \"-\",\n  mod: isMac() ? \"meta\" : \"ctrl\",\n  option: \"alt\",\n  plus: \"+\",\n  return: \"enter\",\n  win: \"meta\"\n}; // alph sorting is unintuitive here\n// tslint:disable object-literal-sort-keys\n\nexport var ShiftKeys = {\n  \"~\": \"`\",\n  \"!\": \"1\",\n  \"@\": \"2\",\n  \"#\": \"3\",\n  $: \"4\",\n  \"%\": \"5\",\n  \"^\": \"6\",\n  \"&\": \"7\",\n  \"*\": \"8\",\n  \"(\": \"9\",\n  \")\": \"0\",\n  _: \"-\",\n  \"+\": \"=\",\n  \"{\": \"[\",\n  \"}\": \"]\",\n  \"|\": \"\\\\\",\n  \":\": \";\",\n  '\"': \"'\",\n  \"<\": \",\",\n  \">\": \".\",\n  \"?\": \"/\"\n}; // tslint:enable object-literal-sort-keys\n// Function keys\n\nfor (var i = 1; i <= 12; ++i) {\n  KeyCodes[111 + i] = \"f\" + i;\n} // Numpad\n\n\nfor (var i = 0; i <= 9; ++i) {\n  KeyCodes[96 + i] = \"num\" + i.toString();\n}\n\nexport function comboMatches(a, b) {\n  return a.modifiers === b.modifiers && a.key === b.key;\n}\n/**\n * Converts a key combo string into a key combo object. Key combos include\n * zero or more modifier keys, such as `shift` or `alt`, and exactly one\n * action key, such as `A`, `enter`, or `left`.\n *\n * For action keys that require a shift, e.g. `@` or `|`, we inlude the\n * necessary `shift` modifier and automatically convert the action key to the\n * unshifted version. For example, `@` is equivalent to `shift+2`.\n */\n\nexport var parseKeyCombo = function parseKeyCombo(combo) {\n  var pieces = combo.replace(/\\s/g, \"\").toLowerCase().split(\"+\");\n  var modifiers = 0;\n  var key = null;\n\n  for (var _i = 0, pieces_1 = pieces; _i < pieces_1.length; _i++) {\n    var piece = pieces_1[_i];\n\n    if (piece === \"\") {\n      throw new Error(\"Failed to parse key combo \\\"\" + combo + \"\\\".\\n                Valid key combos look like \\\"cmd + plus\\\", \\\"shift+p\\\", or \\\"!\\\"\");\n    }\n\n    if (Aliases[piece] != null) {\n      piece = Aliases[piece];\n    }\n\n    if (ModifierBitMasks[piece] != null) {\n      modifiers += ModifierBitMasks[piece];\n    } else if (ShiftKeys[piece] != null) {\n      // tslint:disable-next-line no-string-literal\n      modifiers += ModifierBitMasks[\"shift\"];\n      key = ShiftKeys[piece];\n    } else {\n      key = piece.toLowerCase();\n    }\n  }\n\n  return {\n    modifiers: modifiers,\n    key: key\n  };\n};\n/**\n * Converts a keyboard event into a valid combo prop string\n */\n\nexport var getKeyComboString = function getKeyComboString(e) {\n  var keys = []; // modifiers first\n\n  if (e.ctrlKey) {\n    keys.push(\"ctrl\");\n  }\n\n  if (e.altKey) {\n    keys.push(\"alt\");\n  }\n\n  if (e.shiftKey) {\n    keys.push(\"shift\");\n  }\n\n  if (e.metaKey) {\n    keys.push(\"meta\");\n  }\n\n  var which = e.which;\n\n  if (Modifiers[which] != null) {// no action key\n  } else if (KeyCodes[which] != null) {\n    keys.push(KeyCodes[which]);\n  } else {\n    keys.push(String.fromCharCode(which).toLowerCase());\n  } // join keys with plusses\n\n\n  return keys.join(\" + \");\n};\n/**\n * Determines the key combo object from the given keyboard event. Again, a key\n * combo includes zero or more modifiers (represented by a bitmask) and one\n * action key, which we determine from the `e.which` property of the keyboard\n * event.\n */\n\nexport var getKeyCombo = function getKeyCombo(e) {\n  var key = null;\n  var which = e.which;\n\n  if (Modifiers[which] != null) {// keep key null\n  } else if (KeyCodes[which] != null) {\n    key = KeyCodes[which];\n  } else {\n    key = String.fromCharCode(which).toLowerCase();\n  }\n\n  var modifiers = 0; // tslint:disable no-string-literal\n\n  if (e.altKey) {\n    modifiers += ModifierBitMasks[\"alt\"];\n  }\n\n  if (e.ctrlKey) {\n    modifiers += ModifierBitMasks[\"ctrl\"];\n  }\n\n  if (e.metaKey) {\n    modifiers += ModifierBitMasks[\"meta\"];\n  }\n\n  if (e.shiftKey) {\n    modifiers += ModifierBitMasks[\"shift\"];\n  } // tslint:enable\n\n\n  return {\n    modifiers: modifiers,\n    key: key\n  };\n};\n/**\n * Splits a key combo string into its constituent key values and looks up\n * aliases, such as `return` -> `enter`.\n *\n * Unlike the parseKeyCombo method, this method does NOT convert shifted\n * action keys. So `\"@\"` will NOT be converted to `[\"shift\", \"2\"]`).\n */\n\nexport var normalizeKeyCombo = function normalizeKeyCombo(combo, platformOverride) {\n  var keys = combo.replace(/\\s/g, \"\").split(\"+\");\n  return keys.map(function (key) {\n    var keyName = Aliases[key] != null ? Aliases[key] : key;\n    return keyName === \"meta\" ? isMac(platformOverride) ? \"cmd\" : \"ctrl\" : keyName;\n  });\n};\n/* tslint:enable:no-string-literal */\n\nfunction isMac(platformOverride) {\n  var platform = platformOverride != null ? platformOverride : typeof navigator !== \"undefined\" ? navigator.platform : undefined;\n  return platform == null ? false : /Mac|iPod|iPhone|iPad/.test(platform);\n}","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { getPositionIgnoreAngles, isPositionHorizontal } from \"../../common/position\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Button } from \"../button/buttons\";\nimport { H4 } from \"../html/html\";\nimport { Icon } from \"../icon/icon\";\nimport { Overlay } from \"../overlay/overlay\";\n\nvar Drawer =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Drawer, _super);\n\n  function Drawer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Drawer.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        size = _c.size,\n        style = _c.style,\n        position = _c.position,\n        vertical = _c.vertical;\n    var realPosition = position ? getPositionIgnoreAngles(position) : null;\n    var classes = classNames(Classes.DRAWER, (_a = {}, _a[Classes.VERTICAL] = !realPosition && vertical, _a[realPosition ? Classes.positionClass(realPosition) : \"\"] = true, _a), this.props.className);\n    var styleProp = size == null ? style : tslib_1.__assign({}, style, (_b = {}, _b[(realPosition ? isPositionHorizontal(realPosition) : vertical) ? \"height\" : \"width\"] = size, _b));\n    return React.createElement(Overlay, tslib_1.__assign({}, this.props, {\n      className: Classes.OVERLAY_CONTAINER\n    }), React.createElement(\"div\", {\n      className: classes,\n      style: styleProp\n    }, this.maybeRenderHeader(), this.props.children));\n  };\n\n  Drawer.prototype.validateProps = function (props) {\n    if (props.title == null) {\n      if (props.icon != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_ICON);\n      }\n\n      if (props.isCloseButtonShown != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_CLOSE_BUTTON);\n      }\n    }\n\n    if (props.position != null) {\n      if (props.vertical) {\n        console.warn(Errors.DRAWER_VERTICAL_IS_IGNORED);\n      }\n\n      if (props.position !== getPositionIgnoreAngles(props.position)) {\n        console.warn(Errors.DRAWER_ANGLE_POSITIONS_ARE_CASTED);\n      }\n    }\n  };\n\n  Drawer.prototype.maybeRenderCloseButton = function () {\n    // `isCloseButtonShown` can't be defaulted through default props because of props validation\n    // so this check actually defaults it to true (fails only if directly set to false)\n    if (this.props.isCloseButtonShown !== false) {\n      return React.createElement(Button, {\n        \"aria-label\": \"Close\",\n        className: Classes.DIALOG_CLOSE_BUTTON,\n        icon: React.createElement(Icon, {\n          icon: \"small-cross\",\n          iconSize: Icon.SIZE_LARGE\n        }),\n        minimal: true,\n        onClick: this.props.onClose\n      });\n    } else {\n      return null;\n    }\n  };\n\n  Drawer.prototype.maybeRenderHeader = function () {\n    var _a = this.props,\n        icon = _a.icon,\n        title = _a.title;\n\n    if (title == null) {\n      return null;\n    }\n\n    return React.createElement(\"div\", {\n      className: Classes.DRAWER_HEADER\n    }, React.createElement(Icon, {\n      icon: icon,\n      iconSize: Icon.SIZE_LARGE\n    }), React.createElement(H4, null, title), this.maybeRenderCloseButton());\n  };\n\n  Drawer.displayName = DISPLAYNAME_PREFIX + \".Drawer\";\n  Drawer.defaultProps = {\n    canOutsideClickClose: true,\n    isOpen: false,\n    position: null,\n    style: {},\n    vertical: false\n  };\n  Drawer.SIZE_SMALL = \"360px\";\n  Drawer.SIZE_STANDARD = \"50%\";\n  Drawer.SIZE_LARGE = \"90%\";\n  Drawer = tslib_1.__decorate([polyfill], Drawer);\n  return Drawer;\n}(AbstractPureComponent2);\n\nexport { Drawer };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX } from \"../../common\";\nimport { Icon } from \"../icon/icon\";\nimport { normalizeKeyCombo } from \"./hotkeyParser\";\nvar KeyIcons = {\n  alt: \"key-option\",\n  cmd: \"key-command\",\n  ctrl: \"key-control\",\n  delete: \"key-delete\",\n  down: \"arrow-down\",\n  enter: \"key-enter\",\n  left: \"arrow-left\",\n  meta: \"key-command\",\n  right: \"arrow-right\",\n  shift: \"key-shift\",\n  up: \"arrow-up\"\n};\n\nvar KeyCombo =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(KeyCombo, _super);\n\n  function KeyCombo() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.renderKey = function (key, index) {\n      var icon = KeyIcons[key];\n      var reactKey = \"key-\" + index;\n      return icon == null ? React.createElement(\"kbd\", {\n        className: Classes.KEY,\n        key: reactKey\n      }, key) : React.createElement(\"kbd\", {\n        className: classNames(Classes.KEY, Classes.MODIFIER_KEY),\n        key: reactKey\n      }, React.createElement(Icon, {\n        icon: icon\n      }), \" \", key);\n    };\n\n    _this.renderMinimalKey = function (key, index) {\n      var icon = KeyIcons[key];\n      return icon == null ? key : React.createElement(Icon, {\n        icon: icon,\n        key: \"key-\" + index\n      });\n    };\n\n    return _this;\n  }\n\n  KeyCombo.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        combo = _a.combo,\n        minimal = _a.minimal;\n    var keys = normalizeKeyCombo(combo).map(function (key) {\n      return key.length === 1 ? key.toUpperCase() : key;\n    }).map(minimal ? this.renderMinimalKey : this.renderKey);\n    return React.createElement(\"span\", {\n      className: classNames(Classes.KEY_COMBO, className)\n    }, keys);\n  };\n\n  KeyCombo.displayName = DISPLAYNAME_PREFIX + \".KeyCombo\";\n  KeyCombo = tslib_1.__decorate([polyfill], KeyCombo);\n  return KeyCombo;\n}(AbstractPureComponent2);\n\nexport { KeyCombo };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX } from \"../../common\";\nimport { KeyCombo } from \"./keyCombo\";\n\nvar Hotkey =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Hotkey, _super);\n\n  function Hotkey() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Hotkey.prototype.render = function () {\n    var _a = this.props,\n        label = _a.label,\n        className = _a.className,\n        spreadableProps = tslib_1.__rest(_a, [\"label\", \"className\"]);\n\n    var rootClasses = classNames(Classes.HOTKEY, className);\n    return React.createElement(\"div\", {\n      className: rootClasses\n    }, React.createElement(\"div\", {\n      className: Classes.HOTKEY_LABEL\n    }, label), React.createElement(KeyCombo, tslib_1.__assign({}, spreadableProps)));\n  };\n\n  Hotkey.prototype.validateProps = function (props) {\n    if (props.global !== true && props.group == null) {\n      throw new Error(\"non-global <Hotkey>s must define a group\");\n    }\n  };\n\n  Hotkey.displayName = DISPLAYNAME_PREFIX + \".Hotkey\";\n  Hotkey.defaultProps = {\n    allowInInput: false,\n    disabled: false,\n    global: false,\n    preventDefault: false,\n    stopPropagation: false\n  };\n  Hotkey = tslib_1.__decorate([polyfill], Hotkey);\n  return Hotkey;\n}(AbstractPureComponent2);\n\nexport { Hotkey };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX } from \"../../common\";\nimport { HOTKEYS_HOTKEY_CHILDREN } from \"../../common/errors\";\nimport { isElementOfType } from \"../../common/utils\";\nimport { H4 } from \"../html/html\";\nimport { Hotkey } from \"./hotkey\";\nexport { Hotkey } from \"./hotkey\";\nexport { KeyCombo } from \"./keyCombo\";\nexport { HotkeysTarget } from \"./hotkeysTarget\";\nexport { comboMatches, getKeyCombo, getKeyComboString, parseKeyCombo } from \"./hotkeyParser\";\nexport { hideHotkeysDialog, setHotkeysDialogProps } from \"./hotkeysDialog\";\n\nvar Hotkeys =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Hotkeys, _super);\n\n  function Hotkeys() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Hotkeys.prototype.render = function () {\n    var hotkeys = React.Children.map(this.props.children, function (child) {\n      return child.props;\n    }); // sort by group label alphabetically, prioritize globals\n\n    hotkeys.sort(function (a, b) {\n      if (a.global === b.global) {\n        return a.group.localeCompare(b.group);\n      }\n\n      return a.global ? -1 : 1;\n    });\n    var lastGroup = null;\n    var elems = [];\n\n    for (var _i = 0, hotkeys_1 = hotkeys; _i < hotkeys_1.length; _i++) {\n      var hotkey = hotkeys_1[_i];\n      var groupLabel = hotkey.group;\n\n      if (groupLabel !== lastGroup) {\n        elems.push(React.createElement(H4, {\n          key: \"group-\" + elems.length\n        }, groupLabel));\n        lastGroup = groupLabel;\n      }\n\n      elems.push(React.createElement(Hotkey, tslib_1.__assign({\n        key: elems.length\n      }, hotkey)));\n    }\n\n    var rootClasses = classNames(Classes.HOTKEY_COLUMN, this.props.className);\n    return React.createElement(\"div\", {\n      className: rootClasses\n    }, elems);\n  };\n\n  Hotkeys.prototype.validateProps = function (props) {\n    React.Children.forEach(props.children, function (child) {\n      if (!isElementOfType(child, Hotkey)) {\n        throw new Error(HOTKEYS_HOTKEY_CHILDREN);\n      }\n    });\n  };\n\n  Hotkeys.displayName = DISPLAYNAME_PREFIX + \".Hotkeys\";\n  Hotkeys.defaultProps = {\n    tabIndex: 0\n  };\n  Hotkeys = tslib_1.__decorate([polyfill], Hotkeys);\n  return Hotkeys;\n}(AbstractPureComponent2);\n\nexport { Hotkeys };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Classes } from \"../../common\";\nimport { Dialog } from \"../../components\";\nimport { Hotkey } from \"./hotkey\";\nimport { Hotkeys } from \"./hotkeys\";\n/**\n * The delay before showing or hiding the dialog. Should be long enough to\n * allow all registered hotkey listeners to execute first.\n */\n\nvar DELAY_IN_MS = 10;\n\nvar HotkeysDialog =\n/** @class */\nfunction () {\n  function HotkeysDialog() {\n    var _this = this;\n\n    this.componentProps = {\n      globalHotkeysGroup: \"Global hotkeys\"\n    };\n    this.hotkeysQueue = [];\n    this.isDialogShowing = false;\n\n    this.show = function () {\n      _this.isDialogShowing = true;\n\n      _this.render();\n    };\n\n    this.hide = function () {\n      _this.isDialogShowing = false;\n\n      _this.render();\n    };\n  }\n\n  HotkeysDialog.prototype.render = function () {\n    if (this.container == null) {\n      this.container = this.getContainer();\n    }\n\n    ReactDOM.render(this.renderComponent(), this.container);\n  };\n\n  HotkeysDialog.prototype.unmount = function () {\n    if (this.container != null) {\n      ReactDOM.unmountComponentAtNode(this.container);\n      this.container.remove();\n      delete this.container;\n    }\n  };\n  /**\n   * Because hotkeys can be registered globally and locally and because\n   * event ordering cannot be guaranteed, we use this debouncing method to\n   * allow all hotkey listeners to fire and add their hotkeys to the dialog.\n   *\n   * 10msec after the last listener adds their hotkeys, we render the dialog\n   * and clear the queue.\n   */\n\n\n  HotkeysDialog.prototype.enqueueHotkeysForDisplay = function (hotkeys) {\n    this.hotkeysQueue.push(hotkeys); // reset timeout for debounce\n\n    window.clearTimeout(this.showTimeoutToken);\n    this.showTimeoutToken = window.setTimeout(this.show, DELAY_IN_MS);\n  };\n\n  HotkeysDialog.prototype.hideAfterDelay = function () {\n    window.clearTimeout(this.hideTimeoutToken);\n    this.hideTimeoutToken = window.setTimeout(this.hide, DELAY_IN_MS);\n  };\n\n  HotkeysDialog.prototype.isShowing = function () {\n    return this.isDialogShowing;\n  };\n\n  HotkeysDialog.prototype.getContainer = function () {\n    if (this.container == null) {\n      this.container = document.createElement(\"div\");\n      this.container.classList.add(Classes.PORTAL);\n      document.body.appendChild(this.container);\n    }\n\n    return this.container;\n  };\n\n  HotkeysDialog.prototype.renderComponent = function () {\n    return React.createElement(Dialog, tslib_1.__assign({}, this.componentProps, {\n      className: classNames(Classes.HOTKEY_DIALOG, this.componentProps.className),\n      isOpen: this.isDialogShowing,\n      onClose: this.hide\n    }), React.createElement(\"div\", {\n      className: Classes.DIALOG_BODY\n    }, this.renderHotkeys()));\n  };\n\n  HotkeysDialog.prototype.renderHotkeys = function () {\n    var _this = this;\n\n    var hotkeys = this.emptyHotkeyQueue();\n    var elements = hotkeys.map(function (hotkey, index) {\n      var group = hotkey.global === true && hotkey.group == null ? _this.componentProps.globalHotkeysGroup : hotkey.group;\n      return React.createElement(Hotkey, tslib_1.__assign({\n        key: index\n      }, hotkey, {\n        group: group\n      }));\n    });\n    return React.createElement(Hotkeys, null, elements);\n  };\n\n  HotkeysDialog.prototype.emptyHotkeyQueue = function () {\n    // flatten then empty the hotkeys queue\n    var hotkeys = this.hotkeysQueue.reduce(function (arr, queued) {\n      return arr.concat(queued);\n    }, []);\n    this.hotkeysQueue.length = 0;\n    return hotkeys;\n  };\n\n  return HotkeysDialog;\n}(); // singleton instance\n\n\nvar HOTKEYS_DIALOG = new HotkeysDialog();\nexport function isHotkeysDialogShowing() {\n  return HOTKEYS_DIALOG.isShowing();\n}\nexport function setHotkeysDialogProps(props) {\n  for (var key in props) {\n    if (props.hasOwnProperty(key)) {\n      HOTKEYS_DIALOG.componentProps[key] = props[key];\n    }\n  }\n}\nexport function showHotkeysDialog(hotkeys) {\n  HOTKEYS_DIALOG.enqueueHotkeysForDisplay(hotkeys);\n}\nexport function hideHotkeysDialog() {\n  HOTKEYS_DIALOG.hide();\n}\n/**\n * Use this function instead of `hideHotkeysDialog` if you need to ensure that all hotkey listeners\n * have time to execute with the dialog in a consistent open state. This can avoid flickering the\n * dialog between open and closed states as successive listeners fire.\n */\n\nexport function hideHotkeysDialogAfterDelay() {\n  HOTKEYS_DIALOG.hideAfterDelay();\n}","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Children } from \"react\";\nimport { isElementOfType, safeInvoke } from \"../../common/utils\";\nimport { Hotkey } from \"./hotkey\";\nimport { comboMatches, getKeyCombo, parseKeyCombo } from \"./hotkeyParser\";\nimport { hideHotkeysDialogAfterDelay, isHotkeysDialogShowing, showHotkeysDialog } from \"./hotkeysDialog\";\nvar SHOW_DIALOG_KEY = \"?\";\nexport var HotkeyScope;\n\n(function (HotkeyScope) {\n  HotkeyScope[\"LOCAL\"] = \"local\";\n  HotkeyScope[\"GLOBAL\"] = \"global\";\n})(HotkeyScope || (HotkeyScope = {}));\n\nvar HotkeysEvents =\n/** @class */\nfunction () {\n  function HotkeysEvents(scope) {\n    var _this = this;\n\n    this.scope = scope;\n    this.actions = [];\n\n    this.handleKeyDown = function (e) {\n      var combo = getKeyCombo(e);\n\n      var isTextInput = _this.isTextInput(e);\n\n      if (!isTextInput && comboMatches(parseKeyCombo(SHOW_DIALOG_KEY), combo)) {\n        if (isHotkeysDialogShowing()) {\n          hideHotkeysDialogAfterDelay();\n        } else {\n          showHotkeysDialog(_this.actions.map(function (action) {\n            return action.props;\n          }));\n        }\n\n        return;\n      } else if (isHotkeysDialogShowing()) {\n        return;\n      }\n\n      _this.invokeNamedCallbackIfComboRecognized(combo, \"onKeyDown\", e);\n    };\n\n    this.handleKeyUp = function (e) {\n      if (isHotkeysDialogShowing()) {\n        return;\n      }\n\n      _this.invokeNamedCallbackIfComboRecognized(getKeyCombo(e), \"onKeyUp\", e);\n    };\n  }\n\n  HotkeysEvents.prototype.count = function () {\n    return this.actions.length;\n  };\n\n  HotkeysEvents.prototype.clear = function () {\n    this.actions = [];\n  };\n\n  HotkeysEvents.prototype.setHotkeys = function (props) {\n    var _this = this;\n\n    var actions = [];\n    Children.forEach(props.children, function (child) {\n      if (isElementOfType(child, Hotkey) && _this.isScope(child.props)) {\n        actions.push({\n          combo: parseKeyCombo(child.props.combo),\n          props: child.props\n        });\n      }\n    });\n    this.actions = actions;\n  };\n\n  HotkeysEvents.prototype.invokeNamedCallbackIfComboRecognized = function (combo, callbackName, e) {\n    var isTextInput = this.isTextInput(e);\n\n    for (var _i = 0, _a = this.actions; _i < _a.length; _i++) {\n      var action = _a[_i];\n      var shouldIgnore = isTextInput && !action.props.allowInInput || action.props.disabled;\n\n      if (!shouldIgnore && comboMatches(action.combo, combo)) {\n        if (action.props.preventDefault) {\n          e.preventDefault();\n        }\n\n        if (action.props.stopPropagation) {\n          // set a flag just for unit testing. not meant to be referenced in feature work.\n          e.isPropagationStopped = true;\n          e.stopPropagation();\n        }\n\n        safeInvoke(action.props[callbackName], e);\n      }\n    }\n  };\n\n  HotkeysEvents.prototype.isScope = function (props) {\n    return (props.global ? HotkeyScope.GLOBAL : HotkeyScope.LOCAL) === this.scope;\n  };\n\n  HotkeysEvents.prototype.isTextInput = function (e) {\n    var elem = e.target; // we check these cases for unit testing, but this should not happen\n    // during normal operation\n\n    if (elem == null || elem.closest == null) {\n      return false;\n    }\n\n    var editable = elem.closest(\"input, textarea, [contenteditable=true]\");\n\n    if (editable == null) {\n      return false;\n    } // don't let checkboxes, switches, and radio buttons prevent hotkey behavior\n\n\n    if (editable.tagName.toLowerCase() === \"input\") {\n      var inputType = editable.type;\n\n      if (inputType === \"checkbox\" || inputType === \"radio\") {\n        return false;\n      }\n    } // don't let read-only fields prevent hotkey behavior\n\n\n    if (editable.readOnly) {\n      return false;\n    }\n\n    return true;\n  };\n\n  return HotkeysEvents;\n}();\n\nexport { HotkeysEvents };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport { HOTKEYS_WARN_DECORATOR_NEEDS_REACT_ELEMENT, HOTKEYS_WARN_DECORATOR_NO_METHOD } from \"../../common/errors\";\nimport { getDisplayName, isFunction, safeInvoke } from \"../../common/utils\";\nimport { HotkeyScope, HotkeysEvents } from \"./hotkeysEvents\";\nexport function HotkeysTarget(WrappedComponent) {\n  var _a;\n\n  if (!isFunction(WrappedComponent.prototype.renderHotkeys)) {\n    console.warn(HOTKEYS_WARN_DECORATOR_NO_METHOD);\n  }\n\n  return _a =\n  /** @class */\n  function (_super) {\n    tslib_1.__extends(HotkeysTargetClass, _super);\n\n    function HotkeysTargetClass() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n      /** @internal */\n\n\n      _this.globalHotkeysEvents = new HotkeysEvents(HotkeyScope.GLOBAL);\n      /** @internal */\n\n      _this.localHotkeysEvents = new HotkeysEvents(HotkeyScope.LOCAL);\n      return _this;\n    }\n\n    HotkeysTargetClass.prototype.componentDidMount = function () {\n      if (_super.prototype.componentDidMount != null) {\n        _super.prototype.componentDidMount.call(this);\n      } // attach global key event listeners\n\n\n      document.addEventListener(\"keydown\", this.globalHotkeysEvents.handleKeyDown);\n      document.addEventListener(\"keyup\", this.globalHotkeysEvents.handleKeyUp);\n    };\n\n    HotkeysTargetClass.prototype.componentWillUnmount = function () {\n      if (_super.prototype.componentWillUnmount != null) {\n        _super.prototype.componentWillUnmount.call(this);\n      }\n\n      document.removeEventListener(\"keydown\", this.globalHotkeysEvents.handleKeyDown);\n      document.removeEventListener(\"keyup\", this.globalHotkeysEvents.handleKeyUp);\n      this.globalHotkeysEvents.clear();\n      this.localHotkeysEvents.clear();\n    };\n\n    HotkeysTargetClass.prototype.render = function () {\n      var _this = this;\n\n      var element = _super.prototype.render.call(this);\n\n      if (element == null) {\n        // always return `element` in case caller is distinguishing between `null` and `undefined`\n        return element;\n      }\n\n      if (!React.isValidElement(element)) {\n        console.warn(HOTKEYS_WARN_DECORATOR_NEEDS_REACT_ELEMENT);\n        return element;\n      }\n\n      if (isFunction(this.renderHotkeys)) {\n        var hotkeys = this.renderHotkeys();\n\n        if (this.localHotkeysEvents) {\n          this.localHotkeysEvents.setHotkeys(hotkeys.props);\n        }\n\n        if (this.globalHotkeysEvents) {\n          this.globalHotkeysEvents.setHotkeys(hotkeys.props);\n        }\n\n        if (this.localHotkeysEvents.count() > 0) {\n          var tabIndex = hotkeys.props.tabIndex === undefined ? 0 : hotkeys.props.tabIndex;\n          var _a = element.props,\n              existingKeyDown_1 = _a.onKeyDown,\n              existingKeyUp_1 = _a.onKeyUp;\n\n          var handleKeyDownWrapper = function handleKeyDownWrapper(e) {\n            _this.localHotkeysEvents.handleKeyDown(e.nativeEvent);\n\n            safeInvoke(existingKeyDown_1, e);\n          };\n\n          var handleKeyUpWrapper = function handleKeyUpWrapper(e) {\n            _this.localHotkeysEvents.handleKeyUp(e.nativeEvent);\n\n            safeInvoke(existingKeyUp_1, e);\n          };\n\n          return React.cloneElement(element, {\n            onKeyDown: handleKeyDownWrapper,\n            onKeyUp: handleKeyUpWrapper,\n            tabIndex: tabIndex\n          });\n        }\n      }\n\n      return element;\n    };\n\n    return HotkeysTargetClass;\n  }(WrappedComponent), _a.displayName = \"HotkeysTarget(\" + getDisplayName(WrappedComponent) + \")\", _a;\n}","import { BlockType, OpType, FocusMode } from '@blink-mind/core';\nimport { createElement, PureComponent } from 'react';\nimport plainSerializer from 'slate-plain-serializer';\nimport debug from 'debug';\nimport { Editor } from 'slate-react';\nimport styled from 'styled-components';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar log = debug('node:text-editor');\nvar Content = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 6px;\\n  background-color: \", \";\\n  cursor: \", \";\\n  min-width: 50px;\\n\"], [\"\\n  padding: 6px;\\n  background-color: \", \";\\n  cursor: \", \";\\n  min-width: 50px;\\n\"])), function (props) {\n  return props.readOnly ? null : 'white';\n}, function (props) {\n  return props.readOnly ? 'pointer' : 'text';\n});\n\nvar SimpleTextEditor =\n/** @class */\nfunction (_super) {\n  __extends(SimpleTextEditor, _super);\n\n  function SimpleTextEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      content: null\n    };\n\n    _this.onMouseDown = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.onMouseMove = function (e) {// log('onMouseMove');\n      // e.stopPropagation();\n    };\n\n    _this._handleClick = function (event) {\n      var wasOutside = !_this.root.contains(event.target);\n      wasOutside && _this.onClickOutSide(event);\n    };\n\n    _this.rootRef = function (saveRef) {\n      return function (ref) {\n        saveRef(ref);\n        _this.root = ref;\n      };\n    };\n\n    _this.initState();\n\n    return _this;\n  }\n\n  SimpleTextEditor.prototype.onChange = function (_a) {\n    var value = _a.value;\n    log('onChange', value);\n    this.setState({\n      content: value\n    });\n  };\n\n  SimpleTextEditor.prototype.componentDidMount = function () {\n    var readOnly = this.props.readOnly;\n    if (readOnly) return;\n    document.addEventListener('click', this._handleClick);\n  };\n\n  SimpleTextEditor.prototype.componentWillUnmount = function () {\n    var readOnly = this.props.readOnly;\n    if (readOnly) return;\n    document.removeEventListener('click', this._handleClick);\n  };\n\n  SimpleTextEditor.prototype.onClickOutSide = function (e) {};\n\n  SimpleTextEditor.prototype.getCustomizeProps = function () {\n    return null;\n  };\n\n  SimpleTextEditor.prototype.getContent = function () {\n    var block = this.getCustomizeProps().block;\n    var content = block.data;\n    if (content == null) return null;\n\n    if (typeof content === 'string') {\n      content = plainSerializer.deserialize(content);\n    }\n\n    return content;\n  };\n\n  SimpleTextEditor.prototype.initState = function () {\n    var content = this.getContent();\n    this.state = {\n      content: content\n    };\n  };\n\n  SimpleTextEditor.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n\n    var _b = this.getCustomizeProps(),\n        readOnly = _b.readOnly,\n        refKeyPrefix = _b.refKeyPrefix,\n        placeholder = _b.placeholder,\n        style = _b.style;\n\n    log(readOnly);\n    var key = refKeyPrefix + \"-\" + topicKey;\n    var content = readOnly ? this.getContent() : this.state.content;\n\n    var _c = this,\n        onMouseDown = _c.onMouseDown,\n        onMouseMove = _c.onMouseMove;\n\n    var editorProps = {\n      value: content,\n      readOnly: readOnly,\n      onChange: this.onChange.bind(this),\n      placeholder: placeholder,\n      style: style\n    };\n    var contentProps = {\n      key: key,\n      readOnly: readOnly,\n      ref: this.rootRef(saveRef(key)),\n      onMouseDown: onMouseDown,\n      onMouseMove: onMouseMove\n    };\n    return createElement(Content, _assign({}, contentProps), createElement(Editor, _assign({}, editorProps, {\n      autoFocus: true\n    })));\n  };\n\n  return SimpleTextEditor;\n}(PureComponent);\n\nvar templateObject_1;\nvar log$1 = debug('node:topic-content-editor');\n\nvar TopicContentEditor =\n/** @class */\nfunction (_super) {\n  __extends(TopicContentEditor, _super);\n\n  function TopicContentEditor(props) {\n    return _super.call(this, props) || this;\n  }\n\n  TopicContentEditor.prototype.getCustomizeProps = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey,\n        readOnly = _a.readOnly;\n    var block = model.getTopic(topicKey).getBlock(BlockType.CONTENT).block;\n    var refKeyPrefix = 'content-editor';\n    var style = {\n      whiteSpace: 'pre'\n    };\n    return {\n      block: block,\n      readOnly: readOnly,\n      refKeyPrefix: refKeyPrefix,\n      placeholder: 'new',\n      style: style\n    };\n  }; // onChange = ({ value }) => {\n  //   log('onChange');\n  //   const { model, topicKey } = this.props;\n  //   const readOnly = model.editingContentKey !== topicKey;\n  //   if (readOnly) return;\n  //   const { controller } = this.props;\n  //   controller.run('operation', {\n  //     ...this.props,\n  //     opType: OpType.SET_TOPIC_CONTENT,\n  //     content: value\n  //   });\n  // };\n\n\n  TopicContentEditor.prototype.onClickOutSide = function (e) {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var readOnly = model.editingContentKey !== topicKey;\n    if (readOnly) return;\n    var controller = this.props.controller;\n    controller.run('operation', _assign(_assign({}, this.props), {\n      opType: OpType.SET_TOPIC_CONTENT,\n      data: this.state.content\n    }));\n    controller.run('operation', _assign(_assign({}, this.props), {\n      opType: OpType.FOCUS_TOPIC,\n      focusMode: FocusMode.NORMAL\n    }));\n  };\n\n  return TopicContentEditor;\n}(SimpleTextEditor);\n\nvar log$2 = debug('node:topic-desc-editor');\n\nvar TopicDescEditor =\n/** @class */\nfunction (_super) {\n  __extends(TopicDescEditor, _super);\n\n  function TopicDescEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    log$2('constructor');\n    return _this;\n  }\n\n  TopicDescEditor.prototype.initState = function () {\n    _super.prototype.initState.call(this);\n\n    var _a = this.props,\n        controller = _a.controller,\n        topicKey = _a.topicKey;\n    var key = \"topic-desc-data-\" + topicKey;\n    var value = this.state.content;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n  };\n\n  TopicDescEditor.prototype.getCustomizeProps = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var block = model.getTopic(topicKey).getBlock(BlockType.DESC).block;\n    var readOnly = model.editingDescKey !== topicKey;\n    var refKeyPrefix = 'desc-editor';\n    return {\n      block: block,\n      readOnly: readOnly,\n      refKeyPrefix: refKeyPrefix,\n      placeholder: 'write topic notes here'\n    };\n  };\n\n  TopicDescEditor.prototype.onChange = function (_a) {\n    var value = _a.value;\n    log$2('onChange');\n    var _b = this.props,\n        controller = _b.controller,\n        topicKey = _b.topicKey,\n        model = _b.model;\n    var readOnly = model.editingDescKey !== topicKey;\n    if (readOnly) return;\n    var key = \"topic-desc-data-\" + topicKey;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n    this.setState({\n      content: value\n    });\n  };\n\n  return TopicDescEditor;\n}(SimpleTextEditor);\n\nfunction SimpleTextEditorPlugin() {\n  return {\n    getTopicTitle: function getTopicTitle(props) {\n      var model = props.model,\n          controller = props.controller,\n          topicKey = props.topicKey;\n      var topic = model.getTopic(topicKey);\n      var block = topic.getBlock(BlockType.CONTENT).block;\n      var txt = controller.run('serializeBlockData', _assign(_assign({}, props), {\n        block: block\n      }));\n      return txt;\n    },\n    renderTopicContentEditor: function renderTopicContentEditor(props) {\n      return createElement(TopicContentEditor, _assign({}, props));\n    },\n    renderTopicDescEditor: function renderTopicDescEditor(props) {\n      return createElement(TopicDescEditor, _assign({}, props));\n    },\n    isBlockEmpty: function isBlockEmpty(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        return block.data == null || controller.run('serializeBlockData', props) === '';\n      }\n\n      return next();\n    },\n    serializeBlockData: function serializeBlockData(props, next) {\n      var block = props.block;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        return typeof block.data === 'string' ? block.data : plainSerializer.serialize(block.data);\n      }\n\n      return next();\n    },\n    serializeBlock: function serializeBlock(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        var res = {\n          type: block.type,\n          data: controller.run('serializeBlockData', props)\n        };\n        return res;\n      }\n\n      return next();\n    },\n    deserializeBlock: function deserializeBlock(props, next) {\n      return next();\n    }\n  };\n}\n\nexport default SimpleTextEditorPlugin;","import { PureComponent, createElement, Component, Fragment } from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport styled, { css, ThemeProvider } from 'styled-components';\nimport debug from 'debug';\nimport { OpType, FocusMode, getRelationship, TopicRelationship, DiagramLayoutType, ModelModifier, BlockType, TopicDirection, TopicVisualLevel, Controller } from '@blink-mind/core';\nimport '@blink-mind/icons';\nimport { Breadcrumbs, PopoverPosition, Breadcrumb, Tooltip, Dialog, Classes, MenuItem, Divider, Button, Popover, NumericInput, InputGroup, ContextMenuTarget, Menu, PopoverInteractionKind, Drawer, Position, Hotkey, Hotkeys, HotkeysTarget } from '@blueprintjs/core';\nimport '@blueprintjs/core/lib/css/blueprint.css';\nimport memoizeOne from 'memoize-one';\nimport SimpleTextEditorPlugin from '@blink-mind/plugin-simple-text-editor';\nimport { Stack, List } from 'immutable';\nimport { SketchPicker } from 'react-color';\nimport { Select } from '@blueprintjs/select';\nimport cx from 'classnames';\nimport { isEqual } from 'lodash';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nfunction __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar BaseWidget =\n/** @class */\nfunction (_super) {\n  __extends(BaseWidget, _super);\n\n  function BaseWidget(props) {\n    return _super.call(this, props) || this;\n  }\n\n  BaseWidget.prototype.operation = function (opType, arg) {\n    this.props.controller.run('operation', _assign({\n      opType: opType\n    }, arg));\n  };\n\n  BaseWidget.prototype.run = function (name, arg) {\n    this.props.controller.run(name, arg);\n  };\n\n  Object.defineProperty(BaseWidget.prototype, \"topic\", {\n    get: function get() {\n      return this.props.model.getTopic(this.props.topicKey);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return BaseWidget;\n}(PureComponent);\n\nvar log = debug('node:drag-scroll-widget');\nvar DragScrollView = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: scroll;\\n\"], [\"\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: scroll;\\n\"])));\nvar DragScrollContent = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: relative;\\n  width: max-content;\\n\"], [\"\\n  position: relative;\\n  width: max-content;\\n\"])));\n\nvar DragScrollWidget =\n/** @class */\nfunction (_super) {\n  __extends(DragScrollWidget, _super);\n\n  function DragScrollWidget(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.contentResizeCallback = function (entries, observer) {\n      if (_this.oldContentRect) {\n        var widgetStyle = {\n          width: _this.content.clientWidth + _this.viewBox.clientWidth * 2,\n          height: _this.content.clientHeight + _this.viewBox.clientHeight * 2\n        };\n        _this.bigView.style.width = widgetStyle.width + 'px';\n        _this.bigView.style.height = widgetStyle.height + 'px';\n      }\n\n      _this.oldContentRect = entries[0].contentRect;\n    };\n\n    _this.contentResizeObserver = new ResizeObserver(_this.contentResizeCallback);\n\n    _this.contentRef = function (ref) {\n      if (ref) {\n        _this.content = ref;\n\n        _this.contentResizeObserver.observe(_this.content);\n      }\n    };\n\n    _this.viewBoxRef = function (ref) {\n      if (ref) {\n        _this.viewBox = ref;\n\n        if (!_this.props.enableMouseWheel) {\n          log('addEventListener onwheel');\n\n          _this.viewBox.addEventListener('wheel', function (e) {\n            log('onwheel');\n            (e.ctrlKey || e.altKey) && e.preventDefault();\n          }, {\n            passive: false\n          });\n        }\n\n        _this.setViewBoxScroll(_this.viewBox.clientWidth, _this.viewBox.clientHeight);\n      }\n    };\n\n    _this.bigViewRef = function (ref) {\n      if (ref) {\n        _this.bigView = ref;\n      }\n    };\n\n    _this.setWidgetStyle = function () {\n      if (_this.content && _this.viewBox && _this.bigView) {\n        _this.bigView.style.width = (_this.content.clientWidth + _this.viewBox.clientWidth) * 2 + 'px';\n        _this.bigView.style.height = (_this.content.clientHeight + _this.viewBox.clientHeight) * 2 + 'px';\n        _this.content.style.left = _this.viewBox.clientWidth + 'px';\n        _this.content.style.top = _this.viewBox.clientHeight + 'px';\n      }\n    };\n\n    _this.setViewBoxScroll = function (left, top) {\n      log(\"setViewBoxScroll \" + left + \" \" + top);\n\n      if (_this.viewBox) {\n        _this.viewBox.scrollLeft = left;\n        _this.viewBox.scrollTop = top;\n      }\n    };\n\n    _this.setViewBoxScrollDelta = function (deltaLeft, deltaTop) {\n      log(\"setViewBoxScrollDelta \" + deltaLeft + \" \" + deltaTop);\n\n      if (_this.viewBox) {\n        _this.viewBox.scrollLeft += deltaLeft;\n        _this.viewBox.scrollTop += deltaTop;\n      }\n    };\n\n    _this.onMouseDown = function (e) {\n      // log('Drag Scroll onMouseDown');\n      // log(e.nativeEvent.target);\n      // mouseKey 表示鼠标按下那个键才可以进行拖动，左键或者右键\n      // needKeyPressed 为了支持是否需要按下ctrl键，才可以进行拖动\n      // canDragFunc是一个函数，它是为了支持使用者以传入函数的方式，这个函数的返回值表示当前的内容是否可以被拖拽而移动\n      var _a = _this.props,\n          mouseKey = _a.mouseKey,\n          needKeyPressed = _a.needKeyPressed,\n          canDragFunc = _a.canDragFunc;\n      if (canDragFunc && !canDragFunc()) return;\n\n      if (e.button === 0 && mouseKey === 'left' || e.button === 2 && mouseKey === 'right') {\n        if (needKeyPressed) {\n          if (!e.ctrlKey) return;\n        }\n\n        _this._lastCoordX = _this.viewBox.scrollLeft + e.nativeEvent.clientX;\n        _this._lastCoordY = _this.viewBox.scrollTop + e.nativeEvent.clientY;\n        window.addEventListener('mousemove', _this.onMouseMove);\n        window.addEventListener('mouseup', _this.onMouseUp); // this.viewBox.addEventListener('mousemove', this.onMouseMove);\n        // this.viewBox.addEventListener('mouseup', this.onMouseUp);\n      }\n    };\n\n    _this.onMouseUp = function (e) {\n      window.removeEventListener('mousemove', _this.onMouseMove);\n      window.removeEventListener('mouseup', _this.onMouseUp); // this.viewBox.removeEventListener('mousemove', this.onMouseMove);\n      // this.viewBox.removeEventListener('mouseup', this.onMouseUp);\n    };\n\n    _this.onMouseMove = function (e) {\n      _this.viewBox.scrollLeft = _this._lastCoordX - e.clientX;\n      _this.viewBox.scrollTop = _this._lastCoordY - e.clientY; // log(`onMouseMove ${this.viewBox.scrollLeft} ${this.viewBox.scrollTop}`);\n    };\n\n    _this.handleContextMenu = function (e) {\n      e.preventDefault();\n    };\n\n    _this.state = {\n      widgetStyle: {\n        width: '10000px',\n        height: '10000px'\n      }\n    };\n    return _this;\n  }\n\n  DragScrollWidget.prototype.componentDidMount = function () {\n    this.setWidgetStyle();\n    document.addEventListener('contextmenu', this.handleContextMenu);\n  };\n\n  DragScrollWidget.prototype.componentWillUnmount = function () {\n    document.removeEventListener('contextmenu', this.handleContextMenu);\n  };\n\n  DragScrollWidget.prototype.setZoomFactor = function (zoomFactor) {\n    this.bigView.style.transform = \"scale(\" + zoomFactor + \")\";\n    this.bigView.style.transformOrigin = '50% 50%';\n  };\n\n  DragScrollWidget.prototype.render = function () {\n    var style = _assign({}, this.state.widgetStyle);\n\n    return createElement(DragScrollView, {\n      ref: this.viewBoxRef,\n      onMouseDown: this.onMouseDown\n    }, createElement(\"div\", {\n      style: style,\n      ref: this.bigViewRef\n    }, createElement(DragScrollContent, {\n      ref: this.contentRef,\n      style: this.state.contentStyle\n    }, this.props.children(this.setViewBoxScroll, this.setViewBoxScrollDelta))));\n  };\n\n  DragScrollWidget.defaultProps = {\n    mouseKey: 'left',\n    needKeyPressed: false\n  };\n  return DragScrollWidget;\n}(Component);\n\nvar templateObject_1, templateObject_2;\n\nvar SaveRef =\n/** @class */\nfunction (_super) {\n  __extends(SaveRef, _super);\n\n  function SaveRef() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.getRef = function (name) {\n      return _this[name];\n    };\n\n    _this.saveRef = function (name) {\n      return function (node) {\n        if (node) {\n          _this[name] = node;\n\n          _this.fireListener(name, node);\n        }\n      };\n    };\n\n    _this.observers = new Map();\n\n    _this.fireListener = function (name, ref) {\n      var e_1, _a;\n\n      if (_this.observers.has(name)) {\n        var listeners = _this.observers.get(name);\n\n        try {\n          for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\n            var listener = listeners_1_1.value;\n            listener(name, ref);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    };\n\n    _this.registerRefListener = function (name, listener) {\n      if (!_this.observers.has(name)) {\n        _this.observers.set(name, [listener]);\n      } else {\n        _this.observers.get(name).push(listener);\n      }\n    };\n\n    return _this;\n  }\n\n  SaveRef.prototype.render = function () {\n    return this.props.children(this.saveRef, this.getRef, this.registerRefListener.bind(this));\n  };\n\n  return SaveRef;\n}(Component);\n\nvar Flex = styled.div(templateObject_1$1 || (templateObject_1$1 = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: \", \";\\n\"], [\"\\n  display: flex;\\n  align-items: \", \";\\n\"])), function (props) {\n  return props.alignItems;\n});\nvar Margin = styled.div(templateObject_2$1 || (templateObject_2$1 = __makeTemplateObject([\"\\n  margin: \", \";\\n\"], [\"\\n  margin: \", \";\\n\"])), function (props) {\n  return props.margin;\n});\nvar ShowMenuIcon = styled.a(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  font-size: 20px !important;\\n\"], [\"\\n  font-size: 20px !important;\\n\"])));\nvar IconBg = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  padding: 5px;\\n  cursor: pointer;\\n\"], [\"\\n  padding: 5px;\\n  cursor: pointer;\\n\"])));\nvar Btn = styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  cursor: pointer;\\n  &:hover {\\n    color: #1ea7fd;\\n  }\\n\"], [\"\\n  cursor: pointer;\\n  &:hover {\\n    color: #1ea7fd;\\n  }\\n\"])));\nvar CloseIcon = styled(Btn)(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  position: absolute;\\n  right: 5px;\\n  top: 5px;\\n\"], [\"\\n  position: absolute;\\n  right: 5px;\\n  top: 5px;\\n\"])));\nvar Title = styled.div(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  height: 16px;\\n\"], [\"\\n  height: 16px;\\n\"])));\nvar templateObject_1$1, templateObject_2$1, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7;\nvar IconName = {\n  SHOW_MENU: 'show-menu',\n  CLOSE: 'close',\n  COLOR_PICKER: 'color-picker',\n  NOTES: 'notes',\n  PLUS: 'plus',\n  MINUS: 'minus',\n  COLLAPSE_ALL: 'collapse',\n  EXPAND_ALL: 'expand',\n  CENTER: 'center'\n};\n\nfunction iconClassName(name) {\n  return \"icon iconfont bm-\" + name;\n}\n\nfunction Icon(iconName) {\n  return createElement(\"span\", {\n    className: iconClassName(iconName)\n  });\n}\n\nfunction contentRefKey(key) {\n  return \"content-\" + key;\n}\n\nfunction topicWidgetRefKey(key) {\n  return \"topic-widget-\" + key;\n}\n\nfunction topicRefKey(key) {\n  return \"topic-\" + key;\n}\n\nfunction linksRefKey(key) {\n  return \"links-\" + key;\n}\n\nfunction linksSvgRefKey(key) {\n  return \"links-svg-\" + key;\n}\n\nfunction collapseRefKey(key) {\n  return \"collapse-\" + key;\n}\n\nvar RefKey = {\n  DIAGRAM_ROOT_KEY: 'DIAGRAM-ROOT',\n  DRAG_SCROLL_WIDGET_KEY: 'DragScrollWidget',\n  SVG_HIGHLIGHT_KEY: 'svg-highlight',\n  FOCUS_HIGHLIGHT_KEY: 'focus-highlight',\n  DROP_EFFECT_KEY: 'drop-effect'\n};\nvar EventKey = {\n  CENTER_ROOT_TOPIC: 'CENTER_ROOT_TOPIC'\n};\n\nvar cancelEvent = function cancelEvent(e) {\n  e.stopPropagation();\n};\n\nfunction getLinkKey(fromKey, toKey) {\n  return \"link-\" + fromKey + \"-\" + toKey;\n}\n\nfunction centerY(rect) {\n  return (rect.top + rect.bottom) / 2;\n}\n\nfunction centerX(rect) {\n  return (rect.left + rect.right) / 2;\n}\n\nfunction centerPointX(p1, p2) {\n  return (p1.x + p2.x) / 2;\n}\n\nfunction centerPointY(p1, p2) {\n  return (p1.y + p2.y) / 2;\n}\n\nfunction center(rect) {\n  return [(rect.left + rect.right) / 2, (rect.top + rect.bottom) / 2];\n}\n\nfunction _getRelativeRect(el, rel, scale) {\n  if (scale === void 0) {\n    scale = 1;\n  }\n\n  var rect = el.getBoundingClientRect();\n  var relRect = rel.getBoundingClientRect();\n  var relCenter = center(relRect);\n  var elCenter = center(rect);\n  elCenter[0] = (elCenter[0] - relCenter[0]) / scale;\n  elCenter[1] = (elCenter[1] - relCenter[1]) / scale;\n  var width = rect.width / scale;\n  var height = rect.height / scale;\n  return {\n    left: elCenter[0] - width / 2,\n    right: elCenter[0] + width / 2,\n    top: elCenter[1] - height / 2,\n    bottom: elCenter[1] + height / 2,\n    width: width,\n    height: height\n  };\n}\n\nfunction getRelativeVector(el, rel) {\n  var rect = el.getBoundingClientRect();\n  var relRect = rel.getBoundingClientRect();\n  var relCenter = center(relRect);\n  var elCenter = center(rect);\n  return [elCenter[0] - relCenter[0], elCenter[1] - relCenter[1]];\n}\n\nvar log$1 = debug('node:topic-drop-effect');\nvar DropEffectSvg = styled.svg(templateObject_1$2 || (templateObject_1$2 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"])));\n\nvar TopicDropEffect =\n/** @class */\nfunction (_super) {\n  __extends(TopicDropEffect, _super);\n\n  function TopicDropEffect() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      content: null\n    };\n    return _this;\n  }\n\n  TopicDropEffect.prototype.layout = function () {\n    var props = this.props;\n    var _a = this.props,\n        getRef = _a.getRef,\n        model = _a.model,\n        zoomFactor = _a.zoomFactor,\n        controller = _a.controller;\n    var targetProps = controller.run('getDragTargetProps', props);\n    var key = targetProps.key,\n        dropDir = targetProps.dropDir;\n    log$1('layout', dropDir);\n\n    if (key === null) {\n      this.setState({\n        content: null\n      });\n      return;\n    }\n\n    var dropAreaRefKey;\n\n    if (dropDir === 'in') {\n      dropAreaRefKey = contentRefKey(key);\n    } else {\n      dropAreaRefKey = \"dropArea-\" + dropDir + \"-\" + key;\n    }\n\n    var content = getRef(dropAreaRefKey);\n    var svg = getRef('svg-drop-effect');\n    var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n\n    var contentRect = _getRelativeRect(content, bigView, zoomFactor);\n\n    var svgRect = _getRelativeRect(svg, bigView, zoomFactor);\n\n    var padding = 3;\n    var x = contentRect.left - svgRect.left - padding;\n    var y = contentRect.top - svgRect.top - padding;\n    var width = contentRect.width + 2 * padding;\n    var height = contentRect.height + 2 * padding;\n    this.setState({\n      content: createElement(\"g\", null, createElement(\"rect\", {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        fill: \"none\",\n        stroke: model.config.theme.highlightColor,\n        strokeDasharray: \"5,5\",\n        strokeWidth: 2\n      }))\n    });\n  };\n\n  TopicDropEffect.prototype.render = function () {\n    var saveRef = this.props.saveRef;\n    return createElement(DropEffectSvg, {\n      ref: saveRef('svg-drop-effect')\n    }, this.state.content);\n  };\n\n  return TopicDropEffect;\n}(BaseWidget);\n\nvar templateObject_1$2;\nvar log$2 = debug('plugin:drag-and-drop');\nvar DropArea = styled.div(templateObject_1$3 || (templateObject_1$3 = __makeTemplateObject([\"\\n  height: \", \";\\n  width: 100%;\\n  margin: 5px 0px;\\n\"], [\"\\n  height: \", \";\\n  width: 100%;\\n  margin: 5px 0px;\\n\"])), function (props) {\n  return props.height + \"px\";\n});\n\nfunction DragAndDrop() {\n  var dragTargetKey = null;\n  var dragTargetDir = null;\n  return {\n    renderTopicDropArea: function renderTopicDropArea(props) {\n      var topicKey = props.topicKey,\n          dropDir = props.dropDir,\n          saveRef = props.saveRef,\n          controller = props.controller,\n          model = props.model;\n\n      var onDragEnter = function onDragEnter(ev) {\n        log$2('onDragEnter', topicKey, dropDir);\n        controller.run('handleTopicDragEnter', _assign(_assign({}, props), {\n          ev: ev,\n          dropDir: dropDir\n        }));\n      };\n\n      var onDragLeave = function onDragLeave(ev) {\n        log$2('onDragLeave', topicKey, dropDir);\n        controller.run('handleTopicDragLeave', _assign(_assign({}, props), {\n          ev: ev,\n          dropDir: dropDir\n        }));\n      };\n\n      var onDragOver = function onDragOver(ev) {\n        ev.preventDefault();\n      };\n\n      var onDrop = function onDrop(ev) {\n        log$2('onDrop', topicKey, dropDir);\n        controller.run('handleTopicDrop', _assign(_assign({}, props), {\n          ev: ev,\n          dropDir: dropDir\n        }));\n      };\n\n      var eventHandlers = {\n        onDragEnter: onDragEnter,\n        onDragLeave: onDragLeave,\n        onDragOver: onDragOver,\n        onDrop: onDrop\n      };\n      return createElement(DropArea, _assign({\n        height: model.config.theme.marginV / 2,\n        ref: saveRef(\"dropArea-\" + dropDir + \"-\" + topicKey)\n      }, eventHandlers));\n    },\n    renderDragAndDropEffect: function renderDragAndDropEffect(props) {\n      log$2('renderDragAndDropEffect');\n      var saveRef = props.saveRef;\n      return createElement(TopicDropEffect, _assign({\n        ref: saveRef(RefKey.DROP_EFFECT_KEY)\n      }, props));\n    },\n    getDragTargetProps: function getDragTargetProps(props) {\n      return {\n        key: dragTargetKey,\n        dropDir: dragTargetDir\n      };\n    },\n    handleTopicDragStart: function handleTopicDragStart(props) {\n      var controller = props.controller,\n          ev = props.ev;\n      ev.stopPropagation();\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.DRAGGING\n      }));\n    },\n    canDrop: function canDrop(props) {\n      var srcKey = props.srcKey,\n          dstKey = props.dstKey,\n          model = props.model,\n          dropDir = props.dropDir;\n      if (srcKey === model.editorRootTopicKey || srcKey === dstKey || getRelationship(model, srcKey, dstKey) === TopicRelationship.ANCESTOR) return false;\n      if (dstKey === model.editorRootTopicKey && dropDir !== 'in') return false;\n      var srcTopic = model.getTopic(srcKey);\n      if (srcTopic.parentKey === dstKey && dropDir === 'in') return false;\n      return true;\n    },\n    handleTopicDragEnter: function handleTopicDragEnter(props) {\n      var dropDir = props.dropDir,\n          topicKey = props.topicKey,\n          controller = props.controller,\n          model = props.model,\n          ev = props.ev;\n      log$2('handleTopicDragEnter:', topicKey, dropDir);\n      var canDrop = controller.run('canDrop', _assign(_assign({}, props), {\n        srcKey: model.focusKey,\n        dstKey: topicKey\n      }));\n\n      if (canDrop) {\n        dragTargetKey = topicKey;\n        dragTargetDir = dropDir;\n        controller.change(model);\n      }\n    },\n    handleTopicDragLeave: function handleTopicDragLeave(props) {\n      var controller = props.controller,\n          model = props.model,\n          topicKey = props.topicKey,\n          dropDir = props.dropDir,\n          getRef = props.getRef,\n          ev = props.ev;\n      var relatedTarget = ev.nativeEvent.relatedTarget;\n      log$2('handleTopicDragLeave:', topicKey, dropDir);\n      var content = getRef(contentRefKey(topicKey));\n\n      if (content == relatedTarget || content.contains(relatedTarget)) {\n        return;\n      }\n\n      dragTargetKey = null;\n      dragTargetDir = null;\n      controller.change(model);\n    },\n    handleTopicDrop: function handleTopicDrop(props) {\n      log$2('handleTopicDrop');\n      var controller = props.controller,\n          topicKey = props.topicKey,\n          model = props.model;\n      props = _assign(_assign({}, props), {\n        srcKey: model.focusKey,\n        dstKey: topicKey\n      });\n      dragTargetKey = null;\n      dragTargetDir = null;\n\n      if (controller.run('canDrop', props)) {\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.DRAG_AND_DROP\n        }));\n      }\n    }\n  };\n}\n\nvar templateObject_1$3;\nvar log$3 = debug('plugin:event');\n\nfunction EventPlugin() {\n  var eventListeners = {};\n  return {\n    handleTopicClick: function handleTopicClick(props) {\n      log$3('handleTopicClick');\n      var controller = props.controller,\n          model = props.model,\n          topicKey = props.topicKey;\n      log$3(model.zoomFactor);\n      if (model.editingDescKey !== null) return;\n      if (model.editingContentKey === topicKey) return;\n      if (model.focusKey === topicKey && model.focusMode === FocusMode.EDITING_CONTENT) return;\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.NORMAL\n      }));\n    },\n    handleTopicDoubleClick: function handleTopicDoubleClick(props) {\n      var controller = props.controller,\n          model = props.model;\n      if (model.editingDescKey !== null) return;\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.EDITING_CONTENT\n      }));\n    },\n    handleTopicContextMenu: function handleTopicContextMenu(props) {\n      var controller = props.controller;\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.SHOW_POPUP\n      }));\n    },\n    handleActiveModalClose: function handleActiveModalClose(props) {\n      var controller = props.controller;\n      var activeModalProps = controller.run('getActiveModalProps', props);\n      if (activeModalProps == null) return null;\n\n      if (activeModalProps.name === 'edit-desc') {\n        return function () {\n          controller.run('operation', _assign(_assign({}, props), {\n            focusMode: FocusMode.NORMAL,\n            opType: OpType.FOCUS_TOPIC\n          }));\n        };\n      }\n    },\n    addEventListener: function addEventListener(props) {\n      var key = props.key,\n          listener = props.listener,\n          once = props.once,\n          controller = props.controller;\n      if (!eventListeners[key]) eventListeners[key] = [];\n\n      if (once) {\n        only.origin = listener;\n        eventListeners[key].push(only);\n      } else {\n        eventListeners[key].push(listener);\n      }\n\n      function only() {\n        listener();\n        controller.run('removeEventListener', {\n          key: key,\n          listener: listener\n        });\n      }\n    },\n    removeEventListener: function removeEventListener(props) {\n      var key = props.key,\n          listener = props.listener,\n          controller = props.controller;\n\n      if (eventListeners[key]) {\n        eventListeners[key] = eventListeners[key].filter(function (fn) {\n          return fn !== listener && fn.origin !== listener;\n        });\n      }\n    },\n    fireEvent: function fireEvent(props) {\n      var key = props.key;\n\n      if (eventListeners[key]) {\n        eventListeners[key].forEach(function (fn) {\n          return fn();\n        });\n      }\n    }\n  };\n}\n\nvar HotKeyName = {\n  ADD_CHILD: 'ADD_CHILD',\n  ADD_SIBLING: 'ADD_SIBLING',\n  DELETE_TOPIC: 'DELETE_TOPIC',\n  EDIT_CONTENT: 'EDIT_CONTENT',\n  EDIT_NOTES: 'EDIT_NOTES',\n  SET_EDITOR_ROOT: 'SET_EDITOR_ROOT'\n};\n\nfunction op(opType, props) {\n  var topicKey = props.topicKey,\n      model = props.model,\n      controller = props.controller;\n\n  if (topicKey === undefined) {\n    props = _assign(_assign({}, props), {\n      topicKey: model.focusKey\n    });\n  }\n\n  controller.run('operation', _assign(_assign({}, props), {\n    opType: opType\n  }));\n}\n\nfunction HotKeyPlugin() {\n  return {\n    customizeHotKeys: function customizeHotKeys(props) {\n      var handleKeyDown = function handleKeyDown(opType) {\n        return function (e) {\n          // log('HotKeyPlugin', opType);\n          op(opType, props);\n        };\n      };\n\n      var hotKeyMap = new Map([[HotKeyName.ADD_CHILD, {\n        label: 'add child',\n        combo: 'tab',\n        onKeyDown: handleKeyDown(OpType.ADD_CHILD)\n      }], [HotKeyName.ADD_SIBLING, {\n        label: 'add sibling',\n        combo: 'enter',\n        onKeyDown: handleKeyDown(OpType.ADD_SIBLING)\n      }], [HotKeyName.DELETE_TOPIC, {\n        label: 'delete topic',\n        combo: 'del',\n        onKeyDown: handleKeyDown(OpType.DELETE_TOPIC)\n      }], [HotKeyName.EDIT_CONTENT, {\n        label: 'edit content',\n        combo: 'space',\n        onKeyDown: handleKeyDown(OpType.START_EDITING_CONTENT)\n      }], [HotKeyName.EDIT_NOTES, {\n        label: 'edit notes',\n        combo: 'alt + d',\n        onKeyDown: handleKeyDown(OpType.START_EDITING_DESC)\n      }], [HotKeyName.SET_EDITOR_ROOT, {\n        label: 'set editor root',\n        combo: 'alt + shift + f',\n        onKeyDown: handleKeyDown(OpType.SET_EDITOR_ROOT)\n      }]]);\n      return hotKeyMap;\n    }\n  };\n}\n\nfunction LayoutPlugin() {\n  var _zoomFactor = 1;\n  return {\n    getPartTopics: function getPartTopics(_a) {\n      var layout = _a.layout,\n          model = _a.model,\n          topicKey = _a.topicKey;\n      var topic = model.getTopic(topicKey);\n      var subTopicCount = topic.subKeys.size;\n      var topics = topic.subKeys.toArray();\n\n      switch (layout) {\n        case DiagramLayoutType.LEFT_TO_RIGHT:\n          return {\n            R: topics\n          };\n\n        case DiagramLayoutType.RIGHT_TO_LEFT:\n          return {\n            L: topics\n          };\n\n        case DiagramLayoutType.LEFT_AND_RIGHT:\n          return {\n            L: topics.slice(Math.ceil(subTopicCount / 2), subTopicCount),\n            R: topics.slice(0, Math.ceil(subTopicCount / 2))\n          };\n\n        case DiagramLayoutType.TOP_TO_BOTTOM:\n          return {\n            B: topics\n          };\n      }\n    },\n    createSubTopics: function createSubTopics(props) {\n      var model = props.model,\n          topicKey = props.topicKey,\n          controller = props.controller,\n          topics = props.topics,\n          saveRef = props.saveRef;\n      var topic = model.getTopic(topicKey);\n      if (topics.size === 0 || topic.collapse) return null;\n      var subTopics = [];\n      topics.forEach(function (tKey) {\n        var topicProps = _assign(_assign({}, props), {\n          topicKey: tKey,\n          key: tKey,\n          ref: saveRef(topicWidgetRefKey(tKey))\n        });\n\n        subTopics.push(controller.run('renderTopicWidget', topicProps));\n      });\n      return {\n        subTopics: subTopics\n      };\n    },\n    layout: function layout(props) {\n      var getRef = props.getRef,\n          model = props.model;\n      var links = getRef(linksRefKey(model.editorRootTopicKey));\n      var highlight = getRef(RefKey.FOCUS_HIGHLIGHT_KEY);\n      var dropEffect = getRef(RefKey.DROP_EFFECT_KEY);\n      links && links.layout();\n      highlight && highlight.layout();\n      dropEffect && dropEffect.layout();\n      var editorRootTopic = model.getTopic(model.editorRootTopicKey);\n      layoutTopic(editorRootTopic);\n\n      function layoutTopic(topic) {\n        var e_1, _a;\n\n        if (topic.key !== model.editorRootTopicKey) {\n          var topicWidget = getRef(topicWidgetRefKey(topic.key));\n          topicWidget && topicWidget.layoutLinks();\n        }\n\n        try {\n          for (var _b = __values(topic.subKeys), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var subKey = _c.value;\n            layoutTopic(model.getTopic(subKey));\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    },\n    setLayoutDir: function setLayoutDir(props) {\n      var layoutDir = props.layoutDir,\n          model = props.model,\n          controller = props.controller;\n      controller.change(ModelModifier.setLayoutDir({\n        model: model,\n        layoutDir: layoutDir\n      }));\n    },\n    getRelativeRect: function getRelativeRect(props) {\n      var element = props.element,\n          controller = props.controller,\n          getRef = props.getRef;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n      return _getRelativeRect(element, bigView, zoomFactor);\n    },\n    getRelativeRectFromViewPort: function getRelativeRectFromViewPort(props) {\n      var element = props.element,\n          controller = props.controller,\n          getRef = props.getRef;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      var viewBox = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).viewBox;\n      return _getRelativeRect(element, viewBox, zoomFactor);\n    },\n    getRelativeVectorFromViewPort: function getRelativeVectorFromViewPort(props) {\n      var element = props.element,\n          controller = props.controller,\n          getRef = props.getRef;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      var viewBox = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).viewBox;\n      return getRelativeVector(element, viewBox);\n    },\n    addZoomFactorChangeEventListener: function addZoomFactorChangeEventListener(props) {\n      var controller = props.controller;\n      controller.run('addTempValueChangeListener', _assign({\n        key: 'ZoomFactor'\n      }, props));\n    },\n    removeZoomFactorChangeEventListener: function removeZoomFactorChangeEventListener(props) {\n      var controller = props.controller;\n      controller.run('removeTempValueChangeListener', _assign({\n        key: 'ZoomFactor'\n      }, props));\n    },\n    setZoomFactor: function setZoomFactor(props) {\n      var controller = props.controller,\n          zoomFactor = props.zoomFactor;\n      return controller.run('setTempValue', {\n        key: 'ZoomFactor',\n        value: zoomFactor\n      });\n    },\n    getZoomFactor: function getZoomFactor(props) {\n      var controller = props.controller;\n      return controller.run('getTempValue', {\n        key: 'ZoomFactor'\n      }) || _zoomFactor;\n    }\n  };\n}\n\nvar log$4 = debug('plugin:operation');\n\nfunction OperationPlugin() {\n  var startEditingContent = function startEditingContent(_a) {\n    var model = _a.model,\n        topicKey = _a.topicKey;\n    return ModelModifier.focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  };\n\n  var startEditingDesc = function startEditingDesc(_a) {\n    var model = _a.model,\n        topicKey = _a.topicKey;\n    var topic = model.getTopic(topicKey);\n    var desc = topic.getBlock(BlockType.DESC);\n\n    if (desc.block == null || desc.block.data == null) {\n      model = ModelModifier.setDesc({\n        model: model,\n        topicKey: topicKey,\n        data: ''\n      });\n    }\n\n    return ModelModifier.focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_DESC\n    });\n  };\n\n  function dragAndDrop(props) {\n    var srcKey = props.srcKey,\n        dstKey = props.dstKey,\n        dropDir = props.dropDir;\n    var model = props.model;\n    var srcTopic = model.getTopic(srcKey);\n    var dstTopic = model.getTopic(dstKey);\n    var srcParentKey = srcTopic.parentKey;\n    var srcParentTopic = model.getTopic(srcParentKey);\n    var srcParentSubKeys = srcParentTopic.subKeys;\n    var srcIndex = srcParentSubKeys.indexOf(srcKey);\n    srcParentSubKeys = srcParentSubKeys.delete(srcIndex);\n\n    if (dropDir === 'in') {\n      var dstSubKeys_1 = dstTopic.subKeys;\n      dstSubKeys_1 = dstSubKeys_1.push(srcKey);\n      model = model.withMutations(function (m) {\n        m.setIn(['topics', srcParentKey, 'subKeys'], srcParentSubKeys).setIn(['topics', srcKey, 'parentKey'], dstKey).setIn(['topics', dstKey, 'subKeys'], dstSubKeys_1).setIn(['topics', dstKey, 'collapse'], false);\n      });\n    } else {\n      var dstParentKey_1 = dstTopic.parentKey;\n      var dstParentItem = model.getTopic(dstParentKey_1);\n      var dstParentSubKeys_1 = dstParentItem.subKeys;\n      var dstIndex = dstParentSubKeys_1.indexOf(dstKey); //src 和 dst 的父亲相同，这种情况要做特殊处理\n\n      if (srcParentKey === dstParentKey_1) {\n        var newDstParentSubKeys_1 = List();\n        dstParentSubKeys_1.forEach(function (key) {\n          if (key !== srcKey) {\n            if (key === dstKey) {\n              if (dropDir === 'prev') {\n                newDstParentSubKeys_1 = newDstParentSubKeys_1.push(srcKey).push(key);\n              } else {\n                newDstParentSubKeys_1 = newDstParentSubKeys_1.push(key).push(srcKey);\n              }\n            } else {\n              newDstParentSubKeys_1 = newDstParentSubKeys_1.push(key);\n            }\n          }\n        });\n        model = model.withMutations(function (m) {\n          m.setIn(['topics', dstParentKey_1, 'subKeys'], newDstParentSubKeys_1);\n        });\n      } else {\n        if (dropDir === 'prev') {\n          dstParentSubKeys_1 = dstParentSubKeys_1.insert(dstIndex, srcKey);\n        } else if (dropDir === 'next') {\n          dstParentSubKeys_1 = dstParentSubKeys_1.insert(dstIndex + 1, srcKey);\n        }\n\n        model = model.withMutations(function (m) {\n          m.setIn(['topics', srcParentKey, 'subKeys'], srcParentSubKeys).setIn(['topics', srcKey, 'parentKey'], dstParentKey_1).setIn(['topics', dstParentKey_1, 'subKeys'], dstParentSubKeys_1).setIn(['topics', dstParentKey_1, 'collapse'], false);\n        });\n      }\n    }\n\n    return model;\n  }\n\n  var OpMap = new Map([[OpType.TOGGLE_COLLAPSE, ModelModifier.toggleCollapse], [OpType.COLLAPSE_ALL, ModelModifier.collapseAll], [OpType.EXPAND_ALL, ModelModifier.expandAll], [OpType.ADD_CHILD, ModelModifier.addChild], [OpType.ADD_SIBLING, ModelModifier.addSibling], [OpType.DELETE_TOPIC, ModelModifier.deleteTopic], [OpType.FOCUS_TOPIC, ModelModifier.focusTopic], [OpType.SET_STYLE, ModelModifier.setStyle], [OpType.SET_TOPIC_CONTENT, ModelModifier.setContent], [OpType.SET_TOPIC_DESC, ModelModifier.setDesc], [OpType.START_EDITING_CONTENT, startEditingContent], [OpType.START_EDITING_DESC, startEditingDesc], [OpType.DRAG_AND_DROP, dragAndDrop], [OpType.SET_EDITOR_ROOT, ModelModifier.setEditorRootTopicKey]]);\n  var undoStack = Stack();\n  var redoStack = Stack();\n  return {\n    getAllowUndo: function getAllowUndo(props) {\n      var model = props.model,\n          opType = props.opType;\n\n      if (opType) {\n        switch (opType) {\n          case OpType.FOCUS_TOPIC:\n          case OpType.START_EDITING_CONTENT:\n          case OpType.START_EDITING_DESC:\n            return false;\n        }\n      }\n\n      switch (model.focusMode) {\n        case 'EDITING_DESC':\n        case 'EDITING_CONTENT':\n          return false;\n      }\n\n      return model.config.allowUndo;\n    },\n    getUndoRedoStack: function getUndoRedoStack() {\n      return {\n        undoStack: undoStack,\n        redoStack: redoStack\n      };\n    },\n    setUndoStack: function setUndoStack(props) {\n      log$4('setUndoStack', props.undoStack);\n      undoStack = props.undoStack;\n    },\n    setRedoStack: function setRedoStack(props) {\n      log$4('setRedoStack', props.redoStack);\n      redoStack = props.redoStack;\n    },\n    canUndo: function canUndo(props) {\n      var controller = props.controller;\n      var undoStack = controller.run('getUndoRedoStack', props).undoStack;\n      var allowUndo = controller.run('getAllowUndo', props);\n      return undoStack.size > 0 && allowUndo;\n    },\n    canRedo: function canRedo(props) {\n      var controller = props.controller;\n      var redoStack = controller.run('getUndoRedoStack', props).redoStack;\n      var allowUndo = controller.run('getAllowUndo', props);\n      return redoStack.size > 0 && allowUndo;\n    },\n    undo: function undo(props) {\n      var controller = props.controller,\n          model = props.model;\n\n      if (!controller.run('getAllowUndo', props)) {\n        return;\n      }\n\n      var _a = controller.run('getUndoRedoStack', props),\n          undoStack = _a.undoStack,\n          redoStack = _a.redoStack;\n\n      var newModel = undoStack.peek();\n      if (!newModel) return;\n      controller.run('setUndoStack', _assign(_assign({}, props), {\n        undoStack: undoStack.shift()\n      }));\n      controller.run('setRedoStack', _assign(_assign({}, props), {\n        redoStack: redoStack.push(model)\n      }));\n      log$4(newModel);\n      controller.change(newModel);\n    },\n    redo: function redo(props) {\n      var controller = props.controller,\n          model = props.model;\n\n      if (!controller.run('getAllowUndo', props)) {\n        return;\n      }\n\n      var _a = controller.run('getUndoRedoStack', props),\n          undoStack = _a.undoStack,\n          redoStack = _a.redoStack;\n\n      var newModel = redoStack.peek();\n      if (!newModel) return;\n      controller.run('setUndoStack', _assign(_assign({}, props), {\n        undoStack: undoStack.push(model)\n      }));\n      controller.run('setRedoStack', _assign(_assign({}, props), {\n        redoStack: redoStack.shift()\n      }));\n      controller.change(newModel);\n    },\n    beforeOperation: function beforeOperation(props) {},\n    operation: function operation(props) {\n      var opType = props.opType,\n          controller = props.controller,\n          model = props.model,\n          opArray = props.opArray;\n      log$4('operation:', opType || opArray);\n      log$4('model:', model);\n      controller.run('beforeOperation', props);\n\n      if (opType != null && opArray != null) {\n        throw new Error('operation: opType and opArray conflict!');\n      }\n\n      if (controller.run('getAllowUndo', props)) {\n        var undoStack_1 = controller.run('getUndoRedoStack', props).undoStack;\n        controller.run('setUndoStack', _assign(_assign({}, props), {\n          undoStack: undoStack_1.push(model)\n        }));\n      }\n\n      var newModel;\n\n      if (opArray != null) {\n        if (!Array.isArray(opArray)) {\n          throw new Error('operation: the type of opArray must be array!');\n        }\n\n        newModel = opArray.reduce(function (acc, cur) {\n          var opType = cur.opType;\n          if (!OpMap.has(opType)) throw new Error(\"opType:\" + opType + \" not exist!\");\n          var opFunc = OpMap.get(opType);\n          var res = opFunc(_assign(_assign({\n            controller: controller\n          }, cur), {\n            model: acc\n          }));\n          return res;\n        }, model);\n      } else {\n        if (!OpMap.has(opType)) throw new Error(\"opType:\" + opType + \" not exist!\");\n        var opFunc = OpMap.get(opType);\n        newModel = opFunc(props);\n      }\n\n      log$4('newModel:', newModel);\n      controller.change(newModel);\n      controller.run('afterOperation', props);\n    },\n    afterOperation: function afterOperation(props) {}\n  };\n}\n\nvar EditorRootBreadcrumbsRoot = styled.div(templateObject_1$4 || (templateObject_1$4 = __makeTemplateObject([\"\\n  position: absolute;\\n  width: 20%;\\n  padding: 0 5px;\\n  background: white;\\n  left: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  z-index: 4;\\n\"], [\"\\n  position: absolute;\\n  width: 20%;\\n  padding: 0 5px;\\n  background: white;\\n  left: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  z-index: 4;\\n\"])));\nvar TooltipContent = styled.div(templateObject_2$2 || (templateObject_2$2 = __makeTemplateObject([\"\\n  max-width: 600px;\\n\"], [\"\\n  max-width: 600px;\\n\"])));\nvar BreadcrumbTitle = styled.span(templateObject_3$1 || (templateObject_3$1 = __makeTemplateObject([\"\"], [\"\"])));\n\nvar EditorRootBreadcrumbs =\n/** @class */\nfunction (_super) {\n  __extends(EditorRootBreadcrumbs, _super);\n\n  function EditorRootBreadcrumbs(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setEditorRootTopicKey = function (topicKey) {\n      return function () {\n        var _a = _this.props,\n            model = _a.model,\n            controller = _a.controller;\n\n        if (model.editorRootTopicKey !== topicKey) {\n          controller.change(ModelModifier.setEditorRootTopicKey({\n            model: model,\n            topicKey: topicKey\n          }));\n        }\n      };\n    };\n\n    _this.breadcrumbRenderer = function (props) {\n      var text = props.text,\n          breadProps = __rest(props, [\"text\"]);\n\n      var needTooltip = text.length > 8;\n      var title = needTooltip ? text.substr(0, 8) + '...' : text; //TODO\n\n      var content = createElement(TooltipContent, null, text);\n      var tooltipProps = {\n        content: content,\n        position: PopoverPosition.BOTTOM_RIGHT\n      };\n      var breadcrumb = createElement(Breadcrumb, _assign({}, breadProps), createElement(BreadcrumbTitle, null, title));\n      return needTooltip ? createElement(Tooltip, _assign({}, tooltipProps), breadcrumb) : breadcrumb; // return (\n      //   <Breadcrumb {...breadProps}>\n      //     <BreadcrumbTitle>{title}</BreadcrumbTitle>\n      //   </Breadcrumb>\n      // );\n    };\n\n    _this.state = {\n      show: false\n    };\n    return _this;\n  }\n\n  EditorRootBreadcrumbs.prototype.render = function () {\n    var props = this.props;\n    var model = props.model,\n        controller = props.controller;\n    var editingRootKey = model.editorRootTopicKey;\n    if (editingRootKey === model.rootTopicKey) return null;\n    var items = [];\n    var topic = model.getTopic(editingRootKey);\n\n    while (topic != null) {\n      var title = controller.run('getTopicTitle', _assign(_assign({}, props), {\n        topicKey: topic.key\n      }));\n      items.unshift({\n        text: title,\n        onClick: this.setEditorRootTopicKey(topic.key)\n      });\n      topic = model.getTopic(topic.parentKey);\n    }\n\n    var breadcrumbProps = {\n      items: items,\n      breadcrumbRenderer: this.breadcrumbRenderer\n    };\n    return createElement(EditorRootBreadcrumbsRoot, null, createElement(Breadcrumbs, _assign({}, breadcrumbProps)));\n  };\n\n  return EditorRootBreadcrumbs;\n}(BaseWidget);\n\nvar templateObject_1$4, templateObject_2$2, templateObject_3$1;\nvar NodeLayer = styled.div(templateObject_1$5 || (templateObject_1$5 = __makeTemplateObject([\"\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  padding: 5px;\\n\"], [\"\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  padding: 5px;\\n\"])));\nvar DIV = styled.div(templateObject_2$3 || (templateObject_2$3 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  background: \", \";\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  background: \", \";\\n\"])), function (props) {\n  return props.theme.background;\n});\n\nvar MindDragScrollWidget =\n/** @class */\nfunction (_super) {\n  __extends(MindDragScrollWidget, _super);\n\n  function MindDragScrollWidget(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setZoomFactor = function (zoomFactor) {\n      _this.dragScrollWidget.setZoomFactor(zoomFactor);\n    };\n\n    _this.onWheel = function (e) {\n      if (e.altKey || e.ctrlKey) {\n        var controller = _this.props.controller;\n        var zoomFactor = controller.run('getZoomFactor', _this.props);\n        zoomFactor = zoomFactor - (e.nativeEvent.deltaY > 0 ? 0.1 : -0.1);\n        if (zoomFactor < 0.5) zoomFactor = 0.5;\n        if (zoomFactor > 4) zoomFactor = 4; // console.log('zoomFactor=>', zoomFactor);\n\n        controller.run('setZoomFactor', _assign(_assign({}, _this.props), {\n          zoomFactor: zoomFactor\n        }));\n      }\n    };\n\n    return _this;\n  }\n\n  MindDragScrollWidget.prototype.componentDidMount = function () {\n    var _a = this.props,\n        getRef = _a.getRef,\n        model = _a.model,\n        controller = _a.controller;\n    controller.run('addZoomFactorChangeEventListener', _assign(_assign({}, this.props), {\n      listener: this.setZoomFactor\n    }));\n    var rootTopic = getRef(topicRefKey(model.editorRootTopicKey)); //TODO\n\n    var nodeLayer = getRef('node-layer');\n    var rootTopicRect = rootTopic.getBoundingClientRect();\n    var nodeLayerRect = nodeLayer.getBoundingClientRect();\n    this.dragScrollWidget.setViewBoxScrollDelta(0, rootTopicRect.top - nodeLayerRect.top - this.dragScrollWidget.viewBox.getBoundingClientRect().height / 2 + rootTopicRect.height);\n    this.layout();\n  };\n\n  MindDragScrollWidget.prototype.componentWillUnmount = function () {\n    var controller = this.props.controller;\n    controller.run('removeZoomFactorChangeEventListener', _assign(_assign({}, this.props), {\n      listener: this.setZoomFactor\n    }));\n  };\n\n  Object.defineProperty(MindDragScrollWidget.prototype, \"dragScrollWidget\", {\n    get: function get() {\n      return this.props.getRef(RefKey.DRAG_SCROLL_WIDGET_KEY);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MindDragScrollWidget.prototype.componentDidUpdate = function () {\n    var controller = this.props.controller;\n    controller.run('fireEvent', _assign(_assign({}, this.props), {\n      key: EventKey.CENTER_ROOT_TOPIC\n    }));\n    this.layout();\n  };\n\n  MindDragScrollWidget.prototype.layout = function () {\n    var controller = this.props.controller;\n    controller.run('layout', this.props);\n  };\n\n  MindDragScrollWidget.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        saveRef = _a.saveRef,\n        model = _a.model,\n        controller = _a.controller;\n    var nodeKey = model.editorRootTopicKey;\n    return createElement(DIV, {\n      onWheel: this.onWheel\n    }, createElement(DragScrollWidget, _assign({}, this.state, {\n      enableMouseWheel: false,\n      zoomFactor: model.zoomFactor,\n      ref: saveRef(RefKey.DRAG_SCROLL_WIDGET_KEY)\n    }), function (setViewBoxScroll, setViewBoxScrollDelta) {\n      var rootWidgetProps = _assign(_assign({}, _this.props), {\n        topicKey: nodeKey,\n        setViewBoxScroll: setViewBoxScroll,\n        setViewBoxScrollDelta: setViewBoxScrollDelta\n      });\n\n      return createElement(NodeLayer, {\n        ref: saveRef('node-layer')\n      }, controller.run('renderRootWidget', rootWidgetProps));\n    }));\n  };\n\n  return MindDragScrollWidget;\n}(Component);\n\nvar templateObject_1$5, templateObject_2$3;\n\nvar Modals =\n/** @class */\nfunction (_super) {\n  __extends(Modals, _super);\n\n  function Modals() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.handleClose = function () {\n      var controller = _this.props.controller;\n      var handleActiveModalClose = controller.run('handleActiveModalClose', _this.props);\n      handleActiveModalClose && handleActiveModalClose();\n    };\n\n    return _this;\n  }\n\n  Modals.prototype.render = function () {\n    var controller = this.props.controller;\n    var activeModal = controller.run('renderModal', this.props);\n    var activeModalProps = controller.run('getActiveModalProps', this.props);\n    return createElement(Dialog, {\n      onClose: this.handleClose,\n      isOpen: activeModal !== null,\n      autoFocus: true,\n      enforceFocus: true,\n      usePortal: true,\n      title: activeModalProps && activeModalProps.title,\n      style: activeModalProps && activeModalProps.style\n    }, createElement(\"div\", {\n      className: Classes.DIALOG_BODY,\n      style: {\n        minHeight: 0\n      }\n    }, activeModal));\n  };\n\n  return Modals;\n}(BaseWidget);\n\nvar RootLinksSvg = styled.svg(templateObject_1$6 || (templateObject_1$6 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"])));\nvar log$5 = debug('node:topic-sub-links');\n\nvar RootSubLinks =\n/** @class */\nfunction (_super) {\n  __extends(RootSubLinks, _super);\n\n  function RootSubLinks() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      curves: []\n    };\n    return _this;\n  }\n\n  RootSubLinks.prototype.layout = function () {\n    var props = this.props;\n    var model = props.model,\n        getRef = props.getRef,\n        topicKey = props.topicKey,\n        zoomFactor = props.zoomFactor,\n        controller = props.controller;\n    var topic = model.getTopic(topicKey);\n    var content = getRef(contentRefKey(topicKey));\n    var svg = getRef(linksSvgRefKey(topicKey));\n    var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n\n    var contentRect = _getRelativeRect(content, bigView, zoomFactor);\n\n    var svgRect = _getRelativeRect(svg, bigView, zoomFactor);\n\n    var p1, p2;\n    p1 = {\n      x: centerX(contentRect) - svgRect.left,\n      y: centerY(contentRect) - svgRect.top\n    };\n    var curves = [];\n    topic.subKeys.forEach(function (key) {\n      var linkStyle = controller.run('getLinkStyle', _assign(_assign({}, props), {\n        topicKey: key\n      }));\n      var lineType = linkStyle.lineType;\n      var subTopicContent = getRef(contentRefKey(key));\n\n      var rect = _getRelativeRect(subTopicContent, bigView, zoomFactor);\n\n      if (rect.left > contentRect.right) {\n        p2 = {\n          x: rect.left,\n          y: centerY(rect)\n        };\n      } else {\n        p2 = {\n          x: rect.right,\n          y: centerY(rect)\n        };\n      }\n\n      p2 = {\n        x: p2.x - svgRect.left,\n        y: p2.y - svgRect.top\n      };\n      var curve;\n\n      if (lineType === 'curve') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" C \" + p1.x + \" \" + centerPointY(p1, p2) + \" \" + centerPointX(p1, p2) + \" \" + p2.y + \" \" + p2.x + \" \" + p2.y;\n      } else if (lineType === 'line') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" L \" + p2.x + \" \" + p2.y;\n      } else if (lineType === 'round') {\n        var vDir = p2.y > p1.y ? 1 : -1;\n        var hDir = p2.x > p1.x ? 1 : -1;\n        var radius = linkStyle.lineRadius;\n\n        if (radius == null) {\n          throw new Error('link line type is round, but lineRadius is not provided!');\n        }\n\n        if (p2.y === p1.y) {\n          curve = \"M \" + p1.x + \" \" + p1.y + \" H \" + p2.x;\n        } else {\n          // 0 表示逆时针 1 表示顺时针\n          curve = \"M \" + p1.x + \" \" + p1.y + \"  V \" + (p2.y - vDir * radius) + \" A \" + radius + \" \" + radius + \" 0 0 \" + (vDir * hDir === 1 ? 0 : 1) + \" \" + (p1.x + radius * hDir) + \" \" + p2.y + \" H \" + p2.x;\n        }\n      }\n\n      curves.push(createElement(\"path\", {\n        key: \"link-\" + key,\n        d: curve,\n        strokeWidth: linkStyle.lineWidth,\n        stroke: linkStyle.lineColor,\n        fill: \"none\"\n      }));\n    });\n    this.setState({\n      curves: curves\n    });\n  };\n\n  RootSubLinks.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n    return createElement(RootLinksSvg, {\n      ref: saveRef(linksSvgRefKey(topicKey))\n    }, createElement(\"g\", null, this.state.curves));\n  };\n\n  return RootSubLinks;\n}(BaseWidget);\n\nvar templateObject_1$6;\nvar log$6 = debug('RootNode');\nvar LayerPart = styled.div(templateObject_1$7 || (templateObject_1$7 = __makeTemplateObject([\"\\n  display: flex;\\n  position: relative;\\n\\n  align-items: \", \";\\n  flex-direction: column;\\n\\n  padding: \", \";\\n\"], [\"\\n  display: flex;\\n  position: relative;\\n\\n  align-items: \", \";\\n  flex-direction: column;\\n\\n  padding: \", \";\\n\"])), function (props) {\n  //@ts-ignore\n  return props.topicDirection === TopicDirection.LEFT ? 'flex-end' : 'flex-start';\n}, function (props) {\n  //@ts-ignore\n  return props.topicDirection === TopicDirection.LEFT ? '15px 60px 15px 0px' : '15px 0px 15px 60px';\n});\nvar Topic = styled.div(templateObject_2$4 || (templateObject_2$4 = __makeTemplateObject([\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  z-index: 3;\\n\"], [\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  z-index: 3;\\n\"])));\n\nvar RootWidget =\n/** @class */\nfunction (_super) {\n  __extends(RootWidget, _super);\n\n  function RootWidget() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RootWidget.prototype.renderPartTopics = function (topics, dir) {\n    var _a = this.props,\n        controller = _a.controller,\n        saveRef = _a.saveRef;\n    var res = controller.run('createSubTopics', _assign(_assign({}, this.props), {\n      dir: dir,\n      isRoot: true,\n      topics: topics\n    }));\n    if (!res) return null;\n    var subTopics = res.subTopics;\n    var cxName = \"bm-layer-\" + (dir === TopicDirection.LEFT ? 'left' : 'right');\n    return (//@ts-ignore\n      createElement(LayerPart, {\n        topicDirection: dir,\n        ref: saveRef(cxName)\n      }, subTopics)\n    );\n  };\n\n  RootWidget.prototype.render = function () {\n    log$6('render');\n    var props = this.props;\n    var model = props.model,\n        topicKey = props.topicKey,\n        saveRef = props.saveRef,\n        controller = props.controller,\n        dir = props.dir;\n    var topicStyle = controller.run('getTopicContentStyle', props);\n    var config = model.config;\n    var topicContent = controller.run('renderTopicContent', _assign(_assign({}, props), {\n      topicStyle: topicStyle,\n      dir: TopicDirection.MAIN\n    }));\n    var partTopics = controller.run('getPartTopics', {\n      layout: config.layoutDir,\n      model: model,\n      topicKey: topicKey\n    });\n    var rootTopic = createElement(Topic, {\n      ref: saveRef(topicRefKey(topicKey))\n    }, topicContent);\n    var children = controller.run('renderRootWidgetOtherChildren', props);\n\n    switch (config.layoutDir) {\n      case DiagramLayoutType.LEFT_AND_RIGHT:\n        return createElement(Fragment, null, this.renderPartTopics(partTopics.L, 'L'), rootTopic, this.renderPartTopics(partTopics.R, 'R'), children);\n\n      case DiagramLayoutType.LEFT_TO_RIGHT:\n        return createElement(Fragment, null, rootTopic, this.renderPartTopics(partTopics.R, 'R'), children);\n\n      case DiagramLayoutType.RIGHT_TO_LEFT:\n        return createElement(Fragment, null, this.renderPartTopics(partTopics.L, 'L'), rootTopic, children);\n\n      case DiagramLayoutType.TOP_TO_BOTTOM:\n        return createElement(Fragment, null, rootTopic, this.renderPartTopics(partTopics.B, 'B'), children);\n    }\n\n    return null;\n  };\n\n  return RootWidget;\n}(Component);\n\nvar templateObject_1$7, templateObject_2$4;\nvar SettingTitle = styled.div(templateObject_1$8 || (templateObject_1$8 = __makeTemplateObject([\"\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  font-weight: bold;\\n\"], [\"\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  font-weight: bold;\\n\"])));\nvar SettingItem = styled.span(templateObject_2$5 || (templateObject_2$5 = __makeTemplateObject([\"\\n  margin: 0px 10px 0px 0px;\\n\"], [\"\\n  margin: 0px 10px 0px 0px;\\n\"])));\nvar SettingRow = styled(Flex)(templateObject_3$2 || (templateObject_3$2 = __makeTemplateObject([\"\\n  margin: 5px 0;\\n\"], [\"\\n  margin: 5px 0;\\n\"])));\n\nvar SettingGroup = function SettingGroup(props) {\n  return createElement(\"div\", null, props.children, createElement(Divider, {\n    style: {\n      margin: '10px 0'\n    }\n  }));\n};\n\nvar ColorBar = styled.div(templateObject_4$1 || (templateObject_4$1 = __makeTemplateObject([\"\\n  height: 3px;\\n  width: 80%;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n  margin-bottom: 2px;\\n  background: \", \";\\n\"], [\"\\n  height: 3px;\\n  width: 80%;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n  margin-bottom: 2px;\\n  background: \", \";\\n\"])), function (props) {\n  return props.color;\n});\nvar WithBorder = styled.div(templateObject_5$1 || (templateObject_5$1 = __makeTemplateObject([\"\\n  border: 1px solid grey;\\n  cursor: pointer;\\n  font-weight: bold;\\n\"], [\"\\n  border: 1px solid grey;\\n  cursor: pointer;\\n  font-weight: bold;\\n\"])));\n\nvar renderItem = function renderItem(unit) {\n  return function (width, _a) {\n    var handleClick = _a.handleClick,\n        modifiers = _a.modifiers,\n        query = _a.query;\n    return createElement(MenuItem, {\n      text: \"\" + width + unit,\n      key: width,\n      onClick: handleClick\n    });\n  };\n};\n\nvar PxSelect = Select.ofType();\n\nvar borderWidthItems = __spread(Array(7).keys());\n\nvar templateObject_1$8, templateObject_2$5, templateObject_3$2, templateObject_4$1, templateObject_5$1;\n\nvar borderWidthItems$1 = __spread(Array(7).keys());\n\nvar borderRadiusItems = [0, 5, 10, 15, 20, 25, 30, 35];\nvar borderStyleItems = ['none', 'solid', 'dotted', 'dashed', 'double'];\n\nfunction BorderStyleEditor(props) {\n  var topicStyle = props.topicStyle,\n      setStyle = props.setStyle;\n\n  var handleBorderWidthChange = function handleBorderWidthChange(value) {\n    // log('handleBorderWithChange:', value);\n    setStyle({\n      borderWidth: value + \"px\"\n    });\n  };\n\n  var handleBorderStyleChange = function handleBorderStyleChange(value) {\n    setStyle({\n      borderStyle: value\n    });\n  };\n\n  var handleBorderRadiusChange = function handleBorderRadiusChange(value) {\n    // log('handleBorderRadiusChange:', value);\n    setStyle({\n      borderRadius: value + \"px\"\n    });\n  };\n\n  var handleBorderColorChange = function handleBorderColorChange(color) {\n    setStyle({\n      borderColor: color.hex\n    });\n  };\n\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Border\"), createElement(\"div\", null, createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderWidthItems$1,\n    itemRenderer: renderItem('px'),\n    filterable: false,\n    onItemSelect: handleBorderWidthChange\n  }, createElement(Button, {\n    text: \"width: \" + (topicStyle.borderWidth ? topicStyle.borderWidth : '0px')\n  }))), createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderStyleItems,\n    itemRenderer: renderItem(''),\n    filterable: false,\n    onItemSelect: handleBorderStyleChange\n  }, createElement(Button, {\n    text: \"style: \" + (topicStyle.borderStyle ? topicStyle.borderStyle : 'none')\n  }))), createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderRadiusItems,\n    itemRenderer: renderItem('px'),\n    filterable: false,\n    onItemSelect: handleBorderRadiusChange\n  }, createElement(Button, {\n    text: \"radius: \" + topicStyle.borderRadius\n  }))), createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n    className: iconClassName(IconName.COLOR_PICKER)\n  }), createElement(ColorBar, {\n    color: topicStyle.borderColor\n  })), createElement(\"div\", null, createElement(SketchPicker, {\n    color: topicStyle.borderColor,\n    onChangeComplete: handleBorderColorChange\n  }))))));\n}\n\nfunction ClearAllCustomStyle(props) {\n  var controller = props.controller;\n\n  var handleClearAllCustomStyle = function handleClearAllCustomStyle(e) {\n    controller.run('clearAllCustomStyle', props);\n  };\n\n  return createElement(SettingGroup, null, createElement(SettingItem, null, createElement(Button, {\n    onClick: handleClearAllCustomStyle\n  }, \"Clear All Custom Styles\")));\n}\n\nvar lineTypes = ['curve', 'round', 'line'];\n\nvar renderLineTypeItem = function renderLineTypeItem(lineType, _a) {\n  var handleClick = _a.handleClick,\n      modifiers = _a.modifiers,\n      query = _a.query;\n  return createElement(MenuItem, {\n    text: \"\" + lineType,\n    key: lineType,\n    onClick: handleClick\n  });\n};\n\nfunction LinkStyleEditor(props) {\n  var controller = props.controller; // const topicStyle: TopicStyle = controller.run('getTopicStyle', props);\n\n  var linkStyle = controller.run('getLinkStyle', props);\n  var subLinkStyle = controller.run('getSubLinkStyle', props);\n\n  var handleLinkWidthChange = function handleLinkWidthChange(value) {\n    controller.run('setLinkStyle', _assign(_assign({}, props), {\n      linkStyle: {\n        lineWidth: value + \"px\"\n      }\n    }));\n  };\n\n  var handleLinkTypeChange = function handleLinkTypeChange(value) {\n    controller.run('setLinkStyle', _assign(_assign({}, props), {\n      linkStyle: {\n        lineType: value\n      }\n    }));\n  };\n\n  var handleSubLinkWidthChange = function handleSubLinkWidthChange(value) {\n    controller.run('setSubLinkStyle', _assign(_assign({}, props), {\n      subLinkStyle: {\n        lineWidth: value + \"px\"\n      }\n    }));\n  };\n\n  var handleSubLinkTypeChange = function handleSubLinkTypeChange(value) {\n    controller.run('setSubLinkStyle', _assign(_assign({}, props), {\n      subLinkStyle: {\n        lineType: value\n      }\n    }));\n  };\n\n  var handleLinkColorChange = function handleLinkColorChange(color) {\n    controller.run('setLinkStyle', _assign(_assign({}, props), {\n      linkStyle: {\n        lineColor: color.hex\n      }\n    }));\n  };\n\n  var handleSubLinkColorChange = function handleSubLinkColorChange(color) {\n    controller.run('setSubLinkStyle', _assign(_assign({}, props), {\n      subLinkStyle: {\n        lineColor: color.hex\n      }\n    }));\n  };\n\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Link\"), createElement(SettingRow, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"LinkToParent: \"), createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderWidthItems,\n    itemRenderer: renderItem('px'),\n    filterable: false,\n    onItemSelect: handleLinkWidthChange\n  }, createElement(Button, {\n    text: \"width: \" + (linkStyle ? linkStyle.lineWidth + 'px' : '0px')\n  }))), createElement(SettingItem, null, createElement(PxSelect, {\n    items: lineTypes,\n    itemRenderer: renderLineTypeItem,\n    filterable: false,\n    onItemSelect: handleLinkTypeChange\n  }, createElement(Button, {\n    text: \"lineType: \" + linkStyle.lineType\n  }))), createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n    className: iconClassName(IconName.COLOR_PICKER)\n  }), createElement(ColorBar, {\n    color: linkStyle.lineColor\n  })), createElement(\"div\", null, createElement(SketchPicker, {\n    color: linkStyle.lineColor,\n    onChangeComplete: handleLinkColorChange\n  }))))), createElement(SettingRow, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"SubLinks: \"), createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderWidthItems,\n    itemRenderer: renderItem('px'),\n    filterable: false,\n    onItemSelect: handleSubLinkWidthChange\n  }, createElement(Button, {\n    text: \"width: \" + (subLinkStyle ? subLinkStyle.lineWidth + 'px' : '0px')\n  }))), createElement(SettingItem, null, createElement(PxSelect, {\n    items: lineTypes,\n    itemRenderer: renderLineTypeItem,\n    filterable: false,\n    onItemSelect: handleSubLinkTypeChange\n  }, createElement(Button, {\n    text: \"lineType: \" + subLinkStyle.lineType\n  }))), createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n    className: iconClassName(IconName.COLOR_PICKER)\n  }), createElement(ColorBar, {\n    color: subLinkStyle.lineColor\n  })), createElement(\"div\", null, createElement(SketchPicker, {\n    color: subLinkStyle.lineColor,\n    onChangeComplete: handleSubLinkColorChange\n  }))))));\n}\n\nfunction TextStyleEditor(props) {\n  var topicStyle = props.topicStyle,\n      setStyle = props.setStyle;\n\n  var handleFontSizeChange = function handleFontSizeChange(value) {\n    // log('handleFontSizeChange:', value);\n    setStyle({\n      fontSize: value\n    });\n  };\n\n  var handleLineHeightChange = function handleLineHeightChange(e) {\n    // log('handleLineHeightChange:', e.target.value);\n    setStyle({\n      lineHeight: e.target.value\n    });\n  };\n\n  var handleColorChange = function handleColorChange(color) {\n    setStyle({\n      color: color.hex\n    });\n  };\n\n  var fontSizeNumInputProps = {\n    min: 12,\n    max: 100,\n    value: parseInt(topicStyle.fontSize),\n    style: {\n      width: 50\n    },\n    onValueChange: handleFontSizeChange\n  };\n  var lineHeightInputProps = {\n    style: {\n      width: 50\n    },\n    value: topicStyle.lineHeight || '',\n    onChange: handleLineHeightChange\n  };\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Text Editor\"), createElement(Flex, null, createElement(SettingItem, null, createElement(Flex, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"FontSize: \"), createElement(NumericInput, _assign({}, fontSizeNumInputProps)))), createElement(SettingItem, null, createElement(Flex, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"LineHeight: \"), createElement(InputGroup, _assign({}, lineHeightInputProps)))), createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n    className: iconClassName(IconName.COLOR_PICKER)\n  }), createElement(ColorBar, {\n    color: topicStyle.color\n  })), createElement(\"div\", null, createElement(SketchPicker, {\n    color: topicStyle.color,\n    onChangeComplete: handleColorChange\n  }))))));\n}\n\nvar log$7 = debug('node:style-editor');\nvar StyleEditorRoot = styled.div(templateObject_1$9 || (templateObject_1$9 = __makeTemplateObject([\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  z-index: 4;\\n\"], [\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  z-index: 4;\\n\"])));\nvar PopRoot = styled.div(templateObject_2$6 || (templateObject_2$6 = __makeTemplateObject([\"\\n  padding: 10px;\\n\"], [\"\\n  padding: 10px;\\n\"])));\n\nvar StyleEditor =\n/** @class */\nfunction (_super) {\n  __extends(StyleEditor, _super);\n\n  function StyleEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setShowPanel = function (showPanel) {\n      return function () {\n        _this.setState({\n          showPanel: showPanel\n        });\n      };\n    };\n\n    _this.setTopicContentStyle = function (style) {\n      var props = _this.props;\n      var controller = props.controller;\n      controller.run('setTopicContentStyle', _assign(_assign({}, props), {\n        style: style\n      }));\n    };\n\n    _this.handleBackgroundColorChange = function (color) {\n      _this.setTopicContentStyle({\n        background: color.hex\n      });\n    };\n\n    _this.handleClearStyle = function () {\n      if (_this.topic.style) {\n        _this.operation(OpType.SET_STYLE, _assign(_assign({}, _this.props), {\n          style: null\n        }));\n\n        _this.setState({});\n      }\n    };\n\n    _this.handleCopyStyle = function () {\n      var props = _this.props;\n      var controller = props.controller;\n      _this.copiedStyle = controller.run('getTopicStyle', props);\n      log$7(_this.copiedStyle);\n    };\n\n    _this.handlePasteStyle = function () {\n      if (_this.copiedStyle) {\n        _this.operation(OpType.SET_STYLE, _assign(_assign({}, _this.props), {\n          style: JSON.stringify(_this.copiedStyle)\n        }));\n\n        _this.setState({});\n      }\n    };\n\n    _this.state = {\n      showPanel: false\n    };\n    return _this;\n  }\n\n  StyleEditor.prototype.render = function () {\n    var props = this.props;\n    var controller = props.controller,\n        model = props.model;\n    if (!model.focusKey) return null;\n    var topicStyle = controller.run('getTopicContentStyle', props);\n\n    if (!this.state.showPanel) {\n      return createElement(StyleEditorRoot, null, createElement(IconBg, {\n        onClick: this.setShowPanel(true)\n      }, createElement(ShowMenuIcon, {\n        className: iconClassName(IconName.SHOW_MENU)\n      })));\n    }\n\n    var setStyle = this.setTopicContentStyle;\n    return createElement(StyleEditorRoot, null, createElement(Title, null, createElement(CloseIcon, {\n      className: iconClassName(IconName.CLOSE),\n      onClick: this.setShowPanel(false)\n    })), createElement(PopRoot, null, BorderStyleEditor(_assign(_assign({}, props), {\n      topicStyle: topicStyle,\n      setStyle: setStyle\n    })), TextStyleEditor(_assign(_assign({}, props), {\n      topicStyle: topicStyle,\n      setStyle: setStyle\n    })), createElement(SettingGroup, null, createElement(SettingTitle, null, \"Background\"), createElement(\"div\", null, createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n      className: iconClassName(IconName.COLOR_PICKER)\n    }), createElement(ColorBar, {\n      color: topicStyle.background\n    })), createElement(\"div\", null, createElement(SketchPicker, {\n      color: topicStyle.background,\n      onChangeComplete: this.handleBackgroundColorChange\n    })))))), LinkStyleEditor(props), createElement(SettingGroup, null, createElement(SettingItem, null, createElement(Button, {\n      onClick: this.handleClearStyle\n    }, \"Clear Topic Style\")), createElement(SettingItem, null, createElement(Button, {\n      onClick: this.handleCopyStyle\n    }, \"Copy Style\")), createElement(SettingItem, null, createElement(Button, {\n      onClick: this.handlePasteStyle\n    }, \"Paste Style\"))), ClearAllCustomStyle(props)));\n  };\n\n  return StyleEditor;\n}(BaseWidget);\n\nvar templateObject_1$9, templateObject_2$6;\nvar Icon$1 = styled.div(templateObject_3$3 || (templateObject_3$3 = __makeTemplateObject([\"\\n  position: absolute;\\n  top: calc(50% - 10px);\\n  \", \";\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  //@ts-ignore\\n  background: \", \";\\n  cursor: pointer;\\n  padding: 0;\\n  font-size: 14px;\\n  line-height: 20px;\\n  border: 0;\\n  z-index: 2;\\n\"], [\"\\n  position: absolute;\\n  top: calc(50% - 10px);\\n  \", \";\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  //@ts-ignore\\n  background: \", \";\\n  cursor: pointer;\\n  padding: 0;\\n  font-size: 14px;\\n  line-height: 20px;\\n  border: 0;\\n  z-index: 2;\\n\"])), function (_a) {\n  var dir = _a.dir;\n  if (dir === TopicDirection.RIGHT) return css(templateObject_1$a || (templateObject_1$a = __makeTemplateObject([\"\\n        right: -25px;\\n      \"], [\"\\n        right: -25px;\\n      \"])));\n  if (dir === TopicDirection.LEFT) return css(templateObject_2$7 || (templateObject_2$7 = __makeTemplateObject([\"\\n        left: -25px;\\n      \"], [\"\\n        left: -25px;\\n      \"])));\n}, function (props) {\n  return props.background;\n});\n\nfunction TopicCollapseIcon(props) {\n  var _a;\n\n  var model = props.model,\n      topicKey = props.topicKey,\n      topicStyle = props.topicStyle,\n      dir = props.dir,\n      saveRef = props.saveRef,\n      onClickCollapse = props.onClickCollapse;\n  var topic = model.getTopic(topicKey);\n  return topic.subKeys.size > 0 ? createElement(Icon$1, {\n    ref: saveRef(collapseRefKey(topicKey)),\n    onClick: onClickCollapse,\n    background: topicStyle.background,\n    dir: dir,\n    className: cx((_a = {\n      icon: true,\n      iconfont: true\n    }, _a[\"bm-\" + (topic.collapse ? 'plus' : 'minus')] = true, _a))\n  }) : null;\n}\n\nvar templateObject_1$a, templateObject_2$7, templateObject_3$3;\nvar log$8 = debug('node:topic-content2');\nvar EditingRoot = styled.div(templateObject_1$b || (templateObject_1$b = __makeTemplateObject([\"\\n  position: relative;\\n\"], [\"\\n  position: relative;\\n\"])));\nvar EditingWrapper = styled.div(templateObject_2$8 || (templateObject_2$8 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: auto;\\n  z-index: 10;\\n  color: black;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: auto;\\n  z-index: 10;\\n  color: black;\\n\"])));\n\nvar cancelEvent$1 = function cancelEvent$1(e) {\n  log$8('cancelEvent');\n  e.preventDefault();\n  e.stopPropagation();\n};\n\nfunction TopicContent(props) {\n  var controller = props.controller,\n      model = props.model,\n      topicKey = props.topicKey,\n      getRef = props.getRef;\n  var readOnly = model.editingContentKey !== topicKey;\n  var editor = controller.run('renderTopicContentEditor', _assign(_assign({}, props), {\n    readOnly: readOnly\n  }));\n  var child;\n\n  if (readOnly) {\n    child = editor;\n  } else {\n    var wrapper_1;\n\n    var wrapperRef = function wrapperRef(ref) {\n      if (ref) {\n        wrapper_1 = ref;\n        contentResizeObserver_1.observe(wrapper_1);\n      }\n    };\n\n    var rect_1 = {\n      width: 50,\n      height: 40\n    };\n    var editorDiv = getRef(\"content-editor-\" + topicKey);\n    if (editorDiv) rect_1 = editorDiv.getBoundingClientRect();\n\n    var contentResizeCallback = function contentResizeCallback(entries, observer) {\n      var r = entries[0].contentRect;\n      wrapper_1.style.left = (rect_1.width - r.width) / 2 + 'px';\n      wrapper_1.style.top = (rect_1.height - r.height) / 2 + 'px';\n    };\n\n    var contentResizeObserver_1 = new ResizeObserver(contentResizeCallback);\n    log$8(rect_1);\n    child = createElement(Fragment, null, createElement(\"div\", {\n      style: {\n        width: rect_1.width,\n        height: rect_1.height\n      }\n    }), createElement(EditingWrapper, {\n      ref: wrapperRef\n    }, editor));\n  }\n\n  return createElement(EditingRoot, {\n    onDragEnter: cancelEvent$1,\n    onDragOver: cancelEvent$1\n  }, child);\n}\n\nvar templateObject_1$b, templateObject_2$8;\nvar log$9 = debug('node:topic-content-widget');\nvar TopicContent$1 = styled.div(templateObject_1$c || (templateObject_1$c = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n  //overflow: hidden;\\n  position: relative;\\n\"], [\"\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n  //overflow: hidden;\\n  position: relative;\\n\"])));\nvar TopicContentWithDropArea = styled.div(templateObject_2$9 || (templateObject_2$9 = __makeTemplateObject([\"\\n  position: relative;\\n\"], [\"\\n  position: relative;\\n\"])));\n\nvar TopicContentWidget =\n/** @class */\nfunction (_super) {\n  __extends(TopicContentWidget, _super);\n\n  function TopicContentWidget(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.onDragStart = function (ev) {\n      _this.run('handleTopicDragStart', _assign(_assign({}, _this.props), {\n        ev: ev\n      }));\n    };\n\n    _this.onDragOver = function (ev) {\n      // log('onDragOver');\n      ev.preventDefault();\n    };\n\n    _this.onDragEnter = function (ev) {\n      log$9('onDragEnter', _this.props.topicKey);\n\n      _this.run('handleTopicDragEnter', _assign(_assign({}, _this.props), {\n        ev: ev,\n        dropDir: 'in'\n      }));\n    };\n\n    _this.onDragLeave = function (ev) {\n      _this.run('handleTopicDragLeave', _assign(_assign({}, _this.props), {\n        ev: ev,\n        dropDir: 'in'\n      }));\n    };\n\n    _this.onDrop = function (ev) {\n      log$9('onDrop');\n\n      _this.run('handleTopicDrop', _assign(_assign({}, _this.props), {\n        ev: ev,\n        dropDir: 'in'\n      }));\n    };\n\n    _this.onClick = function (ev) {\n      _this.isDoubleClick = false;\n      var props = _this.props;\n      var controller = props.controller;\n      setTimeout(function () {\n        if (!_this.isDoubleClick) {\n          controller.run('handleTopicClick', _assign(_assign({}, props), {\n            ev: ev\n          }));\n        }\n      });\n    };\n\n    _this.onDoubleClick = function (ev) {\n      _this.isDoubleClick = true;\n      var controller = _this.props.controller;\n      controller.run('handleTopicDoubleClick', _assign(_assign({}, _this.props), {\n        ev: ev\n      }));\n    };\n\n    _this.needRelocation = false;\n\n    _this.onClickCollapse = function (e) {\n      e.stopPropagation();\n      var _a = _this.props,\n          topicKey = _a.topicKey,\n          getRef = _a.getRef,\n          controller = _a.controller;\n      _this.needRelocation = true;\n      var collapseIcon = getRef(collapseRefKey(topicKey));\n      var rect = collapseIcon.getBoundingClientRect();\n      log$9('oldRect', rect);\n      _this.oldCollapseIconVector = [rect.left + rect.width / 2, rect.top + rect.height / 2];\n      log$9('oldCollapseIconVector', _this.oldCollapseIconVector); // this.oldCollapseIconVector = controller.run('getRelativeVectorFromViewPort', {\n      //   ...this.props,\n      //   element: collapseIcon\n      // });\n\n      _this.operation(OpType.TOGGLE_COLLAPSE, _this.props);\n    };\n\n    _this.state = {\n      dragEnter: false\n    };\n    return _this;\n  }\n\n  TopicContentWidget.prototype.renderContextMenu = function () {\n    var controller = this.props.controller;\n    this.operation(OpType.FOCUS_TOPIC, _assign(_assign({}, this.props), {\n      focusMode: FocusMode.SHOW_POPUP\n    }));\n    return controller.run('renderTopicContextMenu', this.props);\n  };\n\n  TopicContentWidget.prototype.onContextMenuClose = function () {// Optional method called once the context menu is closed.\n  };\n\n  TopicContentWidget.prototype.componentDidUpdate = function () {\n    if (this.needRelocation) {\n      var _a = this.props,\n          getRef = _a.getRef,\n          topicKey = _a.topicKey,\n          setViewBoxScrollDelta = _a.setViewBoxScrollDelta,\n          controller = _a.controller;\n      var newIcon = getRef(collapseRefKey(topicKey));\n      var newRect = newIcon.getBoundingClientRect(); // const newVector = controller.run('getRelativeVectorFromViewPort', {\n      //   ...this.props,\n      //   element: getRef(collapseRefKey(topicKey))\n      // });\n\n      var newVector = [newRect.left + newRect.width / 2, newRect.top + newRect.height / 2];\n      var z = controller.run('getZoomFactor', _assign({}, this.props));\n      log$9('newVector:', newVector);\n      log$9('oldVector:', this.oldCollapseIconVector); //TODO bug\n\n      var vector = [newVector[0] - this.oldCollapseIconVector[0], newVector[1] - this.oldCollapseIconVector[1]]; // vector = [vector[0]*z,vector[1]*z]\n\n      log$9('vector', vector);\n      setViewBoxScrollDelta(vector[0], vector[1]);\n      this.needRelocation = false;\n    }\n  };\n\n  TopicContentWidget.prototype.render = function () {\n    var props = this.props;\n    var saveRef = props.saveRef,\n        topicKey = props.topicKey,\n        model = props.model,\n        controller = props.controller,\n        topicStyle = props.topicStyle,\n        dir = props.dir;\n    var draggable = model.editingContentKey !== topicKey;\n    var collapseIcon = controller.run('renderTopicCollapseIcon', _assign(_assign({}, props), {\n      onClickCollapse: this.onClickCollapse.bind(this)\n    })); // log(dir);\n\n    var prevDropArea = controller.run('renderTopicDropArea', _assign(_assign({}, props), {\n      dropDir: 'prev'\n    }));\n    var nextDropArea = controller.run('renderTopicDropArea', _assign(_assign({}, props), {\n      dropDir: 'next'\n    }));\n    var dropEventHandlers = {\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this.onDragOver,\n      onDrop: this.onDrop\n    };\n    log$9(topicKey, 'style', topicStyle);\n    return createElement(TopicContentWithDropArea, null, prevDropArea, createElement(TopicContent$1, _assign({\n      style: topicStyle,\n      draggable: draggable,\n      ref: saveRef(contentRefKey(topicKey)),\n      onDragStart: this.onDragStart,\n      onClick: this.onClick,\n      onDoubleClick: this.onDoubleClick\n    }, dropEventHandlers), controller.run('renderTopicBlocks', props)), nextDropArea, dir !== TopicDirection.MAIN && collapseIcon);\n  };\n\n  TopicContentWidget = __decorate([ContextMenuTarget], TopicContentWidget);\n  return TopicContentWidget;\n}(BaseWidget);\n\nvar templateObject_1$c, templateObject_2$9;\n\nvar TopicContextMenu =\n/** @class */\nfunction (_super) {\n  __extends(TopicContextMenu, _super);\n\n  function TopicContextMenu() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TopicContextMenu.prototype.render = function () {\n    var controller = this.props.controller;\n    return createElement(Menu, null, controller.run('customizeTopicContextMenu', this.props));\n  };\n\n  return TopicContextMenu;\n}(BaseWidget);\n\nvar log$a = debug('node:topic-desc'); //TODO\n\nvar DescIcon = styled.div(templateObject_1$d || (templateObject_1$d = __makeTemplateObject([\"\"], [\"\"])));\nvar DescEditorWrapper = styled.div(templateObject_2$a || (templateObject_2$a = __makeTemplateObject([\"\\n  overflow: auto;\\n  padding: 0px 0px 0px 20px;\\n  background: #88888850;\\n\"], [\"\\n  overflow: auto;\\n  padding: 0px 0px 0px 20px;\\n  background: #88888850;\\n\"])));\nvar TooltipContentWrapper = styled.div(templateObject_3$4 || (templateObject_3$4 = __makeTemplateObject([\"\\n  overflow: auto;\\n\"], [\"\\n  overflow: auto;\\n\"])));\n\nfunction TopicDesc(props) {\n  var controller = props.controller,\n      model = props.model,\n      topicKey = props.topicKey,\n      getRef = props.getRef;\n  var isEditing = model.editingDescKey === topicKey;\n  log$a('isEditing', isEditing);\n\n  var onClick = function onClick(e) {\n    e.stopPropagation();\n    controller.run('operation', _assign(_assign({}, props), {\n      opType: OpType.START_EDITING_DESC\n    }));\n  };\n\n  var onDescEditorClose = function onDescEditorClose(e) {\n    e.stopPropagation();\n    var key = \"topic-desc-data-\" + topicKey;\n    var descData = controller.run('deleteTempValue', {\n      key: key\n    });\n    controller.run('operation', _assign(_assign({}, props), {\n      opArray: [{\n        opType: OpType.SET_TOPIC_DESC,\n        topicKey: topicKey,\n        data: descData\n      }, {\n        opType: OpType.FOCUS_TOPIC,\n        topicKey: topicKey,\n        focusMode: FocusMode.NORMAL\n      }]\n    }));\n  };\n\n  var desc = model.getTopic(topicKey).getBlock(BlockType.DESC);\n  if (!isEditing && controller.run('isBlockEmpty', _assign(_assign({}, props), {\n    block: desc.block\n  }))) return null;\n  var descEditor = controller.run('renderTopicDescEditor', props);\n  var diagramRoot = getRef(RefKey.DIAGRAM_ROOT_KEY);\n  var style = {\n    maxWidth: '800px',\n    maxHeight: '600px'\n  };\n\n  if (diagramRoot) {\n    var dRect = diagramRoot.getBoundingClientRect();\n    style.maxWidth = dRect.width * 0.6 + \"px\";\n    style.maxHeight = dRect.height * 0.8 + \"px\";\n  }\n\n  var tooltipContent = createElement(TooltipContentWrapper, {\n    onClick: cancelEvent,\n    classname: Classes.POPOVER_DISMISS,\n    style: style\n  }, descEditor);\n  var icon = createElement(DescIcon, {\n    onClick: onClick,\n    className: iconClassName(IconName.NOTES),\n    tabIndex: -1\n  });\n  var tooltipProps = {\n    autoFocus: false,\n    content: tooltipContent,\n    target: icon,\n    interactionKind: PopoverInteractionKind.HOVER,\n    hoverOpenDelay: 500\n  };\n  var descIcon = desc.block && createElement(Popover, _assign({}, tooltipProps));\n  return createElement(Fragment, null, descIcon, createElement(Drawer, {\n    title: \"Edit Notes\",\n    icon: Icon('note'),\n    isOpen: isEditing,\n    hasBackdrop: true,\n    isCloseButtonShown: false,\n    onClose: onDescEditorClose,\n    size: \"70%\"\n  }, createElement(DescEditorWrapper, null, descEditor)));\n}\n\nvar templateObject_1$d, templateObject_2$a, templateObject_3$4;\nvar FocusHighlightSvg = styled.svg(templateObject_1$e || (templateObject_1$e = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"])));\n\nvar TopicHighlight =\n/** @class */\nfunction (_super) {\n  __extends(TopicHighlight, _super);\n\n  function TopicHighlight() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      content: null\n    };\n    return _this;\n  }\n\n  TopicHighlight.prototype.layout = function () {\n    var _a = this.props,\n        getRef = _a.getRef,\n        model = _a.model,\n        zoomFactor = _a.zoomFactor;\n    var focusKey = model.focusKey;\n    var focusMode = model.focusMode;\n\n    if (!focusKey || focusMode === FocusMode.EDITING_CONTENT) {\n      this.setState({\n        content: null\n      });\n      return;\n    }\n\n    var content = getRef(contentRefKey(focusKey));\n    var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n    var svg = getRef(RefKey.SVG_HIGHLIGHT_KEY);\n\n    var contentRect = _getRelativeRect(content, bigView, zoomFactor);\n\n    var svgRect = _getRelativeRect(svg, bigView, zoomFactor);\n\n    var padding = 3;\n    var x = contentRect.left - svgRect.left - padding;\n    var y = contentRect.top - svgRect.top - padding;\n    var width = contentRect.width + 2 * padding;\n    var height = contentRect.height + 2 * padding;\n    this.setState({\n      content: createElement(\"rect\", {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        fill: \"none\",\n        stroke: model.config.theme.highlightColor,\n        strokeWidth: 2\n      })\n    });\n  };\n\n  TopicHighlight.prototype.render = function () {\n    var saveRef = this.props.saveRef;\n    return createElement(FocusHighlightSvg, {\n      ref: saveRef(RefKey.SVG_HIGHLIGHT_KEY)\n    }, this.state.content);\n  };\n\n  return TopicHighlight;\n}(BaseWidget);\n\nvar templateObject_1$e;\nvar TopicLinksSvg = styled.svg(templateObject_1$f || (templateObject_1$f = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"])));\nvar log$b = debug('node:topic-sub-links');\n\nvar TopicSubLinks =\n/** @class */\nfunction (_super) {\n  __extends(TopicSubLinks, _super);\n\n  function TopicSubLinks() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      curves: []\n    };\n    return _this;\n  }\n\n  TopicSubLinks.prototype.layout = function () {\n    var props = this.props;\n    var model = props.model,\n        getRef = props.getRef,\n        topicKey = props.topicKey,\n        dir = props.dir,\n        controller = props.controller;\n    var z = controller.run('getZoomFactor', props);\n    var topic = model.getTopic(topicKey);\n    var content = getRef(contentRefKey(topicKey));\n    var svg = getRef(linksSvgRefKey(topicKey));\n    var collapseIcon = getRef(collapseRefKey(topicKey));\n    var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n\n    var svgRect = _getRelativeRect(svg, bigView, z);\n\n    var collapseRect = _getRelativeRect(collapseIcon, bigView, z);\n\n    var contentRect = _getRelativeRect(content, bigView, z);\n\n    log$b(topicKey);\n    log$b('svgRect', svgRect);\n    log$b('collapseRect', collapseRect);\n    log$b('contentRect', contentRect);\n    var p1, p2, p3;\n\n    if (dir === TopicDirection.RIGHT) {\n      p1 = {\n        x: 0,\n        y: centerY(contentRect) - svgRect.top\n      };\n      p2 = {\n        x: collapseRect.right - svgRect.left + 10,\n        y: p1.y\n      };\n    } else if (dir === TopicDirection.LEFT) {\n      p1 = {\n        x: svgRect.right - svgRect.left,\n        y: centerY(contentRect) - svgRect.top\n      };\n      p2 = {\n        x: collapseRect.left - svgRect.left - 10,\n        y: p1.y\n      };\n    }\n\n    var curves = [];\n    topic.subKeys.forEach(function (key) {\n      var curve;\n      var linkStyle = controller.run('getLinkStyle', _assign(_assign({}, props), {\n        topicKey: key\n      }));\n      var subContent = getRef(contentRefKey(key));\n\n      var rect = _getRelativeRect(subContent, bigView, z);\n\n      if (dir === TopicDirection.RIGHT) {\n        p3 = {\n          x: rect.left - svgRect.left,\n          y: centerY(rect) - svgRect.top\n        };\n      }\n\n      if (dir === TopicDirection.LEFT) {\n        p3 = {\n          x: rect.right - svgRect.left,\n          y: centerY(rect) - svgRect.top\n        };\n      }\n\n      var lineType = linkStyle.lineType;\n\n      if (lineType === 'curve') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" L \" + p2.x + \" \" + p2.y + \" C \" + p2.x + \" \" + centerPointY(p2, p3) + \" \" + centerPointX(p2, p3) + \" \" + p3.y + \" \" + p3.x + \" \" + p3.y;\n      } else if (lineType === 'round') {\n        var vDir = p3.y > p1.y ? 1 : -1;\n        var hDir = p3.x > p1.x ? 1 : -1;\n        var radius = linkStyle.lineRadius; // if (p3.y === p1.y) { //这样判断不可靠\n\n        if (topic.subKeys.size === 1 || Math.abs(p3.y - p1.y) <= 1) {\n          curve = \"M \" + p1.x + \" \" + p1.y + \" L \" + p3.x + \" \" + p3.y;\n        } else {\n          // 0 表示逆时针 1 表示顺时针\n          curve = \"M \" + p1.x + \" \" + p1.y + \" H \" + p2.x + \" V \" + (p3.y - vDir * radius) + \" A \" + radius + \" \" + radius + \" 0 0 \" + (vDir * hDir === 1 ? 0 : 1) + \" \" + (p2.x + radius * hDir) + \" \" + p3.y + \" H \" + p3.x;\n        }\n      } else if (lineType === 'line') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" H \" + p2.x + \" L \" + p3.x + \" \" + p3.y;\n      }\n\n      curves.push(createElement(\"path\", {\n        key: \"link-\" + key,\n        d: curve,\n        strokeWidth: linkStyle.lineWidth,\n        stroke: linkStyle.lineColor,\n        fill: \"none\"\n      }));\n    });\n    this.setState({\n      curves: curves\n    });\n  };\n\n  TopicSubLinks.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef,\n        model = _a.model;\n    var style = {\n      transform: \"scale(\" + 1 / model.zoomFactor + \")\"\n    };\n    return createElement(TopicLinksSvg, {\n      ref: saveRef(linksSvgRefKey(topicKey))\n    }, createElement(\"g\", null, this.state.curves));\n  };\n\n  return TopicSubLinks;\n}(BaseWidget);\n\nvar templateObject_1$f;\nvar log$c = debug('node:topic-widget');\nvar Node = styled.div(templateObject_1$g || (templateObject_1$g = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: center;\\n  flex-direction: \", \";\\n\"], [\"\\n  display: flex;\\n  align-items: center;\\n  flex-direction: \", \";\\n\"])), function (props) {\n  return props.topicDirection === TopicDirection.RIGHT ? 'row' : 'row-reverse';\n}); // TODO\n\nvar NodeChildren = styled.div(templateObject_2$b || (templateObject_2$b = __makeTemplateObject([\"\\n  position: relative;\\n  padding: \", \";\\n\"], [\"\\n  position: relative;\\n  padding: \", \";\\n\"])), function (props) {\n  return props.dir === TopicDirection.RIGHT ? \"0 0 0 \" + props.marginH + \"px\" : \"0 \" + props.marginH + \"px 0 0\";\n});\nvar NodeTopic = styled.div(templateObject_3$5 || (templateObject_3$5 = __makeTemplateObject([\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n\\n  flex-direction: \", \";\\n\"], [\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n\\n  flex-direction: \", \";\\n\"])), function (props) {\n  return props.topicDirection === TopicDirection.RIGHT ? 'row' : 'row-reverse';\n});\n\nvar TopicWidget =\n/** @class */\nfunction (_super) {\n  __extends(TopicWidget, _super);\n\n  function TopicWidget() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TopicWidget.prototype.renderSubTopics = function () {\n    var props = this.props;\n    var controller = props.controller,\n        model = props.model,\n        topicKey = props.topicKey,\n        dir = props.dir;\n    var topics = model.getTopic(topicKey).subKeys.toArray();\n    var res = controller.run('createSubTopics', _assign(_assign({}, props), {\n      topics: topics\n    }));\n    if (!res) return null;\n    var subTopics = res.subTopics;\n    var subLinks = controller.run('renderSubLinks', props);\n    return createElement(NodeChildren, {\n      dir: dir,\n      marginH: model.config.theme.marginH\n    }, subTopics, \" \", subLinks);\n  }; // componentDidUpdate(): void {\n  //   this.layoutLinks();\n  // }\n  //\n  // componentDidMount(): void {\n  //   this.layoutLinks();\n  // }\n\n\n  TopicWidget.prototype.layoutLinks = function () {\n    log$c('layoutLinks');\n    var _a = this.props,\n        getRef = _a.getRef,\n        topicKey = _a.topicKey;\n    var links = getRef(linksRefKey(topicKey));\n    links && links.layout();\n  };\n\n  TopicWidget.prototype.render = function () {\n    log$c('render');\n    var props = this.props;\n    var controller = props.controller,\n        topicKey = props.topicKey,\n        dir = props.dir,\n        saveRef = props.saveRef;\n    var topicStyle = controller.run('getTopicContentStyle', props);\n\n    var propsMore = _assign(_assign({}, props), {\n      topicStyle: topicStyle\n    });\n\n    var topicContent = controller.run('renderTopicContent', propsMore);\n    return createElement(Node, {\n      topicDirection: dir\n    }, createElement(NodeTopic, {\n      topicDirection: dir,\n      ref: saveRef(topicRefKey(topicKey))\n    }, topicContent), this.renderSubTopics());\n  };\n\n  return TopicWidget;\n}(Component);\n\nvar templateObject_1$g, templateObject_2$b, templateObject_3$5;\nvar log$d = debug('node:view-port-viewer');\nvar ViewerRoot = styled.div(templateObject_1$h || (templateObject_1$h = __makeTemplateObject([\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  bottom: 20px;\\n  border-radius: 2px;\\n  z-index: 3;\\n  display: flex;\\n  flex-direction: row;\\n  user-select: none;\\n\"], [\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  bottom: 20px;\\n  border-radius: 2px;\\n  z-index: 3;\\n  display: flex;\\n  flex-direction: row;\\n  user-select: none;\\n\"])));\nvar Item_ = styled(Btn)(templateObject_2$c || (templateObject_2$c = __makeTemplateObject([\"\\n  margin: 10px;\\n\"], [\"\\n  margin: 10px;\\n\"])));\nvar ZoomFactorSpan = styled.span(templateObject_3$6 || (templateObject_3$6 = __makeTemplateObject([\"\\n  width: 80px;\\n  height: 18px;\\n\"], [\"\\n  width: 80px;\\n  height: 18px;\\n\"])));\n\nvar Item = function Item(props) {\n  return createElement(Tooltip, {\n    content: props.tooltip,\n    position: Position.TOP,\n    className: Classes.ICON\n  }, createElement(Item_, {\n    onClick: props.onClick\n  }, props.children));\n};\n\nvar ViewPortViewer =\n/** @class */\nfunction (_super) {\n  __extends(ViewPortViewer, _super);\n\n  function ViewPortViewer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.zoomFactorChange = function (zoomFactor) {\n      log$d('zoomFactorChange', zoomFactor);\n\n      _this.setState({\n        zoomFactor: zoomFactor\n      });\n    };\n\n    _this.onClickResetZoom = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      controller.run('setZoomFactor', _assign(_assign({}, props), {\n        zoomFactor: 1\n      }));\n    };\n\n    _this.onClickAddZoom = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      controller.run('setZoomFactor', _assign(_assign({}, props), {\n        zoomFactor: zoomFactor + 0.1\n      }));\n    };\n\n    _this.onClickMinusZoom = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      controller.run('setZoomFactor', _assign(_assign({}, props), {\n        zoomFactor: zoomFactor - 0.1\n      }));\n    };\n\n    _this.onClickCollapseAll = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      controller.run('addEventListener', _assign(_assign({}, props), {\n        key: EventKey.CENTER_ROOT_TOPIC,\n        listener: _this.centerRootTopic,\n        once: true\n      }));\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.COLLAPSE_ALL\n      }));\n    };\n\n    _this.onClickExpandAll = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      controller.run('addEventListener', _assign(_assign({}, props), {\n        key: EventKey.CENTER_ROOT_TOPIC,\n        listener: _this.centerRootTopic,\n        once: true\n      }));\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.EXPAND_ALL\n      }));\n    };\n\n    _this.centerRootTopic = function () {\n      var _a = _this.props,\n          getRef = _a.getRef,\n          model = _a.model,\n          controller = _a.controller;\n      var rootTopic = getRef(topicRefKey(model.editorRootTopicKey));\n      var dragScroll = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY);\n      var viewBox = dragScroll.viewBox;\n      var vector = getRelativeVector(rootTopic, viewBox); //TODO\n\n      dragScroll.setViewBoxScrollDelta(vector[0], vector[1]);\n    };\n\n    return _this;\n  }\n\n  ViewPortViewer.prototype.componentDidMount = function () {\n    var props = this.props;\n    var controller = props.controller;\n    controller.run('addZoomFactorChangeEventListener', _assign(_assign({}, props), {\n      listener: this.zoomFactorChange\n    }));\n  };\n\n  ViewPortViewer.prototype.componentWillUnmount = function () {\n    var props = this.props;\n    var controller = props.controller;\n    controller.run('removeZoomFactorChangeEventListener', _assign(_assign({}, props), {\n      listener: this.zoomFactorChange\n    }));\n  };\n\n  ViewPortViewer.prototype.render = function () {\n    log$d('render');\n    var props = this.props;\n    var controller = props.controller;\n    var zoomFactor = controller.run('getZoomFactor', props);\n    return createElement(ViewerRoot, null, createElement(Item, {\n      onClick: this.onClickCollapseAll,\n      tooltip: \"collapse all\"\n    }, Icon(IconName.COLLAPSE_ALL)), createElement(Item, {\n      onClick: this.onClickExpandAll,\n      tooltip: \"expand all\"\n    }, Icon(IconName.EXPAND_ALL)), createElement(Item, {\n      onClick: this.centerRootTopic,\n      tooltip: \"center root topic\"\n    }, Icon(IconName.CENTER)), createElement(Item, {\n      onClick: this.onClickMinusZoom,\n      tooltip: \"zoom in\"\n    }, Icon(IconName.MINUS)), createElement(Item, {\n      onClick: this.onClickResetZoom,\n      tooltip: \"reset zoom\"\n    }, createElement(ZoomFactorSpan, null, \"zoom:\" + Math.floor(zoomFactor * 100) + \"%\")), createElement(Item, {\n      onClick: this.onClickAddZoom,\n      tooltip: \"zoom out\"\n    }, Icon(IconName.PLUS)));\n  };\n\n  return ViewPortViewer;\n}(BaseWidget);\n\nvar templateObject_1$h, templateObject_2$c, templateObject_3$6;\nvar items = [{\n  icon: 'edit',\n  label: 'edit',\n  shortcut: 'Space',\n  rootCanUse: true,\n  opType: OpType.START_EDITING_CONTENT\n}, {\n  icon: 'add-sibling',\n  label: 'add sibling',\n  shortcut: 'Enter',\n  opType: OpType.ADD_SIBLING\n}, {\n  icon: 'add-child',\n  label: 'add child',\n  shortcut: 'Tab',\n  rootCanUse: true,\n  opType: OpType.ADD_CHILD\n}, {\n  icon: 'notes',\n  label: 'edit notes',\n  shortcut: 'Alt + D',\n  rootCanUse: true,\n  opType: OpType.START_EDITING_DESC\n}, {\n  icon: 'delete-node',\n  label: 'delete node',\n  shortcut: 'Del',\n  opType: OpType.DELETE_TOPIC\n}, {\n  icon: 'root',\n  label: 'set as editor root',\n  shortcut: 'Alt + Shift + F',\n  opType: OpType.SET_EDITOR_ROOT\n}];\n\nfunction customizeTopicContextMenu(props) {\n  var topicKey = props.topicKey,\n      model = props.model,\n      controller = props.controller;\n  var isRoot = topicKey === model.editorRootTopicKey;\n\n  function onClickItem(item) {\n    return function (e) {\n      item.opType && controller.run('operation', _assign(_assign({}, props), {\n        opType: item.opType\n      }));\n    };\n  }\n\n  return items.map(function (item) {\n    return isRoot && !item.rootCanUse ? null : createElement(MenuItem, {\n      key: item.label,\n      icon: Icon(item.icon),\n      text: item.label,\n      labelElement: createElement(\"kbd\", null, item.shortcut),\n      onClick: onClickItem(item)\n    });\n  });\n}\n\nfunction Theme(_a) {\n  var theme = _a.theme,\n      children = _a.children;\n  return (//@ts-ignore\n    createElement(ThemeProvider, {\n      theme: theme\n    }, createElement(Fragment, null, children))\n  );\n}\n\nvar log$e = debug('plugin:rendering');\n\nfunction RenderingPlugin() {\n  var DiagramRoot = styled.div(templateObject_1$i || (templateObject_1$i = __makeTemplateObject([\"\\n    width: 100%;\\n    height: 100%;\\n    background: \", \";\\n    position: relative;\\n  \"], [\"\\n    width: 100%;\\n    height: 100%;\\n    background: \", \";\\n    position: relative;\\n  \"])), function (props) {\n    return props.theme.background;\n  });\n  return {\n    renderDiagram: function renderDiagram(props) {\n      var model = props.model,\n          controller = props.controller;\n      return createElement(SaveRef, null, function (saveRef, getRef) {\n        var widgetProps = _assign(_assign({}, props), {\n          saveRef: saveRef,\n          getRef: getRef\n        });\n\n        log$e('renderDiagram', model);\n        return createElement(Theme, {\n          theme: model.config.theme\n        }, createElement(DiagramRoot, {\n          ref: saveRef(RefKey.DIAGRAM_ROOT_KEY)\n        }, createElement(MindDragScrollWidget, _assign({}, widgetProps)), controller.run('renderDiagramCustomize', widgetProps)));\n      });\n    },\n    renderDiagramCustomize: function renderDiagramCustomize(props) {\n      var controller = props.controller,\n          model = props.model;\n      var breadcrumbs = controller.run('renderEditorRootBreadcrumbs', _assign(_assign({}, props), {\n        topicKey: model.focusKey\n      }));\n      var styleEditor = controller.run('renderStyleEditor', _assign(_assign({}, props), {\n        topicKey: model.focusKey\n      }));\n      var modals = controller.run('renderModals', _assign(_assign({}, props), {\n        topicKey: model.focusKey\n      }));\n      var viewportViewer = controller.run('renderViewPortViewer', props);\n      return [breadcrumbs, styleEditor, modals, viewportViewer];\n    },\n    renderEditorRootBreadcrumbs: function renderEditorRootBreadcrumbs(props) {\n      return createElement(EditorRootBreadcrumbs, _assign({\n        key: \"EditorRootBreadcrumbs\"\n      }, props));\n    },\n    renderModals: function renderModals(props) {\n      return createElement(Modals, _assign({\n        key: \"modals\"\n      }, props));\n    },\n    renderModal: function renderModal(props) {\n      // const { controller, model } = props;\n      // const activeModalProps = controller.run('getActiveModalProps', props);\n      // if (activeModalProps) {\n      //   if (activeModalProps.name === 'edit-desc') {\n      //     const modalProps = { ...props, topicKey: model.focusKey };\n      //     return (\n      //       <ModalBody>\n      //         <ModalDescEditor>\n      //           {controller.run('renderTopicDescEditor', modalProps)}\n      //         </ModalDescEditor>\n      //       </ModalBody>\n      //     );\n      //   }\n      // }\n      return null;\n    },\n    getActiveModalProps: function getActiveModalProps(props) {\n      // const { model } = props;\n      // if (model.focusKey && model.focusMode === FocusMode.EDITING_DESC)\n      //   return {\n      //     name: 'edit-desc',\n      //     title: 'Edit Notes',\n      //     style: {\n      //       width: '50%',\n      //       height: '600px'\n      //     }\n      //   };\n      return null;\n    },\n    renderDoc: function renderDoc(_a) {\n      var children = _a.children;\n      return children;\n    },\n    renderRootWidget: function renderRootWidget(props) {\n      return createElement(RootWidget, _assign({}, props));\n    },\n    renderTopicWidget: function renderTopicWidget(props) {\n      return createElement(TopicWidget, _assign({}, props));\n    },\n    renderTopicContent: function renderTopicContent(props) {\n      return createElement(TopicContentWidget, _assign({}, props));\n    },\n    renderTopicContextMenu: function renderTopicContextMenu(props) {\n      return createElement(TopicContextMenu, _assign({}, props));\n    },\n    customizeTopicContextMenu: customizeTopicContextMenu,\n    renderTopicCollapseIcon: function renderTopicCollapseIcon(props) {\n      return createElement(TopicCollapseIcon, _assign({}, props));\n    },\n    renderTopicBlocks: function renderTopicBlocks(props) {\n      var model = props.model,\n          topicKey = props.topicKey,\n          controller = props.controller;\n      var topic = model.getTopic(topicKey);\n      var blocks = topic.blocks;\n      var res = [];\n      var i = 0;\n      blocks.forEach(function (block) {\n        var b = controller.run('renderTopicBlock', _assign(_assign({}, props), {\n          block: block,\n          blockKey: \"block-\" + i\n        }));\n\n        if (b) {\n          res.push(createElement(Fragment, {\n            key: \"block-\" + i\n          }, b));\n          i++;\n        }\n      });\n      return res;\n    },\n    renderTopicBlock: function renderTopicBlock(props) {\n      var controller = props.controller,\n          block = props.block,\n          topicKey = props.topicKey,\n          model = props.model;\n\n      switch (block.type) {\n        case BlockType.CONTENT:\n          return controller.run('renderTopicBlockContent', props);\n\n        case BlockType.DESC:\n          return controller.run('renderTopicBlockDesc', props);\n      }\n\n      return null;\n    },\n    renderTopicBlockContent: function renderTopicBlockContent(props) {\n      return createElement(TopicContent, _assign({}, props));\n    },\n    renderTopicBlockDesc: function renderTopicBlockDesc(props) {\n      return createElement(TopicDesc, _assign({}, props));\n    },\n    renderSubLinks: function renderSubLinks(props) {\n      var saveRef = props.saveRef,\n          topicKey = props.topicKey,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      if (topic.subKeys.size === 0 || topic.collapse) return null;\n      return createElement(TopicSubLinks, _assign({\n        ref: saveRef(linksRefKey(topicKey))\n      }, props));\n    },\n    renderRootSubLinks: function renderRootSubLinks(props) {\n      var saveRef = props.saveRef,\n          topicKey = props.topicKey,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      if (topic.subKeys.size === 0) return null;\n      return createElement(RootSubLinks, _assign({\n        ref: saveRef(linksRefKey(topicKey))\n      }, props));\n    },\n    renderFocusItemHighlight: function renderFocusItemHighlight(props) {\n      var saveRef = props.saveRef;\n      return createElement(TopicHighlight, _assign({\n        ref: saveRef(RefKey.FOCUS_HIGHLIGHT_KEY)\n      }, props));\n    },\n    renderRootWidgetOtherChildren: function renderRootWidgetOtherChildren(props) {\n      var controller = props.controller;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      props = _assign(_assign({}, props), {\n        zoomFactor: zoomFactor\n      });\n      return createElement(Fragment, null, controller.run('renderRootSubLinks', props), controller.run('renderFocusItemHighlight', props), controller.run('renderDragAndDropEffect', props));\n    },\n    renderStyleEditor: function renderStyleEditor(props) {\n      return createElement(StyleEditor, _assign({\n        key: \"style-editor\"\n      }, props));\n    },\n    renderViewPortViewer: function renderViewPortViewer(props) {\n      return createElement(ViewPortViewer, _assign({\n        key: \"view-port-viewer\"\n      }, props));\n    }\n  };\n}\n\nvar templateObject_1$i;\nvar log$f = debug('plugin:utils');\n\nfunction UtilsPlugin() {\n  var tempValueMap = new Map();\n  var eventListenerMap = new Map();\n  return {\n    addTempValueChangeListener: function addTempValueChangeListener(props) {\n      var key = props.key,\n          listener = props.listener;\n\n      if (!eventListenerMap.has(key)) {\n        eventListenerMap.set(key, []);\n      }\n\n      eventListenerMap.get(key).push(listener);\n    },\n    removeTempValueChangeListener: function removeTempValueChangeListener(props) {\n      var key = props.key,\n          listener = props.listener;\n\n      if (eventListenerMap.has(key)) {\n        eventListenerMap[key] = eventListenerMap.get(key).filter(function (l) {\n          return l !== listener;\n        });\n      }\n    },\n    getTempValue: function getTempValue(props) {\n      var key = props.key;\n      log$f('getTempValue', key);\n      return tempValueMap.get(key);\n    },\n    setTempValue: function setTempValue(props) {\n      var e_1, _a;\n\n      var key = props.key,\n          value = props.value;\n      log$f('setTempValue', key);\n      tempValueMap.set(key, value);\n\n      if (eventListenerMap.has(key)) {\n        var listeners = eventListenerMap.get(key);\n\n        try {\n          for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\n            var listener = listeners_1_1.value;\n            listener(value);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    },\n    deleteTempValue: function deleteTempValue(props) {\n      var key = props.key;\n      log$f('deleteTempValue', key);\n      var value = tempValueMap.get(key);\n      tempValueMap.delete(key);\n      return value;\n    }\n  };\n}\n\nfunction ReactPlugin(options) {\n  return [RenderingPlugin(), UtilsPlugin()];\n}\n\nvar log$g = debug('plugin:StylePlugin');\n\nfunction StylePlugin() {\n  var colorMap = new Map();\n  var colorIndex = 0;\n  return {\n    getTopicStyle: function getTopicStyle(props) {\n      var controller = props.controller;\n      return {\n        contentStyle: controller.run('getTopicContentStyle', props),\n        linkStyle: controller.run('getLinkStyle', props),\n        subLinkStyle: controller.run('getSubLinkStyle', props)\n      };\n    },\n    getTopicContentStyle: function getTopicContentStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      log$g('getTopicContentStyle:', topicKey, model);\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      var themeStyle;\n      if (visualLevel === TopicVisualLevel.ROOT) themeStyle = theme.rootTopic;else if (visualLevel === TopicVisualLevel.PRIMARY) themeStyle = theme.primaryTopic;else themeStyle = theme.normalTopic;\n      themeStyle = _assign(_assign({}, theme.contentStyle), themeStyle.contentStyle);\n\n      if (theme.randomColor) {\n        var randomColor = controller.run('getRandomColor', props);\n        themeStyle = _assign(_assign({}, themeStyle), {\n          background: randomColor,\n          borderColor: randomColor,\n          subLinkStyle: _assign(_assign({}, themeStyle.subLinkStyle), {\n            lineColor: randomColor\n          })\n        });\n      }\n\n      var topic = model.getTopic(topicKey);\n\n      if (!topic.style) {\n        return themeStyle;\n      }\n\n      var customStyle = JSON.parse(topic.style);\n      return _assign(_assign({}, themeStyle), customStyle.contentStyle);\n    },\n    getLinkStyle: function getLinkStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      log$g('getLinkStyle', topicKey);\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      var linkStyle = theme.linkStyle;\n      var presetStyle;\n      if (visualLevel === TopicVisualLevel.ROOT) presetStyle = theme.rootTopic.linkStyle;else if (visualLevel === TopicVisualLevel.PRIMARY) presetStyle = theme.primaryTopic.linkStyle;else presetStyle = theme.normalTopic.linkStyle;\n      linkStyle = _assign(_assign({}, linkStyle), presetStyle);\n      var topic = model.getTopic(topicKey); // 获取父节点的color\n      // if (theme.randomColor) {\n      //   const randomColor = controller.run('getRandomColor', {\n      //     ...props,\n      //     topicKey:\n      //       topic.parentKey !== model.editorRootTopicKey\n      //         ? topic.parentKey\n      //         : topicKey\n      //   });\n      //   log(randomColor);\n      //   linkStyle = {\n      //     ...linkStyle,\n      //     lineColor: randomColor\n      //   };\n      // }\n\n      if (topic.parentKey != null) {\n        var parentSubLinkStyle = controller.run('getSubLinkStyle', _assign(_assign({}, props), {\n          topicKey: topic.parentKey\n        }));\n        linkStyle = _assign(_assign({}, linkStyle), parentSubLinkStyle);\n      }\n\n      if (!topic.style) {\n        return linkStyle;\n      }\n\n      var customStyle = JSON.parse(topic.style);\n      return _assign(_assign({}, linkStyle), customStyle.linkStyle);\n    },\n    getSubLinkStyle: function getSubLinkStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      log$g('getLinkStyle', topicKey);\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      var subLinkStyle = theme.linkStyle;\n      var presetStyle;\n      if (visualLevel === TopicVisualLevel.ROOT) presetStyle = theme.rootTopic.subLinkStyle;else if (visualLevel === TopicVisualLevel.PRIMARY) presetStyle = theme.primaryTopic.subLinkStyle;else presetStyle = theme.normalTopic.subLinkStyle;\n      subLinkStyle = _assign(_assign({}, subLinkStyle), presetStyle);\n      var topic = model.getTopic(topicKey); // 获取父节点的color\n\n      if (theme.randomColor) {\n        var randomColor = controller.run('getRandomColor', props);\n        log$g(randomColor);\n        subLinkStyle = _assign(_assign({}, subLinkStyle), {\n          lineColor: randomColor\n        });\n      }\n\n      if (!topic.style) {\n        return subLinkStyle;\n      }\n\n      var customStyle = JSON.parse(topic.style);\n\n      var res = _assign(_assign({}, subLinkStyle), customStyle.subLinkStyle); // if (res.lineRadius == null) res.lineRadius = 5;\n\n\n      return res;\n    },\n    setTopicContentStyle: function setTopicContentStyle(props) {\n      var topicKey = props.topicKey,\n          controller = props.controller,\n          style = props.style,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      var topicStyle = topic.style;\n      var styleObj = topicStyle ? JSON.parse(topicStyle) : {};\n\n      var newStyleObj = _assign(_assign({}, styleObj), {\n        contentStyle: _assign(_assign({}, styleObj.contentStyle), style)\n      });\n\n      if (!isEqual(styleObj, newStyleObj)) {\n        var newStyleStr = JSON.stringify(newStyleObj);\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.SET_STYLE,\n          style: newStyleStr\n        }));\n      }\n    },\n    setLinkStyle: function setLinkStyle(props) {\n      var topicKey = props.topicKey,\n          controller = props.controller,\n          linkStyle = props.linkStyle,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      var style = topic.style;\n      var styleObj = style ? JSON.parse(style) : {};\n\n      var newStyleObj = _assign(_assign({}, styleObj), {\n        linkStyle: _assign(_assign({}, styleObj.linkStyle), linkStyle)\n      });\n\n      if (!isEqual(styleObj, newStyleObj)) {\n        var newStyleStr = JSON.stringify(newStyleObj);\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.SET_STYLE,\n          style: newStyleStr\n        }));\n      }\n    },\n    setSubLinkStyle: function setSubLinkStyle(props) {\n      var topicKey = props.topicKey,\n          controller = props.controller,\n          subLinkStyle = props.subLinkStyle,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      var style = topic.style;\n      var styleObj = style ? JSON.parse(style) : {};\n\n      var newStyleObj = _assign(_assign({}, styleObj), {\n        subLinkStyle: _assign(_assign({}, styleObj.subLinkStyle), subLinkStyle)\n      });\n\n      if (!isEqual(styleObj, newStyleObj)) {\n        var newStyleStr = JSON.stringify(newStyleObj);\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.SET_STYLE,\n          style: newStyleStr\n        }));\n      }\n    },\n    getTopicThemeStyle: function getTopicThemeStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model;\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      if (visualLevel === TopicVisualLevel.ROOT) return theme.rootTopic;\n      if (visualLevel === TopicVisualLevel.PRIMARY) return theme.primaryTopic;\n      return theme.normalTopic;\n    },\n    getRandomColor: function getRandomColor(props) {\n      var topicKey = props.topicKey;\n      if (colorMap.has(topicKey)) return colorMap.get(topicKey);\n      var colors = ['#00CC99', '#FFEE88', '#A167A5', '#E5F993', '#F5C396', '#DB995A', '#83BCFF', '#ED7B84', '#739E82', '#D3BCC0', '#FFA0FD', '#EFD3D7', '#C6878F'];\n      var color = colors[++colorIndex % colors.length];\n      colorMap.set(topicKey, color);\n      log$g('getRandomColor', topicKey, color);\n      return color;\n    },\n    clearAllCustomStyle: function clearAllCustomStyle(props) {\n      var model = props.model,\n          controller = props.controller;\n      var newModel = model.withMutations(function (model) {\n        model.topics.keySeq().forEach(function (key) {\n          model.setIn(['topics', key, 'style'], null);\n        });\n      });\n      controller.change(newModel);\n    }\n  };\n}\n\nfunction DefaultPlugin() {\n  return [ReactPlugin(), LayoutPlugin(), OperationPlugin(), StylePlugin(), EventPlugin(), HotKeyPlugin(), DragAndDrop(), SimpleTextEditorPlugin()];\n}\n\nvar log$h = debug('node:Diagram');\n\nvar Diagram =\n/** @class */\nfunction (_super) {\n  __extends(Diagram, _super);\n\n  function Diagram() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.resolveController = memoizeOne(function (plugins, commands, TheDefaultPlugin) {\n      if (plugins === void 0) {\n        plugins = [];\n      }\n\n      var defaultPlugin = TheDefaultPlugin();\n      _this.controller = new Controller({\n        plugins: [plugins, defaultPlugin],\n        commands: commands,\n        construct: false,\n        onChange: _this.props.onChange\n      });\n\n      _this.controller.run('onConstruct');\n    });\n    return _this;\n  }\n\n  Diagram.prototype.getDiagramProps = function () {\n    return this.diagramProps;\n  };\n\n  Diagram.prototype.renderHotkeys = function () {\n    var controller = this.diagramProps.controller;\n    var hotKeys = controller.run('customizeHotKeys', this.diagramProps);\n    if (hotKeys === null) return null;\n\n    if (!(hotKeys instanceof Map)) {\n      throw new TypeError('customizeHotKeys must return a Map');\n    }\n\n    var children = [];\n    hotKeys.forEach(function (v, k) {\n      children.push(createElement(Hotkey, _assign({\n        key: k\n      }, v, {\n        global: true\n      })));\n    });\n    return createElement(Hotkeys, null, children);\n  };\n\n  Diagram.prototype.render = function () {\n    var _a = this.props,\n        commands = _a.commands,\n        plugins = _a.plugins,\n        model = _a.model;\n    this.resolveController(plugins, commands, DefaultPlugin);\n    this.diagramProps = _assign(_assign({}, this.props), {\n      controller: this.controller,\n      model: model,\n      diagram: this\n    });\n    return this.controller.run('renderDiagram', this.diagramProps);\n  };\n\n  Diagram = __decorate([HotkeysTarget], Diagram);\n  return Diagram;\n}(Component);\n\nexport { BaseWidget, Btn, CloseIcon, Diagram, DragScrollWidget, EventKey, Flex, Icon, IconBg, IconName, Margin, RefKey, SaveRef, ShowMenuIcon, Title, cancelEvent, center, centerPointX, centerPointY, centerX, centerY, collapseRefKey, contentRefKey, getLinkKey, _getRelativeRect as getRelativeRect, getRelativeVector, iconClassName, linksRefKey, linksSvgRefKey, topicRefKey, topicWidgetRefKey };","import { BlockType } from '@blink-mind/core';\nimport { createElement } from 'react';\nimport { BaseWidget } from '@blink-mind/renderer-react';\nimport RichMarkDownEditor from 'awehook-rich-markdown-editor';\nimport debug from 'debug';\nimport styled from 'styled-components';\nimport MarkdownSerializer from 'slate-md-serializer';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar log = debug('node:topic-content-editor');\nvar NodeContent = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  \", \";\\n\"], [\"\\n  \", \";\\n\"])), function (props) {\n  return !props.readOnly && \"\\n    // padding: 75px\\n    // min-width: 150px\\n    // min-height: 150px\\n  \";\n});\n\nvar RichTextEditor =\n/** @class */\nfunction (_super) {\n  __extends(RichTextEditor, _super);\n\n  function RichTextEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.onMouseDown = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.onMouseMove = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.rootRef = function (saveRef) {\n      return function (ref) {\n        saveRef(ref);\n        _this.root = ref;\n      };\n    };\n\n    _this._handleClick = function (event) {\n      var wasOutside = !_this.root.contains(event.target);\n      wasOutside && _this.onClickOutSide(event);\n    };\n\n    _this.initState();\n\n    return _this;\n  }\n\n  RichTextEditor.prototype.initState = function () {\n    this.state = {\n      content: this.getContent()\n    };\n  };\n\n  RichTextEditor.prototype.getContent = function () {\n    var block = this.getCustomizeProps().block;\n    return block.data;\n  };\n\n  RichTextEditor.prototype.onChange = function (value) {\n    this.setState({\n      content: value\n    });\n  };\n\n  RichTextEditor.prototype.getCustomizeProps = function () {\n    return null;\n  };\n\n  RichTextEditor.prototype.componentDidMount = function () {\n    document.addEventListener('click', this._handleClick);\n  };\n\n  RichTextEditor.prototype.componentWillUnmount = function () {\n    document.removeEventListener('click', this._handleClick);\n  };\n\n  RichTextEditor.prototype.onClickOutSide = function (e) {};\n\n  RichTextEditor.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n\n    var _b = this.getCustomizeProps(),\n        readOnly = _b.readOnly,\n        refKeyPrefix = _b.refKeyPrefix,\n        placeholder = _b.placeholder;\n\n    log('readOnly:', readOnly);\n    var content = readOnly ? this.getContent() : this.state.content;\n    if (content == null) return null;\n    var key = refKeyPrefix + \"-\" + topicKey;\n\n    var _c = this,\n        onMouseDown = _c.onMouseDown,\n        onMouseMove = _c.onMouseMove;\n\n    var richEditorProps = {\n      editorValue: content,\n      readOnly: readOnly,\n      onChange: this.onChange.bind(this),\n      placeholder: placeholder\n    };\n    var nodeContentProps = {\n      key: key,\n      ref: this.rootRef(saveRef(key)),\n      readOnly: readOnly,\n      onMouseDown: onMouseDown,\n      onMouseMove: onMouseMove\n    };\n    return createElement(NodeContent, _assign({}, nodeContentProps), createElement(RichMarkDownEditor, _assign({}, richEditorProps)));\n  };\n\n  return RichTextEditor;\n}(BaseWidget);\n\nvar templateObject_1;\n\nvar TopicDescEditor =\n/** @class */\nfunction (_super) {\n  __extends(TopicDescEditor, _super);\n\n  function TopicDescEditor() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TopicDescEditor.prototype.initState = function () {\n    _super.prototype.initState.call(this);\n\n    var _a = this.props,\n        controller = _a.controller,\n        topicKey = _a.topicKey;\n    var key = \"topic-desc-data-\" + topicKey;\n    var value = this.state.content;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n  };\n\n  TopicDescEditor.prototype.getCustomizeProps = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var block = model.getTopic(topicKey).getBlock(BlockType.DESC).block;\n    var readOnly = model.editingDescKey !== topicKey;\n    var refKeyPrefix = 'desc-editor';\n    return {\n      block: block,\n      readOnly: readOnly,\n      refKeyPrefix: refKeyPrefix,\n      placeholder: 'write topic notes here'\n    };\n  };\n\n  TopicDescEditor.prototype.onChange = function (value) {\n    var _a = this.props,\n        controller = _a.controller,\n        topicKey = _a.topicKey;\n    var key = \"topic-desc-data-\" + topicKey;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n    this.setState({\n      content: value\n    });\n  };\n\n  return TopicDescEditor;\n}(RichTextEditor);\n\nvar markdownSerializer = new MarkdownSerializer();\n\nfunction RichTextEditorPlugin() {\n  return {\n    // renderTopicBlockContent(props) {\n    //   return <TopicContent {...props} />;\n    // },\n    // renderTopicContentEditor(props) {\n    //   return <TopicContentEditor {...props} />;\n    // },\n    renderTopicDescEditor: function renderTopicDescEditor(props) {\n      return createElement(TopicDescEditor, _assign({}, props));\n    },\n    isBlockEmpty: function isBlockEmpty(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        return block.data == null || controller.run('serializeBlockData', props) === '';\n      }\n\n      return next();\n    },\n    serializeBlockData: function serializeBlockData(props, next) {\n      var block = props.block;\n\n      if (block.type === BlockType.DESC) {\n        return typeof block.data === 'string' ? block.data : markdownSerializer.serialize(block.data);\n      }\n\n      return next();\n    },\n    serializeBlock: function serializeBlock(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        var res = {\n          type: block.type,\n          data: controller.run('serializeBlockData', props)\n        };\n        return res;\n      }\n\n      return next();\n    },\n    deserializeBlock: function deserializeBlock(props, next) {\n      return next();\n    }\n  };\n}\n\nexport default RichTextEditorPlugin;","import { Model, Config, Topic, Block } from '@blink-mind/core';\nimport debug from 'debug';\nimport { List, Map } from 'immutable';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nvar log = debug('plugin:json-serializer');\nvar DATA_VERSION = '0.0';\n\nfunction JsonSerializerPlugin() {\n  return {\n    serializeModel: function serializeModel(props) {\n      var model = props.model,\n          controller = props.controller;\n      var obj = {\n        rootTopicKey: model.rootTopicKey,\n        topics: model.topics.valueSeq().toArray().map(function (topic) {\n          return controller.run('serializeTopic', _assign(_assign({}, props), {\n            topic: topic\n          }));\n        }),\n        config: controller.run('serializeConfig', _assign(_assign({}, props), {\n          config: model.config\n        })),\n        formatVersion: model.formatVersion\n      };\n      return obj;\n    },\n    deserializeModel: function deserializeModel(props) {\n      var obj = props.obj,\n          controller = props.controller;\n\n      if (obj.formatVersion == null) {\n        obj.formatVersion = '0.0';\n      }\n\n      var rootTopicKey = obj.rootTopicKey,\n          topics = obj.topics,\n          config = obj.config,\n          formatVersion = obj.formatVersion;\n      var model = new Model();\n      model = model.merge({\n        rootTopicKey: rootTopicKey,\n        editorRootTopicKey: rootTopicKey,\n        config: controller.run('deserializeConfig', _assign(_assign({}, props), {\n          obj: config,\n          formatVersion: formatVersion\n        })),\n        topics: controller.run('deserializeTopics', _assign(_assign({}, props), {\n          obj: topics,\n          formatVersion: formatVersion\n        })),\n        formatVersion: DATA_VERSION\n      });\n      log('deserializeModel', model);\n      return model;\n    },\n    serializeConfig: function serializeConfig(props) {\n      var config = props.config;\n      return config.toJS();\n    },\n    deserializeConfig: function deserializeConfig(props) {\n      var obj = props.obj;\n      return new Config(obj);\n    },\n    serializeTopic: function serializeTopic(props) {\n      var topic = props.topic,\n          controller = props.controller;\n      return {\n        key: topic.key,\n        parentKey: topic.parentKey,\n        subKeys: topic.subKeys.toArray(),\n        collapse: topic.collapse,\n        style: topic.style,\n        blocks: topic.blocks.map(function (block) {\n          return controller.run('serializeBlock', _assign(_assign({}, props), {\n            block: block\n          }));\n        })\n      };\n    },\n    deserializeTopic: function deserializeTopic(props) {\n      var obj = props.obj,\n          controller = props.controller;\n      var key = obj.key,\n          parentKey = obj.parentKey,\n          subKeys = obj.subKeys,\n          blocks = obj.blocks,\n          style = obj.style,\n          collapse = obj.collapse;\n      var topic = new Topic();\n      topic = topic.merge({\n        key: key,\n        parentKey: parentKey,\n        subKeys: List(subKeys),\n        style: style,\n        collapse: collapse,\n        blocks: controller.run('deserializeBlocks', _assign(_assign({}, props), {\n          obj: blocks\n        }))\n      });\n      return topic;\n    },\n    deserializeTopics: function deserializeTopics(props) {\n      var obj = props.obj,\n          controller = props.controller;\n      var topics = Map();\n      topics = topics.withMutations(function (topics) {\n        obj.forEach(function (topic) {\n          return topics.set(topic.key, controller.run('deserializeTopic', _assign(_assign({}, props), {\n            obj: topic\n          })));\n        });\n      });\n      return topics;\n    },\n    serializeBlock: function serializeBlock(props) {\n      var block = props.block;\n      return block.toJS();\n    },\n    deserializeBlock: function deserializeBlock(props) {\n      var obj = props.obj;\n      return new Block(obj);\n    },\n    deserializeBlocks: function deserializeBlocks(props) {\n      var obj = props.obj,\n          controller = props.controller;\n      var blocks = List();\n      blocks = blocks.withMutations(function (blocks) {\n        obj.forEach(function (block) {\n          return blocks.push(controller.run('deserializeBlock', _assign(_assign({}, props), {\n            obj: block\n          })));\n        });\n      });\n      return blocks;\n    }\n  };\n}\n\nexport { JsonSerializerPlugin };","import { ModelModifier, defaultTheme } from '@blink-mind/core';\nvar themeRandomColorSquare = {\n  name: 'default',\n  randomColor: true,\n  background: 'rgb(57,60,65)',\n  highlightColor: '#50C9CE',\n  marginH: 60,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5',\n    fontSize: '16px'\n  },\n  linkStyle: {\n    lineRadius: 5,\n    lineType: 'curve',\n    lineWidth: 3\n  },\n  rootTopic: {\n    contentStyle: {\n      fontSize: '36px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      fontSize: '24px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3\n    }\n  },\n  normalTopic: {\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3\n    }\n  }\n};\nvar theme1 = {\n  name: 'theme1',\n  randomColor: false,\n  background: 'rgb(250,245,205)',\n  highlightColor: '#50C9CE',\n  marginH: 50,\n  marginV: 30,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: 'rgb(221, 170, 68)',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: 'rgb(221, 170, 68)'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#e8eaec',\n      borderWidth: '2px',\n      borderStyle: 'solid',\n      borderColor: 'rgb(221, 170, 68)',\n      borderRadius: '5px',\n      fontSize: '17px',\n      padding: '10px 15px 10px 15px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: 'rgb(221, 170, 68)'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#fff',\n      border: '1px solid #e8eaec',\n      borderRadius: '20px',\n      color: 'rgb(187, 136, 34)',\n      fontSize: '13px',\n      padding: '4px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: 1,\n      lineColor: 'rgb(187, 136, 34)'\n    }\n  }\n};\nvar theme2 = {\n  name: 'theme2',\n  randomColor: false,\n  background: '#f8f8f8',\n  highlightColor: '#50C9CE',\n  marginH: 45,\n  marginV: 10,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: '#50C18A',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#ffffff',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: 'rgb(221, 170, 68)',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '14px',\n      padding: '6px 10px 5px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#fff',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '13px',\n      padding: '3px 9px 4px',\n      boxShadow: '1px 1px 1px #ccc'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: 1,\n      lineColor: '#43a9ff'\n    }\n  }\n};\nvar theme3 = {\n  name: 'theme3',\n  randomColor: false,\n  background: '#A9DEF9',\n  highlightColor: '#50C9CE',\n  marginH: 50,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: '#FF99C8',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#FCF6BD',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#E4C1F9',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '14px',\n      padding: '6px 10px 5px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#E4FDE1',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '13px',\n      padding: '3px 9px 4px',\n      boxShadow: '1px 1px 1px #ccc'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: 1,\n      lineColor: '#43a9ff'\n    }\n  }\n};\nvar theme4 = {\n  name: 'theme3',\n  randomColor: false,\n  background: '#CCFBFE',\n  highlightColor: '#50C9CE',\n  marginH: 50,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: '#CD8987',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#CDACA1',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#E4C1F9',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '14px',\n      padding: '6px 10px 5px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'line',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#CDCACC',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '13px',\n      padding: '3px 9px 4px',\n      boxShadow: '1px 1px 1px #ccc'\n    },\n    subLinkStyle: {\n      lineType: 'line',\n      lineRadius: 5,\n      lineWidth: 1,\n      lineColor: '#43a9ff'\n    }\n  }\n};\n\nfunction ThemeSelectorPlugin() {\n  var themeMap = new Map([['default', defaultTheme], ['random-color-square', themeRandomColorSquare], ['theme1', theme1], ['theme2', theme2], ['theme3', theme3], ['theme4', theme4]]);\n  return {\n    getAllThemes: function getAllThemes(props) {\n      return themeMap;\n    },\n    setTheme: function setTheme(props) {\n      var model = props.model,\n          controller = props.controller,\n          themeKey = props.themeKey;\n      var allTheme = controller.run('getAllThemes', props);\n\n      if (!allTheme.has(themeKey)) {\n        throw new Error('setTheme: the theme key is not correct!');\n      }\n\n      var theme = allTheme.get(themeKey);\n      var newModel = ModelModifier.setTheme({\n        model: model,\n        theme: theme\n      });\n      controller.change(newModel);\n    }\n  };\n}\n\nexport { ThemeSelectorPlugin, theme1, theme2, theme3, theme4, themeRandomColorSquare };","import React from \"react\";\nimport { iconClassName } from \"@blink-mind/renderer-react\";\n\nexport function ToolbarItemOpen(props) {\n  const onClickOpenFile = e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \".json,.bm,.blinkmind\";\n    input.addEventListener(\"change\", evt => {\n      const file = evt.target.files[0];\n      const fr = new FileReader();\n      fr.onload = evt => {\n        const txt = evt.target.result;\n        let obj = JSON.parse(txt);\n        let model = controller.run(\"deserializeModel\", { controller, obj });\n        controller.change(model);\n      };\n      fr.readAsText(file);\n    });\n    input.click();\n  };\n  return (\n    <div\n      className={`bm-toolbar-item ${iconClassName(\"openfile\")}`}\n      onClick={onClickOpenFile}\n    />\n  );\n}\n","import React from \"react\";\nimport { DiagramLayoutType } from \"@blink-mind/core\";\nimport cx from \"classnames\";\nimport { Icon, iconClassName } from \"@blink-mind/renderer-react\";\nimport { Menu, MenuItem, Popover } from \"@blueprintjs/core\";\n\nexport function ToolbarItemLayout(props) {\n  const layoutDirs = [\n    [\n      DiagramLayoutType.LEFT_AND_RIGHT,\n      \"Left And Right\",\n      \"layout-left-and-right\"\n    ],\n    [DiagramLayoutType.LEFT_TO_RIGHT, \"Only Right\", \"layout-right\"],\n    [DiagramLayoutType.RIGHT_TO_LEFT, \"Only Left\", \"layout-left\"]\n  ];\n\n  const onClickSetLayout = layoutDir => e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n    controller.run(\"setLayoutDir\", { ...diagramProps, layoutDir });\n  };\n\n  return (\n    <div\n      className={cx(\"bm-toolbar-item\", iconClassName(\"layout-left-and-right\"))}\n    >\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <Menu>\n          {layoutDirs.map(dir => (\n            <MenuItem\n              key={dir[1]}\n              icon={Icon(dir[2])}\n              text={dir[1]}\n              onClick={onClickSetLayout(dir[0])}\n            />\n          ))}\n        </Menu>\n      </Popover>\n    </div>\n  );\n};\n","import defaultThemeImg from '../../images/default.jpg';\nimport theme1Img from '../../images/theme1.jpg';\nimport theme2Img from '../../images/theme2.jpg';\nimport theme3Img from '../../images/theme3.jpg';\nimport theme4Img from '../../images/theme4.jpg';\nimport cx from 'classnames';\nimport { iconClassName } from '@blink-mind/renderer-react';\nimport { Popover } from '@blueprintjs/core';\nimport React from 'react';\n\nexport function ToolbarItemTheme(props) {\n  const onClickSetTheme = themeKey => e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n    controller.run('setTheme', { ...diagramProps, themeKey });\n  };\n  const themes = [\n    ['default', defaultThemeImg],\n    ['theme1', theme1Img],\n    ['theme2', theme2Img],\n    ['theme3', theme3Img],\n    ['theme4', theme4Img]\n  ];\n\n  return (\n    <div className={cx('bm-toolbar-item', iconClassName('theme'))}>\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <div className=\"bm-popover-theme\">\n          {themes.map(theme => (\n            <div className=\"bm-theme-item\" onClick={onClickSetTheme(theme[0])}>\n              <img className=\"bm-theme-img\" src={theme[1]} alt={theme[0]} />\n            </div>\n          ))}\n        </div>\n      </Popover>\n    </div>\n  );\n}\n","import { Model } from \"@blink-mind/core\";\n\nexport function createKey() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    const r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport const downloadFile = (url, filename) => {\n  const link = document.createElement(\"a\");\n  link.href = url;\n  link.download = filename;\n  link.click();\n};\n\nexport function generateSimpleModel() {\n\n  const rootKey = createKey();\n\n  return Model.create({\n    rootTopicKey: rootKey,\n    topics: [\n      {\n        key: rootKey,\n        blocks: [{ type: \"CONTENT\", data: \"MainTopic\" }],\n      }\n    ]\n  });\n}\n","import cx from \"classnames\";\nimport { iconClassName } from \"@blink-mind/renderer-react\";\nimport { Menu, MenuDivider, MenuItem, Popover } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport { downloadFile } from \"../../utils\";\n\nexport function ToolbarItemExport(props) {\n  const onClickExportJson = e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller, model } = diagramProps;\n\n    const json = controller.run(\"serializeModel\", diagramProps);\n    const jsonStr = JSON.stringify(json);\n    const url = `data:text/plain,${encodeURIComponent(jsonStr)}`;\n    const title = controller.run(\"getTopicTitle\", {\n      ...diagramProps,\n      topicKey: model.rootTopicKey\n    });\n    downloadFile(url, `${title}.blinkmind`);\n  };\n\n  return (\n    <div className={cx(\"bm-toolbar-item\", iconClassName(\"export\"))}>\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <Menu>\n          <MenuItem text=\"JSON(.json)\" onClick={onClickExportJson} />\n          <MenuDivider />\n        </Menu>\n      </Popover>\n    </div>\n  );\n}\n","import React from \"react\";\nimport cx from \"classnames\";\nimport \"./Toolbar.css\";\nimport { iconClassName, Icon } from \"@blink-mind/renderer-react\";\nimport { ToolbarItemOpen } from \"./toolbar-item-open\";\nimport { ToolbarItemLayout } from \"./toolbar-item-layout\";\nimport { ToolbarItemTheme } from \"./toolbar-item-theme\";\nimport { ToolbarItemExport } from \"./toolbar-item-export\";\n\n// import debug from \"debug\";\n// const log = debug(\"app\");\n\nexport class Toolbar extends React.PureComponent {\n  render() {\n    const props = this.props;\n\n    const { onClickUndo, onClickRedo, canUndo, canRedo } = props;\n\n    return (\n      <div className=\"bm-toolbar\">\n        <ToolbarItemOpen {...props} />\n        <ToolbarItemExport {...props} />\n        <ToolbarItemTheme {...props} />\n        <ToolbarItemLayout {...props} />\n\n        <div\n          className={cx(\"bm-toolbar-item\", iconClassName(\"undo\"), {\n            \"bm-toolbar-item-disabled\": !canUndo\n          })}\n          onClick={onClickUndo}\n        />\n\n        <div\n          className={cx(\"bm-toolbar-item\", iconClassName(\"redo\"), {\n            \"bm-toolbar-item-disabled\": !canRedo\n          })}\n          onClick={onClickRedo}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Diagram } from \"@blink-mind/renderer-react\";\nimport RichTextEditorPlugin from \"@blink-mind/plugin-rich-text-editor\";\nimport { JsonSerializerPlugin } from \"@blink-mind/plugin-json-serializer\";\nimport { ThemeSelectorPlugin } from \"@blink-mind/plugin-theme-selector\";\nimport { Toolbar } from \"./toolbar/toolbar\";\nimport { generateSimpleModel } from \"../utils\";\nimport \"@blink-mind/renderer-react/lib/main.css\";\nimport debug from \"debug\";\nconst log = debug(\"app\");\n\nconst plugins = [\n  RichTextEditorPlugin(),\n  JsonSerializerPlugin(),\n  ThemeSelectorPlugin()\n];\n\nexport class Mindmap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.initModel();\n  }\n\n  diagram;\n  diagramRef = ref => {\n    this.diagram = ref;\n    this.setState({});\n  };\n\n  initModel() {\n    const model = generateSimpleModel();\n    this.state = { model };\n  }\n\n  onClickUndo = e => {\n    const props = this.diagram.getDiagramProps();\n    const { controller } = props;\n    controller.run(\"undo\", props);\n  };\n\n  onClickRedo = e => {\n    const props = this.diagram.getDiagramProps();\n    const { controller } = props;\n    controller.run(\"redo\", props);\n  };\n\n  renderDiagram() {\n    return (\n      <Diagram\n        ref={this.diagramRef}\n        model={this.state.model}\n        onChange={this.onChange}\n        plugins={plugins}\n      />\n    );\n  }\n\n  renderToolbar() {\n    const props = this.diagram.getDiagramProps();\n    const { controller } = props;\n    const canUndo = controller.run(\"canUndo\", props);\n    const canRedo = controller.run(\"canRedo\", props);\n    const toolbarProps = {\n      diagram: this.diagram,\n      onClickUndo: this.onClickUndo,\n      onClickRedo: this.onClickRedo,\n      canUndo,\n      canRedo,\n    };\n    return <Toolbar {...toolbarProps} />;\n  }\n\n  onChange = model => {\n    this.setState({\n      model\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"mindmap\">\n        {this.diagram && this.renderToolbar()}\n        {this.renderDiagram()}\n      </div>\n    );\n  }\n}\n\nexport default Mindmap;\n","import React from \"react\";\nimport Mindmap from \"./component/mindmap\";\nimport \"./App.css\";\n\nfunction App() {\n  return <Mindmap />;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nlet debugNameSpaces = [\n  \"app\"\n  // \"node:*\",\n];\n\nlocalStorage.debug = debugNameSpaces.join(\",\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};"],"sourceRoot":""}