(window["webpackJsonpreact-mindmap"]=window["webpackJsonpreact-mindmap"]||[]).push([[0],{172:function(e,t,n){e.exports=n(533)},177:function(e,t,n){},519:function(e,t,n){},520:function(e,t,n){},531:function(e,t,n){},532:function(e,t,n){},533:function(e,t,n){"use strict";n.r(t);var o=n(5),r=n.n(o),i=n(85),a=n.n(i),s=(n(177),n(49)),c=n(50),u=n(52),p=n(51),l=n(53),d=n(86),f=n.n(d),g=n(7),m=n(168),h=n.n(m),y=function(e){var t=e.diagramState,n=e.onChange,o=e.config,i=e.op;return r.a.createElement("i",{className:h()("bm-toolbar-item","iconfont","bm-".concat(o.icon)),onClick:function(){o.opType?i(o.opType,null):o.clickHandler&&o.clickHandler(t,n)},title:o.label})},v=(n(519),n(169)),b=(n(520),function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}),_=n(22),I=n.n(_);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){return r.a.createElement("div",{className:"popup-content"},r.a.createElement("ul",{className:"popup-content-list"},r.a.createElement("li",{className:"popup-content-list-item",onClick:function(){var t=e.diagramState.mindMapModel,n=Object(g.convertMindMapModelToRaw)(t),o=JSON.stringify(n),r="data:text/plain,".concat(encodeURIComponent(o));b(r,"".concat(n.title,".json")),I.a.close()}},"JSON (.json)")))}function M(e){var t=e.diagramState,n=e.onChange;return r.a.createElement("div",{className:"popup-content"},r.a.createElement("div",null,"Support for opening files in the following format"),r.a.createElement("ul",{className:"popup-content-list"},r.a.createElement("li",{className:"popup-content-list-item"},"JSON (.json)")),r.a.createElement("div",null,r.a.createElement("button",{className:"popup-btn",onClick:function(){var e=document.createElement("input");e.type="file",e.accept=".json",console.log("add onchange"),e.addEventListener("change",(function(e){var o=e.target.files[0],r=new FileReader;console.log("add fr onload"),r.onload=function(e){var o=e.target.result,r=JSON.parse(o);console.log(r);var i=Object(g.convertRawToMindMapModel)(r),a=g.DiagramState.setMindMapModel(t,i);n(a)},r.readAsText(o)})),e.click(),I.a.close()}},"Open File"),r.a.createElement("button",{className:"popup-btn"},"Cancel")))}function w(e){var t=function(t){var n=e.diagramState,o=e.onChange,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.config,{theme:t});o(g.DiagramState.setConfig(n,r))},n=e.diagramState.config.themeConfigs;return console.log(n),r.a.createElement("div",{className:"popup-content"},r.a.createElement("ul",{className:"popup-content-list"},function(e){var n=[];return Object.keys(e).forEach((function(o){var i=e[o];n.push(r.a.createElement("li",{className:"popup-content-list-item",key:o,onClick:function(){return t(o)}},r.a.createElement("span",null,i.name),r.a.createElement("div",{className:"theme-color",style:{background:i.color.primary}})))})),n}(n)))}var S=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).showPopupExport=function(e){I.a.create({title:"Please select export file format",content:r.a.createElement(E,{diagramState:e})})},n.showPopupOpenFile=function(e,t){I.a.create({title:"Open File",content:r.a.createElement(M,{diagramState:e,onChange:t})})},n.showPopupChangeTheme=function(e,t){I.a.create({title:"Change Theme",content:r.a.createElement(w,{diagramState:e,onChange:t})})},n.items=[{icon:"openfile",label:"open file",clickHandler:n.showPopupOpenFile},{icon:"export",label:"export file",clickHandler:n.showPopupExport},{icon:"theme",label:"change theme",clickHandler:n.showPopupChangeTheme},{icon:"undo",label:"undo",opType:g.OpType.UNDO},{icon:"redo",label:"redo",opType:g.OpType.REDO},{icon:"add-sibling",label:"add sibling",opType:g.OpType.ADD_SIBLING},{icon:"add-child",label:"add child",opType:g.OpType.ADD_CHILD},{icon:"delete-node",label:"delete node",opType:g.OpType.DELETE_NODE}],n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.diagramState,n=e.onChange,o=e.op,i=this.items.map((function(e){return r.a.createElement(y,{config:e,key:e.label,diagramState:t,onChange:n,op:o})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"bm-toolbar"},i))}}]),t}(r.a.Component),x=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){n.setState({diagramState:e})},n.onKeyDown=function(e){var t=n.getFocusItemMode();t!==g.FocusItemMode.Normal&&t!==g.FocusItemMode.PopupMenu||e.preventDefault()},n.onKeyUp=function(e){console.log(e);var t=n.getFocusItemMode();switch(e.which){case f.a.TAB:t!==g.FocusItemMode.Normal&&t!==g.FocusItemMode.PopupMenu||n.op(g.OpType.ADD_CHILD);break;case f.a.RETURN:t!==g.FocusItemMode.Normal&&t!==g.FocusItemMode.PopupMenu||n.op(g.OpType.ADD_SIBLING),t===g.FocusItemMode.Editing&&e.ctrlKey&&n.op(g.OpType.ADD_SIBLING)}},n.op=function(e,t,o){var r=n.state.diagramState,i=g.DiagramState.op(r,e,t,o);n.onChange(i)};var o=g.MindMapModel.createWith({rootItemKey:"root",editorRootItemKey:"root",items:[{key:"root",content:"MainTopic",subItemKeys:["sub1","sub2"]},{key:"sub1",parentKey:"root",content:"SubTopic",subItemKeys:[],collapse:!0},{key:"sub2",parentKey:"root",content:"SubTopic",subItemKeys:[]}]}),r=g.DiagramState.createWith(o,{hMargin:10});return n.state={diagramState:r},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"getFocusItemMode",value:function(){return this.state.diagramState.mindMapModel.getFocusItemMode()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}},{key:"render",value:function(){return r.a.createElement("div",{className:"mindmap"},r.a.createElement(S,{diagramState:this.state.diagramState,onChange:this.onChange,op:this.op}),r.a.createElement(g.DiagramWidget,{diagramState:this.state.diagramState,onChange:this.onChange}))}}]),t}(r.a.Component);n(531),n(532);var R=function(){return r.a.createElement(x,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));localStorage.debug=null,a.a.render(r.a.createElement(R,null),document.getElementById("root")),a.a.render(r.a.createElement(I.a,null),document.getElementById("popup")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){window,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t){e.exports=n(0)},function(e,t){e.exports=n(6)},function(e,t){e.exports=n(182)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Normal=0]="Normal",e[e.PopupMenu=1]="PopupMenu",e[e.EditingContent=2]="EditingContent",e[e.EditingDesc=3]="EditingDesc"}(t.FocusItemMode||(t.FocusItemMode={})),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.ROOT=2]="ROOT"}(t.NodeWidgetDirection||(t.NodeWidgetDirection={})),function(e){e[e.PRIMARY_HAS_BORDER_NORMAL_NO_BORDER=0]="PRIMARY_HAS_BORDER_NORMAL_NO_BORDER",e[e.ALL_HAS_BORDER=1]="ALL_HAS_BORDER"}(t.NodeStyle||(t.NodeStyle={}))},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(0).Component);t.BaseWidget=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(8),i=n(3),a=n(12),s=n(9),c=n(27),u=n(28),p=n(2).default("model:modifier");!function(e){e[e.UNDO=1]="UNDO",e[e.REDO=2]="REDO",e[e.TOGGLE_COLLAPSE=3]="TOGGLE_COLLAPSE",e[e.SET_ITEM_CONTENT=4]="SET_ITEM_CONTENT",e[e.SET_ITEM_DESC=5]="SET_ITEM_DESC",e[e.FOCUS_ITEM=6]="FOCUS_ITEM",e[e.START_EDITING_DESC=7]="START_EDITING_DESC",e[e.START_EDITING_CONTENT=8]="START_EDITING_CONTENT",e[e.END_EDITING=9]="END_EDITING",e[e.SET_POPUP_MENU_ITEM_KEY=10]="SET_POPUP_MENU_ITEM_KEY",e[e.ADD_CHILD=11]="ADD_CHILD",e[e.ADD_SIBLING=12]="ADD_SIBLING",e[e.DELETE_NODE=13]="DELETE_NODE",e[e.SET_DROP_AREA_KEY=14]="SET_DROP_AREA_KEY",e[e.DRAG_AND_DROP=15]="DRAG_AND_DROP"}(o=t.OpType||(t.OpType={}));var l=function(){function e(){}return e.op=function(t,n,r,i){if(n===o.DELETE_NODE&&p(n),e.opMap.has(n)){var a=e.opMap.get(n)(t,r,i);return n!==o.UNDO&&n!==o.REDO&&n!==o.FOCUS_ITEM&&n!==o.SET_ITEM_CONTENT&&(e.undoStack=e.undoStack.push(a)),a}return t},e.undo=function(t){return e.undoStack.size>1&&(t=e.popUndoStack(),e.pushRedoStack(t),t=e.undoStack.peek()),t},e.redo=function(t){return e.redoStack.size>0&&(t=e.popRedoStack(),e.pushUndoStack(t)),t},e.pushUndoStack=function(t){e.undoStack=e.undoStack.push(t)},e.popUndoStack=function(){var t=e.undoStack.peek();return e.undoStack=e.undoStack.pop(),t},e.pushRedoStack=function(t){e.redoStack=e.redoStack.push(t)},e.popRedoStack=function(){var t=e.redoStack.peek();return e.redoStack=e.redoStack.pop(),t},e.toggleCollapse=function(t,n){var o=t.getItem(n);return 0!==o.getSubItemKeys().size&&(o=o.merge({collapse:!o.getCollapse()}),t=e.setItem(t,o)),t},e.setItem=function(e,t){return e.update("itemMap",(function(e){return e.set(t.getKey(),t)}))},e.focusItem=function(e,t){return t!==e.getFocusItemKey()&&(e=e.set("focusItemKey",t)),null===t&&(e=e.set("focusItemMode",i.FocusItemMode.Normal)),e},e.setFocusItemMode=function(e,t){return t!==e.getFocusItemMode()&&(e=e.set("focusItemMode",t)),e},e.setFocusItemKey=function(e,t){return t!==e.getFocusItemKey()&&(e=e.set("focusItemKey",t)),e},e.setPopupMenuItemKey=function(e,t){return p("set popup menu item key ",t),t!==e.getPopupMenuItemKey()&&(t!==e.getFocusItemKey()&&(e=e.set("focusItemKey",t)),e.get("focusItemMode")!==i.FocusItemMode.PopupMenu&&(e=e.set("focusItemMode",i.FocusItemMode.PopupMenu))),e},e.setItemContent=function(t,n,o){var r=t.getItem(n),i=!1;return r&&(0===e.undoStack.size&&e.pushUndoStack(t),r.getContent()instanceof c.Value&&(i=r.getContent().document!==o.document),r=r.merge({content:o}),t=e.setItem(t,r)),t=t.set("focusItemKey",n),i&&e.pushUndoStack(t),t},e.setItemDesc=function(t,n,o){var r=t.getItem(n),a=!1;return r&&(0===e.undoStack.size&&e.pushUndoStack(t),r.getContent()instanceof c.Value&&(a=r.getContent().document!==o.document),r=r.merge({desc:o}),t=e.setItem(t,r)),t=t.set("focusItemKey",n).set("focusItemMode",i.FocusItemMode.EditingDesc),a&&e.pushUndoStack(t),t},e.setDropAreaKey=function(e,t){return t!==e.getDropAreaKey()&&(e=e.set("dropAreaKey",t)),p("setDropAreaKey:",e.getDropAreaKey()),e},e.startEditingContent=function(t,n){return p("set editing item key ",n),n!==t.getEditingContentItemKey()&&(t=e.setFocusItemKey(t,n),t=e.setFocusItemMode(t,i.FocusItemMode.EditingContent)),t},e.startEditingDesc=function(t,n){var o=t.getItem(n);return o&&(null!=o.getDesc()||(t=e.setItemDesc(t,n,""))),n!==t.getEditingDescItemKey()&&(t=e.setFocusItemKey(t,n),t=e.setFocusItemMode(t,i.FocusItemMode.EditingDesc)),t},e.endEditing=function(t,n){return e.setFocusItemMode(t,i.FocusItemMode.Normal)},e.addChild=function(t,n){var o=t.getItem(n);if(o){var i=r.MindNodeModel.create(a.uuidv4());i=i.set("parentKey",o.getKey()),o=o.set("collapse",!1).update("subItemKeys",(function(e){return e.push(i.getKey())})),t=t.update("itemMap",(function(e){return e.set(o.getKey(),o).set(i.getKey(),i)})),t=e.startEditingContent(t,i.getKey())}return t},e.addSibling=function(t,n){var o=t.getItem(n);if(n===t.getRootItemKey())return t;if(o){var i=r.MindNodeModel.create(a.uuidv4());i=i.set("parentKey",o.getParentKey());var s=t.getParentItem(n);s=s.update("subItemKeys",(function(e){return e.insert(e.indexOf(n)+1,i.getKey())})),t=t.update("itemMap",(function(e){return e.set(s.getKey(),s).set(i.getKey(),i)})),t=e.startEditingContent(t,i.getKey())}return t},e.deleteNode=function(t,n){if(p("deleteItem ",n),n===t.getRootItemKey())return t;var o=t.getItem(n),r=t.getItem(o.getParentKey()),i=r.getSubItemKeys().indexOf(n);return r=r.update("subItemKeys",(function(e){return e.delete(i)})),t=t.set("focusItemKey",o.getParentKey()).update("itemMap",(function(o){var i=e.getAllSubItemKeys(t,n);return(o=o.set(r.key,r)).withMutations((function(e){e=e.delete(n);for(var t=0,o=i;t<o.length;t++){var r=o[t];e=e.delete(r)}return e}))}))},e.getAllSubItemKeys=function(t,n){var o=t.getItem(n),r=[];if(o.getSubItemKeys().size>0){var i=o.getSubItemKeys().toArray();r.push(i);for(var a=0,s=i;a<s.length;a++){var c=s[a];r.push(e.getAllSubItemKeys(t,c))}}return r},e.getRelation=function(e,t,n){var o=e.getItem(t),r=e.getItem(n);if(o&&r){if(o.getParentKey()==r.getParentKey())return u.NodeRelationship.Sibling;for(var i=o;i.getParentKey();){if(i.getParentKey()===r.getKey())return u.NodeRelationship.Descendant;i=e.getParentItem(i.getKey())}for(i=r;i.getParentKey();){if(i.getParentKey()===o.getKey())return u.NodeRelationship.Ancestor;i=e.getParentItem(i.getKey())}}return u.NodeRelationship.None},e.canDragAndDrop=function(t,n,o,r){return n!==t.getEditorRootItemKey()&&n!==o&&e.getRelation(t,n,o)!==u.NodeRelationship.Ancestor&&(t.getItem(n).getParentKey()!==o||"in"!==r)},e.dragAndDrop=function(t,n,o){var r=o.dstKey,i=o.dir;if(!e.canDragAndDrop(t,n,r,i))return t;var a=t.getItem(n),c=t.getItem(r),u=a.getParentKey(),p=t.getItem(u).getSubItemKeys(),l=p.indexOf(n);if(p=p.delete(l),"in"===i){var d=c.getSubItemKeys();d=d.push(n),t=t.withMutations((function(e){e.setIn(["itemMap",u,"subItemKeys"],p).setIn(["itemMap",n,"parentKey"],r).setIn(["itemMap",r,"subItemKeys"],d).setIn(["itemMap",r,"collapse"],!1).set("dropAreaKey",null)}))}else{var f=c.getParentKey(),g=t.getItem(f).getSubItemKeys(),m=g.indexOf(r);if(u===f){var h=s.List();g.forEach((function(e){e!==n&&(h=e===r?"before"===i?h.push(n).push(e):h.push(e).push(n):h.push(e))})),t=t.withMutations((function(e){e.setIn(["itemMap",f,"subItemKeys"],h).set("dropAreaKey",null)}))}else"before"===i?g=g.insert(m,n):"after"===i&&(g=g.insert(m+1,n)),t=t.withMutations((function(e){e.setIn(["itemMap",u,"subItemKeys"],p).setIn(["itemMap",n,"parentKey"],f).setIn(["itemMap",f,"subItemKeys"],g).setIn(["itemMap",f,"collapse"],!1).set("dropAreaKey",null)}))}return t},e.undoStack=s.Stack(),e.redoStack=s.Stack(),e.opMap=new Map([[o.UNDO,e.undo],[o.REDO,e.redo],[o.TOGGLE_COLLAPSE,e.toggleCollapse],[o.SET_ITEM_CONTENT,e.setItemContent],[o.SET_ITEM_DESC,e.setItemDesc],[o.FOCUS_ITEM,e.focusItem],[o.START_EDITING_CONTENT,e.startEditingContent],[o.START_EDITING_DESC,e.startEditingDesc],[o.END_EDITING,e.endEditing],[o.SET_POPUP_MENU_ITEM_KEY,e.setPopupMenuItemKey],[o.ADD_CHILD,e.addChild],[o.ADD_SIBLING,e.addSibling],[o.DELETE_NODE,e.deleteNode],[o.SET_DROP_AREA_KEY,e.setDropAreaKey],[o.DRAG_AND_DROP,e.dragAndDrop]]),e}();t.MindMapModelModifier=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(0),i=n(25),a=n(29),s=n(30),c=n(3),u=n(31);!function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e[e.LEFT_AND_RIGHT=2]="LEFT_AND_RIGHT"}(o=t.DiagramLayoutDirection||(t.DiagramLayoutDirection={})),t.defaultDiagramConfig={direction:o.LEFT_AND_RIGHT,nodeStyle:c.NodeStyle.ALL_HAS_BORDER,hMargin:10,vMargin:10,focusBorderPadding:4,theme:"theme2",themeConfigs:u.default,rootItemStyle:{fontSize:"24px",borderRadius:"10px",padding:"10px 25px"},primaryItemStyle:{fontSize:"16px",borderRadius:"6px",padding:"0"},normalItemStyle:{fontSize:"16px",borderRadius:"6px",padding:"0"},editorRendererFn:function(e,t,n,o){return r.createElement(i.DefaultNodeContentEditor,{diagramState:e,op:t,nodeKey:n,saveRef:o})},descEditorRenderFn:function(e,t,n,o){return r.createElement(a.DefaultNodeDescEditor,{diagramState:e,op:t,nodeKey:n,saveRef:o})},focusItemsBorderRenderFn:function(e,t,n){return r.createElement(s.DefaultFocusItemBorderSvg,{diagramState:e,saveRef:t,getRef:n,ref:t("focusItemBorderSvg")})}}},function(e,t){e.exports=n(189)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=n(11),s={key:null,parentKey:null,content:null,desc:null,subItemKeys:i.List(),collapse:!1},c=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.getKey=function(){return this.get("key")},t.prototype.getParentKey=function(){return this.get("parentKey")},t.prototype.getContent=function(){return this.get("content")},t.prototype.getDesc=function(){return this.get("desc")},t.prototype.getSubItemKeys=function(){return this.get("subItemKeys")},t.prototype.getCollapse=function(){return this.get("collapse")},t.prototype.contentToString=function(){var e=this.getContent();return"string"==typeof e?e:a.default.serialize(e)},t.prototype.descToString=function(){var e=this.getDesc();return null===e?null:"string"==typeof e?e:a.default.serialize(e)},t.prototype.toString=function(){return this.toJSON().toString()},t.prototype.toJSON=function(){return{key:this.getKey(),parentKey:this.getParentKey(),subItemKeys:this.getSubItemKeys(),collapse:this.getCollapse(),content:this.contentToString(),desc:this.descToString()}},t.create=function(e,n,o,r,a){return void 0===n&&(n=null),void 0===o&&(o="new node"),void 0===r&&(r=i.List([])),void 0===a&&(a=!1),t.createWith({key:e,parentKey:n,content:o,subItemKeys:r,collapse:a})},t.createWith=function(e){return(new t).merge({key:e.key,parentKey:e.parentKey,content:e.content,desc:e.desc,subItemKeys:i.List(e.subItemKeys),collapse:e.collapse})},t}(i.Record(s));t.MindNodeModel=c},function(e,t){e.exports=n(1)},function(e,t){e.exports=n(190)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(26);t.default=new o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},t.isRectEqual=function(e,t){return e&&t&&e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}},function(e,t){e.exports=n(508)},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s,c,u=n(0),p=n(4),l=n(3),d=n(5),f=n(32),g=n(1),m=n(2),h=m.default("node:topic"),y=m.default("render:topic"),v=(m.default("drop:topic"),g.default.div.withConfig({displayName:"TopicContent",componentId:"sc-igcuqm"})(a||(a=r(["\n  display: flex;\n  align-items: center;\n  word-wrap: break-word;\n  white-space: pre-line;\n  cursor: pointer;\n  overflow: hidden;\n  background: ",";\n  //@ts-ignore\n  padding: ",";\n  border: 2px solid ",";\n"],["\n  display: flex;\n  align-items: center;\n  word-wrap: break-word;\n  white-space: pre-line;\n  cursor: pointer;\n  overflow: hidden;\n  background: ",";\n  //@ts-ignore\n  padding: ",";\n  border: 2px solid ",";\n"])),(function(e){return e.dragEnter?e.theme.color.primary:e.isRoot?e.theme.color.primary:null}),(function(e){return e.isRoot?"6px 0 6px 20px":"6px 20px 6px 0"}),(function(e){return e.theme.color.primary}))),b=g.default.div.withConfig({displayName:"DescIcon",componentId:"sc-u8c2uh"})(s||(s=r(["\n  &:hover {\n    color: ",";\n  }\n"],["\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.primary})),_=g.default.div.withConfig({displayName:"DropArea",componentId:"sc-1v9p44o"})(c||(c=r(["\n  height: 20px;\n  width: 100%;\n"],["\n  height: 20px;\n  width: 100%;\n"]))),I=null,O=function(e){function t(t){var n=e.call(this,t)||this;return n.onDragStart=function(e){h("onDragStart"),I=n.props.nodeKey,e.stopPropagation()},n.onDragOver=function(e){e.preventDefault()},n.onDragEnter=function(e){var t=n.props,o=t.op,r=t.nodeKey,i=e.nativeEvent.target.dataset.tag;if(d.MindMapModelModifier.canDragAndDrop(n.props.diagramState.mindMapModel,I,n.props.nodeKey,i)){if(i)return void o(d.OpType.SET_DROP_AREA_KEY,i+":"+r);n.setState({dragEnter:!0})}},n.onDragLeave=function(e){var t=n.props,o=t.getRef,r=t.nodeKey,i=t.op;if(e.nativeEvent.target.dataset.tag)i(d.OpType.SET_DROP_AREA_KEY,null);else{var a=e.nativeEvent.relatedTarget,s=o("content-"+r);s==a||s.contains(a)||n.setState({dragEnter:!1})}},n.onDrop=function(e){h("onDrop");var t=n.props,o=t.nodeKey,r=t.op,i=e.nativeEvent.target.dataset.tag;i?r(d.OpType.DRAG_AND_DROP,I,{dstKey:o,dir:i}):(r(d.OpType.DRAG_AND_DROP,I,{dstKey:o,dir:"in"}),n.setState({dragEnter:!1}))},n.onClick=function(){n.isDoubleClick=!1,setTimeout((function(){if(!n.isDoubleClick){var e=n.props,t=e.diagramState,o=e.op,r=e.nodeKey;if(t.mindMapModel.getEditingContentItemKey()===r)return;o(d.OpType.SET_POPUP_MENU_ITEM_KEY,r),n.setState({showPopMenu:!0})}}),200)},n.onDoubleClick=function(){n.isDoubleClick=!0;var e=n.props,t=e.diagramState,o=e.op,r=e.nodeKey;t.mindMapModel.getEditingContentItemKey()!==r&&o(d.OpType.START_EDITING_CONTENT,r)},n.handlePopMenuVisibleChange=function(e){n.setState({showPopMenu:e})},n._handleClick=function(e){h("_handleClick "+n.props.nodeKey);var t=n.props,o=(0,t.getRef)("content-"+t.nodeKey).getBoundingClientRect();e.clientX>o.left-40&&e.clientX<o.right+40&&e.clientY>o.top&&(e.clientY,o.bottom)},n.state={dragEnter:!1,showPopMenu:!1},n}return i(t,e),t.prototype.componentDidUpdate=function(e,t,n){var o=this.props,r=o.diagramState,i=o.nodeKey;r.mindMapModel.getEditingContentItemKey()===i?document.addEventListener("click",this._handleClick):document.removeEventListener("click",this._handleClick)},t.prototype.shouldComponentUpdate=function(e,t,n){if(this.state.dragEnter!==t.dragEnter||this.state.showPopMenu!==t.showPopMenu)return!0;var o=this.props,r=o.diagramState,i=o.nodeKey,a=o.dir,s=e.diagramState,c=e.nodeKey,u=e.dir;if(i!==c||a!==u)return!0;var p=r.mindMapModel,l=s.mindMapModel,d=p.getFocusItemKey(),f=l.getFocusItemKey();if(d===i||f==i){if(f!==d)return!0;var g=p.getFocusItemMode();if(l.getFocusItemMode()!==g)return!0}return p.getItem(i).getContent()!==l.getItem(i).getContent()},t.prototype.render=function(){var e=this.props,t=e.diagramState,n=e.op,o=e.nodeKey,r=e.dir,i=e.draggable,a=e.saveRef,s=e.getRef;y(o);var c,p=t.mindMapModel,g=t.config;switch(p.getItemVisualLevel(o)){case 0:c=g.rootItemStyle;break;case 1:c=g.primaryItemStyle;break;default:c=g.normalItemStyle}var m=p.getItem(o),h=this.state.showPopMenu,I=m.descToString(),O=null!==I&&""!==I;return u.createElement("div",null,u.createElement(_,{"data-tag":"before",onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragOver:this.onDragOver}),u.createElement(v,{isRoot:r===l.NodeWidgetDirection.ROOT,dragEnter:this.state.dragEnter,draggable:i,style:c,ref:a("content-"+o),onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop,onClick:this.onClick,onDoubleClick:this.onDoubleClick},g.editorRendererFn(t,n,o,a),O&&u.createElement(b,{className:"iconfont bm-notes",onClick:function(e){e.stopPropagation(),n(d.OpType.START_EDITING_DESC,o)}}),h&&u.createElement(f.NodePopupMenu,{diagramState:t,op:n,nodeKey:o,visible:!0,handleVisibleChange:this.handlePopMenuVisibleChange,getRef:s})),u.createElement(_,{"data-tag":"after",onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragOver:this.onDragOver}))},t}(p.BaseWidget);t.TopicContentWidget=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(34),i=n(35);t.createSubNodesAndSubLinks=function(e,t){var n,a=e.diagramState,s=e.op,c=e.nodeKey,u=e.dir,p=e.setViewBoxScroll,l=e.setViewBoxScrollDelta,d=e.saveRef,f=e.getRef,g=e.isRoot,m=a.mindMapModel,h=m.getItem(c),y=m.getDropAreaKey();if(null!==y&&(n=y.split(":")),0===t.size||h.getCollapse())return null;var v=[],b=[],_=[];return t.forEach((function(e){v.push(o.createElement(i.NodeWidget,{key:e,nodeKey:e,dir:u,diagramState:a,op:s,setViewBoxScroll:p,setViewBoxScrollDelta:l,saveRef:d,getRef:f}));var t="link-"+c+"-"+e;b.push(o.createElement(r.LinkWidget,{diagramState:a,key:t,fromNodeKey:c,toNodeKey:e,dir:u,getRef:f,ref:d(t),isRoot:g})),_.push(t),null!==y&&e===n[1]&&(t="link-"+c+"-"+e+"-"+n[0],_.push(t),b.push(o.createElement(r.LinkWidget,{diagramState:a,key:t,fromNodeKey:c,toNodeKey:e,dir:u,getRef:f,ref:d(t),dropDir:n[0],isRoot:g})))})),{subItems:v,subLinks:b,subLinksKeys:_}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=n(5),i=n(2).default("model:DiagramState"),a=function(){function e(e,t){this.mindMapModel=e,this.config=t}return e.prototype.getThemeConfig=function(){return this.config.themeConfigs[this.config.theme]},e.setMindMapModel=function(t,n){return new e(n,t.config)},e.setConfig=function(t,n){return new e(t.mindMapModel,n)},e.op=function(t,n,o,a){i("op:"+r.OpType[n]),o||n===r.OpType.FOCUS_ITEM||(o=t.mindMapModel.getFocusItemKey()),i("start:",t.mindMapModel);var s=r.MindMapModelModifier.op(t.mindMapModel,n,o,a);return i("end:",s),new e(s,t.config)},e.createWith=function(t,n){return new e(t,n=Object.assign(o.defaultDiagramConfig,n))},e}();t.DiagramState=a},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(9),s=n(8),c={rootItemKey:null,editorRootItemKey:null,itemMap:a.Map(),focusItemKey:null,focusItemMode:i.FocusItemMode.Normal,dropAreaKey:null},u=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.getRootItemKey=function(){return this.get("rootItemKey")},t.prototype.getRootItem=function(){return this.getItem(this.getRootItemKey())},t.prototype.getDropAreaKey=function(){return this.get("dropAreaKey")},t.prototype.getEditorRootItemKey=function(){return this.get("editorRootItemKey")},t.prototype.getEditorRootItem=function(){return this.getItemMap().get(this.getEditorRootItemKey())},t.prototype.getItemMap=function(){return this.get("itemMap")},t.prototype.getFocusItemKey=function(){return this.get("focusItemKey")},t.prototype.getFocusItemMode=function(){return this.get("focusItemMode")},t.prototype.getEditingContentItemKey=function(){return this.get("focusItemMode")!==i.FocusItemMode.EditingContent?null:this.getFocusItemKey()},t.prototype.getEditingDescItemKey=function(){return this.get("focusItemMode")!==i.FocusItemMode.EditingDesc?null:this.getFocusItemKey()},t.prototype.getPopupMenuItemKey=function(){return this.get("focusItemMode")!==i.FocusItemMode.PopupMenu?null:this.getFocusItemKey()},t.prototype.getItem=function(e){return this.getItemMap().get(e)},t.prototype.getParentItem=function(e){var t=this.getItem(e);return t.getParentKey()?this.getItem(t.getParentKey()):null},t.prototype.getItemVisualLevel=function(e){for(var t=this.getItem(e),n=0;t&&t.getKey()!==this.getEditorRootItemKey();)n++,t=this.getParentItem(t.getKey());return n},t.createWith=function(e){var n=new t;return(n=n.merge({rootItemKey:e.rootItemKey,editorRootItemKey:e.editorRootItemKey})).withMutations((function(t){e.items.forEach((function(e){t.update("itemMap",(function(t){return t.set(e.key,s.MindNodeModel.createWith(e))}))}))}))},t}(a.Record(c));t.MindMapModel=u},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(19)),o(n(17)),o(n(16)),o(n(48)),o(n(6)),o(n(49)),o(n(5)),o(n(3))},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(7),c=n(20),u=n(4),p=n(36),l=n(41),d=n(16),f=n(42),g=n(1);n(43);var m,h=g.default.div.withConfig({displayName:"Diagram",componentId:"sc-mem6c7"})(m||(m=r(["\n  width: 100%;\n  height: 100%;\n"],["\n  width: 100%;\n  height: 100%;\n"]))),y=function(e){function t(t){var n=e.call(this,t)||this;return n.op=function(e,t,o){var r=n.props,i=r.diagramState;(0,r.onChange)(d.DiagramState.op(i,e,t,o))},n}return i(t,e),t.prototype.render=function(){var e=this,t=this.props.diagramState,n=t.getThemeConfig();return t.mindMapModel.getEditingDescItemKey(),a.createElement(l.default,null,(function(o,r){var i;return a.createElement(f.default,{theme:n},a.createElement(h,{className:s((i={},i[""+t.config.theme]=!0,i))},a.createElement(c.MindDragScrollWidget,{diagramState:t,op:e.op,saveRef:o,getRef:r}),a.createElement(p.Modals,{diagramState:t,op:e.op})))}))},t}(u.BaseWidget);t.DiagramWidget=y},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(4),c=n(21),u=n(23),p=function(e){function t(t){var n=e.call(this,t)||this;return n.canDragFunc=function(){var e=document.getSelection();return null===e.anchorNode||e.anchorNode.nodeType!==Node.TEXT_NODE},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.getRef,n=t("topic-"+e.diagramState.mindMapModel.getEditorRootItemKey()),o=t("node-layer"),r=n.getBoundingClientRect(),i=o.getBoundingClientRect();this.dragScrollWidget.setViewBoxScrollDelta(0,r.top-i.top-this.dragScrollWidget.viewBox.getBoundingClientRect().height/2+r.height)},Object.defineProperty(t.prototype,"dragScrollWidget",{get:function(){return this.props.getRef("DragScrollWidget")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.props.saveRef;return a.createElement(c.DragScrollWidget,i({},this.state,{ref:t("DragScrollWidget")}),(function(n,o){return a.createElement(u.NodeLayerWidget,i({},e.props,{setViewBoxScroll:n,setViewBoxScrollDelta:o,ref:t("MindNodeLayerWidget")}))}))},t}(s.BaseWidget);t.MindDragScrollWidget=p},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s,c=n(0),u=n(4),p=n(22),l=n(1),d=l.default.div.withConfig({displayName:"DragScrollView",componentId:"sc-gs14fi"})(a||(a=r(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"]))),f=l.default.div.withConfig({displayName:"DragScrollContent",componentId:"sc-tczzg9"})(s||(s=r(["\n  position: relative;\n  width: max-content;\n"],["\n  position: relative;\n  width: max-content;\n"]))),g=function(e){function t(t){var n=e.call(this,t)||this;return n.contentResizeCallback=function(e,t){if(n.oldContentRect){var o={width:n.content.clientWidth+2*n.viewBox.clientWidth,height:n.content.clientHeight+2*n.viewBox.clientHeight};n.bigView.style.width=o.width+"px",n.bigView.style.height=o.height+"px"}n.oldContentRect=e[0].contentRect},n.contentResizeObserver=new p.default(n.contentResizeCallback),n.contentRef=function(e){e&&(n.content=e,n.contentResizeObserver.observe(n.content))},n.viewBoxRef=function(e){e&&(n.viewBox=e,n.setViewBoxScroll(n.viewBox.clientWidth,n.viewBox.clientHeight))},n.bigViewRef=function(e){e&&(n.bigView=e)},n.setWidgetStyle=function(){n.content&&n.viewBox&&n.bigView&&(n.bigView.style.width=2*(n.content.clientWidth+n.viewBox.clientWidth)+"px",n.bigView.style.height=2*(n.content.clientHeight+n.viewBox.clientHeight)+"px",n.content.style.left=n.viewBox.clientWidth+"px",n.content.style.top=n.viewBox.clientHeight+"px")},n.setViewBoxScroll=function(e,t){n.viewBox&&(n.viewBox.scrollLeft=e,n.viewBox.scrollTop=t)},n.setViewBoxScrollDelta=function(e,t){n.viewBox&&(n.viewBox.scrollLeft+=e,n.viewBox.scrollTop+=t)},n.onMouseDown=function(e){var t=n.props,o=t.mouseKey,r=t.needKeyPressed,i=t.canDragFunc;if((!i||i())&&(0===e.button&&"left"===o||2===e.button&&"right"===o)){if(r&&!e.ctrlKey)return;n._lastCoordX=n.viewBox.scrollLeft+e.nativeEvent.clientX,n._lastCoordY=n.viewBox.scrollTop+e.nativeEvent.clientY,window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseup",n.onMouseUp)}},n.onMouseUp=function(e){window.removeEventListener("mousemove",n.onMouseMove),window.removeEventListener("mouseup",n.onMouseUp)},n.onMouseMove=function(e){n.viewBox.scrollLeft=n._lastCoordX-e.clientX,n.viewBox.scrollTop=n._lastCoordY-e.clientY},n.handleContextMenu=function(e){e.preventDefault()},n.state={widgetStyle:{width:"10000px",height:"10000px"}},n}return i(t,e),t.prototype.componentDidMount=function(){this.setWidgetStyle(),document.addEventListener("contextmenu",this.handleContextMenu)},t.prototype.componentWillUnmount=function(){document.removeEventListener("contextmenu",this.handleContextMenu)},t.prototype.render=function(){return c.createElement(d,{ref:this.viewBoxRef,onMouseDown:this.onMouseDown},c.createElement("div",{style:this.state.widgetStyle,ref:this.bigViewRef},c.createElement(f,{ref:this.contentRef,style:this.state.contentStyle},this.props.children(this.setViewBoxScroll,this.setViewBoxScrollDelta))))},t.defaultProps={mouseKey:"left",needKeyPressed:!1},t}(u.BaseWidget);t.DragScrollWidget=g},function(e,t){e.exports=n(509)},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),c=n(4),u=n(24),p=n(1).default.div.withConfig({displayName:"NodeLayer",componentId:"sc-1rtbfgj"})(a||(a=r(["\n  position: relative;\n  display: flex;\n  align-items: center;\n"],["\n  position: relative;\n  display: flex;\n  align-items: center;\n"]))),l=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.setViewBoxScroll,n=e.setViewBoxScrollDelta,o=e.saveRef;return s.createElement(p,{ref:o("node-layer")},this.renderItems(t,n))},t.prototype.renderItems=function(e,t){var n=this.props,o=n.diagramState,r=n.op,i=n.getRef,a=n.saveRef,c=o.mindMapModel.getEditorRootItemKey();return s.createElement(u.RootNodeWidget,{diagramState:o,op:r,nodeKey:c,saveRef:a,getRef:i,setViewBoxScroll:e,setViewBoxScrollDelta:t})},t}(c.BaseWidget);t.NodeLayerWidget=l},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s,c,u=n(0),p=n(3),l=n(4),d=n(6),f=n(14),g=n(1),m=n(15),h=n(2).default("render:RootNode"),y=g.default.div.withConfig({displayName:"NodeLayerPart",componentId:"sc-heizq9"})(s||(s=r(["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"],["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"])),(function(e){return e.dir===p.NodeWidgetDirection.LEFT?"flex-end":"flex-start"}),(function(e){return e.dir===p.NodeWidgetDirection.LEFT?"15px 60px 15px 0px":"15px 0px 15px 60px"})),v=g.default.div.withConfig({displayName:"Topic",componentId:"sc-oru3q4"})(c||(c=r(["\n  display: flex;\n  position: relative;\n  align-items: center;\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n"]))),b=function(e){function t(t){var n=e.call(this,t)||this;return n.needRelocation=!1,n.layoutSubLinks=function(){var e=n.props.getRef;n.subLinksKeys.forEach((function(t){var n=e(t);n&&n.layout()}))},n.subLinksKeys=[],n}return i(t,e),t.prototype.getNodeModel=function(){var e=this.props,t=e.diagramState,n=e.nodeKey;return t.mindMapModel.getItem(n)},t.prototype.getPartItems=function(e){var t=this.getNodeModel(),n=t.getSubItemKeys().size,o=t.getSubItemKeys().toArray();switch(e){case d.DiagramLayoutDirection.LEFT_TO_RIGHT:return[[],o];case d.DiagramLayoutDirection.RIGHT_TO_LEFT:return[o,[]];case d.DiagramLayoutDirection.LEFT_AND_RIGHT:return[o.slice(Math.ceil(n/2),n),o.slice(0,Math.ceil(n/2))]}},t.prototype.componentDidUpdate=function(e,t,n){if(this.needRelocation){var o=this.collapseIcon.getBoundingClientRect();this.props.setViewBoxScrollDelta(o.left-this.oldCollapseIconRect.left,o.top-this.oldCollapseIconRect.top),this.needRelocation=!1}this.layoutSubLinks()},t.prototype.componentDidMount=function(){this.layoutSubLinks()},t.prototype.renderPartItems=function(e,t){var n,o=this.props.saveRef;if(0===e.length)return null;var r=m.createSubNodesAndSubLinks(a({},this.props,{dir:t,isRoot:!0}),e);if(!r)return null;var i=r.subItems,s=r.subLinks,c=r.subLinksKeys;(n=this.subLinksKeys).push.apply(n,c);var l="bm-node-layer-"+(t===p.NodeWidgetDirection.LEFT?"left":"right");return u.createElement(y,{dir:t,ref:o(l)},i,s)},t.prototype.render=function(){h("render");var e=this.props,t=e.diagramState,n=e.op,o=e.nodeKey,r=e.saveRef,i=e.getRef,a=t.mindMapModel,s=t.config,c=this.getPartItems(s.direction),l=c[0],d=c[1];return this.subLinksKeys=[],u.createElement(u.Fragment,null,this.renderPartItems(l,p.NodeWidgetDirection.LEFT),u.createElement(v,{ref:o===a.getEditorRootItemKey()?r("topic-"+o):null},u.createElement(f.TopicContentWidget,{diagramState:t,op:n,nodeKey:o,dir:p.NodeWidgetDirection.ROOT,draggable:!1,saveRef:r,getRef:i})),this.renderPartItems(d,p.NodeWidgetDirection.RIGHT))},t}(l.BaseWidget);t.RootNodeWidget=b},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),c=n(10),u=n(5),p=n(13),l=n(1),d=n(2).default("node:content-editor"),f=l.default.div.withConfig({displayName:"NodeContent",componentId:"sc-1f79lhw"})(a||(a=r(["\n  padding: 6px 6px;\n  //@ts-ignore\n  background-color: ",";\n  //@ts-ignore\n  cursor: ",";\n"],["\n  padding: 6px 6px;\n  //@ts-ignore\n  background-color: ",";\n  //@ts-ignore\n  cursor: ",";\n"])),(function(e){return e.readOnly?null:"#e0e0e0"}),(function(e){return e.readOnly?"pointer":"text"})),g=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){var t=n.props,o=t.op,r=t.nodeKey;o(u.OpType.SET_ITEM_CONTENT,r,e)},n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){e.stopPropagation()},n}return i(t,e),t.prototype.shouldComponentUpdate=function(e,t,n){var o=e.nodeKey,r=e.diagramState,i=this.props,a=i.nodeKey,s=i.diagramState;if(o!==a)return d("nextNodeKey !== nodeKey"),!0;var c=s.mindMapModel.getEditingContentItemKey(),u=r.mindMapModel.getEditingContentItemKey();return c!==u&&(c===a||u===a)||s.mindMapModel.getItem(a)!==r.mindMapModel.getItem(o)&&(d("ds.mindMapModel.getItem(nodeKey) !== nextDS.mindMapModel.getItem(nextNodeKey)"),!0)},t.prototype.render=function(){d("render");var e=this.props,t=e.nodeKey,n=e.diagramState,o=e.saveRef,r=n.mindMapModel,i=r.getItem(t).getContent(),a=r.getEditingContentItemKey();d("getEditingItemKey",a);var u=!(t===a);return s.createElement(f,{readOnly:u,ref:o("editor-"+t),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove},s.createElement(c.default,{editorValue:i,onChange:p.debounce(this.onChange),readOnly:u}))},t}(s.Component);t.DefaultNodeContentEditor=g},function(e,t){e.exports=n(119)},function(e,t){e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Ancestor=0]="Ancestor",e[e.Descendant=1]="Descendant",e[e.Sibling=2]="Sibling",e[e.None=3]="None"}(t.NodeRelationship||(t.NodeRelationship={}))},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),c=n(10),u=n(5),p=n(13),l=n(1),d=n(2).default("node:desc-editor"),f=l.default.div.withConfig({displayName:"DescEditor",componentId:"sc-lh1buo"})(a||(a=r([""],[""]))),g=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){var t=n.props,o=t.op,r=t.nodeKey;o(u.OpType.SET_ITEM_DESC,r,e)},n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){e.stopPropagation()},n}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.nodeKey,n=e.diagramState.mindMapModel,o=n.getItem(t).getDesc();return d("DefaultNodeDescEditor render",n.getEditingDescItemKey(),o),null!=o&&s.createElement(f,{onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove},s.createElement(c.default,{editorValue:o,onChange:p.debounce(this.onChange)}))},t}(s.PureComponent);t.DefaultNodeDescEditor=g},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return this.renderFocusItemBorder()},t.prototype.reLayout=function(){this.forceUpdate()},t.prototype.renderFocusItemBorder=function(){var e=this.props,t=e.getRef,n=e.diagramState,o=n.mindMapModel,r=n.config.focusBorderPadding,a=o.getFocusItemKey();if(a){var s=t("content-"+a),c=t("node-layer");if(s&&c){var u=s.getBoundingClientRect(),p=c.getBoundingClientRect();return i.createElement("div",{className:"bm-focus-svg"},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",strokeWidth:"2px",stroke:"red",fill:"none",width:"3000px",height:"3000px"},i.createElement("rect",{x:""+(u.left-p.left-r),y:""+(u.top-p.top-r),rx:"10",ry:"10",width:""+(u.width+2*r),height:""+(u.height+2*r)})))}}return null},t}(i.Component);t.DefaultFocusItemBorderSvg=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={theme1:{name:"orange",color:{primary:"orange",fontColor:"black"}},theme2:{name:"pink",color:{primary:"pink",fontColor:"black"}}}},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),c=n(33),u=n(5),p=n(1),l=n(2).default("node:popup-menu"),d=p.default.div.withConfig({displayName:"PopupMenu",componentId:"sc-1w0w6ry"})(a||(a=r(["\n  position: absolute;\n  bottom: calc(100% + 5px);\n  left: 0;\n  padding: 0 8px;\n  border-radius: 10px;\n  background-color: white;\n  box-shadow: rgb(170, 170, 170) 5px 5px 10px;\n  cursor: pointer;\n  z-index: 1;\n\n  width: max-content;\n  height: 50px;\n"],["\n  position: absolute;\n  bottom: calc(100% + 5px);\n  left: 0;\n  padding: 0 8px;\n  border-radius: 10px;\n  background-color: white;\n  box-shadow: rgb(170, 170, 170) 5px 5px 10px;\n  cursor: pointer;\n  z-index: 1;\n\n  width: max-content;\n  height: 50px;\n"]))),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(e){l("_handleClick");var n=t.props.visible,o=!(e.target.contains===t.root);l("wasOutside "+o),o&&n&&t.props.handleVisibleChange&&t.props.handleVisibleChange(!1)},t.rootRef=function(e){t.root=e},t}return i(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this._handleClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this._handleClick)},t.prototype.render=function(){l("render:",this.props.visible);var e=this.props,t=e.visible,n=e.nodeKey,o=e.items,r=e.diagramState,i=e.op,a=r.mindMapModel.getEditorRootItemKey(),u=o.map((function(e){return n!==a||e.rootCanUse?s.createElement(c.NodePopupMenuItem,{config:e,key:n+"-"+e.label,nodeKey:n,diagramState:r,op:i}):null}));return t&&s.createElement(d,{ref:this.rootRef},u)},t.defaultProps={items:[{icon:"edit",label:"edit",rootCanUse:!0,opType:u.OpType.START_EDITING_CONTENT},{icon:"add-sibling",label:"add sibling",opType:u.OpType.ADD_SIBLING},{icon:"add-child",label:"add child",rootCanUse:!0,opType:u.OpType.ADD_CHILD},{icon:"notes",label:"edit notes",opType:u.OpType.START_EDITING_DESC},{icon:"delete-node",label:"delete node",opType:u.OpType.DELETE_NODE}]},t}(s.Component);t.NodePopupMenu=f},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),c=n(7),u=n(1).default.div.withConfig({displayName:"MenuItem",componentId:"sc-1goiwir"})(a||(a=r(["\n  display: inline-block;\n  margin: 10px;\n  &:hover {\n    color: ",";\n  }\n  .icon {\n    text-align: center;\n  }\n  .label {\n    font-size: 20%;\n  }\n"],["\n  display: inline-block;\n  margin: 10px;\n  &:hover {\n    color: ",";\n  }\n  .icon {\n    text-align: center;\n  }\n  .label {\n    font-size: 20%;\n  }\n"])),(function(e){return e.theme.color.primary})),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){e.stopPropagation();var n=t.props,o=n.nodeKey,r=n.config,i=n.op;r.opType&&i(r.opType,o,r.arg)},t}return i(t,e),t.prototype.render=function(){var e=this.props.config;return s.createElement(u,{onClick:this.onClick},s.createElement("div",{className:c("icon","iconfont","bm-"+e.icon),onClick:this.onClick}),s.createElement("div",{className:"label"},e.label))},t}(s.Component);t.NodePopupMenuItem=p},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s,c=n(0),u=n(4),p=n(3),l=n(12),d=n(1),f=n(2),g=f.default("node:LinkWidget"),m=f.default("render:LinkWidget"),h=f.default("drop:LinkWidget"),y=d.default.div.withConfig({displayName:"Link",componentId:"sc-1rk3g3d"})(s||(s=r(["\n  z-index: -1;\n  position: absolute;\n  left: 0;\n  top: 0;\n"],["\n  z-index: -1;\n  position: absolute;\n  left: 0;\n  top: 0;\n"]))),v=function(e){function t(t){var n=e.call(this,t)||this;return n.generatePath=function(){return n.props.isRoot?n.generatePathStringRoot():n.generatePathStringForBorderNode()},n.generatePathStringForBorderNode=function(){var e=n.props,t=e.fromNodeKey,o=e.toNodeKey,r=e.getRef,i=e.dir,a=e.diagramState,s=e.dropDir,c=a.mindMapModel.getItem(t).getSubItemKeys().size,u=r("topic-"+t),l=r("topic-"+o);if(!u||!l)return"";var d,f,g,m,h=r("children-"+t).getBoundingClientRect(),y=l.getBoundingClientRect(),v=u.getBoundingClientRect(),b=null!=s?"before"===s?-(y.height-40):y.height-40:0;return f=v.top+v.height/2-h.top,i===p.NodeWidgetDirection.RIGHT?(d=c>1?1:0,g=y.left-v.right,m=y.top+y.height/2-h.top+b):(d=v.left-h.left-(c>1?1:0),g=y.right-h.left,m=y.top+y.height/2-h.top+b),n.generatePathStringWithParameter(i,d,f,g,m,s,y.width)},n.generatePathStringRoot=function(){var e=n.props,t=e.fromNodeKey,o=e.toNodeKey,r=e.getRef,i=e.dir,a=e.dropDir,s=r("topic-"+t),c=r("topic-"+o);if(!s||!c)return"";var u,l,d,f,g,m=c.getBoundingClientRect(),h=null!=a?"before"===a?-(m.height-40):m.height-40:0,y=s.getBoundingClientRect();return i===p.NodeWidgetDirection.RIGHT?(g=r("bm-node-layer-right").getBoundingClientRect(),u=0,d=m.left-y.right):(u=(g=r("bm-node-layer-left").getBoundingClientRect()).right-g.left,d=m.right-g.left),l=y.top-g.top+y.height/2,f=m.top-g.top+m.height/2+h,n.generatePathStringWithParameter(i,u,l,d,f,a,m.width)},n.generatePathStringWithParameter=function(e,t,o,r,i,a,s){var u;if(o===i)u="M"+t+","+o+"L"+r+","+i;else{var l=(t+r)/2,d=(o+i)/2;u=e===p.NodeWidgetDirection.RIGHT?"M"+t+","+o+"C"+t+","+d+","+l+","+i+","+r+","+i:"M"+r+","+i+"C"+l+","+i+","+t+","+d+","+t+","+o,g(n.props.toNodeKey,"curve:",u)}return c.createElement("g",null,c.createElement("path",{d:u}),a&&c.createElement("path",{d:n.generateFakeRectPathString(e,r,i,s)}))},n.generateFakeRectPathString=function(e,t,n,o){var r;return r=e===p.NodeWidgetDirection.RIGHT?"M"+t+","+(n-8)+"H"+(t+o)+"V"+(n+8)+"H"+t+"V"+(n-8):"M"+t+","+(n-8)+"H"+(t-o)+"V"+(n+8)+"H"+t+"V"+(n-8),h("generateFakeRectPathString",r),r},n}return i(t,e),t.prototype.layout=function(){g("layout link %s => %s",this.props.fromNodeKey,this.props.toNodeKey),this.props.isRoot?this.layoutRoot():this.layoutNormal()},t.prototype.layoutRoot=function(){var e=this.props,t=e.dir,n=e.getRef,o=(e.dropDir,n("bm-node-layer-"+(t===p.NodeWidgetDirection.LEFT?"left":"right")));o&&(this.partLayerRect=o.getBoundingClientRect(),this.partLayerRect=o.getBoundingClientRect(),this.setState({width:this.partLayerRect.width,height:this.partLayerRect.height}))},t.prototype.layoutNormal=function(){var e=this.props,t=e.getRef,n=e.fromNodeKey,o=(e.dropDir,t("children-"+n));o&&(this.fromChildrenRect=o.getBoundingClientRect(),this.setState({width:this.fromChildrenRect.width,height:this.fromChildrenRect.height}))},t.prototype.shouldComponentUpdate=function(e,t,n){var o=this.props,r=o.isRoot,i=o.getRef,a=o.fromNodeKey,s=o.toNodeKey,c=o.diagramState,u=o.dropDir;return u?(h("shouldComponentUpdate:",u),!0):(m(c.config.theme,e.diagramState.config.theme),!(c.config.theme===e.diagramState.config.theme&&a===e.fromNodeKey&&s===e.toNodeKey&&(!r||l.isRectEqual(this.prevPartLayerRect,this.partLayerRect))&&(r||l.isRectEqual(this.prevFromChildrenRect,this.fromChildrenRect))&&(this.fromTopicRect=i("topic-"+a).getBoundingClientRect(),this.toTopicRect=i("topic-"+s).getBoundingClientRect(),g("%s->%s",a,s,this.prevFromTopicRect,this.fromTopicRect),g("%s->%s",a,s,this.prevToTopicRect,this.toTopicRect),l.isRectEqual(this.prevToTopicRect,this.toTopicRect)&&l.isRectEqual(this.prevFromTopicRect,this.fromTopicRect)&&(g("rect is equal"),1))))},t.prototype.render=function(){if(this.prevFromChildrenRect=this.fromChildrenRect,this.prevPartLayerRect=this.partLayerRect,this.prevFromTopicRect=this.fromTopicRect,this.prevToTopicRect=this.toTopicRect,this.state&&this.state.width){m("link %s->%s",this.props.fromNodeKey,this.props.toNodeKey);var e=this.props.diagramState.getThemeConfig().color.primary;return m(e),c.createElement(y,null,c.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",version:"1.1",strokeWidth:"2px",strokeDasharray:this.props.dropDir?"5,5":null,stroke:e,fill:"none"},this.state),this.generatePath()))}return null},t.defaultProps={isRoot:!1},t}(u.BaseWidget);t.LinkWidget=v},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s,c,u,p,l=n(0),d=n(3),f=n(4),g=n(14),m=n(5),h=n(7),y=n(1),v=n(2),b=n(15),_=(v.default("node:NodeWidget"),v.default("render:NodeWidget")),I=(v.default("drop:NodeWidget"),y.default.div.withConfig({displayName:"Node",componentId:"sc-1hpueb8"})(a||(a=r(["\n  display: flex;\n  align-items: center;\n  padding: 0px 10px;\n  flex-direction: ",";\n"],["\n  display: flex;\n  align-items: center;\n  padding: 0px 10px;\n  flex-direction: ",";\n"])),(function(e){return e.dir===d.NodeWidgetDirection.RIGHT?"row":"row-reverse"}))),O=y.default.div.withConfig({displayName:"NodeChildren",componentId:"sc-1cyai3h"})(s||(s=r(["\n  position: relative;\n  padding: 11px 0px;\n"],["\n  position: relative;\n  padding: 11px 0px;\n"]))),E=y.default.div.withConfig({displayName:"NodeTopic",componentId:"sc-qhgbz8"})(c||(c=r(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  flex-direction: ",";\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n  flex-direction: ",";\n"])),(function(e){return e.dir===d.NodeWidgetDirection.RIGHT?"row":"row-reverse"})),M=y.default.div.withConfig({displayName:"CollapseLine",componentId:"sc-k788g9"})(u||(u=r(["\n  height: 2px;\n  width: 30px;\n\n  background: ",";\n"],["\n  height: 2px;\n  width: 30px;\n\n  background: ",";\n"])),(function(e){return e.hide?"transparent":e.theme.color.primary})),w=y.default.div.withConfig({displayName:"Icon",componentId:"sc-l4a9qb"})(p||(p=r(["\n  position: relative;\n  top: -8px;\n  left: 5px;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  background-color: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n"],["\n  position: relative;\n  top: -8px;\n  left: 5px;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  background-color: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n"])),(function(e){return e.theme.color.primary})),S=function(e){function t(t){var n=e.call(this,t)||this;return n.onClickCollapse=function(e){e.stopPropagation(),n.needRelocation=!0,n.oldCollapseIconRect=n.collapseIcon.getBoundingClientRect(),n.props.op(m.OpType.TOGGLE_COLLAPSE,n.props.nodeKey)},n.needRelocation=!1,n.layoutSubLinks=function(){var e=n.props.getRef;n.subLinksKeys.forEach((function(t){e(t).layout()}))},n.collapseIconRef=function(e){e&&(n.collapseIcon=e)},n.subLinksKeys=[],n.state={dragEnter:!1},n}return i(t,e),t.prototype.componentDidUpdate=function(e,t,n){if(this.needRelocation){var o=this.collapseIcon.getBoundingClientRect();this.props.setViewBoxScrollDelta(o.left-this.oldCollapseIconRect.left,o.top-this.oldCollapseIconRect.top),this.needRelocation=!1}this.layoutSubLinks()},t.prototype.componentDidMount=function(){this.layoutSubLinks()},t.prototype.shouldComponentUpdate=function(e,t,n){return!0},t.prototype.renderSubItems=function(){var e=this.props,t=e.diagramState,n=e.dir,o=e.saveRef,r=e.nodeKey,i=t.mindMapModel.getItem(r),a=t.config,s=n===d.NodeWidgetDirection.LEFT?{paddingRight:a.hMargin}:{paddingLeft:a.hMargin},c=i.getSubItemKeys().toArray(),u=b.createSubNodesAndSubLinks(this.props,c);if(!u)return null;var p=u.subItems,f=u.subLinks,g=u.subLinksKeys;return this.subLinksKeys=g,l.createElement(O,{style:s,ref:o("children-"+r)},p,f)},t.prototype.render=function(){var e,t=this.props,n=t.diagramState,o=t.op,r=t.nodeKey,i=t.dir,a=t.saveRef,s=t.getRef;_(r);var c=n.mindMapModel,u=c.getItem(r);return c.getItemVisualLevel(r),l.createElement(I,{dir:i},l.createElement(E,{dir:i,ref:a("topic-"+r)},l.createElement(g.TopicContentWidget,{diagramState:n,op:o,nodeKey:r,dir:i,draggable:!0,saveRef:a,getRef:s}),u.getSubItemKeys().size>0?l.createElement(M,{hide:u.getCollapse(),ref:a("line-"+r)},l.createElement(w,{ref:this.collapseIconRef,className:h((e={iconfont:u.getSubItemKeys().size>0},e["bm-"+(u.getCollapse()?"plus":"minus")]=u.getSubItemKeys().size>0,e)),onClick:this.onClickCollapse})):null),this.renderSubItems())},t}(f.BaseWidget);t.NodeWidget=S},function(e,t,n){"use strict";var o,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c,u=n(0),p=n(37),l=n(3),d=n(5),f=n(1).default.div.withConfig({displayName:"DescWrapper",componentId:"sc-1cqtr48"})(c||(c=r(["\n  border: 1px solid #d9d9d9;\n  height: calc(100% - 50px);\n  padding: 0 1rem;\n  overflow: auto;\n  margin: 0.5rem 0.5rem 0 0.5rem;\n"],["\n  border: 1px solid #d9d9d9;\n  height: calc(100% - 50px);\n  padding: 0 1rem;\n  overflow: auto;\n  margin: 0.5rem 0.5rem 0 0.5rem;\n"]))),g=function(e){var t=e.diagramState,n=e.op,o=e.nodeKey,r=e.saveRef;return u.createElement(u.Fragment,null,u.createElement(f,null,t.config.descEditorRenderFn(t,n,o,r)))},m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){t.props.op(d.OpType.END_EDITING)},t.getActiveModalName=function(){return t.props.diagramState.mindMapModel.getFocusItemMode()===l.FocusItemMode.EditingDesc?"edit-desc":null},t}return i(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.diagramState,o=t.op,r=t.saveRef,i=n.mindMapModel,c=(n.config,this.getActiveModalName());return u.createElement("span",null,u.createElement((function(t){var n=t.name,o=t.children,r=s(t,["name","children"]);return u.createElement(p.BaseModal,a({isOpen:c===n,onRequestClose:e.handleClose},r),u.cloneElement(o))}),{name:"edit-desc",title:"Edit Notes"},u.createElement(g,{diagramState:n,op:o,nodeKey:i.getEditingDescItemKey(),saveRef:r})))},t}(u.Component);t.Modals=m},function(e,t,n){"use strict";var o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(38),s=n(1),c=n(39),u=n(40);a.setAppElement("#root");var p,l,d,f,g,m=s.default(a).withConfig({displayName:"StyledModal",componentId:"sc-1waq5h8"})(p||(p=o(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow-x: hidden;\n  overflow-y: auto;\n  outline: none;\n  background-color: rgba(0, 0, 0, 0.2);\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow-x: hidden;\n  overflow-y: auto;\n  outline: none;\n  background-color: rgba(0, 0, 0, 0.2);\n"]))),h=s.default(u.Flex).withConfig({displayName:"Content",componentId:"sc-198bo9f"})(l||(l=o(["\n  width: 640px;\n  height: 90%;\n  background: white;\n  border: 1px solid #d9d9d9;\n  max-width: 100%;\n  position: relative;\n"],["\n  width: 640px;\n  height: 90%;\n  background: white;\n  border: 1px solid #d9d9d9;\n  max-width: 100%;\n  position: relative;\n"]))),y=s.default.div.withConfig({displayName:"ModalTitle",componentId:"sc-y30bcm"})(d||(d=o(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #e4e4e4;\n  background: #5b637a;\n \n  height: 30px;\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #e4e4e4;\n  background: #5b637a;\n \n  height: 30px;\n"]))),v=s.default.span.withConfig({displayName:"Close",componentId:"sc-dt719p"})(g||(g=o(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 24px;\n  height: 24px;\n  margin-right: 5px;\n  &:hover {\n    color: black;\n    background: #d7d7d7;\n  }\n  \n\n  // ",";\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 24px;\n  height: 24px;\n  margin-right: 5px;\n  &:hover {\n    color: black;\n    background: #d7d7d7;\n  }\n  \n\n  // ",";\n"])),c.default("tablet")(f||(f=o(["\n  //   top: 1rem;\n  //   right: 1rem;\n  // "],["\n  //   top: 1rem;\n  //   right: 1rem;\n  // "]))));t.BaseModal=function(e){var t=e.children,n=e.isOpen,o=e.title,a=void 0===o?"Untitled":o,s=e.onRequestClose;return r(e,["children","isOpen","title","onRequestClose"]),n?i.createElement(i.Fragment,null,i.createElement(m,{isOpen:n,onRequestClose:s,contentLabel:a},i.createElement(h,{column:!0},i.createElement(y,null,i.createElement("div",null),i.createElement("span",null,a),i.createElement(v,{onClick:s},i.createElement("div",{className:"iconfont bm-close"}))),t))):null}},function(e,t){e.exports=n(510)},function(e,t){e.exports=n(534)},function(e,t,n){"use strict";var o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1);t.Flex=function(e){var t=e.children,n=i(e,["children"]);return a.createElement(u,r({},n),t)};var c,u=s.default.div.withConfig({displayName:"Container",componentId:"sc-1iug65v"})(c||(c=o(["\n  display: flex;\n  //@ts-ignore\n  flex: ",";\n  //@ts-ignore\n  flex-direction: ",";\n  //@ts-ignore\n  align-items: ",";\n  //@ts-ignore\n  justify-content: ",";\n  //@ts-ignore\n  flex-shrink: ",";\n  min-height: 0;\n  min-width: 0;\n"],["\n  display: flex;\n  //@ts-ignore\n  flex: ",";\n  //@ts-ignore\n  flex-direction: ",";\n  //@ts-ignore\n  align-items: ",";\n  //@ts-ignore\n  justify-content: ",";\n  //@ts-ignore\n  flex-shrink: ",";\n  min-height: 0;\n  min-width: 0;\n"])),(function(e){return e.auto?"1 1 auto":"initial"}),(function(e){return e.column?"column":"row"}),(function(e){return e.align}),(function(e){return e.justify}),(function(e){return e.shrink?1:"initial"}))},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRef=function(e){return t[e]},t.saveRef=function(e){return function(n){n&&(t[e]=n,t.fireListener(e,n))}},t.observers=new Map,t.fireListener=function(e,n){if(t.observers.has(e))for(var o=0,r=t.observers.get(e);o<r.length;o++)(0,r[o])(e,n)},t.registerRefListener=function(e,n){t.observers.has(e)?t.observers.get(e).push(n):t.observers.set(e,[n])},t}return r(t,e),t.prototype.render=function(){return this.props.children(this.saveRef,this.getRef,this.registerRefListener.bind(this))},t}(n(0).Component);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1);t.default=function(e){var t=e.theme,n=e.children;return o.createElement(r.ThemeProvider,{theme:t},o.createElement(o.Fragment,null,n))}},function(e,t,n){var o=n(44);"string"==typeof o&&(o=[[e.i,o,""]]),n(46)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(t=e.exports=n(45)(!1)).push([e.i,"@import url(//at.alicdn.com/t/font_1280682_drzkpb3q7yf.css);",""]),t.push([e.i,".iconfont {\n  vertical-align: middle;\n}\n\n.fXedfB {\n  background: inherit;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var i=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[o].concat(a).concat([i]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,u=0,p=[],l=n(47);function d(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(v(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(v(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function g(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=p[p.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),p.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function h(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),g(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=u++;n=c||(c=h(t)),o=I.bind(null,n,a,!1),r=I.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),g(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=l(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),o=function(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return d(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}for(e&&d(f(e,t),t),r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function I(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6);t.MindDiagramModel=function(e,t){void 0===t&&(t={}),this.mindMapModel=e,this.config=Object.assign(o.defaultDiagramConfig,t),this.zoom=1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),r=n(11),i=n(8),a=n(2).default("model:encoding");t.convertMindMapModelToRaw=function(e){var t={};t.rootItemKey=e.getRootItemKey(),t.items=e.getItemMap();var n=e.getRootItem().getContent();return t.title="string"==typeof n?n:r.default.serialize(n),t},t.convertRawToMindMapModel=function(e){var t=new o.MindMapModel;return t=t.merge({rootItemKey:e.rootItemKey,editorRootItemKey:e.rootItemKey}),a("convertRawToMindMapModel"),t.withMutations((function(t){Object.keys(e.items).forEach((function(n){var o=e.items[n];t.update("itemMap",(function(e){return e.set(o.key,i.MindNodeModel.createWith(o))}))}))}))}}])}},[[172,1,2]]]);
//# sourceMappingURL=main.23e432f1.chunk.js.map