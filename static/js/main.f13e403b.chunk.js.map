{"version":3,"sources":["../../blink-mind-react/lib/main.js","component/ToolbarItem.js","utils/index.js","component/PopupContent.js","component/Toolbar.js","component/MindMap.js","App.js","serviceWorker.js","index.js"],"names":["window","module","exports","e","t","n","o","r","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","this","__extends","setPrototypeOf","__proto__","Array","constructor","Component","BaseWidget","a","u","UNDO","REDO","TOGGLE_COLLAPSE","SET_ITEM_CONTENT","FOCUS_ITEM","SET_EDIT_ITEM_KEY","SET_FOCUS_ITEM_MODE","SET_POPUP_MENU_ITEM_KEY","ADD_CHILD","ADD_SIBLING","DELETE_NODE","DRAG_AND_DROP","OpType","op","console","log","opMap","has","undoStack","push","undo","size","popUndoStack","pushRedoStack","peek","redo","redoStack","popRedoStack","pushUndoStack","pop","toggleCollapse","getItem","getSubItemKeys","merge","collapse","getCollapse","setItem","update","set","getKey","focusItem","getFocusItemKey","FocusItemMode","Normal","setFocusItemMode","getFocusItemMode","setEditingItemKey","getEditingItemKey","Editing","setPopupMenuItemKey","getPopupMenuItemKey","PopupMenu","setItemContent","getContent","Value","document","content","addChild","MindNodeModel","uuidv4","addSibling","getRootItemKey","getParentKey","getParentItem","insert","indexOf","deleteNode","delete","getAllSubItemKeys","key","withMutations","length","toArray","getRelation","NodeRelationship","Sibling","Descendant","Ancestor","None","dragAndDrop","getEditorRootItemKey","setIn","Stack","Map","MindMapModelModifier","toString","map","btoa","unescape","encodeURIComponent","JSON","stringify","sources","sourceRoot","concat","join","all","atob","apply","arguments","querySelector","HTMLIFrameElement","contentDocument","head","id","refs","parts","v","f","base","css","media","sourceMap","g","insertInto","Error","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","parentNode","removeChild","splice","y","createElement","attrs","type","h","keys","forEach","setAttribute","transform","singleton","b","URL","createObjectURL","revokeObjectURL","Blob","rel","convertToAbsoluteUrls","href","styleSheet","cssText","createTextNode","DEBUG","_","M","filter","Boolean","childNodes","LEFT_TO_RIGHT","RIGHT_TO_LEFT","LEFT_AND_RIGHT","DiagramLayoutDirection","defaultDiagramConfig","direction","nodeStyle","NodeStyle","ALL_HAS_BORDER","hMargin","vMargin","focusBorderPadding","theme","rootItemStyle","fontSize","borderRadius","padding","primaryItemStyle","normalItemStyle","editorRendererFn","DefaultNodeContentEditor","diagramState","nodeKey","saveRef","focusItemsBorderRenderFn","DefaultFocusItemBorderSvg","getRef","ref","LEFT","RIGHT","ROOT","NodeWidgetDirection","parentKey","subItemKeys","List","contentToString","serialize","toJSON","createWith","Record","PRIMARY_HAS_BORDER_NORMAL_NO_BORDER","hmr","locals","__assign","assign","generatePathString","props","isRoot","generatePathStringRoot","config","generatePathStringNormal","generatePathStringForBorderNode","fromNodeKey","toNodeKey","dir","mindMapModel","getBoundingClientRect","Math","round","top","height","left","right","bottom","getItemVisualLevel","layout","layoutRoot","layoutNormal","setState","width","render","state","className","xmlns","version","strokeWidth","stroke","fill","defaultProps","LinkWidget","onDragStart","stopPropagation","onDragOver","preventDefault","onDragEnter","dragEnter","onDragLeave","nativeEvent","relatedTarget","contains","onDrop","onClick","isDoubleClick","setTimeout","showPopMenu","onDoubleClick","handlePopMenuVisibleChange","_handleClick","target","componentDidUpdate","addEventListener","removeEventListener","draggable","style","NodePopupMenu","visible","handleVisibleChange","TopicContentWidget","setMindMapModel","error","DiagramState","rootItemKey","editorRootItemKey","itemMap","focusItemKey","focusItemMode","getRootItem","getEditorRootItem","getItemMap","items","MindMapModel","onChange","MindDragScrollWidget","DiagramWidget","canDragFunc","getSelection","anchorNode","nodeType","Node","TEXT_NODE","componentDidMount","dragScrollWidget","setViewBoxScrollDelta","viewBox","configurable","DragScrollWidget","NodeLayerWidget","setViewBoxScroll","contentResizeCallback","oldContentRect","clientWidth","clientHeight","bigView","contentRect","contentResizeObserver","contentRef","observe","viewBoxRef","bigViewRef","setWidgetStyle","scrollLeft","scrollTop","onMouseDown","mouseKey","needKeyPressed","button","ctrlKey","_lastCoordX","clientX","_lastCoordY","clientY","onMouseMove","onMouseUp","handleContextMenu","widgetStyle","componentWillUnmount","contentStyle","children","location","protocol","host","pathname","replace","trim","test","renderItems","RootNodeWidget","needRelocation","layoutSubLinks","getNodeModel","getPartItems","slice","ceil","collapseIcon","oldCollapseIconRect","renderPartItems","NodeWidget","Fragment","shouldComponentUpdate","editorValue","debounce","readOnly","random","renderFocusItemBorder","reLayout","forceUpdate","x","rx","ry","onClickCollapse","dragSrcItemKey","onDragEnd","collapseIconRef","renderSubItems","paddingTop","paddingBottom","paddingRight","paddingLeft","iconfont","root","rootRef","rootCanUse","NodePopupMenuItem","label","icon","opType","fireListener","observers","registerRefListener","MindDiagramModel","zoom","convertMindMapModelToRaw","title","convertRawToMindMapModel","ToolbarItem","clickHandler","cx","React","downloadFile","url","filename","link","download","click","PopupExportContent","model","data","json","Popup","close","PopupOpenFileContent","input","accept","evt","file","files","fr","FileReader","onload","txt","result","obj","parse","newDiagramState","readAsText","Toolbar","showPopupExport","registerPlugin","plugins","popupExport","showPopupOpenFile","popupOpenFile","arg","toolbarItems","item","MindMap","mindModel","App","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f13e403b.chunk.js","sourcesContent":["!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports[\"blink-mind-react\"] = t() : e[\"blink-mind-react\"] = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function n(o) {\n      if (t[o]) return t[o].exports;\n      var r = t[o] = {\n        i: o,\n        l: !1,\n        exports: {}\n      };\n      return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, o) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: o\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var o = Object.create(null);\n      if (n.r(o), Object.defineProperty(o, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var r in e) {\n        n.d(o, r, function (t) {\n          return e[t];\n        }.bind(null, r));\n      }\n      return o;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 18);\n  }([function (e, t) {\n    e.exports = require(\"react\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = function (e) {\n      function t(t) {\n        return e.call(this, t) || this;\n      }\n\n      return r(t, e), t;\n    }(n(0).Component);\n\n    t.BaseWidget = i;\n  }, function (e, t) {\n    e.exports = require(\"classnames\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o,\n        r = n(8),\n        i = n(13),\n        a = n(32),\n        s = n(9),\n        c = n(33),\n        u = n(34);\n    !function (e) {\n      e[e.UNDO = 1] = \"UNDO\", e[e.REDO = 2] = \"REDO\", e[e.TOGGLE_COLLAPSE = 3] = \"TOGGLE_COLLAPSE\", e[e.SET_ITEM_CONTENT = 4] = \"SET_ITEM_CONTENT\", e[e.FOCUS_ITEM = 5] = \"FOCUS_ITEM\", e[e.SET_EDIT_ITEM_KEY = 6] = \"SET_EDIT_ITEM_KEY\", e[e.SET_FOCUS_ITEM_MODE = 7] = \"SET_FOCUS_ITEM_MODE\", e[e.SET_POPUP_MENU_ITEM_KEY = 8] = \"SET_POPUP_MENU_ITEM_KEY\", e[e.ADD_CHILD = 9] = \"ADD_CHILD\", e[e.ADD_SIBLING = 10] = \"ADD_SIBLING\", e[e.DELETE_NODE = 11] = \"DELETE_NODE\", e[e.DRAG_AND_DROP = 12] = \"DRAG_AND_DROP\";\n    }(o = t.OpType || (t.OpType = {}));\n\n    var l = function () {\n      function e() {}\n\n      return e.op = function (t, n, r, i) {\n        if (n === o.DELETE_NODE && console.log(n), e.opMap.has(n)) {\n          var a = e.opMap.get(n)(t, r, i);\n          return n !== o.UNDO && n !== o.REDO && n !== o.FOCUS_ITEM && n !== o.SET_ITEM_CONTENT && (e.undoStack = e.undoStack.push(a)), a;\n        }\n\n        return t;\n      }, e.undo = function (t) {\n        return e.undoStack.size > 1 && (t = e.popUndoStack(), e.pushRedoStack(t), t = e.undoStack.peek()), t;\n      }, e.redo = function (t) {\n        return e.redoStack.size > 0 && (t = e.popRedoStack(), e.pushUndoStack(t)), t;\n      }, e.pushUndoStack = function (t) {\n        e.undoStack = e.undoStack.push(t);\n      }, e.popUndoStack = function () {\n        var t = e.undoStack.peek();\n        return e.undoStack = e.undoStack.pop(), t;\n      }, e.pushRedoStack = function (t) {\n        e.redoStack = e.redoStack.push(t);\n      }, e.popRedoStack = function () {\n        var t = e.redoStack.peek();\n        return e.redoStack = e.redoStack.pop(), t;\n      }, e.toggleCollapse = function (t, n) {\n        var o = t.getItem(n);\n        return 0 !== o.getSubItemKeys().size && (o = o.merge({\n          collapse: !o.getCollapse()\n        }), t = e.setItem(t, o)), t;\n      }, e.setItem = function (e, t) {\n        return e.update(\"itemMap\", function (e) {\n          return e.set(t.getKey(), t);\n        });\n      }, e.focusItem = function (e, t) {\n        return t !== e.getFocusItemKey() && (e = e.set(\"focusItemKey\", t)), null === t && (e = e.set(\"focusItemMode\", i.FocusItemMode.Normal)), e;\n      }, e.setFocusItemMode = function (e, t, n) {\n        return n !== e.getFocusItemMode() && (e = e.set(\"focusItemMode\", n)), e;\n      }, e.setEditingItemKey = function (e, t) {\n        return console.log(\"set editing item key \" + t), t !== e.getEditingItemKey() && (t !== e.getFocusItemKey() && (e = e.set(\"focusItemKey\", t)), e.get(\"focusItemMode\") !== i.FocusItemMode.Editing && (e = e.set(\"focusItemMode\", i.FocusItemMode.Editing))), e;\n      }, e.setPopupMenuItemKey = function (e, t) {\n        return console.log(\"set popup menu item key \" + t), t !== e.getPopupMenuItemKey() && (t !== e.getFocusItemKey() && (e = e.set(\"focusItemKey\", t)), e.get(\"focusItemMode\") !== i.FocusItemMode.PopupMenu && (e = e.set(\"focusItemMode\", i.FocusItemMode.PopupMenu))), e;\n      }, e.setItemContent = function (t, n, o) {\n        var r = t.getItem(n),\n            i = !1;\n        return r && (0 === e.undoStack.size && e.pushUndoStack(t), r.getContent() instanceof c.Value && (i = r.getContent().document !== o.document), r = r.merge({\n          content: o\n        }), t = e.setItem(t, r)), t = t.set(\"focusItemKey\", n), i && e.pushUndoStack(t), t;\n      }, e.addChild = function (t, n) {\n        var o = t.getItem(n);\n\n        if (o) {\n          var i = r.MindNodeModel.create(a.uuidv4());\n          i = i.set(\"parentKey\", o.getKey()), o = o.set(\"collapse\", !1).update(\"subItemKeys\", function (e) {\n            return e.push(i.getKey());\n          }), t = t.update(\"itemMap\", function (e) {\n            return e.set(o.getKey(), o).set(i.getKey(), i);\n          }), t = e.setEditingItemKey(t, i.getKey());\n        }\n\n        return t;\n      }, e.addSibling = function (t, n) {\n        var o = t.getItem(n);\n        if (n === t.getRootItemKey()) return t;\n\n        if (o) {\n          var i = r.MindNodeModel.create(a.uuidv4());\n          i = i.set(\"parentKey\", o.getParentKey());\n          var s = t.getParentItem(n);\n          s = s.update(\"subItemKeys\", function (e) {\n            return e.insert(e.indexOf(n) + 1, i.getKey());\n          }), t = t.update(\"itemMap\", function (e) {\n            return e.set(s.getKey(), s).set(i.getKey(), i);\n          }), t = e.setEditingItemKey(t, i.getKey());\n        }\n\n        return t;\n      }, e.deleteNode = function (t, n) {\n        if (console.log(\"deleteItem \" + n), n === t.getRootItemKey()) return t;\n        var o = t.getItem(n),\n            r = t.getItem(o.getParentKey()),\n            i = r.getSubItemKeys().indexOf(n);\n        return r = r.update(\"subItemKeys\", function (e) {\n          return e.delete(i);\n        }), t = t.set(\"focusItemKey\", o.getParentKey()).update(\"itemMap\", function (o) {\n          var i = e.getAllSubItemKeys(t, n);\n          return (o = o.set(r.key, r)).withMutations(function (e) {\n            e = e.delete(n);\n\n            for (var t = 0, o = i; t < o.length; t++) {\n              var r = o[t];\n              e = e.delete(r);\n            }\n\n            return e;\n          });\n        });\n      }, e.getAllSubItemKeys = function (t, n) {\n        var o = t.getItem(n),\n            r = [];\n\n        if (o.getSubItemKeys().size > 0) {\n          var i = o.getSubItemKeys().toArray();\n          r.push(i);\n\n          for (var a = 0, s = i; a < s.length; a++) {\n            var c = s[a];\n            r.push(e.getAllSubItemKeys(t, c));\n          }\n        }\n\n        return r;\n      }, e.getRelation = function (e, t, n) {\n        var o = e.getItem(t),\n            r = e.getItem(n);\n\n        if (o && r) {\n          if (o.getParentKey() == r.getParentKey()) return u.NodeRelationship.Sibling;\n\n          for (var i = o; i.getParentKey();) {\n            if (i.getParentKey() === r.getKey()) return u.NodeRelationship.Descendant;\n            i = e.getParentItem(i.getKey());\n          }\n\n          for (i = r; i.getParentKey();) {\n            if (i.getParentKey() === o.getKey()) return u.NodeRelationship.Ancestor;\n            i = e.getParentItem(i.getKey());\n          }\n        }\n\n        return u.NodeRelationship.None;\n      }, e.dragAndDrop = function (t, n, o) {\n        if (n === t.getEditorRootItemKey() || n === o || e.getRelation(t, n, o) === u.NodeRelationship.Ancestor) return t;\n        var r = t.getItem(n),\n            i = t.getItem(o);\n        if (r.getParentKey() === o) return t;\n        var a = r.getParentKey(),\n            s = t.getItem(a).getSubItemKeys(),\n            c = s.indexOf(n);\n        s = s.delete(c);\n        var l = i.getSubItemKeys();\n        return l = l.push(n), t.withMutations(function (e) {\n          e.setIn([\"itemMap\", a, \"subItemKeys\"], s).setIn([\"itemMap\", n, \"parentKey\"], o).setIn([\"itemMap\", o, \"subItemKeys\"], l).setIn([\"itemMap\", o, \"collapse\"], !1);\n        });\n      }, e.undoStack = s.Stack(), e.redoStack = s.Stack(), e.opMap = new Map([[o.UNDO, e.undo], [o.REDO, e.redo], [o.TOGGLE_COLLAPSE, e.toggleCollapse], [o.SET_ITEM_CONTENT, e.setItemContent], [o.FOCUS_ITEM, e.focusItem], [o.SET_FOCUS_ITEM_MODE, e.setFocusItemMode], [o.SET_EDIT_ITEM_KEY, e.setEditingItemKey], [o.SET_POPUP_MENU_ITEM_KEY, e.setPopupMenuItemKey], [o.ADD_CHILD, e.addChild], [o.ADD_SIBLING, e.addSibling], [o.DELETE_NODE, e.deleteNode], [o.DRAG_AND_DROP, e.dragAndDrop]]), e;\n    }();\n\n    t.MindMapModelModifier = l;\n  }, function (e, t) {\n    e.exports = function (e) {\n      var t = [];\n      return t.toString = function () {\n        return this.map(function (t) {\n          var n = function (e, t) {\n            var n,\n                o = e[1] || \"\",\n                r = e[3];\n            if (!r) return o;\n\n            if (t && \"function\" == typeof btoa) {\n              var i = (n = r, \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(n)))) + \" */\"),\n                  a = r.sources.map(function (e) {\n                return \"/*# sourceURL=\" + r.sourceRoot + e + \" */\";\n              });\n              return [o].concat(a).concat([i]).join(\"\\n\");\n            }\n\n            return [o].join(\"\\n\");\n          }(t, e);\n\n          return t[2] ? \"@media \" + t[2] + \"{\" + n + \"}\" : n;\n        }).join(\"\");\n      }, t.i = function (e, n) {\n        \"string\" == typeof e && (e = [[null, e, \"\"]]);\n\n        for (var o = {}, r = 0; r < this.length; r++) {\n          var i = this[r][0];\n          \"number\" == typeof i && (o[i] = !0);\n        }\n\n        for (r = 0; r < e.length; r++) {\n          var a = e[r];\n          \"number\" == typeof a[0] && o[a[0]] || (n && !a[2] ? a[2] = n : n && (a[2] = \"(\" + a[2] + \") and (\" + n + \")\"), t.push(a));\n        }\n      }, t;\n    };\n  }, function (e, t, n) {\n    var o,\n        r,\n        i = {},\n        a = (o = function o() {\n      return window && document && document.all && !window.atob;\n    }, function () {\n      return void 0 === r && (r = o.apply(this, arguments)), r;\n    }),\n        s = function (e) {\n      var t = {};\n      return function (e) {\n        if (\"function\" == typeof e) return e();\n\n        if (void 0 === t[e]) {\n          var n = function (e) {\n            return document.querySelector(e);\n          }.call(this, e);\n\n          if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement) try {\n            n = n.contentDocument.head;\n          } catch (e) {\n            n = null;\n          }\n          t[e] = n;\n        }\n\n        return t[e];\n      };\n    }(),\n        c = null,\n        u = 0,\n        l = [],\n        p = n(25);\n\n    function d(e, t) {\n      for (var n = 0; n < e.length; n++) {\n        var o = e[n],\n            r = i[o.id];\n\n        if (r) {\n          r.refs++;\n\n          for (var a = 0; a < r.parts.length; a++) {\n            r.parts[a](o.parts[a]);\n          }\n\n          for (; a < o.parts.length; a++) {\n            r.parts.push(v(o.parts[a], t));\n          }\n        } else {\n          var s = [];\n\n          for (a = 0; a < o.parts.length; a++) {\n            s.push(v(o.parts[a], t));\n          }\n\n          i[o.id] = {\n            id: o.id,\n            refs: 1,\n            parts: s\n          };\n        }\n      }\n    }\n\n    function f(e, t) {\n      for (var n = [], o = {}, r = 0; r < e.length; r++) {\n        var i = e[r],\n            a = t.base ? i[0] + t.base : i[0],\n            s = {\n          css: i[1],\n          media: i[2],\n          sourceMap: i[3]\n        };\n        o[a] ? o[a].parts.push(s) : n.push(o[a] = {\n          id: a,\n          parts: [s]\n        });\n      }\n\n      return n;\n    }\n\n    function g(e, t) {\n      var n = s(e.insertInto);\n      if (!n) throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n      var o = l[l.length - 1];\n      if (\"top\" === e.insertAt) o ? o.nextSibling ? n.insertBefore(t, o.nextSibling) : n.appendChild(t) : n.insertBefore(t, n.firstChild), l.push(t);else if (\"bottom\" === e.insertAt) n.appendChild(t);else {\n        if (\"object\" != typeof e.insertAt || !e.insertAt.before) throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n        var r = s(e.insertInto + \" \" + e.insertAt.before);\n        n.insertBefore(t, r);\n      }\n    }\n\n    function m(e) {\n      if (null === e.parentNode) return !1;\n      e.parentNode.removeChild(e);\n      var t = l.indexOf(e);\n      t >= 0 && l.splice(t, 1);\n    }\n\n    function y(e) {\n      var t = document.createElement(\"style\");\n      return void 0 === e.attrs.type && (e.attrs.type = \"text/css\"), h(t, e.attrs), g(e, t), t;\n    }\n\n    function h(e, t) {\n      Object.keys(t).forEach(function (n) {\n        e.setAttribute(n, t[n]);\n      });\n    }\n\n    function v(e, t) {\n      var n, o, r, i;\n\n      if (t.transform && e.css) {\n        if (!(i = t.transform(e.css))) return function () {};\n        e.css = i;\n      }\n\n      if (t.singleton) {\n        var a = u++;\n        n = c || (c = y(t)), o = b.bind(null, n, a, !1), r = b.bind(null, n, a, !0);\n      } else e.sourceMap && \"function\" == typeof URL && \"function\" == typeof URL.createObjectURL && \"function\" == typeof URL.revokeObjectURL && \"function\" == typeof Blob && \"function\" == typeof btoa ? (n = function (e) {\n        var t = document.createElement(\"link\");\n        return void 0 === e.attrs.type && (e.attrs.type = \"text/css\"), e.attrs.rel = \"stylesheet\", h(t, e.attrs), g(e, t), t;\n      }(t), o = function (e, t, n) {\n        var o = n.css,\n            r = n.sourceMap,\n            i = void 0 === t.convertToAbsoluteUrls && r;\n        (t.convertToAbsoluteUrls || i) && (o = p(o)), r && (o += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(r)))) + \" */\");\n        var a = new Blob([o], {\n          type: \"text/css\"\n        }),\n            s = e.href;\n        e.href = URL.createObjectURL(a), s && URL.revokeObjectURL(s);\n      }.bind(null, n, t), r = function r() {\n        m(n), n.href && URL.revokeObjectURL(n.href);\n      }) : (n = y(t), o = function (e, t) {\n        var n = t.css,\n            o = t.media;\n        if (o && e.setAttribute(\"media\", o), e.styleSheet) e.styleSheet.cssText = n;else {\n          for (; e.firstChild;) {\n            e.removeChild(e.firstChild);\n          }\n\n          e.appendChild(document.createTextNode(n));\n        }\n      }.bind(null, n), r = function r() {\n        m(n);\n      });\n\n      return o(e), function (t) {\n        if (t) {\n          if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;\n          o(e = t);\n        } else r();\n      };\n    }\n\n    e.exports = function (e, t) {\n      if (\"undefined\" != typeof DEBUG && DEBUG && \"object\" != typeof document) throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n      (t = t || {}).attrs = \"object\" == typeof t.attrs ? t.attrs : {}, t.singleton || \"boolean\" == typeof t.singleton || (t.singleton = a()), t.insertInto || (t.insertInto = \"head\"), t.insertAt || (t.insertAt = \"bottom\");\n      var n = f(e, t);\n      return d(n, t), function (e) {\n        for (var o = [], r = 0; r < n.length; r++) {\n          var a = n[r];\n          (s = i[a.id]).refs--, o.push(s);\n        }\n\n        for (e && d(f(e, t), t), r = 0; r < o.length; r++) {\n          var s;\n\n          if (0 === (s = o[r]).refs) {\n            for (var c = 0; c < s.parts.length; c++) {\n              s.parts[c]();\n            }\n\n            delete i[s.id];\n          }\n        }\n      };\n    };\n\n    var _,\n        M = (_ = [], function (e, t) {\n      return _[e] = t, _.filter(Boolean).join(\"\\n\");\n    });\n\n    function b(e, t, n, o) {\n      var r = n ? \"\" : o.css;\n      if (e.styleSheet) e.styleSheet.cssText = M(t, r);else {\n        var i = document.createTextNode(r),\n            a = e.childNodes;\n        a[t] && e.removeChild(a[t]), a.length ? e.insertBefore(i, a[t]) : e.appendChild(i);\n      }\n    }\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o,\n        r = n(0),\n        i = n(29),\n        a = n(38),\n        s = n(10);\n    !function (e) {\n      e[e.LEFT_TO_RIGHT = 0] = \"LEFT_TO_RIGHT\", e[e.RIGHT_TO_LEFT = 1] = \"RIGHT_TO_LEFT\", e[e.LEFT_AND_RIGHT = 2] = \"LEFT_AND_RIGHT\";\n    }(o = t.DiagramLayoutDirection || (t.DiagramLayoutDirection = {})), t.defaultDiagramConfig = {\n      direction: o.LEFT_AND_RIGHT,\n      nodeStyle: s.NodeStyle.ALL_HAS_BORDER,\n      hMargin: 10,\n      vMargin: 10,\n      focusBorderPadding: 4,\n      theme: \"theme-orange\",\n      rootItemStyle: {\n        fontSize: \"24px\",\n        borderRadius: \"10px\",\n        padding: \"10px 25px\"\n      },\n      primaryItemStyle: {\n        fontSize: \"16px\",\n        borderRadius: \"6px\",\n        padding: \"0\"\n      },\n      normalItemStyle: {\n        fontSize: \"16px\",\n        borderRadius: \"6px\",\n        padding: \"0\"\n      },\n      editorRendererFn: function editorRendererFn(e, t, n, o) {\n        return r.createElement(i.DefaultNodeContentEditor, {\n          diagramState: e,\n          op: t,\n          nodeKey: n,\n          saveRef: o\n        });\n      },\n      focusItemsBorderRenderFn: function focusItemsBorderRenderFn(e, t, n) {\n        return r.createElement(a.DefaultFocusItemBorderSvg, {\n          diagramState: e,\n          saveRef: t,\n          getRef: n,\n          ref: t(\"focusItemBorderSvg\")\n        });\n      }\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      e[e.LEFT = 0] = \"LEFT\", e[e.RIGHT = 1] = \"RIGHT\", e[e.ROOT = 2] = \"ROOT\";\n    }(t.NodeWidgetDirection || (t.NodeWidgetDirection = {}));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(9),\n        a = n(12),\n        s = {\n      key: null,\n      parentKey: null,\n      content: null,\n      subItemKeys: i.List(),\n      collapse: !1\n    },\n        c = function (e) {\n      function t() {\n        return e.call(this) || this;\n      }\n\n      return r(t, e), t.prototype.getKey = function () {\n        return this.get(\"key\");\n      }, t.prototype.getParentKey = function () {\n        return this.get(\"parentKey\");\n      }, t.prototype.getContent = function () {\n        return this.get(\"content\");\n      }, t.prototype.getSubItemKeys = function () {\n        return this.get(\"subItemKeys\");\n      }, t.prototype.getCollapse = function () {\n        return this.get(\"collapse\");\n      }, t.prototype.contentToString = function () {\n        var e = this.getContent();\n        return \"string\" == typeof e ? e : a.default.serialize(e);\n      }, t.prototype.toString = function () {\n        return this.toJSON().toString();\n      }, t.prototype.toJSON = function () {\n        return {\n          key: this.getKey(),\n          parentKey: this.getParentKey(),\n          subItemKeys: this.getSubItemKeys(),\n          collapse: this.getCollapse(),\n          content: this.contentToString()\n        };\n      }, t.create = function (e, n, o, r, a) {\n        return void 0 === n && (n = null), void 0 === o && (o = \"new node\"), void 0 === r && (r = i.List([])), void 0 === a && (a = !1), t.createWith({\n          key: e,\n          parentKey: n,\n          content: o,\n          subItemKeys: r,\n          collapse: a\n        });\n      }, t.createWith = function (e) {\n        var n = new t();\n        return n.merge({\n          key: e.key,\n          parentKey: e.parentKey,\n          content: e.content,\n          subItemKeys: i.List(e.subItemKeys),\n          collapse: e.collapse\n        });\n      }, t;\n    }(i.Record(s));\n\n    t.MindNodeModel = c;\n  }, function (e, t) {\n    e.exports = require(\"immutable\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      e[e.PRIMARY_HAS_BORDER_NORMAL_NO_BORDER = 0] = \"PRIMARY_HAS_BORDER_NORMAL_NO_BORDER\", e[e.ALL_HAS_BORDER = 1] = \"ALL_HAS_BORDER\";\n    }(t.NodeStyle || (t.NodeStyle = {}));\n  }, function (e, t, n) {\n    var o = n(28);\n    \"string\" == typeof o && (o = [[e.i, o, \"\"]]);\n    n(5)(o, {\n      hmr: !0,\n      transform: void 0,\n      insertInto: void 0\n    }), o.locals && (e.exports = o.locals);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(31);\n    t.default = new o.default();\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      e[e.Normal = 0] = \"Normal\", e[e.PopupMenu = 1] = \"PopupMenu\", e[e.Editing = 2] = \"Editing\";\n    }(t.FocusItemMode || (t.FocusItemMode = {}));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    }),\n        i = this && this.__assign || Object.assign || function (e) {\n      for (var t, n = 1, o = arguments.length; n < o; n++) {\n        for (var r in t = arguments[n]) {\n          Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n        }\n      }\n\n      return e;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var a = n(0),\n        s = n(1),\n        c = n(7),\n        u = n(10),\n        l = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.generatePathString = function () {\n          return n.props.isRoot ? n.generatePathStringRoot() : n.props.diagramState.config.nodeStyle === u.NodeStyle.PRIMARY_HAS_BORDER_NORMAL_NO_BORDER ? n.generatePathStringNormal() : n.generatePathStringForBorderNode();\n        }, n.generatePathStringForBorderNode = function () {\n          var e = n.props,\n              t = e.fromNodeKey,\n              o = e.toNodeKey,\n              r = e.getRef,\n              i = e.dir,\n              a = e.diagramState,\n              s = (a.mindMapModel, a.mindMapModel.getItem(t).getSubItemKeys().size),\n              u = r(\"topic-\" + t),\n              l = r(\"topic-\" + o);\n          if (!u || !l) return \"\";\n          var p,\n              d,\n              f,\n              g,\n              m = r(\"children-\" + t).getBoundingClientRect(),\n              y = l.getBoundingClientRect(),\n              h = u.getBoundingClientRect();\n          if (i === c.NodeWidgetDirection.RIGHT ? (p = s > 1 ? 1 : 0, d = Math.round(h.top + h.height / 2 - m.top), f = y.left - h.right, g = Math.round(y.top + y.height / 2 - m.top)) : (p = h.left - m.left - (s > 1 ? 1 : 0), d = Math.round(h.top + h.height / 2 - m.top), f = Math.round(y.right - m.left), g = Math.round(y.top + y.height / 2 - m.top)), d === g) return \"M\" + p + \",\" + d + \"L\" + f + \",\" + g;\n\n          var v = (p + f) / 2,\n              _ = (d + g) / 2;\n\n          return i === c.NodeWidgetDirection.RIGHT ? \"M\" + p + \",\" + d + \"C\" + p + \",\" + _ + \",\" + v + \",\" + g + \",\" + f + \",\" + g : \"M\" + f + \",\" + g + \"C\" + v + \",\" + g + \",\" + p + \",\" + _ + \",\" + p + \",\" + d;\n        }, n.generatePathStringNormal = function () {\n          var e = n.props,\n              t = e.fromNodeKey,\n              o = e.toNodeKey,\n              r = e.getRef,\n              i = e.dir,\n              a = e.diagramState.mindMapModel,\n              s = r(\"topic-\" + t),\n              u = r(\"topic-\" + o);\n          if (!s || !u) return \"\";\n          var l = r(\"line-\" + t),\n              p = r(\"children-\" + t),\n              d = u.getBoundingClientRect(),\n              f = l.getBoundingClientRect(),\n              g = p.getBoundingClientRect(),\n              m = a.getItem(t);\n\n          if (i === c.NodeWidgetDirection.RIGHT) {\n            var y = 0,\n                h = Math.round(f.top - g.top + 1),\n                v = Math.round(d.left - g.left - 10),\n                _ = Math.round(d.bottom - g.top),\n                M = Math.round(d.right - g.left - 12);\n\n            return 1 === m.getSubItemKeys().size && a.getItemVisualLevel(t) > 1 ? \"M\" + y + \",\" + _ + \"H\" + (d.right - g.left) : h > _ ? \"M\" + y + \",\" + h + \" H\" + v + \" V\" + (_ + 10) + \" Q\" + v + \",\" + _ + \" \" + (v + 10) + \",\" + _ + \" H\" + M : \"M\" + y + \",\" + h + \" H\" + v + \" V\" + (_ - 10) + \" Q\" + v + \",\" + _ + \" \" + (v + 10) + \",\" + _ + \" H\" + M;\n          }\n\n          return y = Math.round(f.left - g.left), h = Math.round(f.top - g.top + 1), v = Math.round(d.right - g.left + 10), _ = Math.round(d.bottom - g.top), M = Math.round(d.left - g.left + 12), 1 === m.getSubItemKeys().size && a.getItemVisualLevel(t) > 1 ? \"M\" + y + \",\" + _ + \"H\" + (f.left - d.right) : h > _ ? \"M\" + y + \",\" + h + \" H\" + v + \" V\" + (_ + 10) + \" Q\" + v + \",\" + _ + \" \" + (v - 10) + \",\" + _ + \" H\" + M : \"M\" + y + \",\" + h + \" H\" + v + \" V\" + (_ - 10) + \" Q\" + v + \",\" + _ + \" \" + (v - 10) + \",\" + _ + \" H\" + M;\n        }, n.generatePathStringRoot = function () {\n          var e = n.props,\n              t = e.fromNodeKey,\n              o = e.toNodeKey,\n              r = e.getRef,\n              i = e.dir,\n              a = r(\"topic-\" + t),\n              s = r(\"topic-\" + o);\n          if (!a || !s) return \"\";\n          var u,\n              l,\n              p,\n              d,\n              f = s.getBoundingClientRect(),\n              g = a.getBoundingClientRect();\n\n          if (i === c.NodeWidgetDirection.RIGHT) {\n            var m = r(\"bm-node-layer-right\").getBoundingClientRect();\n            u = 0, l = Math.round(g.top - m.top + g.height / 2), p = f.left - g.right, d = Math.round(f.top - m.top + f.height / 2);\n          } else u = (m = r(\"bm-node-layer-left\").getBoundingClientRect()).right - m.left, l = Math.round(g.top - m.top + g.height / 2), p = Math.round(f.right - m.left), d = Math.round(f.top - m.top + f.height / 2);\n\n          if (l === d) return \"M\" + u + \",\" + l + \"L\" + p + \",\" + d;\n          var y = (u + p) / 2,\n              h = (l + d) / 2;\n          return i === c.NodeWidgetDirection.RIGHT ? \"M\" + u + \",\" + l + \"C\" + u + \",\" + h + \",\" + y + \",\" + d + \",\" + p + \",\" + d : \"M\" + p + \",\" + d + \"C\" + y + \",\" + d + \",\" + u + \",\" + h + \",\" + u + \",\" + l;\n        }, n;\n      }\n\n      return r(t, e), t.prototype.layout = function () {\n        this.props.isRoot ? this.layoutRoot() : this.layoutNormal();\n      }, t.prototype.layoutRoot = function () {\n        var e = this.props,\n            t = e.dir,\n            n = (0, e.getRef)(\"bm-node-layer-\" + (t === c.NodeWidgetDirection.LEFT ? \"left\" : \"right\"));\n\n        if (n) {\n          var o = n.getBoundingClientRect();\n          this.setState({\n            width: o.width,\n            height: o.height\n          });\n        }\n      }, t.prototype.layoutNormal = function () {\n        var e = (0, this.props.getRef)(\"children-\" + this.props.fromNodeKey);\n\n        if (e) {\n          var t = e.getBoundingClientRect();\n          this.setState({\n            width: t.width,\n            height: t.height\n          });\n        }\n      }, t.prototype.render = function () {\n        return this.state && this.state.width ? a.createElement(\"div\", {\n          className: \"bm-link\"\n        }, a.createElement(\"svg\", i({\n          xmlns: \"http://www.w3.org/2000/svg\",\n          version: \"1.1\",\n          strokeWidth: \"2px\",\n          stroke: \"orange\",\n          fill: \"none\"\n        }, this.state), a.createElement(\"g\", null, a.createElement(\"path\", {\n          d: this.generatePathString()\n        })))) : null;\n      }, t.defaultProps = {\n        isRoot: !1\n      }, t;\n    }(s.BaseWidget);\n\n    t.LinkWidget = l;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(2),\n        s = n(1),\n        c = n(3),\n        u = n(7),\n        l = n(40),\n        p = null,\n        d = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.onDragStart = function (e) {\n          console.log(\"onDragStart\"), p = n.props.nodeKey, e.stopPropagation();\n        }, n.onDragOver = function (e) {\n          e.preventDefault();\n        }, n.onDragEnter = function () {\n          n.setState({\n            dragEnter: !0\n          });\n        }, n.onDragLeave = function (e) {\n          var t = n.props,\n              o = t.getRef,\n              r = t.nodeKey,\n              i = e.nativeEvent.relatedTarget,\n              a = o(\"content-\" + r);\n          a == i || a.contains(i) || n.setState({\n            dragEnter: !1\n          });\n        }, n.onDrop = function () {\n          console.log(\"onDrop\");\n          var e = n.props,\n              t = e.nodeKey;\n          (0, e.op)(c.OpType.DRAG_AND_DROP, p, t), n.setState({\n            dragEnter: !1\n          });\n        }, n.onClick = function () {\n          n.isDoubleClick = !1, setTimeout(function () {\n            if (!n.isDoubleClick) {\n              var e = n.props,\n                  t = e.diagramState,\n                  o = e.op,\n                  r = e.nodeKey;\n              if (t.mindMapModel.getEditingItemKey() === r) return;\n              o(c.OpType.SET_POPUP_MENU_ITEM_KEY, r), n.setState({\n                showPopMenu: !0\n              });\n            }\n          }, 200);\n        }, n.onDoubleClick = function () {\n          n.isDoubleClick = !0;\n          var e = n.props,\n              t = e.diagramState,\n              o = e.op,\n              r = e.nodeKey;\n          t.mindMapModel.getEditingItemKey() !== r && o(c.OpType.SET_EDIT_ITEM_KEY, r);\n        }, n.handlePopMenuVisibleChange = function (e) {\n          n.setState({\n            showPopMenu: e\n          });\n        }, n._handleClick = function (e) {\n          console.log(\"_handleClick \" + n.props.nodeKey);\n          var t = n.props;\n          (0, t.getRef)(\"content-\" + t.nodeKey).contains(e.target);\n        }, n.state = {\n          dragEnter: !1,\n          showPopMenu: !1\n        }, n;\n      }\n\n      return r(t, e), t.prototype.componentDidUpdate = function (e, t, n) {\n        var o = this.props,\n            r = o.diagramState,\n            i = o.nodeKey;\n        r.mindMapModel.getEditingItemKey() === i ? document.addEventListener(\"click\", this._handleClick) : document.removeEventListener(\"click\", this._handleClick);\n      }, t.prototype.render = function () {\n        var e,\n            t,\n            n = this.props,\n            o = n.diagramState,\n            r = n.op,\n            s = n.nodeKey,\n            c = n.dir,\n            p = n.draggable,\n            d = n.saveRef,\n            f = n.getRef,\n            g = o.mindMapModel,\n            m = o.config,\n            y = g.getItemVisualLevel(s);\n\n        switch (y) {\n          case 0:\n            t = m.rootItemStyle;\n            break;\n\n          case 1:\n            t = m.primaryItemStyle;\n            break;\n\n          default:\n            t = m.normalItemStyle;\n        }\n\n        var h = this.state.showPopMenu;\n        return i.createElement(\"div\", {\n          draggable: p,\n          className: a(\"content\", (e = {}, e[\"content-dir-\" + c] = c !== u.NodeWidgetDirection.ROOT, e[\"root-topic\"] = 0 === y, e[\"primary-topic\"] = 1 === y, e[\"normal-topic\"] = y > 1, e[\"content-drag-enter\"] = this.state.dragEnter, e)),\n          style: t,\n          ref: d(\"content-\" + s),\n          onDragStart: this.onDragStart,\n          onDragEnter: this.onDragEnter,\n          onDragLeave: this.onDragLeave,\n          onDragOver: this.onDragOver,\n          onDrop: this.onDrop,\n          onClick: this.onClick,\n          onDoubleClick: this.onDoubleClick\n        }, m.editorRendererFn(o, r, s, d), h ? i.createElement(l.NodePopupMenu, {\n          diagramState: o,\n          op: r,\n          nodeKey: s,\n          visible: !0,\n          handleVisibleChange: this.handlePopMenuVisibleChange,\n          getRef: f\n        }) : null);\n      }, t;\n    }(s.BaseWidget);\n\n    t.TopicContentWidget = d;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(6),\n        r = n(3),\n        i = function () {\n      function e(e, t) {\n        this.mindMapModel = e, this.config = t;\n      }\n\n      return e.setMindMapModel = function (t, n) {\n        return new e(n, t.config);\n      }, e.op = function (t, n, o, i) {\n        console.error(\"op:\" + r.OpType[n]), o || n === r.OpType.FOCUS_ITEM || (o = t.mindMapModel.getFocusItemKey()), console.log(t.mindMapModel);\n        var a = r.MindMapModelModifier.op(t.mindMapModel, n, o, i);\n        return console.log(a), new e(a, t.config);\n      }, e.createWith = function (t, n) {\n        return new e(t, n = Object.assign(o.defaultDiagramConfig, n));\n      }, e;\n    }();\n\n    t.DiagramState = i;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(13),\n        a = n(9),\n        s = n(8),\n        c = {\n      rootItemKey: null,\n      editorRootItemKey: null,\n      itemMap: a.Map(),\n      focusItemKey: null,\n      focusItemMode: i.FocusItemMode.Normal\n    },\n        u = function (e) {\n      function t() {\n        return e.call(this) || this;\n      }\n\n      return r(t, e), t.prototype.getRootItemKey = function () {\n        return this.get(\"rootItemKey\");\n      }, t.prototype.getRootItem = function () {\n        return this.getItem(this.getRootItemKey());\n      }, t.prototype.getEditorRootItemKey = function () {\n        return this.get(\"editorRootItemKey\");\n      }, t.prototype.getEditorRootItem = function () {\n        return this.getItemMap().get(this.getEditorRootItemKey());\n      }, t.prototype.getItemMap = function () {\n        return this.get(\"itemMap\");\n      }, t.prototype.getFocusItemKey = function () {\n        return this.get(\"focusItemKey\");\n      }, t.prototype.getFocusItemMode = function () {\n        return this.get(\"focusItemMode\");\n      }, t.prototype.getEditingItemKey = function () {\n        return this.get(\"focusItemMode\") !== i.FocusItemMode.Editing ? null : this.getFocusItemKey();\n      }, t.prototype.getPopupMenuItemKey = function () {\n        return this.get(\"focusItemMode\") !== i.FocusItemMode.PopupMenu ? null : this.getFocusItemKey();\n      }, t.prototype.getItem = function (e) {\n        return this.getItemMap().get(e);\n      }, t.prototype.getParentItem = function (e) {\n        var t = this.getItem(e);\n        return t.getParentKey() ? this.getItem(t.getParentKey()) : null;\n      }, t.prototype.getItemVisualLevel = function (e) {\n        for (var t = this.getItem(e), n = 0; t && t.getKey() !== this.getEditorRootItemKey();) {\n          n++, t = this.getParentItem(t.getKey());\n        }\n\n        return n;\n      }, t.createWith = function (e) {\n        var n = new t();\n        return (n = n.merge({\n          rootItemKey: e.rootItemKey,\n          editorRootItemKey: e.editorRootItemKey\n        })).withMutations(function (t) {\n          e.items.forEach(function (e) {\n            t.update(\"itemMap\", function (t) {\n              return t.set(e.key, s.MindNodeModel.createWith(e));\n            });\n          });\n        });\n      }, t;\n    }(a.Record(c));\n\n    t.MindMapModel = u;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function o(e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), o(n(19)), o(n(17)), o(n(16)), o(n(45)), o(n(6)), o(n(46)), o(n(3));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(2),\n        s = n(20),\n        c = n(1);\n    n(42);\n\n    var u = n(44),\n        l = n(16),\n        p = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.op = function (e, t, o) {\n          var r = n.props,\n              i = r.diagramState;\n          (0, r.onChange)(l.DiagramState.op(i, e, t, o));\n        }, n;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        var e = this;\n        return i.createElement(u.default, null, function (t, n) {\n          var o;\n          return i.createElement(\"div\", {\n            className: a(\"bm-diagram\", (o = {}, o[\"\" + e.props.diagramState.config.theme] = !0, o))\n          }, i.createElement(s.MindDragScrollWidget, {\n            diagramState: e.props.diagramState,\n            op: e.op,\n            saveRef: t,\n            getRef: n\n          }));\n        });\n      }, t;\n    }(c.BaseWidget);\n\n    t.DiagramWidget = p;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    }),\n        i = this && this.__assign || Object.assign || function (e) {\n      for (var t, n = 1, o = arguments.length; n < o; n++) {\n        for (var r in t = arguments[n]) {\n          Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n        }\n      }\n\n      return e;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var a = n(0),\n        s = n(1),\n        c = n(21),\n        u = n(26),\n        l = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.canDragFunc = function () {\n          var e = document.getSelection();\n          return null === e.anchorNode || e.anchorNode.nodeType !== Node.TEXT_NODE;\n        }, n;\n      }\n\n      return r(t, e), t.prototype.componentDidMount = function () {\n        var e = this.props,\n            t = e.getRef,\n            n = t(\"topic-\" + e.diagramState.mindMapModel.getEditorRootItemKey()),\n            o = t(\"node-layer\"),\n            r = n.getBoundingClientRect(),\n            i = o.getBoundingClientRect();\n        this.dragScrollWidget.setViewBoxScrollDelta(0, r.top - i.top - this.dragScrollWidget.viewBox.getBoundingClientRect().height / 2 + r.height);\n      }, Object.defineProperty(t.prototype, \"dragScrollWidget\", {\n        get: function get() {\n          return this.props.getRef(\"DragScrollWidget\");\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.render = function () {\n        var e = this,\n            t = this.props.saveRef;\n        return console.log(\"MindDragScrollWidget render\"), a.createElement(c.DragScrollWidget, i({}, this.state, {\n          ref: t(\"DragScrollWidget\")\n        }), function (n, o) {\n          return a.createElement(u.NodeLayerWidget, i({}, e.props, {\n            setViewBoxScroll: n,\n            setViewBoxScrollDelta: o,\n            ref: t(\"MindNodeLayerWidget\")\n          }));\n        });\n      }, t;\n    }(s.BaseWidget);\n\n    t.MindDragScrollWidget = l;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(1),\n        s = n(22);\n    n(23);\n\n    var c = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.contentResizeCallback = function (e, t) {\n          if (n.oldContentRect) {\n            var o = {\n              width: n.content.clientWidth + 2 * n.viewBox.clientWidth,\n              height: n.content.clientHeight + 2 * n.viewBox.clientHeight\n            };\n            n.bigView.style.width = o.width + \"px\", n.bigView.style.height = o.height + \"px\";\n          }\n\n          n.oldContentRect = e[0].contentRect;\n        }, n.contentResizeObserver = new s.default(n.contentResizeCallback), n.contentRef = function (e) {\n          e && (n.content = e, n.contentResizeObserver.observe(n.content));\n        }, n.viewBoxRef = function (e) {\n          e && (n.viewBox = e, n.setViewBoxScroll(n.viewBox.clientWidth, n.viewBox.clientHeight));\n        }, n.bigViewRef = function (e) {\n          e && (n.bigView = e);\n        }, n.setWidgetStyle = function () {\n          n.content && n.viewBox && n.bigView && (n.bigView.style.width = 2 * (n.content.clientWidth + n.viewBox.clientWidth) + \"px\", n.bigView.style.height = 2 * (n.content.clientHeight + n.viewBox.clientHeight) + \"px\", n.content.style.left = n.viewBox.clientWidth + \"px\", n.content.style.top = n.viewBox.clientHeight + \"px\");\n        }, n.setViewBoxScroll = function (e, t) {\n          n.viewBox && (n.viewBox.scrollLeft = e, n.viewBox.scrollTop = t);\n        }, n.setViewBoxScrollDelta = function (e, t) {\n          n.viewBox && (n.viewBox.scrollLeft += e, n.viewBox.scrollTop += t);\n        }, n.onMouseDown = function (e) {\n          var t = n.props,\n              o = t.mouseKey,\n              r = t.needKeyPressed,\n              i = t.canDragFunc;\n\n          if ((!i || i()) && (0 === e.button && \"left\" === o || 2 === e.button && \"right\" === o)) {\n            if (r && !e.ctrlKey) return;\n            n._lastCoordX = n.viewBox.scrollLeft + e.nativeEvent.clientX, n._lastCoordY = n.viewBox.scrollTop + e.nativeEvent.clientY, window.addEventListener(\"mousemove\", n.onMouseMove), window.addEventListener(\"mouseup\", n.onMouseUp);\n          }\n        }, n.onMouseUp = function (e) {\n          window.removeEventListener(\"mousemove\", n.onMouseMove), window.removeEventListener(\"mouseup\", n.onMouseUp);\n        }, n.onMouseMove = function (e) {\n          n.viewBox.scrollLeft = n._lastCoordX - e.clientX, n.viewBox.scrollTop = n._lastCoordY - e.clientY;\n        }, n.handleContextMenu = function (e) {\n          e.preventDefault();\n        }, n.state = {\n          widgetStyle: {\n            width: \"10000px\",\n            height: \"10000px\"\n          }\n        }, n;\n      }\n\n      return r(t, e), t.prototype.componentDidMount = function () {\n        this.setWidgetStyle(), document.addEventListener(\"contextmenu\", this.handleContextMenu);\n      }, t.prototype.componentWillUnmount = function () {\n        document.removeEventListener(\"contextmenu\", this.handleContextMenu);\n      }, t.prototype.render = function () {\n        return i.createElement(\"div\", {\n          ref: this.viewBoxRef,\n          onMouseDown: this.onMouseDown,\n          className: \"drag-scroll-view\"\n        }, i.createElement(\"div\", {\n          style: this.state.widgetStyle,\n          ref: this.bigViewRef\n        }, i.createElement(\"div\", {\n          className: \"drag-scroll-content\",\n          ref: this.contentRef,\n          style: this.state.contentStyle\n        }, this.props.children(this.setViewBoxScroll, this.setViewBoxScrollDelta))));\n      }, t.defaultProps = {\n        mouseKey: \"left\",\n        needKeyPressed: !1\n      }, t;\n    }(a.BaseWidget);\n\n    t.DragScrollWidget = c;\n  }, function (e, t) {\n    e.exports = require(\"resize-observer-polyfill\");\n  }, function (e, t, n) {\n    var o = n(24);\n    \"string\" == typeof o && (o = [[e.i, o, \"\"]]);\n    n(5)(o, {\n      hmr: !0,\n      transform: void 0,\n      insertInto: void 0\n    }), o.locals && (e.exports = o.locals);\n  }, function (e, t, n) {\n    (e.exports = n(4)(!1)).push([e.i, \".drag-scroll-view {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: scroll; }\\n\\n.drag-scroll-content {\\n  position: relative;\\n  width: max-content; }\\n\", \"\"]);\n  }, function (e, t) {\n    e.exports = function (e) {\n      var t = \"undefined\" != typeof window && window.location;\n      if (!t) throw new Error(\"fixUrls requires window.location\");\n      if (!e || \"string\" != typeof e) return e;\n      var n = t.protocol + \"//\" + t.host,\n          o = n + t.pathname.replace(/\\/[^\\/]*$/, \"/\");\n      return e.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function (e, t) {\n        var r,\n            i = t.trim().replace(/^\"(.*)\"$/, function (e, t) {\n          return t;\n        }).replace(/^'(.*)'$/, function (e, t) {\n          return t;\n        });\n        return /^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i) ? e : (r = 0 === i.indexOf(\"//\") ? i : 0 === i.indexOf(\"/\") ? n + i : o + i.replace(/^\\.\\//, \"\"), \"url(\" + JSON.stringify(r) + \")\");\n      });\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(1),\n        s = n(27),\n        c = function (e) {\n      function t(t) {\n        return e.call(this, t) || this;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        var e = this.props,\n            t = e.setViewBoxScroll,\n            n = e.setViewBoxScrollDelta,\n            o = e.saveRef;\n        return i.createElement(\"div\", {\n          className: \"bm-node-layer\",\n          ref: o(\"node-layer\")\n        }, this.renderItems(t, n));\n      }, t.prototype.renderItems = function (e, t) {\n        var n = this.props,\n            o = n.diagramState,\n            r = n.op,\n            a = n.getRef,\n            c = n.saveRef,\n            u = o.mindMapModel.getEditorRootItemKey();\n        return i.createElement(s.RootNodeWidget, {\n          diagramState: o,\n          op: r,\n          nodeKey: u,\n          saveRef: c,\n          getRef: a,\n          setViewBoxScroll: e,\n          setViewBoxScrollDelta: t\n        });\n      }, t;\n    }(a.BaseWidget);\n\n    t.NodeLayerWidget = c;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(1);\n    n(11);\n\n    var s = n(2),\n        c = n(6),\n        u = n(39),\n        l = n(14),\n        p = n(15),\n        d = n(7),\n        f = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.needRelocation = !1, n.layoutSubLinks = function () {\n          var e = n.props,\n              t = e.diagramState,\n              o = e.nodeKey,\n              r = e.getRef,\n              i = t.mindMapModel.getItem(o);\n          i.getSubItemKeys().size > 0 && !i.getCollapse() && i.getSubItemKeys().forEach(function (e) {\n            r(\"link-\" + o + \"-\" + e).layout();\n          });\n        }, n;\n      }\n\n      return r(t, e), t.prototype.getNodeModel = function () {\n        var e = this.props,\n            t = e.diagramState,\n            n = e.nodeKey;\n        return t.mindMapModel.getItem(n);\n      }, t.prototype.getPartItems = function (e) {\n        var t = this.getNodeModel(),\n            n = t.getSubItemKeys().size,\n            o = t.getSubItemKeys().toArray();\n\n        switch (e) {\n          case c.DiagramLayoutDirection.LEFT_TO_RIGHT:\n            return [[], o];\n\n          case c.DiagramLayoutDirection.RIGHT_TO_LEFT:\n            return [o, []];\n\n          case c.DiagramLayoutDirection.LEFT_AND_RIGHT:\n            return [o.slice(Math.ceil(n / 2), n), o.slice(0, Math.ceil(n / 2))];\n        }\n      }, t.prototype.componentDidUpdate = function (e, t, n) {\n        if (this.needRelocation) {\n          var o = this.collapseIcon.getBoundingClientRect();\n          this.props.setViewBoxScrollDelta(o.left - this.oldCollapseIconRect.left, o.top - this.oldCollapseIconRect.top), this.needRelocation = !1;\n        }\n\n        this.layoutSubLinks();\n      }, t.prototype.componentDidMount = function () {\n        this.layoutSubLinks();\n      }, t.prototype.renderPartItems = function (e, t) {\n        var n = this,\n            o = this.props,\n            r = o.diagramState,\n            a = o.op,\n            s = o.setViewBoxScroll,\n            c = o.setViewBoxScrollDelta,\n            p = o.saveRef,\n            f = o.getRef;\n        if (0 === e.length) return null;\n        var g = [],\n            m = [];\n        e.forEach(function (e) {\n          var o = \"link-\" + n.props.nodeKey + \"-\" + e;\n          g.push(i.createElement(u.NodeWidget, {\n            key: e,\n            nodeKey: e,\n            dir: t,\n            diagramState: r,\n            op: a,\n            setViewBoxScroll: s,\n            setViewBoxScrollDelta: c,\n            saveRef: p,\n            getRef: f\n          })), m.push(i.createElement(l.LinkWidget, {\n            diagramState: r,\n            key: o,\n            ref: p(o),\n            fromNodeKey: n.props.nodeKey,\n            toNodeKey: e,\n            dir: t,\n            saveRef: p,\n            getRef: f,\n            isRoot: !0\n          }));\n        });\n        var y = \"bm-node-layer-\" + (t === d.NodeWidgetDirection.LEFT ? \"left\" : \"right\");\n        return i.createElement(\"div\", {\n          className: y,\n          ref: p(y)\n        }, g, m);\n      }, t.prototype.render = function () {\n        var e = this.props,\n            t = e.diagramState,\n            n = e.op,\n            o = e.nodeKey,\n            r = e.saveRef,\n            a = e.getRef,\n            c = t.mindMapModel,\n            u = t.config,\n            l = this.getPartItems(u.direction),\n            f = l[0],\n            g = l[1];\n        return i.createElement(i.Fragment, null, this.renderPartItems(f, d.NodeWidgetDirection.LEFT), i.createElement(\"div\", {\n          className: s(\"topic\"),\n          ref: o === c.getEditorRootItemKey() ? r(\"topic-\" + o) : null\n        }, i.createElement(p.TopicContentWidget, {\n          diagramState: t,\n          op: n,\n          nodeKey: o,\n          dir: d.NodeWidgetDirection.ROOT,\n          draggable: !1,\n          saveRef: r,\n          getRef: a\n        })), this.renderPartItems(g, d.NodeWidgetDirection.RIGHT));\n      }, t;\n    }(a.BaseWidget);\n\n    t.RootNodeWidget = f;\n  }, function (e, t, n) {\n    (e.exports = n(4)(!1)).push([e.i, \"\", \"\"]);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(2),\n        s = n(30),\n        c = n(3),\n        u = n(35);\n    n(36);\n\n    var l = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.onChange = function (e) {\n          var t = n.props,\n              o = t.op,\n              r = t.nodeKey;\n          o(c.OpType.SET_ITEM_CONTENT, r, e);\n        }, n.onMouseDown = function (e) {\n          e.stopPropagation();\n        }, n.onMouseMove = function (e) {\n          e.stopPropagation();\n        }, n;\n      }\n\n      return r(t, e), t.prototype.shouldComponentUpdate = function (e, t, n) {\n        var o = e.nodeKey,\n            r = e.diagramState,\n            i = this.props,\n            a = i.nodeKey,\n            s = i.diagramState;\n        if (o !== a) return console.log(\"nextNodeKey !== nodeKey\"), !0;\n        var c = s.mindMapModel.getEditingItemKey(),\n            u = r.mindMapModel.getEditingItemKey();\n        return c !== u && (c === a || u === a) || s.mindMapModel.getItem(a) !== r.mindMapModel.getItem(o) && (console.log(\"ds.mindMapModel.getItem(nodeKey) !== nextDS.mindMapModel.getItem(nextNodeKey)\"), !0);\n      }, t.prototype.render = function () {\n        var e = this.props,\n            t = e.nodeKey,\n            n = e.diagramState,\n            o = e.saveRef,\n            r = n.mindMapModel,\n            c = r.getItem(t).getContent();\n        console.log(\"DefaultNodeContentEditor render\"), console.log(\"getEditingItemKey \" + r.getEditingItemKey());\n        var l = !(t === r.getEditingItemKey());\n        return i.createElement(\"div\", {\n          className: a(\"bm-node-content\", {\n            \"content-editing\": !l,\n            \"bm-node-content-cursor\": !l\n          }),\n          ref: o(\"editor-\" + t),\n          onMouseDown: this.onMouseDown,\n          onMouseMove: this.onMouseMove\n        }, i.createElement(s.default, {\n          editorValue: c,\n          onChange: u.debounce(this.onChange),\n          readOnly: l\n        }));\n      }, t;\n    }(i.Component);\n\n    t.DefaultNodeContentEditor = l;\n  }, function (e, t) {\n    e.exports = require(\"awehook-rich-markdown-editor\");\n  }, function (e, t) {\n    e.exports = require(\"slate-md-serializer\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.uuidv4 = function () {\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (e) {\n        var t = 16 * Math.random() | 0;\n        return (\"x\" == e ? t : 3 & t | 8).toString(16);\n      });\n    };\n  }, function (e, t) {\n    e.exports = require(\"slate\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      e[e.Ancestor = 0] = \"Ancestor\", e[e.Descendant = 1] = \"Descendant\", e[e.Sibling = 2] = \"Sibling\", e[e.None = 3] = \"None\";\n    }(t.NodeRelationship || (t.NodeRelationship = {}));\n  }, function (e, t) {\n    e.exports = require(\"lodash\");\n  }, function (e, t, n) {\n    var o = n(37);\n    \"string\" == typeof o && (o = [[e.i, o, \"\"]]);\n    n(5)(o, {\n      hmr: !0,\n      transform: void 0,\n      insertInto: void 0\n    }), o.locals && (e.exports = o.locals);\n  }, function (e, t, n) {\n    (e.exports = n(4)(!1)).push([e.i, \".bm-node-content {\\n  padding: 6px 6px; }\\n\\n.bm-node-content-cursor {\\n  cursor: text; }\\n\", \"\"]);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = function (e) {\n      function t() {\n        return null !== e && e.apply(this, arguments) || this;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        return console.log(\"DefaultFocusItemBorderSvg render\"), this.renderFocusItemBorder();\n      }, t.prototype.reLayout = function () {\n        this.forceUpdate();\n      }, t.prototype.renderFocusItemBorder = function () {\n        var e = this.props,\n            t = e.getRef,\n            n = e.diagramState,\n            o = n.mindMapModel,\n            r = n.config.focusBorderPadding,\n            a = o.getFocusItemKey();\n\n        if (a) {\n          var s = t(\"content-\" + a),\n              c = t(\"node-layer\");\n\n          if (s && c) {\n            var u = s.getBoundingClientRect(),\n                l = c.getBoundingClientRect();\n            return i.createElement(\"div\", {\n              className: \"bm-focus-svg\"\n            }, i.createElement(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              version: \"1.1\",\n              strokeWidth: \"2px\",\n              stroke: \"red\",\n              fill: \"none\",\n              width: \"3000px\",\n              height: \"3000px\"\n            }, i.createElement(\"rect\", {\n              x: \"\" + (u.left - l.left - r),\n              y: \"\" + (u.top - l.top - r),\n              rx: \"10\",\n              ry: \"10\",\n              width: \"\" + (u.width + 2 * r),\n              height: \"\" + (u.height + 2 * r)\n            })));\n          }\n        }\n\n        return null;\n      }, t;\n    }(i.Component);\n\n    t.DefaultFocusItemBorderSvg = a;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(1),\n        s = n(14),\n        c = n(15);\n    n(11);\n\n    var u = n(3),\n        l = n(2),\n        p = n(7),\n        d = n(10),\n        f = function (e) {\n      function t(n) {\n        var o = e.call(this, n) || this;\n        return o.onClickCollapse = function (e) {\n          console.log(\"onClickCollapse\"), e.stopPropagation(), o.needRelocation = !0, o.oldCollapseIconRect = o.collapseIcon.getBoundingClientRect(), o.props.op(u.OpType.TOGGLE_COLLAPSE, o.props.nodeKey);\n        }, o.onDragStart = function (e) {\n          console.log(\"onDragStart\"), t.dragSrcItemKey = o.props.nodeKey, e.stopPropagation();\n        }, o.onDragEnd = function () {}, o.onDragEnter = function () {\n          console.log(\"onDragEnter\"), o.setState({\n            dragEnter: !0\n          });\n        }, o.onDragLeave = function (e) {\n          var t = o.props,\n              n = t.getRef,\n              r = t.nodeKey,\n              i = e.nativeEvent.relatedTarget,\n              a = n(\"content-\" + r);\n          a == i || a.contains(i) || o.setState({\n            dragEnter: !1\n          });\n        }, o.onDrop = function (e) {\n          console.log(\"onDrop\");\n          var n = o.props,\n              r = n.op,\n              i = n.nodeKey;\n          r(u.OpType.DRAG_AND_DROP, t.dragSrcItemKey, i), o.setState({\n            dragEnter: !1\n          });\n        }, o.needRelocation = !1, o.layoutSubLinks = function () {\n          var e = o.props,\n              t = e.diagramState,\n              n = e.nodeKey,\n              r = e.getRef,\n              i = t.mindMapModel.getItem(n);\n          i.getSubItemKeys().size > 0 && !i.getCollapse() && i.getSubItemKeys().forEach(function (e) {\n            r(\"link-\" + n + \"-\" + e).layout();\n          });\n        }, o.collapseIconRef = function (e) {\n          e && (o.collapseIcon = e);\n        }, o.state = {\n          dragEnter: !1\n        }, o;\n      }\n\n      return r(t, e), t.prototype.componentDidUpdate = function (e, t, n) {\n        if (this.needRelocation) {\n          var o = this.collapseIcon.getBoundingClientRect();\n          this.props.setViewBoxScrollDelta(o.left - this.oldCollapseIconRect.left, o.top - this.oldCollapseIconRect.top), this.needRelocation = !1;\n        }\n\n        this.layoutSubLinks();\n      }, t.prototype.componentDidMount = function () {\n        this.layoutSubLinks();\n      }, t.prototype.shouldComponentUpdate = function (e, t, n) {\n        return !0;\n      }, t.prototype.renderSubItems = function () {\n        var e = this.props,\n            n = e.diagramState,\n            o = e.op,\n            r = e.nodeKey,\n            a = e.dir,\n            c = e.setViewBoxScroll,\n            u = e.setViewBoxScrollDelta,\n            d = e.saveRef,\n            f = e.getRef,\n            g = n.mindMapModel.getItem(r);\n        if (0 === g.getSubItemKeys().size || g.getCollapse()) return null;\n        var m = [],\n            y = [];\n        g.getSubItemKeys().forEach(function (e) {\n          m.push(i.createElement(t, {\n            key: e,\n            nodeKey: e,\n            dir: a,\n            diagramState: n,\n            op: o,\n            setViewBoxScroll: c,\n            setViewBoxScrollDelta: u,\n            saveRef: d,\n            getRef: f\n          }));\n          var l = \"link-\" + r + \"-\" + e;\n          y.push(i.createElement(s.LinkWidget, {\n            diagramState: n,\n            key: l,\n            fromNodeKey: r,\n            toNodeKey: e,\n            dir: a,\n            getRef: f,\n            ref: d(l)\n          }));\n        });\n        var h = n.config,\n            v = a === p.NodeWidgetDirection.LEFT ? {\n          paddingTop: h.vMargin,\n          paddingBottom: h.vMargin,\n          paddingRight: h.hMargin\n        } : {\n          paddingTop: h.vMargin,\n          paddingBottom: h.vMargin,\n          paddingLeft: h.hMargin\n        };\n        return i.createElement(\"div\", {\n          className: l(\"bm-children\"),\n          style: v,\n          ref: d(\"children-\" + r)\n        }, m, y);\n      }, t.prototype.render = function () {\n        var e,\n            t,\n            n = this.props,\n            o = n.diagramState,\n            r = n.op,\n            a = n.nodeKey,\n            s = n.dir,\n            u = n.saveRef,\n            p = n.getRef,\n            f = o.mindMapModel,\n            g = f.getItem(a),\n            m = f.getItemVisualLevel(a);\n        return i.createElement(\"div\", {\n          className: l(\"bm-node\", \"bm-dir-\" + s)\n        }, i.createElement(\"div\", {\n          className: l(\"topic\", \"bm-dir-\" + s),\n          ref: u(\"topic-\" + a)\n        }, i.createElement(c.TopicContentWidget, {\n          diagramState: o,\n          op: r,\n          nodeKey: a,\n          dir: s,\n          draggable: !0,\n          saveRef: u,\n          getRef: p\n        }), g.getSubItemKeys().size > 0 ? i.createElement(\"div\", {\n          className: l(\"collapse-line\", (e = {\n            \"collapse-line-hide\": g.getCollapse()\n          }, e[\"normal-collapse-line-\" + s] = o.config.nodeStyle === d.NodeStyle.PRIMARY_HAS_BORDER_NORMAL_NO_BORDER && m > 1, e)),\n          ref: u(\"line-\" + a)\n        }, i.createElement(\"div\", {\n          ref: this.collapseIconRef,\n          className: l(\"collapse-icon\", (t = {\n            iconfont: g.getSubItemKeys().size > 0\n          }, t[\"bm-\" + (g.getCollapse() ? \"plus\" : \"minus\")] = g.getSubItemKeys().size > 0, t)),\n          onClick: this.onClickCollapse\n        })) : null), this.renderSubItems());\n      }, t;\n    }(a.BaseWidget);\n\n    t.NodeWidget = f;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(41),\n        s = n(3),\n        c = function (e) {\n      function t() {\n        var t = null !== e && e.apply(this, arguments) || this;\n        return t._handleClick = function (e) {\n          console.log(\"_handleClick\");\n          var n = t.props.visible,\n              o = !(e.target.contains === t.root);\n          console.log(\"wasOutside \" + o), o && n && t.props.handleVisibleChange && t.props.handleVisibleChange(!1);\n        }, t.rootRef = function (e) {\n          t.root = e;\n        }, t;\n      }\n\n      return r(t, e), t.prototype.componentDidMount = function () {\n        document.addEventListener(\"click\", this._handleClick);\n      }, t.prototype.componentWillUnmount = function () {\n        document.removeEventListener(\"click\", this._handleClick);\n      }, t.prototype.render = function () {\n        console.log(\"NodePopupMenu render:\" + this.props.visible);\n        var e = this.props,\n            t = e.visible,\n            n = e.nodeKey,\n            o = e.items,\n            r = e.diagramState,\n            s = e.op,\n            c = r.mindMapModel.getEditorRootItemKey(),\n            u = o.map(function (e) {\n          return n !== c || e.rootCanUse ? i.createElement(a.NodePopupMenuItem, {\n            config: e,\n            key: n + \"-\" + e.label,\n            nodeKey: n,\n            diagramState: r,\n            op: s\n          }) : null;\n        });\n        return t && i.createElement(\"div\", {\n          className: \"bm-node-popup-menu\",\n          ref: this.rootRef\n        }, u);\n      }, t.defaultProps = {\n        items: [{\n          icon: \"edit\",\n          label: \"edit\",\n          rootCanUse: !0,\n          opType: s.OpType.SET_EDIT_ITEM_KEY\n        }, {\n          icon: \"add-sibling\",\n          label: \"add sibling\",\n          opType: s.OpType.ADD_SIBLING\n        }, {\n          icon: \"add-child\",\n          label: \"add child\",\n          rootCanUse: !0,\n          opType: s.OpType.ADD_CHILD\n        }, {\n          icon: \"delete-node\",\n          label: \"delete node\",\n          opType: s.OpType.DELETE_NODE\n        }]\n      }, t;\n    }(i.Component);\n\n    t.NodePopupMenu = c;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(2),\n        s = function (e) {\n      function t() {\n        var t = null !== e && e.apply(this, arguments) || this;\n        return t.onClick = function (e) {\n          e.stopPropagation();\n          var n = t.props,\n              o = n.nodeKey,\n              r = n.config;\n          (0, n.op)(r.opType, o);\n        }, t;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        var e = this.props.config;\n        return i.createElement(\"div\", {\n          className: \"popup-menu-item\",\n          onClick: this.onClick\n        }, i.createElement(\"div\", {\n          className: a(\"icon\", \"iconfont\", \"bm-\" + e.icon),\n          onClick: this.onClick\n        }), i.createElement(\"div\", {\n          className: \"label\"\n        }, e.label));\n      }, t;\n    }(i.Component);\n\n    t.NodePopupMenuItem = s;\n  }, function (e, t, n) {\n    var o = n(43);\n    \"string\" == typeof o && (o = [[e.i, o, \"\"]]);\n    n(5)(o, {\n      hmr: !0,\n      transform: void 0,\n      insertInto: void 0\n    }), o.locals && (e.exports = o.locals);\n  }, function (e, t, n) {\n    (t = e.exports = n(4)(!1)).push([e.i, \"@import url(//at.alicdn.com/t/font_1280682_13b9x7m6y9i.css);\", \"\"]), t.push([e.i, \".theme-orange .root-topic {\\n  background: orange; }\\n\\n.theme-orange .primary-topic {\\n  border: 2px solid orange; }\\n\\n.theme-orange .normal-topic {\\n  border: 2px solid orange; }\\n\\n.bm-diagram {\\n  width: 100%;\\n  height: 100%; }\\n\\n.iconfont {\\n  vertical-align: middle; }\\n\\n.none-pointer-events {\\n  pointer-events: none; }\\n\\n.bm-node-layer {\\n  position: relative;\\n  display: flex;\\n  align-items: center; }\\n  .bm-node-layer .bm-node {\\n    display: flex;\\n    align-items: center;\\n    padding: 10px; }\\n    .bm-node-layer .bm-node div {\\n      flex-shrink: 0; }\\n    .bm-node-layer .bm-node .bm-children {\\n      position: relative; }\\n  .bm-node-layer .topic {\\n    display: flex;\\n    position: relative;\\n    align-items: center; }\\n    .bm-node-layer .topic .content-editing {\\n      background-color: #e0e0e0; }\\n    .bm-node-layer .topic .content {\\n      word-wrap: break-word;\\n      white-space: pre-line;\\n      cursor: pointer; }\\n    .bm-node-layer .topic .content-drag-enter {\\n      background-color: brown; }\\n    .bm-node-layer .topic .content-dir-0 {\\n      padding: 6px 0 6px 20px; }\\n    .bm-node-layer .topic .content-dir-1 {\\n      padding: 6px 20px 6px 0; }\\n    .bm-node-layer .topic .collapse-line {\\n      height: 2px;\\n      width: 30px;\\n      background: orange; }\\n    .bm-node-layer .topic .collapse-line-hide {\\n      background: transparent; }\\n    .bm-node-layer .topic .normal-collapse-line-1 {\\n      position: absolute;\\n      bottom: -1px;\\n      right: 0; }\\n    .bm-node-layer .topic .normal-collapse-line-0 {\\n      position: absolute;\\n      bottom: -1px;\\n      left: 0; }\\n    .bm-node-layer .topic .collapse-icon {\\n      position: relative;\\n      top: -8px;\\n      left: 5px;\\n      border-radius: 50%;\\n      width: 20px;\\n      height: 20px;\\n      text-align: center;\\n      background-color: orange;\\n      cursor: pointer;\\n      padding: 0;\\n      font-size: 14px;\\n      line-height: 20px;\\n      border: 0; }\\n\\n.bm-node-layer-left {\\n  display: flex;\\n  position: relative;\\n  align-items: flex-end;\\n  flex-direction: column;\\n  padding-right: 60px; }\\n\\n.bm-node-layer-right {\\n  display: flex;\\n  position: relative;\\n  flex-direction: column;\\n  padding-left: 60px; }\\n\\n.bm-dir-0 {\\n  flex-direction: row-reverse; }\\n\\n.bm-dir-1 {\\n  flex-direction: row; }\\n\\n.bm-link {\\n  z-index: -1;\\n  position: absolute;\\n  left: 0;\\n  top: 0; }\\n\\n.bm-focus-svg {\\n  z-index: -1;\\n  position: absolute;\\n  left: 0;\\n  top: 0; }\\n\\n.bm-node-popup-menu {\\n  position: absolute;\\n  bottom: calc(100% + 5px);\\n  left: 0;\\n  padding: 0 8px;\\n  border-radius: 10px;\\n  background-color: white;\\n  box-shadow: #aaaaaa 5px 5px 10px;\\n  cursor: pointer;\\n  z-index: 1;\\n  width: max-content;\\n  height: 50px; }\\n  .bm-node-popup-menu .popup-menu-item {\\n    display: inline-block;\\n    margin: 10px; }\\n    .bm-node-popup-menu .popup-menu-item:hover {\\n      color: orange; }\\n    .bm-node-popup-menu .popup-menu-item .icon {\\n      text-align: center; }\\n    .bm-node-popup-menu .popup-menu-item .label {\\n      font-size: 20%; }\\n\\n.fXedfB {\\n  background: inherit; }\\n\", \"\"]);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = function (e) {\n      function t() {\n        var t = null !== e && e.apply(this, arguments) || this;\n        return t.getRef = function (e) {\n          return t[e];\n        }, t.saveRef = function (e) {\n          return function (n) {\n            n && (t[e] = n, t.fireListener(e, n));\n          };\n        }, t.observers = new Map(), t.fireListener = function (e, n) {\n          if (t.observers.has(e)) for (var o = 0, r = t.observers.get(e); o < r.length; o++) {\n            (0, r[o])(e, n);\n          }\n        }, t.registerRefListener = function (e, n) {\n          t.observers.has(e) ? t.observers.get(e).push(n) : t.observers.set(e, [n]);\n        }, t;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        return this.props.children(this.saveRef, this.getRef, this.registerRefListener.bind(this));\n      }, t;\n    }(n(0).Component);\n\n    t.default = i;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(6),\n        r = function r(e, t) {\n      void 0 === t && (t = {}), this.mindMapModel = e, this.config = Object.assign(o.defaultDiagramConfig, t), this.zoom = 1;\n    };\n\n    t.MindDiagramModel = r;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(17),\n        r = n(12),\n        i = n(8);\n    t.convertMindMapModelToRaw = function (e) {\n      var t = {};\n      t.rootItemKey = e.getRootItemKey(), t.items = e.getItemMap();\n      var n = e.getRootItem().getContent();\n      return t.title = \"string\" == typeof n ? n : r.default.serialize(n), t;\n    }, t.convertRawToMindMapModel = function (e) {\n      var t = new o.MindMapModel();\n      return t = t.merge({\n        rootItemKey: e.rootItemKey,\n        editorRootItemKey: e.rootItemKey\n      }), console.log(\"convertRawToMindMapModel\"), t.withMutations(function (t) {\n        Object.keys(e.items).forEach(function (n) {\n          var o = e.items[n];\n          t.update(\"itemMap\", function (e) {\n            return e.set(o.key, i.MindNodeModel.createWith(o));\n          });\n        });\n      });\n    };\n  }]);\n});","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport cx from \"classnames\";\nimport { DiagramState, exportMindMapModelToJSON } from \"blink-mind-react\";\n\nexport class ToolbarItem extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  onClick = () => {\n    console.log(\"toolbar item click\");\n    let {config,diagramState,onChange} = this.props;\n    if (config.opType) {\n      this.props.op(config.opType, null);\n    } else if(config.clickHandler) {\n      config.clickHandler(diagramState,onChange);\n    }\n  };\n\n  render() {\n    const { config } = this.props;\n    return (\n      <span\n        className={cx(\"bm-toolbar-item\", \"iconfont\", `bm-${config.icon}`)}\n        onClick={this.onClick}\n      ></span>\n    );\n  }\n}\n","export const downloadFile = (url, filename) => {\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  link.click();\n};\n","import React from \"react\";\nimport './PopupContent.css';\nimport {convertMindMapModelToRaw, convertRawToMindMapModel, DiagramState} from 'blink-mind-react';\nimport {downloadFile} from \"../utils\";\nimport Popup from 'react-popup';\n\nexport function PopupExportContent(props) {\n\n  const exportJSON = () => {\n    let model = props.diagramState.mindMapModel;\n    const data = convertMindMapModelToRaw(model);\n    let json = JSON.stringify(data);\n    let url = `data:text/plain,${encodeURIComponent(json)}`;\n    downloadFile(url,`${data.title}.json`);\n    Popup.close();\n  };\n\n  return (\n    <div className='popup-content'>\n      <ul className='popup-content-list'>\n        <li className='popup-content-list-item' onClick={exportJSON}>JSON (.json)</li>\n      </ul>\n    </div>\n  )\n}\n\n\nexport function PopupOpenFileContent(props) {\n  let {diagramState,onChange} = props;\n  const openFile = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.json';\n    input.addEventListener('change',evt => {\n      const file = evt.target.files[0];\n      const fr = new FileReader();\n      fr.onload = evt => {\n        const txt = evt.target.result;\n        let obj = JSON.parse(txt);\n        console.log(obj);\n        let model = convertRawToMindMapModel(obj);\n        let newDiagramState = DiagramState.setMindMapModel(diagramState,model);\n        onChange(newDiagramState);\n      };\n      fr.readAsText(file);\n    });\n    input.click();\n    Popup.close();\n  };\n\n  return (\n    <div className='popup-content'>\n      <div>\n        支持打开以下格式的文件\n      </div>\n      <ul className='popup-content-list'>\n        <li className='popup-content-list-item' >JSON (.json)</li>\n      </ul>\n\n      <div>\n        <button onClick={openFile}>打开文件</button>\n        <button>取消</button>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { ToolbarItem, ToolbarItemConfig } from \"./ToolbarItem\";\nimport \"./Toolbar.css\";\nimport { OpType, DiagramState } from \"blink-mind-react\";\n\nimport { PopupExportContent, PopupOpenFileContent } from \"./PopupContent\";\n\nimport Popup from \"react-popup\";\n\nexport class Toolbar extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  showPopupExport = diagramState => {\n    console.log(\"showPopupExport\");\n    Popup.registerPlugin(\"popupExport\", function() {\n      this.create({\n        title: \"请选择导出格式\",\n        content: <PopupExportContent diagramState={diagramState} />\n      });\n    });\n    Popup.plugins().popupExport();\n  };\n\n  showPopupOpenFile = (diagramState, onChange) => {\n    Popup.registerPlugin(\"popupOpenFile\", function() {\n      this.create({\n        title: \"打开文件\",\n        content: (\n          <PopupOpenFileContent\n            diagramState={diagramState}\n            onChange={onChange}\n          />\n        )\n      });\n    });\n    Popup.plugins().popupOpenFile();\n  };\n\n  items = [\n    {\n      icon: \"newfile\",\n      label: \"new file\"\n      // opType: OpType.REDO\n    },\n    {\n      icon: \"openfile\",\n      label: \"open file\",\n      clickHandler: this.showPopupOpenFile\n    },\n    {\n      icon: \"export\",\n      label: \"export file\",\n      clickHandler: this.showPopupExport\n    },\n    {\n      icon: \"undo\",\n      label: \"undo\",\n      opType: OpType.UNDO\n    },\n    {\n      icon: \"redo\",\n      label: \"redo\",\n      opType: OpType.REDO\n    },\n    {\n      icon: \"add-sibling\",\n      label: \"add sibling\",\n      opType: OpType.ADD_SIBLING\n    },\n    {\n      icon: \"add-child\",\n      label: \"add child\",\n      opType: OpType.ADD_CHILD\n    },\n    {\n      icon: \"delete-node\",\n      label: \"delete node\",\n      opType: OpType.DELETE_NODE\n    }\n  ];\n\n  op = (opType, nodeKey, arg) => {\n    let { diagramState, onChange } = this.props;\n    let newState = DiagramState.op(diagramState, opType, nodeKey, arg);\n    onChange(newState);\n  };\n\n  render() {\n    let { diagramState, onChange } = this.props;\n    let toolbarItems = this.items.map(item => (\n      <ToolbarItem\n        config={item}\n        key={item.label}\n        diagramState={diagramState}\n        onChange={onChange}\n        op={this.op}\n      />\n    ));\n    return (\n      <div>\n        <div className=\"bm-toolbar\">{toolbarItems}</div>\n        {/*{*/}\n        {/*this.state.popupType==='Export' ? <PopupExport/> : null*/}\n        {/*}*/}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport {\n  DiagramWidget,\n  MindDiagramModel,\n  MindMapModel,\n  DiagramConfig,\n  DiagramState\n} from \"blink-mind-react\";\n\nimport { Toolbar } from \"./Toolbar\";\n\nexport class MindMap extends React.Component {\n  constructor(props) {\n    super(props);\n    let mindModel = MindMapModel.createWith({\n      rootItemKey: \"root\",\n      editorRootItemKey: \"root\",\n      items: [\n        { key: \"root\", content: \"MainTopic\", subItemKeys: [\"sub1\", \"sub2\"] },\n        {\n          key: \"sub1\",\n          parentKey: \"root\",\n          content: \"SubTopic\",\n          subItemKeys: [],\n          collapse: true\n        },\n        {\n          key: \"sub2\",\n          parentKey: \"root\",\n          content: \"SubTopic\",\n          subItemKeys: []\n        }\n      ]\n    });\n    let diagramConfig = {\n      hMargin: 10\n    };\n    let diagramState = DiagramState.createWith(mindModel, diagramConfig);\n    this.state = {\n      diagramState: diagramState\n    };\n  }\n\n  onChange = diagramState => {\n    console.log('onChange');\n    console.log(diagramState.mindMapModel);\n    this.setState({ diagramState });\n  };\n\n  render() {\n    return (\n      <div className=\"mindmap\">\n        <Toolbar\n          diagramState={this.state.diagramState}\n          onChange={this.onChange}\n        />\n        <DiagramWidget\n          diagramState={this.state.diagramState}\n          onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default MindMap;\n","import React from \"react\";\nimport MindMap from \"./component/MindMap\";\nimport \"./App.css\";\nimport \"./popup.css\"\n\nfunction App() {\n  return (\n    <>\n      <MindMap />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Popup from \"react-popup\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\nReactDOM.render(<Popup />, document.getElementById(\"popup\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}