(window["webpackJsonpreact-mindmap"]=window["webpackJsonpreact-mindmap"]||[]).push([[3],{1046:function(e,t,n){},1067:function(e,t,n){},1079:function(e,t,n){},1082:function(e,t,n){},1083:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(15),a=n.n(i),l=(n(444),n(160)),c=n(161),u=n(166),s=n(162),p=n(167),d=n(126),f=n(6),h=n(25),m=n.n(h),y=n(1089),g=n(127),b=n(168),v=n(1092),O=n(398),w=n(396),E=n(1103),k=n(76),x=n(399),T=n(389),C=n(242),_=n(1),S=n(1101),j=n(68),D=n(28),R=n(1093),I=n(1102),P=n(1094),M=n(69),L=n(1100),K=n(173),N=n(243),B=n(1096),A=n(95),F=n(31),z=n(2),H=n(426),G=function(e,t){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function V(e,t){function n(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var W=function(){return(W=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function U(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function Y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(U(arguments[t]));return e}m()("core:controller");function q(e){var t,n;if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");try{for(var o=function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(e),r=o.next();!r.done;r=o.next()){if("function"!==typeof r.value)throw new TypeError("Middleware must be composed of functions!")}}catch(i){t={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return function(t,n){var o=-1;return function r(i){if(i<=o)throw new Error("next() called multiple times");o=i;var a=e[i];i===e.length&&(a=n);if(!a)return null;try{return a(t,r.bind(null,i+1))}catch(l){throw l}}(0)}}var Z,J=function(){function e(e){void 0===e&&(e={});var t=e.plugins,n=void 0===t?[]:t,o=e.onChange,r=e.readOnly;this.readOnly=r,this.onChange=o,this.middleware=new Map,function e(t,n){if(Array.isArray(n))n.forEach((function(n){return e(t,n)}));else if(null!=n)for(var o in n){var r=n[o];t.middleware[o]=t.middleware[o]||[],t.middleware[o].push(r)}}(this,function(e){void 0===e&&(e={});var t=e.plugins;return Y(void 0===t?[]:t)}({plugins:n}))}return e.prototype.run=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this.middleware,r=o[e]||[];Object(F.a)(0!==r.length,"the middleware function "+e+" is not found!");var i=Object(A.a)(q)(r);return i.apply(void 0,Y(t))},e.prototype.getValue=function(e,t){return this.run("getValue",W(W({},t),{propKey:e}))},e.prototype.change=function(e,t){this.onChange(e,t),this.currentModel=e},e}(),X="L",Q="R",$="M";!function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e[e.LEFT_AND_RIGHT=2]="LEFT_AND_RIGHT",e[e.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM"}(Z||(Z={}));var ee={ROOT:0,PRIMARY:1,NORMAL:2},te={CONTENT:"CONTENT",DESC:"DESC"},ne={NORMAL:"NORMAL",EDITING_CONTENT:"EDITING_CONTENT",EDITING_DESC:"EDITING_DESC",SHOW_POPUP:"SHOW_POPUP",DRAGGING:"DRAGGING"},oe={ANCESTOR:"ANCESTOR",DESCENDANT:"DESCENDANT",SIBLING:"SIBLING",NONE:"NONE"},re={TOGGLE_COLLAPSE:"TOGGLE_COLLAPSE",COLLAPSE_ALL:"COLLAPSE_ALL",EXPAND_ALL:"EXPAND_ALL",EXPAND_TO:"EXPAND_TO",ADD_CHILD:"ADD_CHILD",ADD_SIBLING:"ADD_SIBLING",DELETE_TOPIC:"DELETE_TOPIC",FOCUS_TOPIC:"FOCUS_TOPIC",SET_FOCUS_MODE:"SET_FOCUS_MODE",SET_STYLE:"SET_STYLE",SET_THEME:"SET_THEME",SET_TOPIC_BLOCK:"SET_TOPIC_BLOCK",DELETE_TOPIC_BLOCK:"DELETE_TOPIC_BLOCK",START_EDITING_CONTENT:"START_EDITING_CONTENT",START_EDITING_DESC:"START_EDITING_DESC",DRAG_AND_DROP:"DRAG_AND_DROP",SET_EDITOR_ROOT:"SET_EDITOR_ROOT"};function ie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.get("data")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.get("type")},enumerable:!0,configurable:!0}),t.create=function(e){return new t(e)},t.createList=function(e){if(z.List.isList(e)||Array.isArray(e))return Object(z.List)(e.map(t.create));throw new Error("Block.createList only accepts Array or List, but you passed it: "+e)},t}(Object(z.Record)({type:null,key:null,data:null})),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return this.get("key")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentKey",{get:function(){return this.get("parentKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapse",{get:function(){return this.get("collapse")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subKeys",{get:function(){return this.get("subKeys")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blocks",{get:function(){return this.get("blocks")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relations",{get:function(){return this.get("relations")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this.get("style")},enumerable:!0,configurable:!0}),t.prototype.getBlock=function(e){var t=this.blocks.findIndex((function(t){return t.type===e}));return-1===t?{index:t,block:null}:{index:t,block:this.blocks.get(t)}},t.fromJSON=function(e){var n=e.key,o=e.parentKey,r=void 0===o?null:o,i=e.blocks,a=e.subKeys,l=void 0===a?[]:a,c=e.collapse;return new t({key:n,parentKey:r,collapse:void 0!==c&&c,subKeys:Object(z.List)(l),blocks:ae.createList(i)})},t.create=function(e){var n=e.key,o=e.parentKey,r=void 0===o?null:o,i=e.content,a=void 0===i?"":i,l=e.subKeys,c=void 0===l?[]:l,u=e.collapse,s=void 0!==u&&u,p=ae.create({type:te.CONTENT,data:a,key:null});return new t({key:n,parentKey:r,blocks:Object(z.List)([p]),subKeys:Object(z.List)(c),collapse:s})},t}(Object(z.Record)({key:null,parentKey:null,collapse:!1,subKeys:null,blocks:null,relations:null,style:null}));function ce(e,t){var n=e.getTopic(t),o=[];if(n.subKeys.size>0){var r=n.subKeys.toArray();o.push.apply(o,Y(r)),o=r.reduce((function(t,n){return t.push.apply(t,Y(ce(e,n))),t}),o)}return o}function ue(e,t,n){var o=e.getTopic(t),r=e.getTopic(n);if(o&&r){if(o.parentKey==r.parentKey)return oe.SIBLING;for(var i=o;i.parentKey;){if(i.parentKey===r.key)return oe.DESCENDANT;i=e.getParentTopic(i.key)}for(i=r;i.parentKey;){if(i.parentKey===o.key)return oe.ANCESTOR;i=e.getParentTopic(i.key)}}return oe.NONE}var se=m()("modifier");function pe(e){var t=e.model,n=e.topicKey,o=e.focusMode;return se("focus topic"),n!==t.focusKey&&(t=t.set("focusKey",n)),o!==t.focusMode&&(t=t.set("focusMode",o)),t}var de={addChild:function(e){var t=e.model,n=e.topicKey;se("addChild:",n);var o=t.getTopic(n);if(o){var r=le.create({key:ie(),parentKey:o.key});return o=o.set("collapse",!1).update("subKeys",(function(e){return e.push(r.key)})),pe({model:t=t.update("topics",(function(e){return e.set(n,o).set(r.key,r)})),topicKey:r.key,focusMode:ne.EDITING_CONTENT})}return t},addSibling:function(e){var t=e.model,n=e.topicKey;if(n===t.rootTopicKey)return t;var o=t.getTopic(n);if(o){var r=t.getTopic(o.parentKey),i=r.subKeys.indexOf(n),a=le.create({key:ie(),parentKey:r.key});return pe({model:t=t.update("topics",(function(e){return e.set(a.key,a)})).updateIn(["topics",r.key,"subKeys"],(function(e){return e.insert(i+1,a.key)})),topicKey:a.key,focusMode:ne.EDITING_CONTENT})}return t},toggleCollapse:function(e){var t=e.model,n=e.topicKey,o=t.getTopic(n);return o&&0!==o.subKeys.size&&(o=o.merge({collapse:!o.collapse}),t=t.updateIn(["topics",o.key,"collapse"],(function(e){return!e}))),t=pe({model:t,topicKey:n,focusMode:ne.NORMAL})},collapseAll:function(e){var t=e.model;se("collapseAll");var n=ce(t,t.editorRootTopicKey);return se(t),t=t.withMutations((function(e){n.forEach((function(t){e.setIn(["topics",t,"collapse"],!0)}))})),se(t),t},expandAll:function(e){var t=e.model,n=ce(t,t.editorRootTopicKey);return se(t),t=t.withMutations((function(e){n.forEach((function(t){e.setIn(["topics",t,"collapse"],!1)}))})),se(t),t},expandTo:function(e){var t=e.model,n=e.topicKey,o=function(e,t,n){void 0===n&&(n=!1);for(var o=[t],r=e.getTopic(t);r.parentKey;)n?o.push(r.parentKey):o.unshift(r.parentKey),r=e.getParentTopic(r.key);return o}(t,n).filter((function(e){return e!==n}));return ue(t=t.withMutations((function(e){o.forEach((function(t){e.setIn(["topics",t,"collapse"],!1)}))})),n,t.editorRootTopicKey)!==oe.DESCENDANT&&(t=t.set("editorRootTopicKey",t.rootTopicKey)),t},focusTopic:pe,setFocusMode:function(e){var t=e.model,n=e.focusMode;return se("setFocusMode"),n!==t.focusMode&&(t=t.set("focusMode",n)),t},deleteTopic:function(e){var t=e.model,n=e.topicKey;if(n===t.editorRootTopicKey)return t;var o=t.getTopic(n);return o&&(t=t.withMutations((function(e){e.update("topics",(function(e){e=e.delete(n);var o=ce(t,n);return e=e.withMutations((function(e){o.forEach((function(t){e.delete(t)}))}))})),e.updateIn(["topics",o.parentKey,"subKeys"],(function(e){return e.delete(e.indexOf(n))})),e.focusKey===n&&e.set("focusKey",null).set("focusMode",null)}))),t},setBlockData:function(e){var t=e.model,n=e.topicKey,o=e.blockType,r=e.focusMode,i=e.data,a=t.getTopic(n);if(a){var l=a.getBlock(o),c=l.index,u=l.block;-1===c?t=t.updateIn(["topics",n,"blocks"],(function(e){return e.push(ae.create({type:o,data:i}))})):u.data!==i&&(t=t.updateIn(["topics",n,"blocks",c,"data"],(function(e){return i}))),r&&(t=pe({model:t,topicKey:n,focusMode:r}))}return t},deleteBlock:function(e){var t=e.model,n=e.topicKey,o=e.blockType,r=t.getTopic(n);if(r){var i=r.getBlock(o).index;-1!==i&&(t=t.updateIn(["topics",n,"blocks"],(function(e){return e.delete(i)}))),t=pe({model:t,topicKey:null,focusMode:null})}return t},setStyle:function(e){var t=e.model,n=e.topicKey,o=e.style,r=t.getTopic(n);return r&&o!==r.style&&(t=t.updateIn(["topics",n,"style"],(function(e){return o}))),t},setTheme:function(e){var t=e.model,n=e.theme;return t=t.setIn(["config","theme"],n)},setLayoutDir:function(e){var t=e.model,n=e.layoutDir;return t.config.layoutDir===n?t:t=t.setIn(["config","layoutDir"],n)},setEditorRootTopicKey:function(e){var t=e.model,n=e.topicKey;return t.editorRootTopicKey!==n&&(t=t.set("editorRootTopicKey",n)),t.getTopic(n).collapse&&(t=t.setIn(["topics",n,"collapse"],!1)),t},setZoomFactor:function(e){var t=e.model,n=e.zoomFactor;return t.zoomFactor!==n&&(t=t.set("zoomFactor",n)),t}};var fe={name:"default",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"34px",borderRadius:"35px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},primaryTopic:{contentStyle:{borderWidth:"1px",borderStyle:"solid",borderRadius:"20px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},normalTopic:{contentStyle:{border:"1px solid #e8eaec",borderRadius:"20px",fontSize:"17px",padding:"4px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"white"}}},he={readOnly:!1,allowUndo:!0,layoutDir:Z.LEFT_AND_RIGHT,theme:fe},me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),Object.defineProperty(t.prototype,"layoutDir",{get:function(){return this.get("layoutDir")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.get("readOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowUndo",{get:function(){return this.get("allowUndo")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return this.get("theme")},enumerable:!0,configurable:!0}),t.fromJSON=function(e){return new t(e)},t}(Object(z.Record)(he)),ye={topics:Object(z.Map)(),extData:Object(z.Map)(),config:null,rootTopicKey:null,editorRootTopicKey:null,focusKey:null,focusMode:null,formatVersion:null,zoomFactor:1},ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t.isModel=function(e){return e instanceof t},t.create=function(e){if(void 0===e&&(e=null),null==e)return t.createEmpty();var n;if(t.isModel(e)&&(n=e),Object(H.a)(e)&&(n=t.fromJSON(e)),n)return null==n.focusKey&&(n=n.set("focusKey",n.rootTopicKey)),null==n.focusMode&&(n=n.set("focusMode",ne.NORMAL)),n;throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)},t.createEmpty=function(){var e=new t,n=le.create({key:ie()});return e.update("topics",(function(e){return e.set(n.key,n)})).set("rootTopicKey",n.key).set("focusKey",n.key).set("focusMode",ne.NORMAL)},t.fromJSON=function(e){var n=new t,o=e.topics,r=void 0===o?[]:o,i=e.config,a=void 0===i?{}:i,l=e.rootTopicKey,c=e.editorRootTopicKey;return void 0===c&&(c=l),n=(n=n.merge({rootTopicKey:l,editorRootTopicKey:c})).withMutations((function(e){r.forEach((function(t){e.update("topics",(function(e){return e.set(t.key,le.fromJSON(t))}))})),e.set("config",me.fromJSON(a))}))},t.prototype.toJS=function(){return{rootTopicKey:this.rootTopicKey,topics:Object.values(this.topics.toJS()),config:this.config,extData:this.extData,zoomFactor:this.zoomFactor}},Object.defineProperty(t.prototype,"extData",{get:function(){return this.get("extData")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topics",{get:function(){return this.get("topics")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.get("config")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatVersion",{get:function(){return this.get("formatVersion")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootTopicKey",{get:function(){return this.get("rootTopicKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorRootTopicKey",{get:function(){return this.get("editorRootTopicKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusKey",{get:function(){return this.get("focusKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusMode",{get:function(){return this.get("focusMode")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editingContentKey",{get:function(){return this.focusMode===ne.EDITING_CONTENT?this.focusKey:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editingDescKey",{get:function(){return this.focusMode===ne.EDITING_DESC?this.focusKey:null},enumerable:!0,configurable:!0}),t.prototype.getTopic=function(e){return this.topics.get(e)},t.prototype.getExtDataItem=function(e,t){return this.extData.get(e)||new t},t.prototype.getParentTopic=function(e){var t=this.getTopic(e);return t.parentKey?this.getTopic(t.parentKey):null},t.prototype.getTopicVisualLevel=function(e){for(var t=this.getTopic(e),n=0;t&&t.key!==this.editorRootTopicKey;)n++,t=this.getParentTopic(t.key);return n},Object.defineProperty(t.prototype,"rootTopic",{get:function(){return this.getTopic(this.rootTopicKey)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this.get("zoomFactor")},enumerable:!0,configurable:!0}),t}(Object(z.Record)(ye)),be=(n(447),n(448),n(114)),ve=n(423),Oe=function(e,t){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function we(e,t){function n(){this.constructor=e}Oe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ee=function(){return(Ee=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var ke,xe,Te,Ce=m()("node:text-editor"),_e=f.c.div(Te||(ke=["\n  padding: 6px;\n  background-color: ",";\n  cursor: ",";\n  min-width: 50px;\n"],xe=["\n  padding: 6px;\n  background-color: ",";\n  cursor: ",";\n  min-width: 50px;\n"],Object.defineProperty?Object.defineProperty(ke,"raw",{value:xe}):ke.raw=xe,Te=ke),(function(e){return e.readOnly?null:"white"}),(function(e){return e.readOnly?"pointer":"text"})),Se=function(e){function t(t){var n=e.call(this,t)||this;return n.state={content:null},n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){},n.onKeyDown=function(e){},n._handleClick=function(e){!n.root.contains(e.target)&&n.onClickOutSide(e)},n.rootRef=function(e){return function(t){e(t),n.root=t}},n.initState(),n}return we(t,e),t.prototype.onChange=function(e){var t=e.value;Ce("onChange",t),this.setState({content:t})},t.prototype.componentDidMount=function(){this.props.readOnly||document.addEventListener("click",this._handleClick)},t.prototype.componentWillUnmount=function(){this.props.readOnly||document.removeEventListener("click",this._handleClick)},t.prototype.onClickOutSide=function(e){},t.prototype.getCustomizeProps=function(){return null},t.prototype.getContent=function(){var e=this.getCustomizeProps().block.data;return null==e?null:("string"===typeof e&&(e=be.a.deserialize(e)),e)},t.prototype.initState=function(){var e=this.getContent();this.state={content:e}},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef,r=this.getCustomizeProps(),i=r.readOnly,a=r.getRefKeyFunc,l=r.placeholder,c=r.style;Ce(i);var u=a(t),s=i?this.getContent():this.state.content,p=this.onMouseDown,d=this.onMouseMove,f=this.onKeyDown,h={value:s,readOnly:i,onChange:this.onChange.bind(this),placeholder:l,style:c},m={key:u,readOnly:i,ref:this.rootRef(n(u)),onMouseDown:p,onMouseMove:d,onKeyDown:f};return Object(o.createElement)(_e,Ee({},m),Object(o.createElement)(ve.a,Ee({},h,{autoFocus:!0})))},t}(o.PureComponent),je=m()("node:topic-content-editor");function De(e){return"content-editor-"+e}var Re=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeyDown=function(e){e.nativeEvent.ctrlKey&&"Enter"===e.nativeEvent.code&&n.save()},n}return we(t,e),t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey,o=e.readOnly;return{block:t.getTopic(n).getBlock(te.CONTENT).block,readOnly:o,getRefKeyFunc:De,placeholder:"new",style:{whiteSpace:"pre"}}},t.prototype.onClickOutSide=function(e){je("onClickOutSide"),this.save()},t.prototype.save=function(){var e=this.props,t=e.model,n=e.topicKey;t.editingContentKey!==n||this.props.controller.run("operation",Ee(Ee({},this.props),{opType:re.SET_TOPIC_BLOCK,blockType:te.CONTENT,data:this.state.content,focusMode:ne.NORMAL}))},t}(Se),Ie=m()("node:topic-desc-editor");function Pe(e){return"desc-editor-"+e}var Me=function(e){function t(t){var n=e.call(this,t)||this;return Ie("constructor"),n}return we(t,e),t.prototype.initState=function(){e.prototype.initState.call(this);var t=this.props,n=t.controller,o="topic-desc-data-"+t.topicKey,r=this.state.content;n.run("setTempValue",{key:o,value:r})},t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey;return{block:t.getTopic(n).getBlock(te.DESC).block,readOnly:t.editingDescKey!==n,getRefKeyFunc:Pe,placeholder:"write topic notes here"}},t.prototype.onChange=function(e){var t=e.value;Ie("onChange");var n=this.props,o=n.controller,r=n.topicKey;if(!(n.model.editingDescKey!==r)){var i="topic-desc-data-"+r;o.run("setTempValue",{key:i,value:t}),this.setState({content:t})}},t}(Se);var Le=function(){return{getTopicTitle:function(e){var t=e.model,n=e.controller,o=e.topicKey,r=e.maxLength,i=t.getTopic(o).getBlock(te.CONTENT).block,a=n.run("serializeBlockData",Ee(Ee({},e),{block:i}));return null!=r&&(a=a.length>r?a.substr(0,r)+"...":a),a},renderTopicContentEditor:function(e){return Object(o.createElement)(Re,Ee({},e))},renderTopicDescEditor:function(e){return Object(o.createElement)(Me,Ee({},e))},isBlockEmpty:function(e,t){var n=e.block,o=e.controller;return n.type===te.CONTENT||n.type===te.DESC?null==n.data||""===o.run("serializeBlockData",e):t()},serializeBlockData:function(e,t){var n=e.block;return n.type===te.CONTENT||n.type===te.DESC?"string"===typeof n.data?n.data:be.a.serialize(n.data):t()}}},Ke=n(7),Ne=n.n(Ke),Be=n(1095),Ae=n(394),Fe=n(70),ze=function(e,t){return(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function He(e,t){function n(){this.constructor=e}ze(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ge=function(){return(Ge=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Ve(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function We(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function Ue(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function Ye(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function qe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ye(arguments[t]));return e}function Ze(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Je,Xe,Qe,$e,et,tt,nt,ot,rt,it,at,lt,ct,ut=function(e){function t(t){return e.call(this,t)||this}return He(t,e),t.prototype.operation=function(e,t){this.props.controller.run("operation",Ge({opType:e},t))},t.prototype.run=function(e,t){this.props.controller.run(e,t)},Object.defineProperty(t.prototype,"topic",{get:function(){return this.props.model.getTopic(this.props.topicKey)},enumerable:!0,configurable:!0}),t}(o.PureComponent),st=m()("node:drag-scroll-widget"),pt=f.c.div(Je||(Je=Ze(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"]))),dt=f.c.div(Xe||(Xe=Ze(["\n  position: relative;\n  width: max-content;\n"],["\n  position: relative;\n  width: max-content;\n"]))),ft=function(e){function t(t){var n=e.call(this,t)||this;return n.contentResizeCallback=function(e,t){if(n.oldContentRect){var o={width:n.content.clientWidth+2*n.viewBox.clientWidth,height:n.content.clientHeight+2*n.viewBox.clientHeight};n.bigView.style.width=o.width+"px",n.bigView.style.height=o.height+"px"}n.oldContentRect=e[0].contentRect},n.contentResizeObserver=new d.a(n.contentResizeCallback),n.contentRef=function(e){e&&(n.content=e,n.contentResizeObserver.observe(n.content))},n.viewBoxRef=function(e){e&&(n.viewBox=e,n.props.enableMouseWheel||(st("addEventListener onwheel"),n.viewBox.addEventListener("wheel",(function(e){st("onwheel"),(e.ctrlKey||e.altKey)&&e.preventDefault()}),{passive:!1})),n.setViewBoxScroll(n.viewBox.clientWidth,n.viewBox.clientHeight))},n.bigViewRef=function(e){e&&(n.bigView=e)},n.setWidgetStyle=function(){n.content&&n.viewBox&&n.bigView&&(n.bigView.style.width=2*(n.content.clientWidth+n.viewBox.clientWidth)+"px",n.bigView.style.height=2*(n.content.clientHeight+n.viewBox.clientHeight)+"px",n.content.style.left=n.viewBox.clientWidth+"px",n.content.style.top=n.viewBox.clientHeight+"px")},n.setViewBoxScroll=function(e,t){st("setViewBoxScroll "+e+" "+t),n.viewBox&&(n.viewBox.scrollLeft=e,n.viewBox.scrollTop=t)},n.setViewBoxScrollDelta=function(e,t){st("setViewBoxScrollDelta "+e+" "+t),n.viewBox&&(n.viewBox.scrollLeft+=e,n.viewBox.scrollTop+=t)},n.onMouseDown=function(e){var t=n.props,o=t.mouseKey,r=t.needKeyPressed,i=t.canDragFunc;if((!i||i())&&(0===e.button&&"left"===o||2===e.button&&"right"===o)){if(r&&!e.ctrlKey)return;n._lastCoordX=n.viewBox.scrollLeft+e.nativeEvent.clientX,n._lastCoordY=n.viewBox.scrollTop+e.nativeEvent.clientY;var a=n.viewBox;a.addEventListener("mousemove",n.onMouseMove),a.addEventListener("mouseup",n.onMouseUp)}},n.onMouseUp=function(e){var t=n.viewBox;t.removeEventListener("mousemove",n.onMouseMove),t.removeEventListener("mouseup",n.onMouseUp)},n.onMouseMove=function(e){n.viewBox.scrollLeft=n._lastCoordX-e.clientX,n.viewBox.scrollTop=n._lastCoordY-e.clientY},n.handleContextMenu=function(e){e.preventDefault()},n.state={widgetStyle:{width:"10000px",height:"10000px"}},n}return He(t,e),t.prototype.componentDidMount=function(){this.setWidgetStyle(),document.addEventListener("contextmenu",this.handleContextMenu)},t.prototype.componentWillUnmount=function(){document.removeEventListener("contextmenu",this.handleContextMenu)},t.prototype.setZoomFactor=function(e){this.bigView.style.transform="scale("+e+")",this.bigView.style.transformOrigin="50% 50%"},t.prototype.render=function(){var e=Ge({},this.state.widgetStyle);return Object(o.createElement)(pt,{ref:this.viewBoxRef,onMouseDown:this.onMouseDown},Object(o.createElement)("div",{style:e,ref:this.bigViewRef},Object(o.createElement)(dt,{ref:this.contentRef,style:this.state.contentStyle},this.props.children(this.setViewBoxScroll,this.setViewBoxScrollDelta))))},t.defaultProps={mouseKey:"left",needKeyPressed:!1},t}(o.Component),ht=m()("node:save-ref"),mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRef=function(e){return ht(t),t[e]},t.saveRef=function(e){return function(n){n&&(t[e]=n,t.fireListener(e,n))}},t.deleteRef=function(e){ht("deleteRef:",e),delete t[e]},t.observers=new Map,t.fireListener=function(e,n){var o,r;if(t.observers.has(e)){var i=t.observers.get(e);try{for(var a=Ue(i),l=a.next();!l.done;l=a.next()){(0,l.value)(e,n)}}catch(c){o={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}}},t.registerRefListener=function(e,n){t.observers.has(e)?t.observers.get(e).push(n):t.observers.set(e,[n])},t}return He(t,e),t.prototype.render=function(){return this.props.children(this.saveRef,this.getRef,this.deleteRef,this.registerRefListener.bind(this))},t}(o.Component),yt=f.c.div(Qe||(Qe=Ze(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"],["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"])),(function(e){return e.flexDirection?e.flexDirection:"row"}),(function(e){return e.alignItems}),(function(e){return e.justifyContent})),gt=f.c.div($e||($e=Ze(["\n  margin: ",";\n"],["\n  margin: ",";\n"])),(function(e){return e.margin})),bt=f.c.a(et||(et=Ze(["\n  font-size: 20px !important;\n"],["\n  font-size: 20px !important;\n"]))),vt=f.c.div(tt||(tt=Ze(["\n  padding: 5px;\n  cursor: pointer;\n"],["\n  padding: 5px;\n  cursor: pointer;\n"]))),Ot=f.c.div(nt||(nt=Ze(["\n  cursor: pointer;\n  &:hover {\n    color: #1ea7fd;\n  }\n"],["\n  cursor: pointer;\n  &:hover {\n    color: #1ea7fd;\n  }\n"]))),wt=Object(f.c)(y.a)(ot||(ot=Ze(["\n  margin-bottom: 0px !important;\n"],["\n  margin-bottom: 0px !important;\n"]))),Et=Object(f.c)(Ot)(rt||(rt=Ze(["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  //padding: 5px;\n"],["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  //padding: 5px;\n"]))),kt=f.c.div(it||(it=Ze(["\n  height: 16px;\n"],["\n  height: 16px;\n"]))),xt=f.c.span(at||(at=Ze(["\n  margin: 0px 10px;\n  &:hover {\n    color: palevioletred;\n  }\n"],["\n  margin: 0px 10px;\n  &:hover {\n    color: palevioletred;\n  }\n"]))),Tt=f.c.div(lt||(lt=Ze(["\n  z-index: ",";\n"],["\n  z-index: ",";\n"])),(function(e){return e.zIndex})),Ct=f.c.div(ct||(ct=Ze(["\n  min-width: 360px;\n  max-height: 470px;\n  overflow: auto;\n"],["\n  min-width: 360px;\n  max-height: 470px;\n  overflow: auto;\n"]))),_t=m()("plugin:event");function St(){var e={};return{handleTopicClick:function(e){_t("handleTopicClick");var t=e.controller,n=e.model,o=e.topicKey;_t(n.zoomFactor),null===n.editingDescKey&&n.editingContentKey!==o&&(n.focusKey===o&&n.focusMode===ne.EDITING_CONTENT||t.run("operation",Ge(Ge({},e),{opType:re.FOCUS_TOPIC,focusMode:ne.NORMAL})))},handleTopicDoubleClick:function(e){var t=e.controller;null===e.model.editingDescKey&&t.run("operation",Ge(Ge({},e),{opType:re.FOCUS_TOPIC,focusMode:ne.EDITING_CONTENT}))},handleTopicContextMenu:function(e){e.controller.run("operation",Ge(Ge({},e),{opType:re.FOCUS_TOPIC,focusMode:ne.SHOW_POPUP}))},handleActiveModalClose:function(e){var t=e.controller,n=t.run("getActiveModalProps",e);return null==n?null:"edit-desc"===n.name?function(){t.run("operation",Ge(Ge({},e),{focusMode:ne.NORMAL,opType:re.FOCUS_TOPIC}))}:void 0},addEventListener:function(t){var n=t.key,o=t.listener,r=t.once,i=t.controller;function a(){o(),i.run("removeEventListener",{key:n,listener:o})}e[n]||(e[n]=[]),r?(a.origin=o,e[n].push(a)):e[n].push(o)},removeEventListener:function(t){var n=t.key,o=t.listener;e[n]&&(e[n]=e[n].filter((function(e){return e!==o&&e.origin!==o})))},fireEvent:function(t){var n=t.key;e[n]&&e[n].forEach((function(e){return e()}))}}}var jt={SHOW_MENU:"show-menu",CLOSE:"close",COLOR_PICKER:"color-picker",NOTES:"notes",PLUS:"plus",MINUS:"minus",COLLAPSE_ALL:"collapse",EXPAND_ALL:"expand",CENTER:"center",TRASH:"trash",SEARCH:"search",THEME:"theme",EXPORT:"export",OPEN_FILE:"openfile"};function Dt(e){return"icon iconfont bm-"+e}function Rt(e){return Object(o.createElement)("span",{className:Dt(e)})}function It(e){return"content-"+e}function Pt(e){return"content-editor-"+e}function Mt(e){return"desc-editor-"+e}function Lt(e){return"topic-widget-"+e}function Kt(e){return"topic-"+e}function Nt(e){return"links-"+e}function Bt(e){return"links-svg-"+e}function At(e){return"collapse-"+e}function Ft(e,t){return"dropArea-"+t+"-"+e}var zt={DIAGRAM_ROOT_KEY:"DIAGRAM-ROOT",DRAG_SCROLL_WIDGET_KEY:"DragScrollWidget",SVG_HIGHLIGHT_KEY:"svg-highlight",FOCUS_HIGHLIGHT_KEY:"focus-highlight",DROP_EFFECT_KEY:"drop-effect"},Ht={CENTER_ROOT_TOPIC:"CENTER_ROOT_TOPIC"},Gt={DIAGRAM_CUSTOMIZE_BASE_Z_INDEX:"DIAGRAM_CUSTOMIZE_BASE_Z_INDEX",TOPIC_CONTEXT_MENU_ENABLED:"TOPIC_CONTEXT_MENU_ENABLED",TOPIC_TITLE:"TOPIC_TITLE"},Vt=function(e){e.stopPropagation()};function Wt(e,t){!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}("data:text/plain,"+encodeURIComponent(e),t)}function Ut(e){var t=document.createElement("input");return t.type="file",t.accept=e,new Promise((function(e,n){t.addEventListener("change",(function(t){var o=t.target.files[0],r=new FileReader;r.onload=function(t){var n=t.target.result;e(n)},r.onerror=function(e){n(e.target.error)},r.readAsText(o)})),t.click()}))}function Yt(e){var t=e.top,n=void 0===t?0:t,o=e.right,r=void 0===o?0:o,i=e.bottom,a=void 0===i?0:i,l=e.left;return n+"px "+r+"px "+a+"px "+(void 0===l?0:l)+"px"}function qt(e){return(e.top+e.bottom)/2}function Zt(e,t){return(e.x+t.x)/2}function Jt(e,t){return(e.y+t.y)/2}function Xt(e){return[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Qt(e,t,n){void 0===n&&(n=1);var o=e.getBoundingClientRect(),r=Xt(t.getBoundingClientRect()),i=Xt(o);i[0]=(i[0]-r[0])/n,i[1]=(i[1]-r[1])/n;var a=o.width/n,l=o.height/n;return{left:i[0]-a/2,right:i[0]+a/2,top:i[1]-l/2,bottom:i[1]+l/2,width:a,height:l}}function $t(e,t){var n=e.getBoundingClientRect(),o=Xt(t.getBoundingClientRect()),r=Xt(n);return[r[0]-o[0],r[1]-o[1]]}var en={ADD_CHILD:"ADD_CHILD",ADD_SIBLING:"ADD_SIBLING",DELETE_TOPIC:"DELETE_TOPIC",EDIT_CONTENT:"EDIT_CONTENT",EDIT_NOTES:"EDIT_NOTES",SET_EDITOR_ROOT:"SET_EDITOR_ROOT"};function tn(){return{customizeHotKeys:function(e){var t=function(t){return function(n){!function(e,t){var n=t.topicKey,o=t.model,r=t.controller;void 0===n&&(t=Ge(Ge({},t),{topicKey:o.focusKey})),r.run("operation",Ge(Ge({},t),{opType:e}))}(t,e)}};return{topicHotKeys:new Map([[en.ADD_CHILD,{label:"add child",combo:"tab",onKeyDown:t(re.ADD_CHILD)}],[en.ADD_SIBLING,{label:"add sibling",combo:"enter",onKeyDown:t(re.ADD_SIBLING)}],[en.DELETE_TOPIC,{label:"delete topic",combo:"del",onKeyDown:t(re.DELETE_TOPIC)}],[en.EDIT_CONTENT,{label:"edit content",combo:"space",onKeyDown:t(re.START_EDITING_CONTENT)}],[en.EDIT_NOTES,{label:"edit notes",combo:"alt + d",onKeyDown:t(re.START_EDITING_DESC)}],[en.SET_EDITOR_ROOT,{label:"set editor root",combo:"alt + shift + f",onKeyDown:t(re.SET_EDITOR_ROOT)}]]),globalHotKeys:new Map}}}}var nn=m()("plugin:operation");function on(){var e=new Map([[re.TOGGLE_COLLAPSE,de.toggleCollapse],[re.COLLAPSE_ALL,de.collapseAll],[re.EXPAND_ALL,de.expandAll],[re.EXPAND_TO,de.expandTo],[re.ADD_CHILD,de.addChild],[re.ADD_SIBLING,de.addSibling],[re.DELETE_TOPIC,de.deleteTopic],[re.FOCUS_TOPIC,de.focusTopic],[re.SET_FOCUS_MODE,de.setFocusMode],[re.SET_STYLE,de.setStyle],[re.SET_THEME,de.setTheme],[re.SET_TOPIC_BLOCK,de.setBlockData],[re.DELETE_TOPIC_BLOCK,de.deleteBlock],[re.START_EDITING_CONTENT,function(e){var t=e.model,n=e.topicKey;return de.focusTopic({model:t,topicKey:n,focusMode:ne.EDITING_CONTENT})}],[re.START_EDITING_DESC,function(e){var t=e.model,n=e.topicKey,o=t.getTopic(n).getBlock(te.DESC);return null!=o.block&&null!=o.block.data||(t=de.setBlockData({model:t,topicKey:n,blockType:te.DESC,data:""})),t=de.focusTopic({model:t,topicKey:n,focusMode:ne.EDITING_DESC})}],[re.DRAG_AND_DROP,function(e){var t=e.srcKey,n=e.dstKey,o=e.dropDir,r=e.model,i=r.getTopic(t),a=r.getTopic(n),l=i.parentKey,c=r.getTopic(l).subKeys,u=c.indexOf(t);if(c=c.delete(u),"in"===o){var s=a.subKeys;s=s.push(t),r=r.withMutations((function(e){e.setIn(["topics",l,"subKeys"],c).setIn(["topics",t,"parentKey"],n).setIn(["topics",n,"subKeys"],s).setIn(["topics",n,"collapse"],!1)}))}else{var p=a.parentKey,d=r.getTopic(p).subKeys,f=d.indexOf(n);if(l===p){var h=Object(z.List)();d.forEach((function(e){e!==t&&(h=e===n?"prev"===o?h.push(t).push(e):h.push(e).push(t):h.push(e))})),r=r.withMutations((function(e){e.setIn(["topics",p,"subKeys"],h)}))}else"prev"===o?d=d.insert(f,t):"next"===o&&(d=d.insert(f+1,t)),r=r.withMutations((function(e){e.setIn(["topics",l,"subKeys"],c).setIn(["topics",t,"parentKey"],p).setIn(["topics",p,"subKeys"],d).setIn(["topics",p,"collapse"],!1)}))}return r}],[re.SET_EDITOR_ROOT,de.setEditorRootTopicKey]]),t=Object(z.Stack)(),n=Object(z.Stack)(),o=!0,r=new Set;return{isOperationEnabled:function(e){return o},enableOperation:function(){o=!0},disableOperation:function(e){var t=e.whiteList;o=!1,t?r=new Set(t):r.clear()},getOpMap:function(t){return e},getAllowUndo:function(e){var t=e.model,n=e.opType;if(n)switch(n){case re.FOCUS_TOPIC:case re.START_EDITING_CONTENT:case re.START_EDITING_DESC:return!1}switch(t.focusMode){case"EDITING_DESC":case"EDITING_CONTENT":return!1}return t.config.allowUndo},getUndoRedoStack:function(){return{undoStack:t,redoStack:n}},setUndoStack:function(e){nn("setUndoStack",e.undoStack),t=e.undoStack},setRedoStack:function(e){nn("setRedoStack",e.redoStack),n=e.redoStack},canUndo:function(e){var t=e.controller,n=t.run("getUndoRedoStack",e).undoStack,o=t.run("getAllowUndo",e);return n.size>0&&o},canRedo:function(e){var t=e.controller,n=t.run("getUndoRedoStack",e).redoStack,o=t.run("getAllowUndo",e);return n.size>0&&o},undo:function(e){var t=e.controller,n=e.model;if(t.run("getAllowUndo",e)){var o=t.run("getUndoRedoStack",e),r=o.undoStack,i=o.redoStack,a=r.peek();a&&(t.run("setUndoStack",Ge(Ge({},e),{undoStack:r.shift()})),t.run("setRedoStack",Ge(Ge({},e),{redoStack:i.push(n)})),nn(a),t.change(a))}},redo:function(e){var t=e.controller,n=e.model;if(t.run("getAllowUndo",e)){var o=t.run("getUndoRedoStack",e),r=o.undoStack,i=o.redoStack,a=i.peek();a&&(t.run("setUndoStack",Ge(Ge({},e),{undoStack:r.push(n)})),t.run("setRedoStack",Ge(Ge({},e),{redoStack:i.shift()})),t.change(a))}},operation:function(e){var t=e.controller,n=e.opType,o=e.model,i=e.opArray,a=e.callback;if(null!=i&&!Array.isArray(i))throw new Error("operation: the type of opArray must be array!");if(null!=n&&null!=i)throw new Error("operation: opType and opArray conflict!");if(!t.run("isOperationEnabled",e)){if(0===r.size)return;if(null!=i){var l=i.filter((function(e){return!r.has(e.opType)}));if(l&&l.length>0)return}else if(!r.has(n))return}nn("operation:",n),nn("operation:",o),nn("operation:",e);var c,u=t.run("getOpMap",e);if(t.run("beforeOperation",e),t.run("getAllowUndo",e)){var s=t.run("getUndoRedoStack",e).undoStack;t.run("setUndoStack",Ge(Ge({},e),{undoStack:s.push(o)}))}if(null!=i)c=i.reduce((function(e,n){var o=n.opType;if(!u.has(o))throw new Error("opType:"+o+" not exist!");var r=u.get(o),i=Ge(Ge({controller:t},n),{model:e}),a=t.run("beforeOpFunction",i);return a=r(Ge(Ge({},i),{model:a})),a=t.run("afterOpFunction",Ge(Ge({},i),{model:a}))}),o);else{if(!u.has(n))throw new Error("opType:"+n+" not exist!");var p=u.get(n);c=t.run("beforeOpFunction",e),c=p(Ge(Ge({},e),{model:c})),c=t.run("afterOpFunction",Ge(Ge({},e),{model:c}))}nn("newModel:",c),t.change(c,a),t.run("afterOperation",e)},deleteRefKey:function(e){var t,n,o=e.model,r=e.topicKey,i=e.deleteRef,a=ce(o,r);a.push(r);try{for(var l=Ue(a),c=l.next();!c.done;c=l.next()){var u=c.value;i(Nt(u)),i(Bt(u)),i(It(u)),i(Pt(u)),i(Mt(u)),i(Lt(u)),i(Kt(u)),i(At(u)),i(Ft(u,"next")),i(Ft(u,"prev"))}}catch(s){t={error:s}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}},beforeOperation:function(e){},afterOperation:function(e){},beforeOpFunction:function(e){var t=e.controller,n=e.opType,o=e.model,r=e.topicKey;return n===re.DELETE_TOPIC&&r!==o.editorRootTopicKey&&t.run("deleteRefKey",e),o},afterOpFunction:function(e){return e.model}}}var rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return He(t,e),t.prototype.render=function(){var e=this.props.controller;return Object(o.createElement)(g.a,null,e.run("customizeTopicContextMenu",this.props))},t}(ut),an=[{icon:"edit",label:"edit",shortcut:"Space",rootCanUse:!0,opType:re.START_EDITING_CONTENT},{icon:"add-sibling",label:"add sibling",shortcut:"Enter",opType:re.ADD_SIBLING},{icon:"add-child",label:"add child",shortcut:"Tab",rootCanUse:!0,opType:re.ADD_CHILD},{icon:"notes",label:"edit notes",shortcut:"Alt + D",rootCanUse:!0,opType:re.START_EDITING_DESC},{icon:"delete-node",label:"delete node",shortcut:"Del",opType:re.DELETE_TOPIC},{icon:"root",label:"set as editor root",shortcut:"Alt + Shift + F",opType:re.SET_EDITOR_ROOT}];var ln,cn,un=m()("node:topic-drop-effect"),sn=f.c.svg(ln||(ln=Ze(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"]))),pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:null},t}return He(t,e),t.prototype.layout=function(){var e=this.props,t=this.props,n=t.getRef,r=t.model,i=t.zoomFactor,a=t.controller.run("getDragTargetProps",e),l=a.key,c=a.dropDir;if(un("layout",c),null!==l){var u=n("in"===c?It(l):Ft(l,c)),s=n("svg-drop-effect"),p=n(zt.DRAG_SCROLL_WIDGET_KEY).bigView,d=Qt(u,p,i),f=Qt(s,p,i),h=d.left-f.left-3,m=d.top-f.top-3,y=d.width+6,g=d.height+6;this.setState({content:Object(o.createElement)("g",null,Object(o.createElement)("rect",{x:h,y:m,width:y,height:g,fill:"none",stroke:r.config.theme.highlightColor,strokeDasharray:"5,5",strokeWidth:2}))})}else this.setState({content:null})},t.prototype.render=function(){var e=this.props.saveRef;return Object(o.createElement)(sn,{ref:e("svg-drop-effect")},this.state.content)},t}(ut),dn=m()("plugin:drag-and-drop"),fn=f.c.div(cn||(cn=Ze(["\n  height: ",";\n  width: 100%;\n  margin: 5px 0px;\n"],["\n  height: ",";\n  width: 100%;\n  margin: 5px 0px;\n"])),(function(e){return e.height+"px"}));function hn(){var e=null,t=null;return{renderTopicDropArea:function(e){var t=e.topicKey,n=e.dropDir,r=e.saveRef,i=e.controller,a=e.model,l={onDragEnter:function(o){dn("onDragEnter",t,n),i.run("handleTopicDragEnter",Ge(Ge({},e),{ev:o,dropDir:n}))},onDragLeave:function(o){dn("onDragLeave",t,n),i.run("handleTopicDragLeave",Ge(Ge({},e),{ev:o,dropDir:n}))},onDragOver:function(e){e.preventDefault()},onDrop:function(o){dn("onDrop",t,n),i.run("handleTopicDrop",Ge(Ge({},e),{ev:o,dropDir:n}))}};return Object(o.createElement)(fn,Ge({height:a.config.theme.marginV/2,ref:r(Ft(t,n))},l))},renderDragAndDropEffect:function(e){dn("renderDragAndDropEffect");var t=e.saveRef;return Object(o.createElement)(pn,Ge({ref:t(zt.DROP_EFFECT_KEY)},e))},getDragTargetProps:function(n){return{key:e,dropDir:t}},handleTopicDragStart:function(e){var t=e.controller;e.ev.stopPropagation(),t.run("operation",Ge(Ge({},e),{opType:re.FOCUS_TOPIC,focusMode:ne.DRAGGING}))},canDrop:function(e){var t=e.srcKey,n=e.dstKey,o=e.model,r=e.dropDir;return t!==o.editorRootTopicKey&&t!==n&&ue(o,t,n)!==oe.ANCESTOR&&((n!==o.editorRootTopicKey||"in"===r)&&(o.getTopic(t).parentKey!==n||"in"!==r))},handleTopicDragEnter:function(n){var o=n.dropDir,r=n.topicKey,i=n.controller,a=n.model;dn("handleTopicDragEnter:",r,o),i.run("canDrop",Ge(Ge({},n),{srcKey:a.focusKey,dstKey:r}))&&(e=r,t=o,i.change(a))},handleTopicDragLeave:function(n){var o=n.controller,r=n.model,i=n.topicKey,a=n.dropDir,l=n.getRef,c=n.ev.nativeEvent.relatedTarget;dn("handleTopicDragLeave:",i,a);var u=l(It(i));u==c||u.contains(c)||(e=null,t=null,o.change(r))},handleTopicDrop:function(n){dn("handleTopicDrop");var o=n.controller,r=n.topicKey,i=n.model;n=Ge(Ge({},n),{srcKey:i.focusKey,dstKey:r}),e=null,t=null,o.run("canDrop",n)&&o.run("operation",Ge(Ge({},n),{opType:re.DRAG_AND_DROP}))}}}var mn,yn,gn,bn,vn,On,wn,En,kn,xn,Tn,Cn=Object(f.c)(Tt)(mn||(mn=Ze(["\n  position: absolute;\n  width: 20%;\n  padding: 0 5px;\n  background: white;\n  left: 30px;\n  top: 20px;\n  border-radius: 2px;\n"],["\n  position: absolute;\n  width: 20%;\n  padding: 0 5px;\n  background: white;\n  left: 30px;\n  top: 20px;\n  border-radius: 2px;\n"]))),_n=f.c.div(yn||(yn=Ze(["\n  max-width: 600px;\n"],["\n  max-width: 600px;\n"]))),Sn=f.c.span(gn||(gn=Ze([""],[""]))),jn=function(e){function t(t){var n=e.call(this,t)||this;return n.setEditorRootTopicKey=function(e){return function(){var t=n.props,o=t.model,r=t.controller;o.editorRootTopicKey!==e&&r.change(de.setEditorRootTopicKey({model:o,topicKey:e}))}},n.breadcrumbRenderer=function(e){var t=e.text,n=Ve(e,["text"]),r=t.length>8,i=r?t.substr(0,8)+"...":t,a={content:Object(o.createElement)(_n,null,t),position:v.a.BOTTOM_RIGHT},l=Object(o.createElement)(O.a,Ge({},n),Object(o.createElement)(Sn,null,i));return r?Object(o.createElement)(w.a,Ge({},a),l):l},n.state={show:!1},n}return He(t,e),t.prototype.render=function(){var e=this.props,t=e.model,n=e.controller,r=e.zIndex,i=t.editorRootTopicKey;if(i===t.rootTopicKey)return null;for(var a=[],l=t.getTopic(i);null!=l;){var c=n.getValue(Gt.TOPIC_TITLE,Ge(Ge({},e),{topicKey:l.key}));a.unshift({text:c,onClick:this.setEditorRootTopicKey(l.key)}),l=t.getTopic(l.parentKey)}var u={items:a,breadcrumbRenderer:this.breadcrumbRenderer};return Object(o.createElement)(Cn,{zIndex:r},Object(o.createElement)(E.a,Ge({},u)))},t}(ut),Dn=f.c.div(bn||(bn=Ze(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 5px;\n"],["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 5px;\n"]))),Rn=f.c.div(vn||(vn=Ze(["\n  width: 100%;\n  height: 100%;\n  background: ",";\n"],["\n  width: 100%;\n  height: 100%;\n  background: ",";\n"])),(function(e){return e.theme.background})),In=function(e){function t(t){var n=e.call(this,t)||this;return n.setZoomFactor=function(e){n.dragScrollWidget.setZoomFactor(e)},n.onWheel=function(e){if(e.altKey||e.ctrlKey){var t=n.props.controller,o=t.run("getZoomFactor",n.props);(o-=e.nativeEvent.deltaY>0?.1:-.1)<.5&&(o=.5),o>4&&(o=4),t.run("setZoomFactor",Ge(Ge({},n.props),{zoomFactor:o}))}},n}return He(t,e),t.prototype.renderHotkeys=function(){var e=this.props,t=e.controller,n=e.model,r=t.run("customizeHotKeys",e);if(null===r)return null;if(!(r.topicHotKeys instanceof Map&&r.globalHotKeys instanceof Map))throw new TypeError("topicHotKeys and globalHotKeys must be a Map");var i=[];return n.focusMode!==ne.NORMAL&&n.focusMode!==ne.SHOW_POPUP||r.topicHotKeys.forEach((function(e,t){i.push(Object(o.createElement)(k.a,Ge({key:t},e,{global:!0})))})),r.globalHotKeys.forEach((function(e,t){i.push(Object(o.createElement)(k.a,Ge({key:t},e,{global:!0})))})),Object(o.createElement)(x.a,null,i)},t.prototype.componentDidMount=function(){var e=this.props,t=e.getRef,n=e.model;e.controller.run("addZoomFactorChangeEventListener",Ge(Ge({},this.props),{listener:this.setZoomFactor}));var o=t(Kt(n.editorRootTopicKey)),r=t("node-layer"),i=o.getBoundingClientRect(),a=r.getBoundingClientRect();this.dragScrollWidget.setViewBoxScrollDelta(0,i.top-a.top-this.dragScrollWidget.viewBox.getBoundingClientRect().height/2+i.height),this.layout()},t.prototype.componentWillUnmount=function(){this.props.controller.run("removeZoomFactorChangeEventListener",Ge(Ge({},this.props),{listener:this.setZoomFactor}))},Object.defineProperty(t.prototype,"dragScrollWidget",{get:function(){return this.props.getRef(zt.DRAG_SCROLL_WIDGET_KEY)},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(){this.props.controller.run("fireEvent",Ge(Ge({},this.props),{key:Ht.CENTER_ROOT_TOPIC})),this.layout()},t.prototype.layout=function(){this.props.controller.run("layout",this.props)},t.prototype.render=function(){var e=this,t=this.props,n=t.saveRef,r=t.model,i=t.controller,a=r.editorRootTopicKey;return Object(o.createElement)(Rn,{onWheel:this.onWheel},Object(o.createElement)(ft,Ge({},this.state,{enableMouseWheel:!1,zoomFactor:r.zoomFactor,ref:n(zt.DRAG_SCROLL_WIDGET_KEY)}),(function(t,r){var l=Ge(Ge({},e.props),{topicKey:a,setViewBoxScroll:t,setViewBoxScrollDelta:r});return Object(o.createElement)(Dn,{ref:n("node-layer")},i.run("renderRootWidget",l))})))},t=We([T.a],t)}(o.Component),Pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){var e=t.props.controller.run("handleActiveModalClose",t.props);e&&e()},t}return He(t,e),t.prototype.render=function(){var e=this.props.controller,t=e.run("renderModal",this.props),n=e.run("getActiveModalProps",this.props);return Object(o.createElement)(C.a,{onClose:this.handleClose,isOpen:null!==t,autoFocus:!0,enforceFocus:!0,usePortal:!0,title:n&&n.title,style:n&&n.style},Object(o.createElement)("div",{className:_.a.DIALOG_BODY,style:{minHeight:0}},t))},t}(ut),Mn=f.c.svg(On||(On=Ze(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"]))),Ln=m()("node:root-sub-links"),Kn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curves:[]},t}return He(t,e),t.prototype.layout=function(){var e,t,n,r=this.props,i=r.model,a=r.getRef,l=r.topicKey,c=r.zoomFactor,u=r.controller,s=i.getTopic(l),p=a(It(l)),d=a(Bt(l)),f=a(zt.DRAG_SCROLL_WIDGET_KEY).bigView,h=Qt(p,f,c),m=Qt(d,f,c);e={x:(n=h,(n.left+n.right)/2-m.left),y:qt(h)-m.top};var y=[];s.subKeys.forEach((function(n){var i,l=u.run("getLinkStyle",Ge(Ge({},r),{topicKey:n})),s=l.lineType,p=Qt(a(It(n)),f,c);if(t={x:(t=p.left>h.right?{x:p.left,y:qt(p)}:{x:p.right,y:qt(p)}).x-m.left,y:t.y-m.top},"curve"===s)i="M "+e.x+" "+e.y+" C "+e.x+" "+Jt(e,t)+" "+Zt(e,t)+" "+t.y+" "+t.x+" "+t.y;else if("line"===s)i="M "+e.x+" "+e.y+" L "+t.x+" "+t.y;else if("round"===s){var d=t.y>e.y?1:-1,g=t.x>e.x?1:-1,b=l.lineRadius;if(null==b)throw new Error("link line type is round, but lineRadius is not provided!");i=t.y===e.y?"M "+e.x+" "+e.y+" H "+t.x:"M "+e.x+" "+e.y+"  V "+(t.y-d*b)+" A "+b+" "+b+" 0 0 "+(d*g===1?0:1)+" "+(e.x+b*g)+" "+t.y+" H "+t.x}y.push(Object(o.createElement)("path",{key:"link-"+n,d:i,strokeWidth:l.lineWidth,stroke:l.lineColor,fill:"none"}))})),this.setState({curves:y})},t.prototype.render=function(){Ln("render");var e=this.props,t=e.topicKey,n=e.saveRef;return Object(o.createElement)(Mn,{ref:n(Bt(t))},Object(o.createElement)("g",null,this.state.curves))},t}(ut),Nn=m()("RootNode"),Bn=f.c.div(wn||(wn=Ze(["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"],["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"])),(function(e){return e.topicDirection===X?"flex-end":"flex-start"}),(function(e){return e.topicDirection===X?"15px 60px 15px 0px":"15px 0px 15px 60px"})),An=f.c.div(En||(En=Ze(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  z-index: 3;\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n  z-index: 3;\n"]))),Fn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return He(t,e),t.prototype.renderPartTopics=function(e,t){var n=this.props,r=n.controller,i=n.saveRef,a=r.run("createSubTopics",Ge(Ge({},this.props),{dir:t,isRoot:!0,topics:e}));if(!a)return null;var l=a.subTopics,c="bm-layer-"+(t===X?"left":"right");return Object(o.createElement)(Bn,{topicDirection:t,ref:i(c)},l)},t.prototype.render=function(){Nn("render");var e=this.props,t=e.model,n=e.topicKey,r=e.saveRef,i=e.controller,a=i.run("getTopicContentStyle",e),l=t.config,c=i.run("renderTopicContent",Ge(Ge({},e),{topicStyle:a,dir:$})),u=i.run("getPartTopics",{layout:l.layoutDir,model:t,topicKey:n}),s=Object(o.createElement)(An,{ref:r(Kt(n))},c),p=i.run("renderRootWidgetOtherChildren",e);switch(l.layoutDir){case Z.LEFT_AND_RIGHT:return Object(o.createElement)(o.Fragment,null,this.renderPartTopics(u.L,"L"),s,this.renderPartTopics(u.R,"R"),p);case Z.LEFT_TO_RIGHT:return Object(o.createElement)(o.Fragment,null,s,this.renderPartTopics(u.R,"R"),p);case Z.RIGHT_TO_LEFT:return Object(o.createElement)(o.Fragment,null,this.renderPartTopics(u.L,"L"),s,p);case Z.TOP_TO_BOTTOM:return Object(o.createElement)(o.Fragment,null,s,this.renderPartTopics(u.B,"B"),p)}return null},t}(o.Component),zn=f.c.div(Tn||(Tn=Ze(["\n  position: absolute;\n  top: calc(50% - 10px);\n  ",";\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  //@ts-ignore\n  background: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n  z-index: 2;\n"],["\n  position: absolute;\n  top: calc(50% - 10px);\n  ",";\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  //@ts-ignore\n  background: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n  z-index: 2;\n"])),(function(e){var t=e.dir;return t===Q?Object(f.b)(kn||(kn=Ze(["\n        right: -25px;\n      "],["\n        right: -25px;\n      "]))):t===X?Object(f.b)(xn||(xn=Ze(["\n        left: -25px;\n      "],["\n        left: -25px;\n      "]))):void 0}),(function(e){return e.background}));function Hn(e){var t,n=e.model,r=e.topicKey,i=e.topicStyle,a=e.dir,l=e.saveRef,c=e.onClickCollapse,u=n.getTopic(r);return u.subKeys.size>0?Object(o.createElement)(zn,{ref:l(At(r)),onClick:c,background:i.background,dir:a,className:Ne()((t={icon:!0,iconfont:!0},t["bm-"+(u.collapse?"plus":"minus")]=!0,t))}):null}var Gn,Vn,Wn=m()("node:topic-content2"),Un=f.c.div(Gn||(Gn=Ze(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Yn=f.c.div(Vn||(Vn=Ze(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: auto;\n  z-index: 10;\n  color: black;\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: auto;\n  z-index: 10;\n  color: black;\n"]))),qn=function(e){Wn("cancelEvent"),e.preventDefault(),e.stopPropagation()};function Zn(e){var t,n=e.controller,r=e.model,i=e.topicKey,a=e.getRef,l=r.editingContentKey!==i,c=n.run("renderTopicContentEditor",Ge(Ge({},e),{readOnly:l}));if(l)t=c;else{var u,s={width:50,height:40},p=a("content-editor-"+i);p&&(s=p.getBoundingClientRect());var f=new d.a((function(e,t){var n=e[0].contentRect;u.style.left=(s.width-n.width)/2+"px",u.style.top=(s.height-n.height)/2+"px"}));Wn(s),t=Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{style:{width:s.width,height:s.height}}),Object(o.createElement)(Yn,{ref:function(e){e&&(u=e,f.observe(u))}},c))}return Object(o.createElement)(Un,{onDragEnter:qn,onDragOver:qn},t)}var Jn,Xn,Qn,$n=m()("node:topic-content-widget"),eo=f.c.div(Jn||(Jn=Ze(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  //overflow: hidden;\n  position: relative;\n"],["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  //overflow: hidden;\n  position: relative;\n"]))),to=f.c.div(Xn||(Xn=Ze(["\n  position: relative;\n"],["\n  position: relative;\n"]))),no=function(e){function t(t){var n=e.call(this,t)||this;return n.onDragStart=function(e){n.run("handleTopicDragStart",Ge(Ge({},n.props),{ev:e}))},n.onDragOver=function(e){e.preventDefault()},n.onDragEnter=function(e){$n("onDragEnter",n.props.topicKey),n.run("handleTopicDragEnter",Ge(Ge({},n.props),{ev:e,dropDir:"in"}))},n.onDragLeave=function(e){n.run("handleTopicDragLeave",Ge(Ge({},n.props),{ev:e,dropDir:"in"}))},n.onDrop=function(e){$n("onDrop"),n.run("handleTopicDrop",Ge(Ge({},n.props),{ev:e,dropDir:"in"}))},n.onClick=function(e){var t=n.props.controller;n.handleTopicClickTimeout=setTimeout((function(){t.run("handleTopicClick",Ge(Ge({},n.props),{ev:e}))}),200)},n.onDoubleClick=function(e){clearTimeout(n.handleTopicClickTimeout),n.props.controller.run("handleTopicDoubleClick",Ge(Ge({},n.props),{ev:e}))},n.needRelocation=!1,n.onClickCollapse=function(e){e.stopPropagation();var t=n.props,o=t.topicKey,r=t.getRef;n.needRelocation=!0;var i=r(At(o)).getBoundingClientRect();$n("oldRect",i),n.oldCollapseIconVector=[i.left+i.width/2,i.top+i.height/2],$n("oldCollapseIconVector",n.oldCollapseIconVector),n.operation(re.TOGGLE_COLLAPSE,n.props)},n.state={dragEnter:!1},n}return He(t,e),t.prototype.renderContextMenu=function(){var e=this.props.controller;if(e.getValue(Gt.TOPIC_CONTEXT_MENU_ENABLED,Ge({},this.props)))return this.operation(re.FOCUS_TOPIC,Ge(Ge({},this.props),{focusMode:ne.SHOW_POPUP})),e.run("renderTopicContextMenu",this.props)},t.prototype.onContextMenuClose=function(){},t.prototype.componentDidUpdate=function(){if(this.needRelocation){var e=this.props,t=e.getRef,n=e.topicKey,o=e.setViewBoxScrollDelta,r=t(At(n)).getBoundingClientRect(),i=[r.left+r.width/2,r.top+r.height/2];$n("newVector:",i),$n("oldVector:",this.oldCollapseIconVector);var a=[i[0]-this.oldCollapseIconVector[0],i[1]-this.oldCollapseIconVector[1]];$n("vector",a),o(a[0],a[1]),this.needRelocation=!1}},t.prototype.render=function(){var e=this.props,t=e.saveRef,n=e.topicKey,r=e.model,i=e.controller,a=e.topicStyle,l=e.dir;$n("render",n,r.focusMode);var c=i.run("isOperationEnabled",e)&&r.editingContentKey!==n,u=i.run("renderTopicCollapseIcon",Ge(Ge({},e),{onClickCollapse:this.onClickCollapse.bind(this)})),s=i.run("renderTopicDropArea",Ge(Ge({},e),{dropDir:"prev"})),p=i.run("renderTopicDropArea",Ge(Ge({},e),{dropDir:"next"})),d={onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop};return Object(o.createElement)(to,null,s,Object(o.createElement)(eo,Ge({style:a,draggable:c,ref:t(It(n)),onDragStart:this.onDragStart,onClick:this.onClick,onDoubleClick:this.onDoubleClick},d),i.run("renderTopicBlocks",e),i.run("renderTopicContentOthers",e)),p,l!==$&&u)},t=We([S.a],t)}(ut),oo=m()("node:topic-desc"),ro=f.c.div(Qn||(Qn=Ze(["\n  overflow: auto;\n"],["\n  overflow: auto;\n"])));function io(e){var t=e.controller,n=e.model,r=e.topicKey,i=e.getRef,a=n.editingDescKey===r;oo("isEditing",a);var l=n.getTopic(r).getBlock(te.DESC);if(!a&&t.run("isBlockEmpty",Ge(Ge({},e),{block:l.block})))return null;var c=t.run("renderTopicDescEditor",e),u=i(zt.DIAGRAM_ROOT_KEY),s={maxWidth:"800px",maxHeight:"600px"};if(u){var p=u.getBoundingClientRect();s.maxWidth=.6*p.width+"px",s.maxHeight=.8*p.height+"px"}var d={autoFocus:!1,content:Object(o.createElement)(ro,{onClick:Vt,classname:_.a.POPOVER_DISMISS,style:s},c),target:Object(o.createElement)(xt,{onClick:function(n){n.stopPropagation(),t.run("operation",Ge(Ge({},e),{opType:re.START_EDITING_DESC}))},className:Dt(jt.NOTES),tabIndex:-1}),interactionKind:j.b.HOVER,hoverOpenDelay:500};return l.block&&Object(o.createElement)(j.a,Ge({},d))}var ao,lo,co,uo,so,po,fo,ho,mo,yo=f.c.svg(ao||(ao=Ze(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"]))),go=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:null},t}return He(t,e),t.prototype.layout=function(){var e=this.props,t=e.getRef,n=e.model,r=e.zoomFactor,i=n.focusKey,a=n.focusMode;if(i&&a!==ne.EDITING_CONTENT){var l=t(It(i)),c=t(zt.DRAG_SCROLL_WIDGET_KEY).bigView,u=t(zt.SVG_HIGHLIGHT_KEY),s=Qt(l,c,r),p=Qt(u,c,r),d=s.left-p.left-3,f=s.top-p.top-3,h=s.width+6,m=s.height+6;this.setState({content:Object(o.createElement)("rect",{x:d,y:f,width:h,height:m,fill:"none",stroke:n.config.theme.highlightColor,strokeWidth:2})})}else this.setState({content:null})},t.prototype.render=function(){var e=this.props.saveRef;return Object(o.createElement)(yo,{ref:e(zt.SVG_HIGHLIGHT_KEY)},this.state.content)},t}(ut),bo=f.c.svg(lo||(lo=Ze(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"]))),vo=m()("node:topic-sub-links"),Oo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curves:[]},t}return He(t,e),t.prototype.layout=function(){var e,t,n,r=this.props,i=r.model,a=r.getRef,l=r.topicKey,c=r.dir,u=r.controller,s=u.run("getZoomFactor",r),p=i.getTopic(l),d=a(It(l)),f=a(Bt(l)),h=a(At(l)),m=a(zt.DRAG_SCROLL_WIDGET_KEY).bigView,y=Qt(f,m,s),g=Qt(h,m,s),b=Qt(d,m,s);vo(l),vo("svgRect",y),vo("collapseRect",g),vo("contentRect",b),c===Q?(e={x:0,y:qt(b)-y.top},t={x:g.right-y.left+10,y:e.y}):c===X&&(e={x:y.right-y.left,y:qt(b)-y.top},t={x:g.left-y.left-10,y:e.y});var v=[];p.subKeys.forEach((function(i){var l,d=u.run("getLinkStyle",Ge(Ge({},r),{topicKey:i})),f=a(It(i));if(f){var h=Qt(f,m,s);c===Q&&(n={x:h.left-y.left,y:qt(h)-y.top}),c===X&&(n={x:h.right-y.left,y:qt(h)-y.top});var g=d.lineType;if("curve"===g)l="M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" C "+t.x+" "+Jt(t,n)+" "+Zt(t,n)+" "+n.y+" "+n.x+" "+n.y;else if("round"===g){var b=n.y>e.y?1:-1,O=n.x>e.x?1:-1,w=d.lineRadius;l=1===p.subKeys.size||Math.abs(n.y-e.y)<=1?"M "+e.x+" "+e.y+" L "+n.x+" "+n.y:"M "+e.x+" "+e.y+" H "+t.x+" V "+(n.y-b*w)+" A "+w+" "+w+" 0 0 "+(b*O===1?0:1)+" "+(t.x+w*O)+" "+n.y+" H "+n.x}else"line"===g&&(l="M "+e.x+" "+e.y+" H "+t.x+" L "+n.x+" "+n.y);v.push(Object(o.createElement)("path",{key:"link-"+i,d:l,strokeWidth:d.lineWidth,stroke:d.lineColor,fill:"none"}))}})),this.setState({curves:v})},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef;return Object(o.createElement)(bo,{ref:n(Bt(t))},Object(o.createElement)("g",null,this.state.curves))},t}(ut),wo=m()("node:topic-widget"),Eo=f.c.div(co||(co=Ze(["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n"],["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n"])),(function(e){return e.topicDirection===Q?"row":"row-reverse"})),ko=f.c.div(uo||(uo=Ze(["\n  position: relative;\n  padding: ",";\n"],["\n  position: relative;\n  padding: ",";\n"])),(function(e){return e.dir===Q?"0 0 0 "+e.marginH+"px":"0 "+e.marginH+"px 0 0"})),xo=f.c.div(so||(so=Ze(["\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  flex-direction: ",";\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  flex-direction: ",";\n"])),(function(e){return e.topicDirection===Q?"row":"row-reverse"})),To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return He(t,e),t.prototype.renderSubTopics=function(){var e=this.props,t=e.controller,n=e.model,r=e.topicKey,i=e.dir,a=n.getTopic(r).subKeys.toArray(),l=t.run("createSubTopics",Ge(Ge({},e),{topics:a}));if(!l)return null;var c=l.subTopics,u=t.run("renderSubLinks",e);return Object(o.createElement)(ko,{dir:i,marginH:n.config.theme.marginH},c," ",u)},t.prototype.layoutLinks=function(){var e=this.props,t=e.getRef,n=e.topicKey,o=e.model.getTopic(n);if(0!==o.subKeys.size&&!o.collapse){wo("layoutLinks",n);var r=t(Nt(n));r&&r.layout()}},t.prototype.render=function(){var e=this.props,t=e.controller,n=e.topicKey,r=e.dir,i=e.saveRef;wo("render",n);var a=t.run("getTopicContentStyle",e),l=Ge(Ge({},e),{topicStyle:a}),c=t.run("renderTopicContent",l);return Object(o.createElement)(Eo,{topicDirection:r},Object(o.createElement)(xo,{topicDirection:r,ref:i(Kt(n))},c),this.renderSubTopics())},t}(o.Component),Co=m()("node:view-port-viewer"),_o=Object(f.c)(Tt)(po||(po=Ze(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"]))),So=Object(f.c)(Ot)(fo||(fo=Ze(["\n  margin: 10px;\n"],["\n  margin: 10px;\n"]))),jo=f.c.span(ho||(ho=Ze(["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"],["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"]))),Do=function(e){return Object(o.createElement)(w.a,{content:e.tooltip,position:D.a.TOP,className:_.a.ICON},Object(o.createElement)(So,{onClick:e.onClick,tabIndex:-1},e.children))},Ro=function(e){function t(t){var n=e.call(this,t)||this;return n.zoomFactorChange=function(e){Co("zoomFactorChange",e),n.setState({zoomFactor:e})},n.onClickResetZoom=function(e){var t=n.props;t.controller.run("setZoomFactor",Ge(Ge({},t),{zoomFactor:1}))},n.onClickAddZoom=function(e){var t=n.props,o=t.controller,r=o.run("getZoomFactor",t);o.run("setZoomFactor",Ge(Ge({},t),{zoomFactor:r+.1}))},n.onClickMinusZoom=function(e){var t=n.props,o=t.controller,r=o.run("getZoomFactor",t);o.run("setZoomFactor",Ge(Ge({},t),{zoomFactor:r-.1}))},n.onClickCollapseAll=function(e){var t=n.props,o=t.controller;o.run("addEventListener",Ge(Ge({},t),{key:Ht.CENTER_ROOT_TOPIC,listener:n.centerRootTopic,once:!0})),o.run("operation",Ge(Ge({},t),{opType:re.COLLAPSE_ALL}))},n.onClickExpandAll=function(e){var t=n.props,o=t.controller;o.run("addEventListener",Ge(Ge({},t),{key:Ht.CENTER_ROOT_TOPIC,listener:n.centerRootTopic,once:!0})),o.run("operation",Ge(Ge({},t),{opType:re.EXPAND_ALL}))},n.centerRootTopic=function(){var e=n.props,t=e.model;e.controller.run("moveTopicToCenter",Ge(Ge({},n.props),{topicKey:t.editorRootTopicKey}))},n}return He(t,e),t.prototype.componentDidMount=function(){var e=this.props;e.controller.run("addZoomFactorChangeEventListener",Ge(Ge({},e),{listener:this.zoomFactorChange}))},t.prototype.componentWillUnmount=function(){var e=this.props;e.controller.run("removeZoomFactorChangeEventListener",Ge(Ge({},e),{listener:this.zoomFactorChange}))},t.prototype.render=function(){Co("render");var e=this.props,t=e.controller,n=e.zIndex,r=t.run("getZoomFactor",e);return Object(o.createElement)(_o,{zIndex:n},Object(o.createElement)(Do,{onClick:this.onClickCollapseAll,tooltip:"collapse all"},Rt(jt.COLLAPSE_ALL)),Object(o.createElement)(Do,{onClick:this.onClickExpandAll,tooltip:"expand all"},Rt(jt.EXPAND_ALL)),Object(o.createElement)(Do,{onClick:this.centerRootTopic,tooltip:"center root topic"},Rt(jt.CENTER)),Object(o.createElement)(Do,{onClick:this.onClickMinusZoom,tooltip:"zoom in"},Rt(jt.MINUS)),Object(o.createElement)(Do,{onClick:this.onClickResetZoom,tooltip:"reset zoom"},Object(o.createElement)(jo,null,"zoom:"+Math.floor(100*r)+"%")),Object(o.createElement)(Do,{onClick:this.onClickAddZoom,tooltip:"zoom out"},Rt(jt.PLUS)))},t}(ut),Io=f.c.div(mo||(mo=Ze(["\n  overflow: auto;\n  padding: 0px 0px 0px 20px;\n  background: #88888850;\n"],["\n  overflow: auto;\n  padding: 0px 0px 0px 20px;\n  background: #88888850;\n"])));function Po(e){var t=e.controller,n=e.model,r=e.topicKey;if(n.focusMode===ne.EDITING_DESC){var i=t.run("renderTopicDescEditor",e);return Object(o.createElement)(R.a,{key:"drawer",title:"Edit Notes",icon:Rt("note"),isOpen:!0,hasBackdrop:!0,backdropProps:{onMouseDown:Vt},isCloseButtonShown:!1,onClose:function(n){n.stopPropagation();var o="topic-desc-data-"+r,i=t.run("deleteTempValue",{key:o});t.run("operation",Ge(Ge({},e),{opType:re.SET_TOPIC_BLOCK,topicKey:r,blockType:te.DESC,data:i,focusMode:ne.NORMAL}))},size:"70%"},Object(o.createElement)(Io,null,i))}}function Mo(e){var t=e.theme,n=e.children;return Object(o.createElement)(f.a,{theme:t},Object(o.createElement)(o.Fragment,null,n))}var Lo,Ko=m()("plugin:rendering");function No(){var e,t=f.c.div(Lo||(Lo=Ze(["\n    width: 100%;\n    height: 100%;\n    background: ",";\n    position: relative;\n  "],["\n    width: 100%;\n    height: 100%;\n    background: ",";\n    position: relative;\n  "])),(function(e){return e.theme.background}));return{getDiagramProps:function(){return e},renderDiagram:function(n){var r=n.model,i=n.controller;return Object(o.createElement)(mt,null,(function(a,l,c){return e=Ge(Ge({},n),{saveRef:a,getRef:l,deleteRef:c}),Ko("renderDiagram",r),Object(o.createElement)(Mo,{theme:r.config.theme},Object(o.createElement)(t,{ref:a(zt.DIAGRAM_ROOT_KEY)},Object(o.createElement)(In,Ge({},e)),i.run("renderDiagramCustomize",e)))}))},renderDrawer:Po,renderDiagramCustomize:function(e){var t=e.controller,n=e.model,o=t.getValue(Gt.DIAGRAM_CUSTOMIZE_BASE_Z_INDEX),r=Ge(Ge({},e),{zIndex:o,topicKey:n.focusKey});return[t.run("renderEditorRootBreadcrumbs",r),t.run("renderRightTopPanel",r),t.run("renderModals",Ge(Ge({},r),{zIndex:o+1})),t.run("renderDrawer",Ge(Ge({},r),{zIndex:o+1})),t.run("renderViewPortViewer",r)]},renderEditorRootBreadcrumbs:function(e){return Object(o.createElement)(jn,Ge({key:"EditorRootBreadcrumbs"},e))},renderModals:function(e){return Object(o.createElement)(Pn,Ge({key:"modals"},e))},renderModal:function(e){return null},getActiveModalProps:function(e){return null},renderDoc:function(e){return e.children},renderRootWidget:function(e){return Object(o.createElement)(Fn,Ge({},e))},renderTopicWidget:function(e){return Object(o.createElement)(To,Ge({},e))},renderTopicContent:function(e){return Object(o.createElement)(no,Ge({},e))},renderTopicCollapseIcon:function(e){return Object(o.createElement)(Hn,Ge({},e))},renderTopicContentOthers:function(e){return[]},renderTopicBlocks:function(e){var t=e.model,n=e.topicKey,r=e.controller,i=t.getTopic(n).blocks,a=[],l=0;return i.forEach((function(t){var n=r.run("renderTopicBlock",Ge(Ge({},e),{block:t,blockKey:"block-"+l}));n&&(a.push(Object(o.createElement)(o.Fragment,{key:"block-"+l},n)),l++)})),a},renderTopicBlock:function(e){var t=e.controller;switch(e.block.type){case te.CONTENT:return t.run("renderTopicBlockContent",e);case te.DESC:return t.run("renderTopicBlockDesc",e)}return null},renderTopicBlockContent:function(e){return Object(o.createElement)(Zn,Ge({},e))},renderTopicBlockDesc:function(e){return Object(o.createElement)(io,Ge({},e))},renderSubLinks:function(e){var t=e.saveRef,n=e.topicKey,r=e.model.getTopic(n);return 0===r.subKeys.size||r.collapse?null:Object(o.createElement)(Oo,Ge({ref:t(Nt(n))},e))},renderRootSubLinks:function(e){var t=e.saveRef,n=e.topicKey;return Object(o.createElement)(Kn,Ge({ref:t(Nt(n))},e))},renderFocusItemHighlight:function(e){var t=e.saveRef;return Object(o.createElement)(go,Ge({ref:t(zt.FOCUS_HIGHLIGHT_KEY)},e))},renderRootWidgetOtherChildren:function(e){var t=e.controller,n=t.run("getZoomFactor",e);return e=Ge(Ge({},e),{zoomFactor:n}),Object(o.createElement)(o.Fragment,null,t.run("renderRootSubLinks",e),t.run("renderFocusItemHighlight",e),t.run("renderDragAndDropEffect",e))},renderViewPortViewer:function(e){return Object(o.createElement)(Ro,Ge({key:"view-port-viewer"},e))}}}var Bo,Ao,Fo=Object(f.c)(Tt)(Bo||(Bo=Ze(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: 20px;\n  border-radius: 2px;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: 20px;\n  border-radius: 2px;\n  user-select: none;\n"]))),zo=Object(f.c)(I.a)(Ao||(Ao=Ze(["\n  padding: 0px 10px;\n"],["\n  padding: 0px 10px;\n"])));function Ho(e){var t=e.controller,n=e.zIndex,r=e.selectedTabId,i=e.handleTabIdChange,a=Ye(Object(o.useState)(!1),2),l=a[0],c=a[1];return l?Object(o.createElement)(Fo,{zIndex:n},Object(o.createElement)(kt,null,Object(o.createElement)(Et,{className:Dt(jt.CLOSE),onClick:function(){return c(!1)}})),Object(o.createElement)(zo,{id:r,onChange:i},t.run("renderRightTopPanelTabs",e))):Object(o.createElement)(Fo,{zIndex:n},Object(o.createElement)(vt,{onClick:function(){return c(!0)}},Object(o.createElement)(bt,{className:Dt(jt.SHOW_MENU)})))}var Go,Vo,Wo,Uo,Yo,qo,Zo,Jo=f.c.div(Go||(Go=Ze(["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-weight: bold;\n"],["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-weight: bold;\n"]))),Xo=f.c.span(Vo||(Vo=Ze(["\n  margin: 0px 10px 0px 0px;\n"],["\n  margin: 0px 10px 0px 0px;\n"]))),Qo=f.c.div(Wo||(Wo=Ze(["\n  padding: 10px;\n  margin: 0 0 10px 0;\n  border: rgba(16, 22, 26, 0.15) solid 1px;\n  border-radius: 5px;\n"],["\n  padding: 10px;\n  margin: 0 0 10px 0;\n  border: rgba(16, 22, 26, 0.15) solid 1px;\n  border-radius: 5px;\n"]))),$o=Object(f.c)(Xo)(Uo||(Uo=Ze([""],[""]))),er=f.c.div(Yo||(Yo=Ze(["\n  display: flex;\n  align-items: center;\n  //justify-content: center;\n  margin: 5px 0;\n"],["\n  display: flex;\n  align-items: center;\n  //justify-content: center;\n  margin: 5px 0;\n"]))),tr=f.c.div(qo||(qo=Ze(["\n  height: 3px;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  margin-bottom: 2px;\n  background: ",";\n"],["\n  height: 3px;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  margin-bottom: 2px;\n  background: ",";\n"])),(function(e){return e.color})),nr=f.c.div(Zo||(Zo=Ze(["\n  border: 1px solid grey;\n  cursor: pointer;\n  font-weight: bold;\n"],["\n  border: 1px solid grey;\n  cursor: pointer;\n  font-weight: bold;\n"])));function or(e){return Object(o.createElement)("div",null,e.children,Object(o.createElement)(P.a,{style:{margin:"10px 0"}}))}function rr(e){var t=e.color,n=e.handleColorChange;return Object(o.createElement)(Xo,null,Object(o.createElement)(j.a,null,Object(o.createElement)(nr,null,Object(o.createElement)("div",{className:Dt(jt.COLOR_PICKER)}),Object(o.createElement)(tr,{color:t})),Object(o.createElement)("div",null,Object(o.createElement)(Ae.SketchPicker,{color:t,onChangeComplete:function(e){return n(e.hex)}}))))}function ir(e){var t=e.title,n=e.handleClick;return Object(o.createElement)(Xo,null,Object(o.createElement)(M.a,{onClick:n},t))}function ar(e){var t=e.layout,n=void 0===t?"h":t,r=e.title,i=Ve(e,["layout","title"]),a={flexDirection:"h"===n?"row":"column",alignItems:"center"};return Object(o.createElement)(Xo,null,Object(o.createElement)(yt,Ge({},a),Object(o.createElement)(gt,{margin:"0 5px 0 0"},r),Object(o.createElement)(L.a,Ge({},i))))}function lr(e){var t=e.text,n=e.items,r=e.itemRenderer,i=e.onItemSelect,a=Be.a.ofType(),l={items:n,itemRenderer:r,onItemSelect:i,filterable:!1};return Object(o.createElement)(Xo,null,Object(o.createElement)(a,Ge({},l),Object(o.createElement)(M.a,{text:t})))}var cr=function(e){return function(t,n){var r=n.handleClick;return Object(o.createElement)(b.a,{text:""+t+e,key:t,onClick:r})}},ur=(Be.a.ofType(),qe(Array(7).keys())),sr=qe(Array(7).keys()),pr=[0,5,10,15,20,25,30,35],dr=["none","solid","dotted","dashed","double"];function fr(e){var t=e.contentStyle,n=e.setContentStyle;return Object(o.createElement)(or,null,Object(o.createElement)(Jo,null,"Border"),Object(o.createElement)("div",null,Object(o.createElement)(lr,{text:"width: "+(t.borderWidth?t.borderWidth:"0px"),items:sr,itemRenderer:cr("px"),onItemSelect:function(e){n({borderWidth:e+"px"})}}),Object(o.createElement)(lr,{text:"style: "+(t.borderStyle?t.borderStyle:"none"),items:dr,itemRenderer:cr(""),onItemSelect:function(e){n({borderStyle:e})}}),Object(o.createElement)(lr,{text:"radius: "+t.borderRadius,items:pr,itemRenderer:cr("px"),onItemSelect:function(e){n({borderRadius:e+"px"})}}),Object(o.createElement)(rr,{color:t.borderColor,handleColorChange:function(e){n({borderColor:e})}})))}var hr=["curve","round","line"],mr=function(e,t){var n=t.handleClick;t.modifiers,t.query;return Object(o.createElement)(b.a,{text:""+e,key:e,onClick:n})};function yr(e){var t=e.showLinkStyle,n=void 0===t||t,r=e.showSubLinkStyle,i=void 0===r||r,a=e.linkStyle,l=void 0===a?{}:a,c=e.subLinkStyle,u=void 0===c?{}:c,s=e.setLinkStyle,p=e.setSubLinkStyle;return Object(o.createElement)(or,null,Object(o.createElement)(Jo,null,"Link"),n&&Object(o.createElement)(er,{alignItems:"center"},Object(o.createElement)(gt,{margin:"0 5px 0 0"},"LinkToParent: "),Object(o.createElement)(lr,{text:"width: "+(l?l.lineWidth:"0px"),items:ur,itemRenderer:cr("px"),onItemSelect:function(e){s({lineWidth:e+"px"})}}),Object(o.createElement)(lr,{text:"lineType: "+l.lineType,items:hr,itemRenderer:mr,onItemSelect:function(e){s({lineType:e})}}),Object(o.createElement)(rr,{color:l.lineColor,handleColorChange:function(e){s({lineColor:e})}})),i&&Object(o.createElement)(er,{alignItems:"center"},Object(o.createElement)(gt,{margin:"0 5px 0 0"},"SubLinks: "),Object(o.createElement)(lr,{text:"width: "+(u?u.lineWidth:"0px"),items:ur,itemRenderer:cr("px"),onItemSelect:function(e){p({lineWidth:e+"px"})}}),Object(o.createElement)(lr,{text:"lineType: "+u.lineType,items:hr,itemRenderer:mr,onItemSelect:function(e){p({lineType:e})}}),Object(o.createElement)(rr,{color:u.lineColor,handleColorChange:function(e){p({lineColor:e})}})))}function gr(e){var t=e.contentStyle,n=e.setContentStyle,r={title:"FontSize:",min:12,max:100,value:parseInt(t.fontSize),style:{width:50},onValueChange:function(e){n({fontSize:e})}},i={style:{width:50},value:t.lineHeight||"",onChange:function(e){n({lineHeight:e.target.value})}};return Object(o.createElement)(or,null,Object(o.createElement)(Jo,null,"Text Editor"),Object(o.createElement)(yt,null,Object(o.createElement)(ar,Ge({},r)),Object(o.createElement)(Xo,null,Object(o.createElement)(yt,{alignItems:"center"},Object(o.createElement)(gt,{margin:"0 5px 0 0"},"LineHeight: "),Object(o.createElement)(K.a,Ge({},i)))),Object(o.createElement)(rr,{color:t.color,handleColorChange:function(e){n({color:e})}})))}var br,vr=m()("node:style-editor");function Or(e){var t=e.controller,n=e.model,r=e.topicKey,i=n.getTopic(r),a=function(n){t.run("setTopicContentStyle",Ge(Ge({},e),{style:n}))};if(!n.focusKey)return null;var l=t.run("getTopicContentStyle",e),c={linkStyle:t.run("getLinkStyle",e),subLinkStyle:t.run("getSubLinkStyle",e),setLinkStyle:function(n){t.run("setLinkStyle",Ge(Ge({},e),{linkStyle:n}))},setSubLinkStyle:function(n){t.run("setSubLinkStyle",Ge(Ge({},e),{subLinkStyle:n}))}},u={contentStyle:l,setContentStyle:a};return Object(o.createElement)(Ct,null,Object(o.createElement)(fr,Ge({},u)),Object(o.createElement)(gr,Ge({},u)),Object(o.createElement)(or,null,Object(o.createElement)(Jo,null,"Background"),Object(o.createElement)(rr,{color:l.background,handleColorChange:function(e){a({background:e})}})),Object(o.createElement)(yr,Ge({},c)),Object(o.createElement)(or,null,Object(o.createElement)(ir,{title:"Clear Topic Style",handleClick:function(){i.style&&t.run("operation",Ge(Ge({},e),{opType:re.SET_STYLE,style:null}))}}),Object(o.createElement)(ir,{title:"Copy Style",handleClick:function(){br=t.run("getTopicStyle",e),vr(br)}}),Object(o.createElement)(ir,{title:"Paste Style",handleClick:function(){br&&t.run("operation",Ge(Ge({},e),{opType:re.SET_STYLE,style:JSON.stringify(br)}))}})),function(e){var t=e.controller;return Object(o.createElement)(or,null,Object(o.createElement)(Xo,null,Object(o.createElement)(M.a,{onClick:function(n){t.run("clearAllCustomStyle",e)}},"Clear All Custom Styles")))}(e))}var wr=n(633);function Er(e){var t=e.contentStyle,n=e.setContentStyle,r=wr("padding",t.padding||"0"),i={layout:"v",min:0,max:99,style:{width:38}},a=parseInt(r["padding-top"]),l=parseInt(r["padding-right"]),c=parseInt(r["padding-bottom"]),u=parseInt(r["padding-left"]),s={top:a,right:l,bottom:c,left:u},p=function(e){return function(t){var o;n({padding:Yt(Ge(Ge({},s),(o={},o[e]=t,o)))})}},d=Ge(Ge({},i),{title:"top",value:a,onValueChange:p("top")}),f=Ge(Ge({},i),{title:"right",value:l,onValueChange:p("right")}),h=Ge(Ge({},i),{title:"bottom",value:c,onValueChange:p("bottom")}),m=Ge(Ge({},i),{title:"left",value:u,onValueChange:p("left")});return Object(o.createElement)(or,null,Object(o.createElement)(Jo,null,"Padding"),Object(o.createElement)(er,null,Object(o.createElement)(ar,Ge({},d)),Object(o.createElement)(ar,Ge({},f)),Object(o.createElement)(ar,Ge({},h)),Object(o.createElement)(ar,Ge({},m))))}var kr,xr=f.c.div(kr||(kr=Ze(["\n  height: 250px;\n  overflow: auto;\n"],["\n  height: 250px;\n  overflow: auto;\n"])));function Tr(e){var t=e.topicStyle,n=e.setTopicStyle,r=t.contentStyle,i=void 0===r?{}:r,a=t.linkStyle,l=void 0===a?{}:a,c=t.subLinkStyle,u=function(e){n({contentStyle:e})},s={contentStyle:i,setContentStyle:u},p={showLinkStyle:!1,linkStyle:l,subLinkStyle:void 0===c?{}:c,setLinkStyle:function(e){n({linkStyle:e})},setSubLinkStyle:function(e){n({subLinkStyle:e})}};return Object(o.createElement)(xr,null,Object(o.createElement)(fr,Ge({},s)),Object(o.createElement)(Er,Ge({},s)),Object(o.createElement)(gr,Ge({},s)),Object(o.createElement)(or,null,Object(o.createElement)(Jo,null,"Background"),Object(o.createElement)(rr,{color:i.background,handleColorChange:function(e){u({background:e})}})),Object(o.createElement)(yr,Ge({},p)))}var Cr="normal";function _r(e){var t,n=Ye(Object(o.useState)(!1),2),r=(n[0],n[1],Ye(Object(o.useState)(!1),2)),i=r[0],a=r[1],l=e.model,c=e.controller,u=l.config.theme,s=u.rootTopic,p=u.primaryTopic,d=u.normalTopic,f=function(t){c.run("operation",Ge(Ge({},e),{opType:re.SET_THEME,theme:Object(Fe.clone)(t)}))},h=(t=function(e){f(Object(Fe.merge)(u,{randomColor:e}))},function(e){return t(e.target.checked)}),m={topicStyle:s,setTopicStyle:function(e){f(Object(Fe.merge)(u,{rootTopic:e}))}},y=Object(o.createElement)(Tr,Ge({},m)),g={topicStyle:p,setTopicStyle:function(e){f(Object(Fe.merge)(u,{primaryTopic:e}))}},b=Object(o.createElement)(Tr,Ge({},g)),v={topicStyle:d,setTopicStyle:function(e){f(Object(Fe.merge)(u,{normalTopic:e}))}},O=Object(o.createElement)(Tr,Ge({},v)),w={id:Cr,handleTabIdChange:function(e){Cr=e}},E=Object(o.createElement)(Qo,null,Object(o.createElement)(I.a,Ge({},w),Object(o.createElement)(N.a,{id:"normal",title:"NormalTopic",panel:O}),Object(o.createElement)(N.a,{id:"primary",title:"PrimaryTopic",panel:b}),Object(o.createElement)(N.a,{id:"root",title:"RootTopic",panel:y}))),k={isOpen:i,onClose:function(e){a(!1)}},x=Object(o.createElement)(B.a,Ge({},k),Object(o.createElement)("p",null,"File format error"));return Object(o.createElement)(Ct,null,Object(o.createElement)(or,null,Object(o.createElement)(Jo,null,"Global"),Object(o.createElement)(er,null,Object(o.createElement)($o,null,"Background:"),Object(o.createElement)(rr,{color:u.background,handleColorChange:function(e){f(Object(Fe.merge)(u,{background:e}))}}),Object(o.createElement)($o,null,"Highlight:"),Object(o.createElement)(rr,{color:u.highlightColor,handleColorChange:function(e){f(Object(Fe.merge)(u,{highlightColor:e}))}}),Object(o.createElement)($o,null,"Random Color:"),Object(o.createElement)(wt,{checked:u.randomColor,onChange:h}))),E,Object(o.createElement)(or,null,Object(o.createElement)(ir,{title:"Export Theme",handleClick:function(e){Wt(JSON.stringify(u),"blink-mind-theme.json")}}),Object(o.createElement)(ir,{title:"Import Theme",handleClick:function(e){Ut(".json,.txt").then((function(e){var t,n=JSON.parse(e);null!=(t=n).name&&null!=t.background&&null!=t.highlightColor?f(n):a(!0)}))}})),x)}function Sr(){var e="topic-style",t=function(t){e=t};return{renderRightTopPanel:function(n){var r=Ge(Ge({},n),{key:"right-top-panel",selectedTabId:e,handleTabIdChange:t});return Object(o.createElement)(Ho,Ge({},r))},renderRightTopPanelTabs:function(e){var t=e.controller;return[t.run("renderTopicStyleEditor",e),t.run("renderThemeEditor",e)]},renderTopicStyleEditor:function(e){var t={id:"topic-style",key:"topic-style",title:"TopicStyle",panel:Object(o.createElement)(Or,Ge({},e))};return Object(o.createElement)(N.a,Ge({},t))},renderThemeEditor:function(e){var t={id:"theme-editor",key:"theme-editor",title:"Theme",panel:Object(o.createElement)(_r,Ge({},e))};return Object(o.createElement)(N.a,Ge({},t))}}}var jr=m()("plugin:utils");function Dr(){var e=new Map,t=new Map;return{addTempValueChangeListener:function(e){var n=e.key,o=e.listener;t.has(n)||t.set(n,[]),t.get(n).push(o)},removeTempValueChangeListener:function(e){var n=e.key,o=e.listener;t.has(n)&&(t[n]=t.get(n).filter((function(e){return e!==o})))},getTempValue:function(t){var n=t.key;return jr("getTempValue",n),e.get(n)},setTempValue:function(n){var o,r,i=n.key,a=n.value;if(jr("setTempValue",i),e.set(i,a),t.has(i)){var l=t.get(i);try{for(var c=Ue(l),u=c.next();!u.done;u=c.next()){(0,u.value)(a)}}catch(s){o={error:s}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}}},deleteTempValue:function(t){var n=t.key;jr("deleteTempValue",n);var o=e.get(n);return e.delete(n),o}}}var Rr=m()("plugin:StylePlugin");function Ir(){var e=new Map,t=0;return{getTopicStyle:function(e){var t=e.controller;return{contentStyle:t.run("getTopicContentStyle",e),linkStyle:t.run("getLinkStyle",e),subLinkStyle:t.run("getSubLinkStyle",e)}},getTopicContentStyle:function(e){var t=e.topicKey,n=e.model,o=e.controller;Rr("getTopicContentStyle:",t,n);var r,i=n.getTopicVisualLevel(t),a=n.config.theme;if(r=i===ee.ROOT?a.rootTopic:i===ee.PRIMARY?a.primaryTopic:a.normalTopic,r=Ge(Ge({},a.contentStyle),r.contentStyle),a.randomColor){var l=o.run("getRandomColor",e);r=Ge(Ge({},r),{background:l,borderColor:l,subLinkStyle:Ge(Ge({},r.subLinkStyle),{lineColor:l})})}var c=n.getTopic(t);if(!c.style)return r;var u=JSON.parse(c.style);return Ge(Ge({},r),u.contentStyle)},getLinkStyle:function(e){var t=e.topicKey,n=e.model,o=e.controller;Rr("getLinkStyle",t);var r,i=n.getTopicVisualLevel(t),a=n.config.theme,l=a.linkStyle;r=i===ee.ROOT?a.rootTopic.linkStyle:i===ee.PRIMARY?a.primaryTopic.linkStyle:a.normalTopic.linkStyle,l=Ge(Ge({},l),r);var c=n.getTopic(t);if(null!=c.parentKey){var u=o.run("getSubLinkStyle",Ge(Ge({},e),{topicKey:c.parentKey}));l=Ge(Ge({},l),u)}if(!c.style)return l;var s=JSON.parse(c.style);return Ge(Ge({},l),s.linkStyle)},getSubLinkStyle:function(e){var t=e.topicKey,n=e.model,o=e.controller;Rr("getLinkStyle",t);var r,i=n.getTopicVisualLevel(t),a=n.config.theme,l=a.linkStyle;r=i===ee.ROOT?a.rootTopic.subLinkStyle:i===ee.PRIMARY?a.primaryTopic.subLinkStyle:a.normalTopic.subLinkStyle,l=Ge(Ge({},l),r);var c=n.getTopic(t);if(a.randomColor){var u=o.run("getRandomColor",e);Rr(u),l=Ge(Ge({},l),{lineColor:u})}if(!c.style)return l;var s=JSON.parse(c.style);return Ge(Ge({},l),s.subLinkStyle)},setTopicContentStyle:function(e){var t=e.topicKey,n=e.controller,o=e.style,r=e.model.getTopic(t).style,i=r?JSON.parse(r):{},a=Ge(Ge({},i),{contentStyle:Ge(Ge({},i.contentStyle),o)});if(!Object(Fe.isEqual)(i,a)){var l=JSON.stringify(a);n.run("operation",Ge(Ge({},e),{opType:re.SET_STYLE,style:l}))}},setLinkStyle:function(e){var t=e.topicKey,n=e.controller,o=e.linkStyle,r=e.model.getTopic(t).style,i=r?JSON.parse(r):{},a=Ge(Ge({},i),{linkStyle:Ge(Ge({},i.linkStyle),o)});if(!Object(Fe.isEqual)(i,a)){var l=JSON.stringify(a);n.run("operation",Ge(Ge({},e),{opType:re.SET_STYLE,style:l}))}},setSubLinkStyle:function(e){var t=e.topicKey,n=e.controller,o=e.subLinkStyle,r=e.model.getTopic(t).style,i=r?JSON.parse(r):{},a=Ge(Ge({},i),{subLinkStyle:Ge(Ge({},i.subLinkStyle),o)});if(!Object(Fe.isEqual)(i,a)){var l=JSON.stringify(a);n.run("operation",Ge(Ge({},e),{opType:re.SET_STYLE,style:l}))}},getTopicThemeStyle:function(e){var t=e.topicKey,n=e.model,o=n.getTopicVisualLevel(t),r=n.config.theme;return o===ee.ROOT?r.rootTopic:o===ee.PRIMARY?r.primaryTopic:r.normalTopic},getRandomColor:function(n){var o=n.topicKey;if(e.has(o))return e.get(o);var r=["#00CC99","#FFEE88","#A167A5","#E5F993","#F5C396","#DB995A","#83BCFF","#ED7B84","#739E82","#D3BCC0","#FFA0FD","#EFD3D7","#C6878F"],i=r[++t%r.length];return e.set(o,i),Rr("getRandomColor",o,i),i},clearAllCustomStyle:function(e){var t=e.model,n=e.controller,o=t.withMutations((function(e){e.topics.keySeq().forEach((function(t){e.setIn(["topics",t,"style"],null)}))}));n.change(o)}}}function Pr(){return[[No(),Dr(),{renderTopicContextMenu:function(e){return Object(o.createElement)(rn,Ge({},e))},customizeTopicContextMenu:function(e){var t=e.topicKey,n=e.model,r=e.controller,i=t===n.editorRootTopicKey;function a(t){return function(n){t.opType&&r.run("operation",Ge(Ge({},e),{opType:t.opType}))}}return an.map((function(e){return i&&!e.rootCanUse?null:Object(o.createElement)(b.a,{key:e.label,icon:Rt(e.icon),text:e.label,labelElement:Object(o.createElement)("kbd",null,e.shortcut),onClick:a(e)})}))}},Sr(),hn()],{getPartTopics:function(e){var t=e.layout,n=e.model,o=e.topicKey,r=n.getTopic(o),i=r.subKeys.size,a=r.subKeys.toArray();switch(t){case Z.LEFT_TO_RIGHT:return{R:a};case Z.RIGHT_TO_LEFT:return{L:a};case Z.LEFT_AND_RIGHT:return{L:a.slice(Math.ceil(i/2),i),R:a.slice(0,Math.ceil(i/2))};case Z.TOP_TO_BOTTOM:return{B:a}}},createSubTopics:function(e){var t=e.model,n=e.topicKey,o=e.controller,r=e.topics,i=e.saveRef,a=t.getTopic(n);if(0===r.size||a.collapse)return null;var l=[];return r.forEach((function(t){var n=Ge(Ge({},e),{topicKey:t,key:t,ref:i(Lt(t))});l.push(o.run("renderTopicWidget",n))})),{subTopics:l}},layout:function(e){var t=e.getRef,n=e.model,o=t(Nt(n.editorRootTopicKey)),r=t(zt.FOCUS_HIGHLIGHT_KEY),i=t(zt.DROP_EFFECT_KEY);o&&o.layout(),r&&r.layout(),i&&i.layout(),function e(o){var r,i;if(o.key!==n.editorRootTopicKey){var a=t(Lt(o.key));a&&a.layoutLinks()}if(!o.collapse)try{for(var l=Ue(o.subKeys),c=l.next();!c.done;c=l.next()){var u=c.value;e(n.getTopic(u))}}catch(s){r={error:s}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}(n.getTopic(n.editorRootTopicKey))},setLayoutDir:function(e){var t=e.layoutDir,n=e.model;e.controller.change(de.setLayoutDir({model:n,layoutDir:t}))},getRelativeRect:function(e){var t=e.element,n=e.controller,o=e.getRef,r=n.run("getZoomFactor",e);return Qt(t,o(zt.DRAG_SCROLL_WIDGET_KEY).bigView,r)},getRelativeRectFromViewPort:function(e){var t=e.element,n=e.controller,o=e.getRef,r=n.run("getZoomFactor",e);return Qt(t,o(zt.DRAG_SCROLL_WIDGET_KEY).viewBox,r)},getRelativeVectorFromViewPort:function(e){return $t(e.element,(0,e.getRef)(zt.DRAG_SCROLL_WIDGET_KEY).viewBox)},addZoomFactorChangeEventListener:function(e){e.controller.run("addTempValueChangeListener",Ge({key:"ZoomFactor"},e))},removeZoomFactorChangeEventListener:function(e){e.controller.run("removeTempValueChangeListener",Ge({key:"ZoomFactor"},e))},setZoomFactor:function(e){var t=e.controller,n=e.zoomFactor;return t.run("setTempValue",{key:"ZoomFactor",value:n})},getZoomFactor:function(e){return e.controller.run("getTempValue",{key:"ZoomFactor"})||1},moveTopicToCenter:function(e){var t=e.getRef,n=e.topicKey,o=e.model;if(o.editorRootTopicKey!==n&&ue(o,n,o.editorRootTopicKey)!==oe.DESCENDANT)throw new Error("moveTopicToCenter error: topicKey "+n+" is not the DESCENDANT of editor root topic");var r=t(Kt(n)),i=t(zt.DRAG_SCROLL_WIDGET_KEY),a=i.viewBox;if(!r||!a)throw new Error("moveTopicToCenter error: topic or viewBox is null");var l=$t(r,a);i.setViewBoxScrollDelta(l[0],l[1])},focusTopicAndMoveToCenter:function(e){var t=e.controller,n=e.topicKey;t.run("operation",Ge(Ge({},e),{opArray:[{opType:re.FOCUS_TOPIC,topicKey:n,focusMode:ne.NORMAL},{opType:re.EXPAND_TO,topicKey:n}],callback:function(){t.run("moveTopicToCenter",Ge(Ge({},e),{topicKey:n}))}}))}},on(),Ir(),St(),tn(),{getValue:function(e,t){var n=e.propKey,o=e.controller;switch(n){case Gt.DIAGRAM_CUSTOMIZE_BASE_Z_INDEX:return 3;case Gt.TOPIC_CONTEXT_MENU_ENABLED:return o.run("isOperationEnabled",e);case Gt.TOPIC_TITLE:return o.run("getTopicTitle",e)}return t()}},Le()]}m()("node:Diagram");var Mr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resolveController=Object(A.a)((function(e,n){void 0===e&&(e=[]);var o=n();t.controller=new J({plugins:[e,o],construct:!1,onChange:t.props.onChange})})),t}return He(t,e),t.prototype.getDiagramProps=function(){return this.controller.run("getDiagramProps")},t.prototype.openNewModel=function(e){var t=this,n=this.getDiagramProps(),o=n.model,r=n.controller;r.run("deleteRefKey",Ge(Ge({},n),{topicKey:o.rootTopicKey})),r.run("operation",Ge(Ge({},n),{opType:re.EXPAND_TO,topicKey:e.focusKey,model:e,callback:function(){var e=t.getDiagramProps(),n=e.model;r.run("moveTopicToCenter",Ge(Ge({},e),{topicKey:n.focusKey}))}}))},t.prototype.render=function(){var e=this.props.plugins;return this.resolveController(e,Pr),this.diagramProps=Ge(Ge({},this.props),{controller:this.controller}),this.controller.run("renderDiagram",this.diagramProps)},t}(o.Component),Lr=n(400),Kr=n.n(Lr),Nr=n(412),Br=n.n(Nr),Ar=function(e,t){return(Ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Fr(e,t){function n(){this.constructor=e}Ar(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var zr=function(){return(zr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var Hr,Gr=m()("node:topic-content-editor"),Vr=f.c.div(Hr||(Hr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return!e.readOnly&&"\n    // padding: 75px\n    // min-width: 150px\n    // min-height: 150px\n  "})),Wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fr(t,e),t.prototype.initState=function(){e.prototype.initState.call(this);var t=this.props,n=t.controller,o="topic-desc-data-"+t.topicKey,r=this.state.content;n.run("setTempValue",{key:o,value:r})},t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey;return{block:t.getTopic(n).getBlock(te.DESC).block,readOnly:t.editingDescKey!==n,getRefKeyFunc:Mt,placeholder:"write topic notes here"}},t.prototype.onChange=function(e){var t=this.props,n=t.controller,o="topic-desc-data-"+t.topicKey;n.run("setTempValue",{key:o,value:e}),this.setState({content:e})},t}(function(e){function t(t){var n=e.call(this,t)||this;return n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){e.stopPropagation()},n.rootRef=function(e){return function(t){e(t),n.root=t}},n._handleClick=function(e){!n.root.contains(e.target)&&n.onClickOutSide(e)},n.initState(),n}return Fr(t,e),t.prototype.initState=function(){this.state={content:this.getContent()}},t.prototype.getContent=function(){return this.getCustomizeProps().block.data},t.prototype.onChange=function(e){this.setState({content:e})},t.prototype.getCustomizeProps=function(){return null},t.prototype.componentDidMount=function(){document.addEventListener("click",this._handleClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this._handleClick)},t.prototype.onClickOutSide=function(e){},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef,r=this.getCustomizeProps(),i=r.readOnly,a=r.getRefKeyFunc,l=r.placeholder;Gr("readOnly:",i);var c=i?this.getContent():this.state.content;if(null==c)return null;var u=a(t),s=this.onMouseDown,p=this.onMouseMove,d={editorValue:c,readOnly:i,onChange:this.onChange.bind(this),placeholder:l},f={key:u,ref:this.rootRef(n(u)),readOnly:i,onMouseDown:s,onMouseMove:p};return Object(o.createElement)(Vr,zr({},f),Object(o.createElement)(Kr.a,zr({},d)))},t}(ut)),Ur=new Br.a;var Yr=function(){return{renderTopicDescEditor:function(e){return Object(o.createElement)(Wr,zr({},e))},isBlockEmpty:function(e,t){var n=e.block,o=e.controller;return n.type===te.CONTENT||n.type===te.DESC?null==n.data||""===o.run("serializeBlockData",e):t()},serializeBlockData:function(e,t){var n=e.block;return n.type===te.DESC?"string"===typeof n.data?n.data:Ur.serialize(n.data):t()}}},qr=function(){return(qr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Zr=m()("plugin:json-serializer");var Jr={name:"default",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5",fontSize:"16px"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"36px"},subLinkStyle:{lineType:"curve",lineWidth:"3px"}},primaryTopic:{contentStyle:{fontSize:"24px"},subLinkStyle:{lineType:"curve",lineWidth:"3px"}},normalTopic:{subLinkStyle:{lineType:"curve",lineWidth:"3px"}}},Xr={name:"theme1",randomColor:!1,background:"rgb(250,245,205)",highlightColor:"#50C9CE",marginH:50,marginV:30,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"rgb(221, 170, 68)",color:"#fff",fontSize:"34px",borderRadius:"5px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"rgb(221, 170, 68)"}},primaryTopic:{contentStyle:{background:"#e8eaec",borderWidth:"2px",borderStyle:"solid",borderColor:"rgb(221, 170, 68)",borderRadius:"5px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"rgb(221, 170, 68)"}},normalTopic:{contentStyle:{background:"#fff",border:"1px solid #e8eaec",borderRadius:"20px",color:"rgb(187, 136, 34)",fontSize:"13px",padding:"4px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"rgb(187, 136, 34)"}}},Qr={name:"theme2",randomColor:!1,background:"#f8f8f8",highlightColor:"#50C9CE",marginH:45,marginV:10,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#50C18A",color:"#fff",fontSize:"34px",borderRadius:"5px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#ffffff",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(221, 170, 68)",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#fff",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}},$r={name:"theme3",randomColor:!1,background:"#A9DEF9",highlightColor:"#50C9CE",marginH:50,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#FF99C8",color:"#fff",fontSize:"34px",borderRadius:"5px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#FCF6BD",borderWidth:"1px",borderStyle:"solid",borderColor:"#E4C1F9",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#E4FDE1",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}},ei={name:"theme3",randomColor:!1,background:"#CCFBFE",highlightColor:"#50C9CE",marginH:50,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#CD8987",color:"#fff",fontSize:"34px",borderRadius:"5px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#CDACA1",borderWidth:"1px",borderStyle:"solid",borderColor:"#E4C1F9",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"line",lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#CDCACC",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc"},subLinkStyle:{lineType:"line",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}};var ti=n(395),ni=n(413),oi=n(26),ri=n(21),ii=(n(1046),n(48)),ai=n(100),li=n(80),ci=function(e,t){return(ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ui(e,t){function n(){this.constructor=e}ci(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var si=function(){return(si=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function pi(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var di="FOCUS_MODE_EDITING_TOPOLOGY",fi="OP_TYPE_START_EDITING_TOPOLOGY",hi="TOPOLOGY",mi="TOPOLOGY_DIAGRAM",yi="TOPOLOGY_DIAGRAM_UTIL";function gi(e){var t=e.controller,n=e.model,r=e.topicKey,i=n.focusKey===r&&n.focusMode===di,a=n.getTopic(r).getBlock(hi).block;if(!i&&!a)return null;var l={className:Dt("topology"),onClick:function(n){n.stopPropagation(),t.run("operation",si(si({},e),{opType:fi}))},tabIndex:-1};return Object(o.createElement)(xt,si({},l))}var bi,vi,Oi,wi,Ei,ki,xi,Ti,Ci,_i,Si=[{group:"Basic",children:[{name:"rectangle",icon:"icon-rect",data:{text:"Topology",rect:{width:100,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"rectangle",icon:"\ue64d",iconFamily:"topology",iconColor:"#2f54eb"}},{name:"rectangle",icon:"icon-rectangle",data:{text:"rectangle",rect:{width:200,height:50},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,borderRadius:.1,name:"rectangle"}},{name:"circle",icon:"icon-circle",data:{text:"circle",rect:{width:100,height:100},name:"circle",textMaxLine:1}},{name:"triangle",icon:"icon-triangle",data:{text:"triangle",rect:{width:100,height:100},name:"triangle"}},{name:"diamond",icon:"icon-diamond",data:{text:"diamond",rect:{width:100,height:100},name:"diamond"}},{name:"pentagon",icon:"icon-pentagon",data:{text:"pentagon",rect:{width:100,height:100},name:"pentagon"}},{name:"hexagon",icon:"icon-hexagon",data:{text:"hexagon",rect:{width:100,height:100},paddingTop:10,paddingBottom:10,name:"hexagon"}},{name:"pentagram",icon:"icon-pentagram",data:{text:"pentagram",rect:{width:100,height:100},name:"pentagram"}},{name:"left arrow",icon:"icon-arrow-left",data:{text:"",rect:{width:200,height:100},name:"leftArrow"}},{name:"right arrow",icon:"icon-arrow-right",data:{text:"",rect:{width:200,height:100},name:"rightArrow"}},{name:"bidirectional arrow",icon:"icon-twoway-arrow",data:{text:"",rect:{width:200,height:100},name:"twowayArrow"}},{name:"line",icon:"icon-line",data:{text:"line",rect:{width:100,height:100},name:"line"}},{name:"cloud",icon:"icon-cloud",data:{text:"cloud",rect:{width:100,height:100},name:"cloud"}},{name:"message",icon:"icon-msg",data:{text:"message",rect:{width:100,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"message"}},{name:"file",icon:"icon-file",data:{text:"file",rect:{width:80,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"file"}},{name:"text",icon:"icon-text",data:{text:"text",rect:{width:160,height:30},name:"text"}},{name:"image",icon:"icon-image",data:{text:"",rect:{width:100,height:100},name:"image",image:"/assets/img/logo.png"}},{name:"cube",icon:"icon-cube",data:{rect:{width:50,height:70},is3D:!0,z:10,zRotate:15,fillStyle:"#ddd",name:"cube",icon:"\ue63c",iconFamily:"topology",iconColor:"#777",iconSize:30}},{name:"people",icon:"icon-people",data:{rect:{width:70,height:100},name:"people"}},{name:"multi media",icon:"icon-pc",data:{text:"multi media",rect:{width:200,height:200},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"div"}}]},{group:"Flow Graph",children:[{name:"start/end",icon:"icon-flow-start",data:{text:"start",rect:{width:120,height:40},borderRadius:.5,name:"rectangle"}},{name:"flow",icon:"icon-rectangle",data:{text:"flow",rect:{width:120,height:40},name:"rectangle"}},{name:"judgement",icon:"icon-diamond",data:{text:"judgement",rect:{width:120,height:60},name:"diamond"}},{name:"data",icon:"icon-flow-data",data:{text:"data",rect:{width:120,height:50},name:"flowData"}},{name:"prepare",icon:"icon-flow-ready",data:{text:"prepare",rect:{width:120,height:50},name:"hexagon"}},{name:"sub flow",icon:"icon-flow-subprocess",data:{text:"sub flow",rect:{width:120,height:50},name:"flowSubprocess"}},{name:"database",icon:"icon-db",data:{text:"database",rect:{width:80,height:120},name:"flowDb"}},{name:"document",icon:"icon-flow-document",data:{text:"document",rect:{width:120,height:100},name:"flowDocument"}},{name:"internal storage",icon:"icon-internal-storage",data:{text:"internal storage",rect:{width:120,height:80},name:"flowInternalStorage"}},{name:"external storage",icon:"icon-extern-storage",data:{text:"external storage",rect:{width:120,height:80},name:"flowExternStorage"}},{name:"queue",icon:"icon-flow-queue",data:{text:"queue",rect:{width:100,height:100},name:"flowQueue"}},{name:"input manually",icon:"icon-flow-manually",data:{text:"input manually",rect:{width:120,height:80},name:"flowManually"}},{name:"display",icon:"icon-flow-display",data:{text:"display",rect:{width:120,height:80},name:"flowDisplay"}},{name:"parallel",icon:"icon-flow-parallel",data:{text:"parallel",rect:{width:120,height:50},name:"flowParallel"}},{name:"comment",icon:"icon-flow-comment",data:{text:"comment",rect:{width:100,height:100},name:"flowComment"}}]},{group:"Activity Diagram",children:[{name:"start",icon:"icon-inital",data:{text:"",rect:{width:30,height:30},name:"circle",fillStyle:"#555",strokeStyle:"transparent"}},{name:"end",icon:"icon-final",data:{text:"",rect:{width:30,height:30},name:"activityFinal"}},{name:"action",icon:"icon-action",data:{text:"action",rect:{width:120,height:50},borderRadius:.25,name:"rectangle"}},{name:"decision/merge",icon:"icon-diamond",data:{text:"\u51b3\u7b56",rect:{width:120,height:50},name:"diamond"}},{name:"vertical swimming lane",icon:"icon-swimlane-v",data:{text:"vertical swimming lane",rect:{width:200,height:500},name:"swimlaneV"}},{name:"horizontal swimming lane",icon:"icon-swimlane-h",data:{text:"horizontal swimming lane",rect:{width:500,height:200},name:"swimlaneH"}},{name:"vertical fork/merge",icon:"icon-fork-v",data:{text:"",rect:{width:10,height:150},name:"forkV",fillStyle:"#555",strokeStyle:"transparent"}},{name:"horizontal fork/merge",icon:"icon-fork",data:{text:"",rect:{width:150,height:10},name:"forkH",fillStyle:"#555",strokeStyle:"transparent"}}]},{group:"Sequence Diagram && Class Diagram",children:[{name:"lifeline",icon:"icon-lifeline",data:{text:"lifeline",rect:{width:150,height:400},name:"lifeline"}},{name:"activation",icon:"icon-focus",data:{text:"",rect:{width:12,height:200},name:"sequenceFocus"}},{name:"simple class",icon:"icon-simple-class",data:{text:"Topolgoy",rect:{width:270,height:200},paddingTop:40,font:{fontFamily:"Arial",color:"#222",fontWeight:"bold"},fillStyle:"#ffffba",strokeStyle:"#7e1212",name:"simpleClass",children:[{text:"- name: string\n+ setName(name: string): void",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:0,width:"100%",height:"100%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}}]}},{name:"class",icon:"icon-class",data:{text:"Topolgoy",rect:{width:270,height:200},paddingTop:40,font:{fontFamily:"Arial",color:"#222",fontWeight:"bold"},fillStyle:"#ffffba",strokeStyle:"#7e1212",name:"interfaceClass",children:[{text:"- name: string",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:0,width:"100%",height:"50%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}},{text:"+ setName(name: string): void",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:"50%",width:"100%",height:"50%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}}]}}]}],ji=f.c.div(bi||(bi=pi(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n"],["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]))),Di=f.c.div(vi||(vi=pi(["\n  flex: 1;\n  width: initial;\n  position: relative;\n  overflow: auto;\n  background: #fff;\n"],["\n  flex: 1;\n  width: initial;\n  position: relative;\n  overflow: auto;\n  background: #fff;\n"]))),Ri=f.c.div(Oi||(Oi=pi(["\n  flex-shrink: 0;\n  width: 1.75rem;\n  background-color: #f8f8f8;\n  border-right: 1px solid #d9d9d9;\n  overflow-y: auto;\n"],["\n  flex-shrink: 0;\n  width: 1.75rem;\n  background-color: #f8f8f8;\n  border-right: 1px solid #d9d9d9;\n  overflow-y: auto;\n"]))),Ii=f.c.div(wi||(wi=pi(["\n  color: #0d1a26;\n  font-weight: 600;\n  font-size: 0.12rem;\n  padding: 0.05rem 0.1rem;\n  margin-top: 0.08rem;\n  border-bottom: 1px solid #ddd;\n\n  &:first-child {\n    border-top: none;\n  }\n"],["\n  color: #0d1a26;\n  font-weight: 600;\n  font-size: 0.12rem;\n  padding: 0.05rem 0.1rem;\n  margin-top: 0.08rem;\n  border-bottom: 1px solid #ddd;\n\n  &:first-child {\n    border-top: none;\n  }\n"]))),Pi=f.c.div(Ei||(Ei=pi(["\n  padding: 0.1rem 0;\n  a {\n    display: inline-block;\n    color: @text-color;\n    line-height: 1;\n    width: 0.4rem;\n    height: 0.4rem;\n    text-align: center;\n    text-decoration: none !important;\n\n    .iconfont {\n      font-size: 0.24rem;\n    }\n  }\n"],["\n  padding: 0.1rem 0;\n  a {\n    display: inline-block;\n    color: @text-color;\n    line-height: 1;\n    width: 0.4rem;\n    height: 0.4rem;\n    text-align: center;\n    text-decoration: none !important;\n\n    .iconfont {\n      font-size: 0.24rem;\n    }\n  }\n"]))),Mi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={id:"",data:null,toolsConfig:Si,iconfont:{fontSize:"0.24rem"}},t.canvasOptions={},t.handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},t.onMessage=function(e,n){var o=(0,t.props.getRef)(yi);switch(e){case"resize":case"scale":case"locked":t.topology&&o&&o.setCanvasData(t.topology.data)}},t}return ui(t,e),t.prototype.canvasRegister=function(){Object(oi.registerNode)("flowData",ri.flowData,ri.flowDataAnchors,ri.flowDataIconRect,ri.flowDataTextRect),Object(oi.registerNode)("flowSubprocess",ri.flowSubprocess,null,ri.flowSubprocessIconRect,ri.flowSubprocessTextRect),Object(oi.registerNode)("flowDb",ri.flowDb,null,ri.flowDbIconRect,ri.flowDbTextRect),Object(oi.registerNode)("flowDocument",ri.flowDocument,ri.flowDocumentAnchors,ri.flowDocumentIconRect,ri.flowDocumentTextRect),Object(oi.registerNode)("flowInternalStorage",ri.flowInternalStorage,null,ri.flowInternalStorageIconRect,ri.flowInternalStorageTextRect),Object(oi.registerNode)("flowExternStorage",ri.flowExternStorage,ri.flowExternStorageAnchors,ri.flowExternStorageIconRect,ri.flowExternStorageTextRect),Object(oi.registerNode)("flowQueue",ri.flowQueue,null,ri.flowQueueIconRect,ri.flowQueueTextRect),Object(oi.registerNode)("flowManually",ri.flowManually,ri.flowManuallyAnchors,ri.flowManuallyIconRect,ri.flowManuallyTextRect),Object(oi.registerNode)("flowDisplay",ri.flowDisplay,ri.flowDisplayAnchors,ri.flowDisplayIconRect,ri.flowDisplayTextRect),Object(oi.registerNode)("flowParallel",ri.flowParallel,ri.flowParallelAnchors,null,null),Object(oi.registerNode)("flowComment",ri.flowComment,ri.flowCommentAnchors,null,null),Object(oi.registerNode)("activityFinal",ii.activityFinal,null,ii.activityFinalIconRect,ii.activityFinalTextRect),Object(oi.registerNode)("swimlaneV",ii.swimlaneV,null,ii.swimlaneVIconRect,ii.swimlaneVTextRect),Object(oi.registerNode)("swimlaneH",ii.swimlaneH,null,ii.swimlaneHIconRect,ii.swimlaneHTextRect),Object(oi.registerNode)("forkH",ii.fork,ii.forkHAnchors,ii.forkIconRect,ii.forkTextRect),Object(oi.registerNode)("forkV",ii.fork,ii.forkVAnchors,ii.forkIconRect,ii.forkTextRect),Object(oi.registerNode)("simpleClass",ai.simpleClass,null,ai.simpleClassIconRect,ai.simpleClassTextRect),Object(oi.registerNode)("interfaceClass",ai.interfaceClass,null,ai.interfaceClassIconRect,ai.interfaceClassTextRect),Object(oi.registerNode)("lifeline",li.lifeline,li.lifelineAnchors,li.lifelineIconRect,li.lifelineTextRect),Object(oi.registerNode)("sequenceFocus",li.sequenceFocus,li.sequenceFocusAnchors,li.sequenceFocusIconRect,li.sequenceFocusTextRect)},t.prototype.componentDidMount=function(){this.canvasRegister(),this.canvasOptions.on=this.onMessage,this.topology=new ni.Topology("topology-canvas",this.canvasOptions),this.openData()},t.prototype.componentDidUpdate=function(){this.openData()},t.prototype.openData=function(){var e=this.props,t=e.model,n=e.topicKey,o=t.getTopic(n).getBlock(hi).block;o&&o.data&&""!==o.data&&(this.setState({data:o.data}),this.topology.open(o.data))},t.prototype.onDrag=function(e,t){e.dataTransfer.setData("Text",JSON.stringify(t.data))},t.prototype.renderTools=function(){var e=this;return Object(o.createElement)(Ri,null,this.state.toolsConfig.map((function(t,n){return Object(o.createElement)("div",{key:n},Object(o.createElement)(Ii,null,t.group),Object(o.createElement)(Pi,null,t.children.map((function(t,n){return Object(o.createElement)("a",{key:n,title:t.name,draggable:!0,onDragStart:function(n){e.onDrag(n,t)}},Object(o.createElement)("i",{className:"iconfont "+t.icon,style:e.state.iconfont}))}))))})))},t.prototype.render=function(){return Object(o.createElement)(ji,null,this.renderTools(),Object(o.createElement)(Di,{id:"topology-canvas",onContextMenu:this.handleContextMenu}))},t}(ut),Li=f.c.div(ki||(ki=pi(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  z-index: 3;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  z-index: 3;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"]))),Ki=Object(f.c)(Ot)(xi||(xi=pi(["\n  margin: 10px;\n"],["\n  margin: 10px;\n"]))),Ni=function(e){return Object(o.createElement)(w.a,{content:e.tooltip,position:D.a.TOP,className:_.a.ICON},Object(o.createElement)(Ki,{onClick:e.onClick},e.children))},Bi=f.c.span(Ti||(Ti=pi(["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"],["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"]))),Ai=function(e){function t(t){var n=e.call(this,t)||this;return n.setCanvasData=function(e){n.setState({canvasData:e})},n.onClickResetZoom=function(e){n.getTopology().scaleTo(1)},n.state={deleteConfirm:!1,canvasData:null},n}return ui(t,e),t.prototype.getTopology=function(){return(0,this.props.getRef)(mi).topology},t.prototype.render=function(){var e=this,t=this.props,n=t.controller,r={isOpen:this.state.deleteConfirm,cancelButtonText:"cancel",onConfirm:function(e){n.run("operation",si(si({},t),{opType:re.DELETE_TOPIC_BLOCK,blockType:hi}))},onCancel:function(t){e.setState({deleteConfirm:!1})},onClose:function(t){e.setState({deleteConfirm:!1})}},i=this.state.canvasData,a=i?i.scale:1;return Object(o.createElement)(Li,null,Object(o.createElement)(Ni,{onClick:this.onClickResetZoom,tooltip:"reset zoom"},Object(o.createElement)(Bi,null,"zoom:"+Math.floor(100*a)+"%")),Object(o.createElement)(Ni,{onClick:function(t){e.setState({deleteConfirm:!0})},tooltip:"delete this diagram"},Rt(jt.TRASH)),Object(o.createElement)(B.a,si({},r),Object(o.createElement)("p",null,"Are you confirm to delete this topology diagram?")))},t}(o.Component),Fi=f.c.div(Ci||(Ci=pi(["\n  position: relative;\n  overflow: auto;\n  padding: 0px 0px 0px 5px;\n  background: #88888850;\n  height: 100%;\n"],["\n  position: relative;\n  overflow: auto;\n  padding: 0px 0px 0px 5px;\n  background: #88888850;\n  height: 100%;\n"]))),zi=f.c.span(_i||(_i=pi(["\n  padding: 0px 20px;\n"],["\n  padding: 0px 20px;\n"])));function Hi(e){var t=e.controller,n=e.topicKey,r=e.getRef,i=e.saveRef,a=si(si({},e),{ref:i(mi)}),l=si(si({},e),{ref:i(yi)});return Object(o.createElement)(R.a,{title:Object(o.createElement)(zi,null,"Topology Diagram Editor"),icon:Rt("topology"),isOpen:!0,hasBackdrop:!0,backdropClassName:"backdrop",backdropProps:{onMouseDown:Vt},canOutsideClickClose:!1,isCloseButtonShown:!0,onClose:function(o){o.stopPropagation();var i=r(mi).topology.data;t.run("operation",si(si({},e),{opType:re.SET_TOPIC_BLOCK,topicKey:n,blockType:hi,data:i,focusMode:ne.NORMAL}))},size:"100%"},Object(o.createElement)(Fi,{onClick:Vt,onDoubleClick:Vt},Object(o.createElement)(Mi,si({},a)),Object(o.createElement)(Ai,si({},l))))}function Gi(e){var t=e.model,n=e.topicKey,o=t.getTopic(n).getBlock(hi).block;return null!=o&&null!=o.data||(t=de.setBlockData({model:t,topicKey:n,blockType:hi,data:""})),t=de.focusTopic({model:t,topicKey:n,focusMode:di})}var Vi=function(){return{renderTopicBlock:function(e,t){var n=e.controller;return e.block.type===hi?n.run("renderTopicBlockTopology",e):t()},renderTopicBlockTopology:function(e){return Object(o.createElement)(gi,si({},e))},renderDrawer:function(e,t){var n=e.model;if(n.focusMode===di){var r=si(si({},e),{topicKey:n.focusKey,key:"topology-drawer"});return Object(o.createElement)(Hi,si({},r))}return t()},customizeTopicContextMenu:function(e,t){var n=e.controller;return Object(o.createElement)(o.Fragment,null,t(),Object(o.createElement)(ti.a,null),Object(o.createElement)(b.a,{icon:Rt("topology"),text:"Edit Topology Diagram",onClick:function(t){n.run("operation",si(si({},e),{opType:fi}))}}))},getOpMap:function(e,t){var n=t();return n.set(fi,Gi),n}}},Wi=n(1097),Ui=function(e,t){return(Ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Yi(e,t){function n(){this.constructor=e}Ui(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var qi=function(){return(qi=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Zi(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function Ji(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Xi,Qi,$i="FOCUS_MODE_SET_REFERENCE_TOPICS",ea="OP_TYPE_START_SET_REFERENCE_TOPICS",ta="OP_TYPE_SET_REFERENCE_TOPICS",na="TOPIC_REFERENCE",oa="EXT_KEY_TOPIC_REFERENCE",ra=Object(f.c)(Tt)(Xi||(Xi=Ji(["\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 30px;\n  width: 300px;\n  background: white;\n  padding: 10px;\n  user-select: none;\n"],["\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 30px;\n  width: 300px;\n  background: white;\n  padding: 10px;\n  user-select: none;\n"]))),ia=f.c.div(Qi||(Qi=Ji(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"])));function aa(e){var t=e.zIndex,n=e.controller,r=e.topicKey;return Object(o.createElement)(ra,{zIndex:t},Object(o.createElement)(ia,null,"Please select the topics you want to reference. After selection, click the confirm button."),Object(o.createElement)(yt,{justifyContent:"space-around"},Object(o.createElement)(M.a,{onClick:function(t){var o=n.run("getSelectedReferenceKeys",e);n.run("enableOperation",e),n.run("operation",qi(qi({},e),{opArray:[{opType:ta,topicKey:r,referenceKeys:o},{opType:re.FOCUS_TOPIC,topicKey:r,focusMode:ne.NORMAL}]})),n.run("clearSelectedReferenceKeys",e)}},"Confirm"),Object(o.createElement)(M.a,{onClick:function(t){n.run("clearSelectedReferenceKeys",e),n.run("enableOperation",e),n.run("operation",qi(qi({},e),{opType:re.SET_FOCUS_MODE,focusMode:ne.NORMAL}))}},"Cancel")))}var la={keyList:Object(z.List)(),dataMap:Object(z.Map)()},ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yi(t,e),Object.defineProperty(t.prototype,"keyList",{get:function(){return this.get("keyList")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this.get("dataMap")},enumerable:!0,configurable:!0}),t}(Object(z.Record)(la)),ua={reference:Object(z.Map)()},sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yi(t,e),Object.defineProperty(t.prototype,"reference",{get:function(){return this.get("reference")},enumerable:!0,configurable:!0}),t.prototype.getReferenceKeys=function(e){return this.reference.has(e)?this.reference.get(e).keyList.toArray():[]},t.prototype.getReferencedKeys=function(e){var t=[];return this.reference.forEach((function(n,o){n.keyList.includes(e)&&t.push(o)})),t},t}(Object(z.Record)(ua));function pa(e){var t=e.model,n=e.topicKey,o=e.referenceKeys,r=t.getExtDataItem(na,sa),i=r.reference.get(n)||new ca;return i=i.set("keyList",Object(z.List)(o)),r=r.setIn(["reference",n],i),t=t.setIn(["extData",na],r)}var da,fa,ha,ma=f.c.div(da||(da=Ji(["\n  display: flex;\n  width: 380px;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  width: 380px;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n"]))),ya=f.c.div(fa||(fa=Ji(["\n  width: 300px;\n  text-decoration: underline;\n  cursor: pointer;\n"],["\n  width: 300px;\n  text-decoration: underline;\n  cursor: pointer;\n"]))),ga=f.c.div(ha||(ha=Ji(["\n  width: 80px;\n"],["\n  width: 80px;\n"])));function ba(e){var t=e.controller,n=e.refKey,r=e.refType,i=e.removeHandler,a=Zi(Object(o.useState)(!1),2),l=a[0],c=a[1],u=t.getValue(Gt.TOPIC_TITLE,qi(qi({},e),{topicKey:n,maxLength:100})),s={isOpen:l,cancelButtonText:"cancel",onConfirm:function(e){i(e)},onCancel:function(e){c(!1)},onClose:function(e){c(!1)}};return Object(o.createElement)(ma,null,Object(o.createElement)(ya,{onClick:function(o){o.stopPropagation(),t.run("focusTopicAndMoveToCenter",qi(qi({},e),{topicKey:n}))}},u),Object(o.createElement)(ga,null,"reference"===r&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(M.a,{onClick:function(e){c(!0)}},"Remove"),Object(o.createElement)(B.a,qi({},s),Object(o.createElement)("p",null,"Are you confirm to remove this reference?")))))}var va,Oa,wa,Ea,ka,xa=f.c.div(va||(va=Ji([""],[""]))),Ta=f.c.div(Oa||(Oa=Ji(["\n  padding: 10px;\n"],["\n  padding: 10px;\n"]))),Ca=f.c.div(wa||(wa=Ji(["\n  max-height: 200px;\n  overflow: auto;\n"],["\n  max-height: 200px;\n  overflow: auto;\n"]))),_a=f.c.div(Ea||(Ea=Ji(["\n  font-size: 20px;\n  color: #106ba3;\n"],["\n  font-size: 20px;\n  color: #106ba3;\n"]))),Sa=f.c.div(ka||(ka=Ji(["\n  text-decoration: underline;\n  color: #106ba3;\n  cursor: pointer;\n"],["\n  text-decoration: underline;\n  color: #106ba3;\n  cursor: pointer;\n"])));function ja(e){var t=e.topicKey,n=e.controller,r=e.model,i=r.extData.get(na),a=i.getReferenceKeys(t),l=0===a.length?null:Object(o.createElement)(Ta,null,Object(o.createElement)(_a,null,"Reference Topics:"),Object(o.createElement)(Ca,null,a.map((function(r){var a,l=qi(qi({},e),{key:r,refKey:r,refType:"reference",removeHandler:(a=r,function(o){o.stopPropagation();var r=i.reference.get(t).keyList;n.run("operation",qi(qi({},e),{opArray:[{opType:ta,topicKey:t,focusMode:ne.NORMAL,referenceKeys:r.delete(r.indexOf(a)).toArray()}]}))})});return Object(o.createElement)(ba,qi({},l))})))),c=i.getReferencedKeys(t),u=0===c.length?null:Object(o.createElement)(Ta,null,Object(o.createElement)(_a,null,"Referenced Topics:"),Object(o.createElement)(Ca,null,c.map((function(t){var n=qi(qi({},e),{key:t,refKey:t,refType:"referenced"});return Object(o.createElement)(ba,qi({},n))})))),s=r.focusKey!==t&&Object(o.createElement)(Ta,null,Object(o.createElement)(Sa,{onClick:function(t){t.stopPropagation(),n.run("focusTopicAndMoveToCenter",e)}},"Goto Origin Topic"));return Object(o.createElement)(xa,{onMouseDown:Vt},l,u,s)}function Da(e){var t=e.model,n=e.topicKey,r=t.extData.get(na)||new sa,i=r.reference.get(n),a=[];if(r.reference.forEach((function(e,t){e.keyList.includes(n)&&a.push(t)})),(null==i||0===i.keyList.size)&&0===a.length)return null;var l={className:Dt("reference"),tabIndex:-1},c=Object(o.createElement)(xt,qi({},l)),u={autoFocus:!1,content:Object(o.createElement)(ja,qi({},e)),target:c,interactionKind:j.b.CLICK,hoverOpenDelay:500};return Object(o.createElement)(j.a,qi({},u))}function Ra(e){var t=e.topicKey,n=e.selectedTopicKeys,r=n.has(t),i=Zi(Object(o.useState)(r),2),a=i[0],l=i[1],c={checked:a,onChange:function(){n.has(t)?n.delete(t):n.add(t),l(!a)}};return Object(o.createElement)(wt,qi({},c))}var Ia,Pa,Ma,La,Ka,Na=Wi.a.ofType(),Ba=Object(f.c)(Na)(Ia||(Ia=Ji(["\n  top: 20%;\n  left: 25% !important;\n  width: 50% !important;\n"],["\n  top: 20%;\n  left: 25% !important;\n  width: 50% !important;\n"]))),Aa=f.c.div(Pa||(Pa=Ji(["\n  margin: 0 5px;\n  padding: 10px 5px;\n  width: 100%;\n  font-size: 16px;\n  cursor: pointer;\n  &:hover {\n    background: #e3e8ec;\n  }\n"],["\n  margin: 0 5px;\n  padding: 10px 5px;\n  width: 100%;\n  font-size: 16px;\n  cursor: pointer;\n  &:hover {\n    background: #e3e8ec;\n  }\n"]))),Fa=Object(f.c)(j.a)(Ma||(Ma=Ji(["\n  display: block;\n"],["\n  display: block;\n"]))),za=f.c.div(La||(La=Ji(["\n  padding: 10px;\n  font-size: 16px;\n  //max-width: 800px;\n  //max-height: 600px;\n  overflow: auto;\n"],["\n  padding: 10px;\n  font-size: 16px;\n  //max-width: 800px;\n  //max-height: 600px;\n  overflow: auto;\n"]))),Ha=f.c.div(Ka||(Ka=Ji(["\n  white-space: break-spaces;\n"],["\n  white-space: break-spaces;\n"]))),Ga={placeholder:"Search"};function Va(e){var t=e.model,n=(e.setSearchWord,e.controller),r=function(t){return function(o){n.run("focusTopicAndMoveToCenter",qi(qi({},e),{topicKey:t}))}},i=function(){var o=[];return t.topics.forEach((function(t,r){o.push({key:r,title:n.run("getTopicTitle",qi(qi({},e),{topicKey:r}))})})),o}();return Object(o.createElement)(Ba,{inputProps:Ga,itemListPredicate:function(e,t){return t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}))},isOpen:!0,items:i,itemRenderer:function(e,t){var n=e.key,i=e.title,a=i.length>100,l=a?i.substr(0,100)+"...":i,c={key:n,onClick:r(n)},u=Object(o.createElement)(Aa,qi({},c),l),s={key:n,target:u,content:Object(o.createElement)(za,null,Object(o.createElement)(Ha,null,i)),fill:!0,interactionKind:j.b.HOVER_TARGET_ONLY,hoverOpenDelay:1e3};return a?Object(o.createElement)(Fa,qi({},s)):u},onClose:function(){n.run("operation",qi(qi({},e),{opType:re.SET_FOCUS_MODE,focusMode:ne.NORMAL}))},resetOnSelect:!0})}var Wa="DEFAULT_SEARCH",Ua="FOCUS_MODE_SEARCH";var Ya=n(20),qa=n.n(Ya);n(1067);function Za(e){return r.a.createElement("div",{className:"bm-toolbar-item ".concat(Dt("openfile")),onClick:function(t){var n=e.diagram,o=n.getDiagramProps().controller;Ut(".json,.blinkmind,.bm").then((function(e){var t=JSON.parse(e),r=o.run("deserializeModel",{controller:o,obj:t});n.openNewModel(r)}))}})}var Ja=n(85),Xa=n(253),Qa=n(416),$a=n(424);function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function tl(e){var t=[[Z.LEFT_AND_RIGHT,"Left And Right","layout-left-and-right"],[Z.LEFT_TO_RIGHT,"Only Right","layout-right"],[Z.RIGHT_TO_LEFT,"Only Left","layout-left"]],n=function(t){return function(n){var o=e.diagram.getDiagramProps();o.controller.run("setLayoutDir",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(n,!0).forEach((function(t){Object(Ja.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{layoutDir:t}))}};return r.a.createElement("div",{className:qa()("bm-toolbar-item",Dt("layout-left-and-right"))},r.a.createElement(Xa.a,{enforceFocus:!1},r.a.createElement("div",{className:"bm-toolbar-popover-target"}),r.a.createElement(Qa.a,null,t.map((function(e){return r.a.createElement($a.a,{key:e[1],icon:Rt(e[2]),text:e[1],onClick:n(e[0])})})))))}var nl=n(417),ol=n.n(nl),rl=n(418),il=n.n(rl),al=n(419),ll=n.n(al),cl=n(420),ul=n.n(cl),sl=n(421),pl=n.n(sl);function dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function fl(e){var t=function(t){return function(n){var o=e.diagram.getDiagramProps();o.controller.run("setTheme",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dl(n,!0).forEach((function(t){Object(Ja.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{themeKey:t}))}},n=[["default",ol.a],["theme1",il.a],["theme2",ll.a],["theme3",ul.a],["theme4",pl.a]];return r.a.createElement("div",{className:qa()("bm-toolbar-item",Dt("theme"))},r.a.createElement(Xa.a,{enforceFocus:!1},r.a.createElement("div",{className:"bm-toolbar-popover-target"}),r.a.createElement("div",{className:"bm-popover-theme"},n.map((function(e){return r.a.createElement("div",{key:e[0],className:"bm-theme-item",onClick:t(e[0])},r.a.createElement("img",{className:"bm-theme-img",src:e[1],alt:e[0]}))})))))}var hl=n(430),ml=function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()};function yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function gl(e){return r.a.createElement("div",{className:qa()("bm-toolbar-item",Dt("export"))},r.a.createElement(Xa.a,{enforceFocus:!1},r.a.createElement("div",{className:"bm-toolbar-popover-target"}),r.a.createElement(Qa.a,null,r.a.createElement($a.a,{text:"JSON(.json)",onClick:function(t){var n=e.diagram.getDiagramProps(),o=n.controller,r=n.model,i=o.run("serializeModel",n),a=JSON.stringify(i),l="data:text/plain,".concat(encodeURIComponent(a)),c=o.run("getTopicTitle",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yl(n,!0).forEach((function(t){Object(Ja.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{topicKey:r.rootTopicKey}));ml(l,"".concat(c,".blinkmind"))}}),r.a.createElement(hl.a,null))))}function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function vl(e){return r.a.createElement("div",{className:"bm-toolbar-item ".concat(Dt(jt.SEARCH)),onClick:function(t){var n=e.diagram.getDiagramProps();n.controller.run("operation",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(n,!0).forEach((function(t){Object(Ja.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{opType:re.SET_FOCUS_MODE,focusMode:Ua}))}})}var Ol=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClickUndo,n=e.onClickRedo,o=e.canUndo,i=e.canRedo;return r.a.createElement("div",{className:"bm-toolbar"},r.a.createElement(Za,e),r.a.createElement(gl,e),r.a.createElement(fl,e),r.a.createElement(tl,e),r.a.createElement(vl,e),r.a.createElement("div",{className:qa()("bm-toolbar-item",Dt("undo"),{"bm-toolbar-item-disabled":!o}),onClick:t}),r.a.createElement("div",{className:qa()("bm-toolbar-item",Dt("redo"),{"bm-toolbar-item-disabled":!i}),onClick:n}))}}]),t}(r.a.PureComponent),wl=(n(1079),n(422)),El=(n.n(wl)()("app"),[Yr(),function(){var e=new Map([["default",fe],["random-color-square",Jr],["theme1",Xr],["theme2",Qr],["theme3",$r],["theme4",ei]]);return{getAllThemes:function(t){return e},setTheme:function(e){var t=e.model,n=e.controller,o=e.themeKey,r=n.run("getAllThemes",e);if(!r.has(o))throw new Error("setTheme: the theme key is not correct!");var i=r.get(o),a=de.setTheme({model:t,theme:i});n.change(a)}}}(),function(){var e=new Set;function t(t){var n=t.model,o=t.topicKey,r=n.getExtDataItem(na,sa);return e=new Set(r.getReferenceKeys(o)),n=de.focusTopic({model:n,topicKey:o,focusMode:$i})}return{customizeTopicContextMenu:function(e,t){var n=e.controller;return Object(o.createElement)(o.Fragment,null,t(),Object(o.createElement)(ti.a,null),Object(o.createElement)(b.a,{key:oa,icon:Rt("reference"),text:"Set Reference Topics",onClick:function(t){n.run("operation",qi(qi({},e),{opType:ea})),n.run("disableOperation",qi(qi({},e),{whiteList:[re.TOGGLE_COLLAPSE]}))}}))},getOpMap:function(e,n){var o=n();return o.set(ea,t),o.set(ta,pa),o},beforeOpFunction:function(e,t){var n=t(),o=e.opType,r=e.topicKey;if(o===re.DELETE_TOPIC&&r!==n.editorRootTopicKey){var i=ce(n,r);i.push(r);var a=n.getExtDataItem(na,sa),l=a.reference;i.forEach((function(e){var t=a.getReferencedKeys(e);(l=l.withMutations((function(n){t.forEach((function(t){n.updateIn([t,"keyList"],(function(t){return t.delete(t.indexOf(e))}))}))}))).has(e)&&(l=l.delete(e))})),a=a.set("reference",l),n=n.setIn(["extData",na],a)}return n},renderDiagramCustomize:function(e,t){var n=e.model,r=e.controller.getValue(Gt.DIAGRAM_CUSTOMIZE_BASE_Z_INDEX)+2,i=t();if(n.focusMode===$i){var a=qi(qi({},e),{zIndex:r,topicKey:n.focusKey,key:"AddReferenceTopicPanel"});i.push(Object(o.createElement)(aa,qi({},a)))}return i},renderTopicContentOthers:function(t,n){var r=t.model,i=t.topicKey,a=t.controller,l=n();if(l.push(a.run("renderTopicExtReference",qi(qi({},t),{key:oa+"-icon"}))),r.focusMode===$i&&r.focusKey!==i){var c=qi(qi({},t),{key:"checkbox",selectedTopicKeys:e}),u=Object(o.createElement)(Ra,qi({},c));l.push(u)}return l},renderTopicExtReference:function(e,t){return Object(o.createElement)(Da,qi({},e))},clearSelectedReferenceKeys:function(){e.clear()},getSelectedReferenceKeys:function(){return Array.from(e)},deserializeExtDataItem:function(e,t){var n=e.extDataKey,o=e.extDataItem;if(n===na){var r=new sa,i=function(e){var t=o.reference[e],n=new ca({keyList:Object(z.List)(t.keyList),dataMap:Object(z.Map)(t.dataMap)});r=r.update("reference",(function(t){return t.set(e,n)}))};for(var a in o.reference)i(a);return r}return t()}}}(),function(){var e=function(e){};return{customizeHotKeys:function(e,t){var n=e.controller,o=e.model,r=t();return r.globalHotKeys.set(Wa,{label:"search",combo:"ctrl + f",onKeyDown:function(){n.run("operation",qi(qi({},e),{opType:re.FOCUS_TOPIC,topicKey:o.focusKey,focusMode:Ua}))}}),r},renderDiagramCustomize:function(t,n){var r=n();if(t.model.focusMode===Ua){var i=qi(qi({key:"search-panel"},t),{setSearchWorld:e});r.push(Object(o.createElement)(Va,qi({},i)))}return r}}}(),Vi(),{serializeModel:function(e,t){var n=t();if(null!=n)return n;var o=e.model,r=e.controller;return{rootTopicKey:o.rootTopicKey,editorRootTopicKey:o.editorRootTopicKey,focusKey:o.focusKey,extData:r.run("serializeExtData",qr(qr({},e),{extData:o.extData})),topics:o.topics.valueSeq().toArray().map((function(t){return r.run("serializeTopic",qr(qr({},e),{topic:t}))})),config:r.run("serializeConfig",qr(qr({},e),{config:o.config})),formatVersion:o.formatVersion}},deserializeModel:function(e,t){var n=t();if(null!=n)return n;var o=e.obj,r=e.controller;null==o.formatVersion&&(o.formatVersion="0.0");var i=o.rootTopicKey,a=o.editorRootTopicKey,l=o.focusKey,c=o.topics,u=o.config,s=o.extData,p=o.formatVersion,d=new ge;return null==(d=d.merge({rootTopicKey:i,editorRootTopicKey:null==a?i:a,focusKey:l,extData:r.run("deserializeExtData",qr(qr({},e),{extData:s,formatVersion:p})),config:r.run("deserializeConfig",qr(qr({},e),{config:u,formatVersion:p})),topics:r.run("deserializeTopics",qr(qr({},e),{topics:c,formatVersion:p})),formatVersion:o.formatVersion})).focusKey&&(d=d.set("focusKey",d.rootTopicKey)),null==d.focusMode&&(d=d.set("focusMode",ne.NORMAL)),Zr("deserializeModel",d),d},serializeExtData:function(e,t){var n=t();if(null!=n)return n;var o=e.extData,r=e.controller,i={};return o.forEach((function(t,n){i[n]=r.run("serializeExtDataItem",{props:e,extDataKey:n,extDataItem:t})})),i},deserializeExtData:function(e,t){var n=t();if(null!=n)return n;var o=e.extData,r=e.controller,i=Object(z.Map)();for(var a in o)i=i.set(a,r.run("deserializeExtDataItem",qr(qr({},e),{extDataKey:a,extDataItem:o[a]})));return i},serializeExtDataItem:function(e,t){var n=t();if(null!=n)return n;var o=e.extDataItem;return Object(z.isImmutable)(o)?o.toJS():o},deserializeExtDataItem:function(e,t){var n=t();return null!=n?n:e.extDataItem},serializeConfig:function(e,t){var n=t();return null!=n?n:e.config.toJS()},deserializeConfig:function(e,t){var n=t();if(null!=n)return n;var o=e.config;return new me(o)},serializeTopic:function(e,t){var n=t();if(null!=n)return n;var o=e.topic,r=e.controller;return{key:o.key,parentKey:o.parentKey,subKeys:o.subKeys.toArray(),collapse:o.collapse,style:o.style,blocks:o.blocks.map((function(t){return r.run("serializeBlock",qr(qr({},e),{block:t}))}))}},deserializeTopic:function(e,t){var n=t();if(null!=n)return n;var o=e.topic,r=e.controller,i=o.key,a=o.parentKey,l=o.subKeys,c=o.blocks,u=o.style,s=o.collapse,p=new le;return p=p.merge({key:i,parentKey:a,subKeys:Object(z.List)(l),style:u,collapse:s,blocks:r.run("deserializeBlocks",qr(qr({},e),{blocks:c}))})},deserializeTopics:function(e,t){var n=t();if(null!=n)return n;var o=e.topics,r=e.controller,i=Object(z.Map)();return i=i.withMutations((function(t){o.forEach((function(n){return t.set(n.key,r.run("deserializeTopic",qr(qr({},e),{topic:n})))}))}))},serializeBlock:function(e,t){var n=t();if(null!=n)return n;var o=e.block,r=e.controller;return{type:o.type,data:r.run("serializeBlockData",qr({},e))}},serializeBlockData:function(e,t){var n=t();return null!=n?n:e.block.data},deserializeBlock:function(e,t){var n=t();if(null!=n)return n;var o=e.block,r=e.controller,i=o.type;return new ae({type:i,data:r.run("deserializeBlockData",qr(qr({},e),{block:o}))})},deserializeBlockData:function(e,t){var n=t();return null!=n?n:e.block.data},deserializeBlocks:function(e,t){var n=t();if(null!=n)return n;var o=e.blocks,r=e.controller,i=Object(z.List)();return i=i.withMutations((function(t){o.forEach((function(n){return t.push(r.run("deserializeBlock",qr(qr({},e),{block:n})))}))}))}}]),kl=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).diagramRef=function(e){n.diagram=e,n.setState({})},n.onClickUndo=function(e){var t=n.diagram.getDiagramProps();t.controller.run("undo",t)},n.onClickRedo=function(e){var t=n.diagram.getDiagramProps();t.controller.run("redo",t)},n.onChange=function(e,t){n.setState({model:e},t)},n.initModel(),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"initModel",value:function(){var e=function(){var e=ie();return ge.create({rootTopicKey:e,topics:[{key:e,blocks:[{type:"CONTENT",data:"MainTopic"}]}]})}();this.state={model:e}}},{key:"renderDiagram",value:function(){return r.a.createElement(Mr,{ref:this.diagramRef,model:this.state.model,onChange:this.onChange,plugins:El})}},{key:"renderToolbar",value:function(){var e=this.diagram.getDiagramProps(),t=e.controller,n=t.run("canUndo",e),o=t.run("canRedo",e),i={diagram:this.diagram,onClickUndo:this.onClickUndo,onClickRedo:this.onClickRedo,canUndo:n,canRedo:o};return r.a.createElement(Ol,i)}},{key:"render",value:function(){return r.a.createElement("div",{className:"mindmap"},this.diagram&&this.renderToolbar(),this.renderDiagram())}}]),t}(r.a.Component);n(1082);var xl=function(){return r.a.createElement(kl,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));localStorage.debug=["app","plugin:layout"].join(","),a.a.render(r.a.createElement(xl,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"undefined"!==typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?e.metaKey:e.ctrlKey}},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(29),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default.button.withConfig({displayName:"ToolbarButton",componentId:"pb68dp-0"})(["display:inline-block;flex:0;width:24px;height:24px;cursor:pointer;margin-left:10px;border:none;background:none;transition:opacity 100ms ease-in-out;padding:0;opacity:0.7;&:first-child{margin-left:0;}&:hover{opacity:1;}",";"],(function(e){return e.active&&"opacity: 1;"}))},223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(815));t.default=function(e,t){var n=a(t.text),o=function(e,t){var n=a(t.text);return e.nodes.filter((function(e){return!!e.text&&(e.type.match(/^heading/)&&n===a(e.text))})).indexOf(t)}(e,t);return 0===o?n:n+"-"+o};n(5);var r=i(n(818));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return"h-"+(0,o.default)((0,r.default)(e,{lower:!0}).replace(".","-"))}},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(29);var a=((o=i)&&o.__esModule?o:{default:o}).default.div.withConfig({displayName:"Flex__Container",componentId:"uv96gk-0"})(["display:flex;flex:",";flex-direction:",";align-items:",";justify-content:",";"],(function(e){return e.auto?"1 1 auto":"initial"}),(function(e){return e.column?"column":"row"}),(function(e){return e.align}),(function(e){return e.justify}));t.default=function(e){var t=e.children,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["children"]);return r.createElement(a,n,t)}},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(743),i=(o=r)&&o.__esModule?o:{default:o};t.default=new i.default},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(793),i=(o=r)&&o.__esModule?o:{default:o};t.default=(0,i.default)({types:["ordered-list","bulleted-list","todo-list"],typeItem:"list-item",typeDefault:"paragraph"})},350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=t.default=void 0;var o=f(n(322)),r=f(n(351)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),c=n(228),u=n(52),s=(n(5),f(n(29))),p=f(n(838)),d=f(n(893));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.state={active:!1,mouseDown:!1,link:void 0,top:"",left:""},i.componentDidMount=function(){i.update(),"undefined"!==typeof window&&(window.addEventListener("mousedown",i.handleMouseDown),window.addEventListener("mouseup",i.handleMouseUp))},i.componentWillUnmount=function(){"undefined"!==typeof window&&(window.removeEventListener("mousedown",i.handleMouseDown),window.removeEventListener("mouseup",i.handleMouseUp))},i.componentWillReceiveProps=(0,o.default)((function(){i.update()}),100),i.hideLinkToolbar=function(){i.setState({link:void 0}),i.update()},i.handleMouseDown=function(){i.setState({mouseDown:!0}),i.update()},i.handleMouseUp=function(){i.setState({mouseDown:!1}),i.update()},i.showLinkToolbar=function(e){e.preventDefault(),e.stopPropagation();var t=i.props.editor.getLinkInSelection();i.setState({link:t})},i.update=function(){var e=i.props,t=e.value,n=e.editor.getLinkInSelection(),o=window.getSelection();if(!(t.selection.isCollapsed||o.isCollapsed)||n){var a=!0;if(t.startBlock){"heading1"===t.startBlock.type&&(a=!1),t.startBlock.type.match(/code/)&&(a=!1),i.state.mouseDown&&!n&&(a=!1);var l={active:a,mouseDown:i.state.mouseDown,link:i.state.link||n,top:void 0,left:void 0},c=void 0;if(n)try{c=(0,u.findDOMNode)(n).getBoundingClientRect()}catch(d){}else if(o.rangeCount>0){c=o.getRangeAt(0).getBoundingClientRect()}if(c&&i.menu&&(0!==c.top||0!==c.left)){var s=c.left+window.scrollX-i.menu.offsetWidth/2+c.width/2;l.top=Math.round(c.top+window.scrollY-i.menu.offsetHeight)+"px",l.left=Math.round(Math.max(16,s))+"px",(0,r.default)(i.state,l)||i.setState(l)}}}else if(i.state.active){var p={mouseDown:i.state.mouseDown,active:!1,link:void 0,top:"",left:""};(0,r.default)(i.state,p)||i.setState(p)}},h(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this,t={top:this.state.top,left:this.state.left};return l.createElement(c.Portal,null,l.createElement(y,{active:this.state.active,ref:function(t){return e.menu=t},style:t},this.state.link?l.createElement(d.default,i({},this.props,{link:this.state.link,onBlur:this.hideLinkToolbar})):l.createElement(p.default,i({onCreateLink:this.showLinkToolbar},this.props))))}}]),t}(l.Component);t.default=m;var y=t.Menu=s.default.div.withConfig({displayName:"Toolbar__Menu",componentId:"sc-1hmxd6h-0"})(["padding:8px 16px;position:absolute;z-index:",";top:-10000px;left:-10000px;opacity:0;background-color:",';border-radius:4px;transform:scale(0.95);transition:opacity 150ms cubic-bezier(0.175,0.885,0.32,1.275),transform 150ms cubic-bezier(0.175,0.885,0.32,1.275);transition-delay:150ms;line-height:0;height:40px;box-sizing:border-box;pointer-events:none;white-space:nowrap;&::before{content:"";display:block;width:24px;height:24px;transform:translateX(-50%) rotate(45deg);background:',";border-radius:3px;z-index:-1;position:absolute;bottom:-2px;left:50%;}*{box-sizing:border-box;}",";@media print{display:none;}"],(function(e){return e.theme.zIndex+100}),(function(e){return e.theme.toolbarBackground}),(function(e){return e.theme.toolbarBackground}),(function(e){return e.active&&"\n    transform: translateY(-6px) scale(1);\n    pointer-events: all;\n    opacity: 1;\n  "}))},353:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(29);var i=((o=r)&&o.__esModule?o:{default:o}).default.div.withConfig({displayName:"Separator",componentId:"sc-1h4fmhy-0"})(["height:100%;width:1px;background:",";opacity:0.2;display:inline-block;margin-left:10px;"],(function(e){return e.theme.toolbarItem}));t.default=i},356:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(920),c=(o=l)&&o.__esModule?o:{default:o};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.onClick=function(e){var t=o.props,n=t.text,r=t.onCopy,i=t.children,l=a.Children.only(i);(0,c.default)(n),r&&r(),l&&l.props&&"function"===typeof l.props.onClick&&l.props.onClick(e)},u(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.children),n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["text","onCopy","children"]),o=a.Children.only(t);return a.cloneElement(o,r({},n,{onClick:this.onClick}))}}]),t}(a.Component);t.default=s},358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GripColumn=t.GripRow=t.GripTable=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=u(n(29)),l=u(n(937)),c=u(n(939));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.editor,a=t.readOnly,c=t.attributes,u=t.node,s=r.value.document,y=r.getPositionByKey(s,u.key),g=y.isFirstRow(),b=y.isFirstColumn(),v=y.isLastRow(),O=y.isLastColumn(),w=u.data.get("selected"),E=y.table.data.get("selectedTable"),k=r.isSelectionInTable()&&!E,x=y.table.data.get("selectedRows"),T=y.table.data.get("selectedColumns"),C=x&&x.includes(y.getRowIndex()),_=T&&T.includes(y.getColumnIndex());return i.createElement(m,o({ref:function(t){return e.cell=t},isFirstRow:g,isFirstColumn:b,isSelected:w,onClick:function(){return r.clearSelected(y.table)}},c),!a&&i.createElement(i.Fragment,null,b&&g&&i.createElement(i.Fragment,null,i.createElement(p,{contentEditable:!1,isSelected:E,onClick:function(e){e.preventDefault(),e.stopPropagation(),E?r.clearSelected(y.table):r.selectAll().blur()}}),i.createElement(l.default,{editor:r,cell:this.cell,active:E,type:"table"})),b&&i.createElement(i.Fragment,null,i.createElement(d,{isFirstRow:g,isLastRow:v,isSelected:C,contentEditable:!1,onClick:function(e){e.preventDefault(),e.stopPropagation(),r.selectRow(!w||E).blur()}}),k&&i.createElement(l.default,{editor:r,cell:this.cell,active:C,type:"row"})),g&&i.createElement(i.Fragment,null,i.createElement(f,{isFirstColumn:b,isLastColumn:O,isSelected:_,contentEditable:!1,onClick:function(e){e.preventDefault(),e.stopPropagation(),r.selectColumn(!w||E).blur()}}),k&&i.createElement(l.default,{editor:r,cell:this.cell,active:_,type:"column"}))),i.createElement(h,{align:u.data.get("align")},n))}}]),t}(i.Component),p=t.GripTable=(0,a.default)(c.default).withConfig({displayName:"Cell__GripTable",componentId:"sc-1potl98-0"})(["width:13px;height:13px;border-radius:13px;border:2px solid ",";position:absolute;top:-18px;left:-18px;"],(function(e){return e.theme.background})),d=t.GripRow=(0,a.default)(c.default).withConfig({displayName:"Cell__GripRow",componentId:"sc-1potl98-1"})(["left:-16px;top:0px;height:100%;width:12px;border-right:3px solid ",";"," ",""],(function(e){return e.theme.background}),(function(e){return e.isFirstRow&&"\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n  "}),(function(e){return e.isLastRow&&"\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n  "})),f=t.GripColumn=(0,a.default)(c.default).withConfig({displayName:"Cell__GripColumn",componentId:"sc-1potl98-2"})(["top:-16px;left:0px;width:100%;height:12px;border-bottom:3px solid ",";"," ",""],(function(e){return e.theme.background}),(function(e){return e.isFirstColumn&&"\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n"}),(function(e){return e.isLastColumn&&"\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n"})),h=a.default.div.withConfig({displayName:"Cell__RowContent",componentId:"sc-1potl98-3"})(["padding:4px 12px;text-align:",";"],(function(e){return e.align})),m=a.default.td.withConfig({displayName:"Cell__StyledTd",componentId:"sc-1potl98-4"})(["vertical-align:top;border-right:1px solid ",";position:relative;background:",";",""],(function(e){return e.theme.tableDivider}),(function(e){return e.isSelected?e.theme.tableSelectedBackground:e.theme.background}),(function(e){return e.isFirstRow&&"\n  min-width: 100px;\n  "}));t.default=s},400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schema=t.theme=void 0;var o,r,i=w(n(199)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),u=(n(5),n(52)),s=n(29),p=w(s),d=n(741),f=w(n(742)),h=w(n(323)),m=w(n(152)),y=w(n(324)),g=w(n(325)),b=w(n(747)),v=w(n(957)),O=w(n(958));function w(e){return e&&e.__esModule?e:{default:e}}function E(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.theme=d.light,t.schema=f.default;var k={},x=(r=o=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.prevSchema=null,o.schema=null,o.setEditorRef=function(e){o.editor=e},o.value=function(){return o.props.editorValue},o.handleChange=function(e){var t=e.value;o.props.onChange&&!o.props.readOnly&&o.props.onChange(t)},o.handleDrop=function(){var e,t=(e=i.default.mark((function e(t){var r,a,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.props.readOnly){e.next=2;break}return e.abrupt("return");case 2:if(o.editor.props.uploadImage){e.next=4;break}return e.abrupt("return");case 4:if(!t.isDefaultPrevented()){e.next=6;break}return e.abrupt("return");case 6:t.preventDefault(),t.stopPropagation(),r=(0,h.default)(t),a=0;case 10:if(!(a<r.length)){e.next=18;break}if(!(l=r[a]).type.startsWith("image/")){e.next=15;break}return e.next=15,o.insertImageFile(l);case 15:a++,e.next=10;break;case 18:case"end":return e.stop()}}),e,n)})),function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function o(r,i){try{var a=t[r](i),l=a.value}catch(c){return void n(c)}if(!a.done)return Promise.resolve(l).then((function(e){o("next",e)}),(function(e){o("throw",e)}));e(l)}("next")}))});return function(e){return t.apply(this,arguments)}}(),o.insertImageFile=function(e){o.editor.insertImageFile(e)},o.cancelEvent=function(e){e.preventDefault()},o.handleKeyDown=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(o.props.readOnly)return n();switch(e.key){case"s":if((0,m.default)(e))return o.onSave(e);break;case"Enter":if((0,m.default)(e))return o.onSaveAndExit(e);break;case"Escape":if((0,m.default)(e))return o.onCancel(e)}return n()},o.focusAtStart=function(){o.editor.moveToStartOfDocument().focus()},o.focusAtEnd=function(){o.editor.moveToEndOfDocument().focus()},o.getSchema=function(){return o.prevSchema!==o.props.schema&&(o.schema=a({},f.default,o.props.schema||{}),o.prevSchema=o.props.schema),o.schema},o.render=function(){var e=o.props,t=e.readOnly,n=e.pretitle,r=e.placeholder,i=e.onSave,l=(e.onChange,e.onCancel,e.uploadImage),u=e.onSearchLink,p=e.onClickLink,f=e.onImageUploadStart,h=e.onImageUploadStop,m=e.onShowToast,b=e.className,w=e.style,E=e.dark,x=(e.defaultValue,e.autoFocus,e.plugins,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["readOnly","pretitle","placeholder","onSave","onChange","onCancel","uploadImage","onSearchLink","onClickLink","onImageUploadStart","onImageUploadStop","onShowToast","className","style","dark","defaultValue","autoFocus","plugins"])),C=o.props.theme||(E?d.dark:d.light),_=o.props.editorValue;return"string"===typeof o.props.editorValue&&(_=g.default.deserialize(o.props.editorValue)),c.createElement(y.default,{style:w,className:b,onDrop:o.handleDrop,onDragOver:o.cancelEvent,onDragEnter:o.cancelEvent,align:"flex-start",justify:"center",column:!0,auto:!0},c.createElement(s.ThemeProvider,{theme:C},c.createElement(T,a({ref:o.setEditorRef,plugins:o.plugins,value:_,commands:v.default,queries:O.default,placeholder:r,schema:o.getSchema(),onKeyDown:o.handleKeyDown,onChange:o.handleChange,onSave:i,onSearchLink:u,onClickLink:p,onImageUploadStart:f,onImageUploadStop:h,onShowToast:m,readOnly:t,spellCheck:!t,uploadImage:l,pretitle:n,options:k},x))))};var r=(0,b.default)({placeholder:e.placeholder,getLinkComponent:e.getLinkComponent});return o.plugins=[].concat(E(e.plugins),E(r)),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentDidMount",value:function(){this.scrollToAnchor(),this.props.readOnly||("undefined"!==typeof window&&window.addEventListener("keydown",this.handleKeyDown),this.props.autoFocus&&this.focusAtEnd())}},{key:"componentDidUpdate",value:function(e){e.readOnly&&!this.props.readOnly&&this.props.autoFocus&&this.focusAtEnd()}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&window.removeEventListener("keydown",this.handleKeyDown)}},{key:"scrollToAnchor",value:function(){var e=window.location.hash;if(e)try{var t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth"})}catch(n){console.warn("Attempted to scroll to invalid hash",n)}}},{key:"onSave",value:function(e){var t=this.props.onSave;t&&(e.preventDefault(),e.stopPropagation(),t({done:!1}))}},{key:"onSaveAndExit",value:function(e){var t=this.props.onSave;t&&(e.preventDefault(),e.stopPropagation(),t({done:!0}))}},{key:"onCancel",value:function(e){var t=this.props.onCancel;t&&(e.preventDefault(),e.stopPropagation(),t())}}]),t}(c.PureComponent),o.defaultProps={editorValue:"",placeholder:"Write something nice\u2026",onImageUploadStart:function(){},onImageUploadStop:function(){},plugins:[],tooltip:"span"},r),T=(0,p.default)(u.Editor).withConfig({displayName:"src__StyledEditor",componentId:"sc-1d306fq-0"})(["color:",";background:",";font-family:",";font-weight:",";font-size:1em;line-height:1.7em;width:100%;h1,h2,h3,h4,h5,h6{font-weight:500;}ul,ol{margin:0 0.1em;padding-left:1em;ul,ol{margin:0.1em;}}p{position:relative;margin:0;}a{color:",";}a:hover{text-decoration:",";}li p{display:inline;margin:0;}.todoList{list-style:none;padding-left:0;.todoList{padding-left:1em;}}.todo{span:last-child:focus{outline:none;}}blockquote{border-left:3px solid ",";margin:0;padding-left:10px;font-style:italic;}b,strong{font-weight:600;}"],(function(e){return e.theme.text}),(function(e){return e.theme.background}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.fontWeight}),(function(e){return e.theme.link}),(function(e){return e.readOnly?"underline":"none"}),(function(e){return e.theme.quote}));t.default=x},417:function(e,t,n){e.exports=n.p+"static/media/default.4f8c4983.jpg"},418:function(e,t,n){e.exports=n.p+"static/media/theme1.2f59f00b.jpg"},419:function(e,t,n){e.exports=n.p+"static/media/theme2.b18193fb.jpg"},420:function(e,t,n){e.exports=n.p+"static/media/theme3.61c97910.jpg"},421:function(e,t,n){e.exports=n.p+"static/media/theme4.1e21408c.jpg"},439:function(e,t,n){e.exports=n(1083)},444:function(e,t,n){},447:function(e,t,n){},741:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r={almostBlack:"#181A1B",lightBlack:"#2F3336",almostWhite:"#E6E6E6",white:"#FFF",white10:"rgba(255, 255, 255, 0.1)",black:"#000",black10:"rgba(0, 0, 0, 0.1)",primary:"#1AB6FF",greyLight:"#F4F7FA",grey:"#E8EBED",greyMid:"#9BA6B2",greyDark:"#DAE1E9"},i=t.base=o({},r,{fontFamily:"-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen, Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif",fontFamilyMono:"'SFMono-Regular',Consolas,'Liberation Mono', Menlo, Courier,monospace",fontWeight:400,zIndex:100,link:r.primary,placeholder:"#B1BECC",textSecondary:"#4E5C6E",textLight:r.white,selected:r.primary,codeComment:"#6a737d",codePunctuation:"#5e6687",codeNumber:"#d73a49",codeProperty:"#c08b30",codeTag:"#3d8fd1",codeString:"#032f62",codeSelector:"#6679cc",codeAttr:"#c76b29",codeEntity:"#22a2c9",codeKeyword:"#d73a49",codeFunction:"#6f42c1",codeStatement:"#22a2c9",codePlaceholder:"#3d8fd1",codeInserted:"#202746",codeImportant:"#c94922"}),a=t.light=o({},i,{background:r.white,text:r.almostBlack,code:r.lightBlack,toolbarBackground:r.lightBlack,toolbarInput:r.white10,toolbarItem:r.white,blockToolbarBackground:r.greyLight,blockToolbarTrigger:r.greyMid,blockToolbarTriggerIcon:r.white,blockToolbarItem:r.almostBlack,tableDivider:r.grey,tableSelected:r.primary,tableSelectedBackground:"#E5F7FF",quote:r.greyDark,codeBackground:r.greyLight,codeBorder:r.grey,horizontalRule:r.grey,imageErrorBackground:r.greyLight});t.dark=o({},i,{background:r.almostBlack,text:r.almostWhite,code:r.almostWhite,toolbarBackground:r.white,toolbarInput:r.black10,toolbarItem:r.lightBlack,blockToolbarBackground:r.white,blockToolbarTrigger:r.almostWhite,blockToolbarTriggerIcon:r.almostBlack,blockToolbarItem:r.lightBlack,tableDivider:r.lightBlack,tableSelected:r.primary,tableSelectedBackground:"#002333",quote:r.almostWhite,codeBackground:r.almostBlack,codeBorder:r.lightBlack,codeString:"#3d8fd1",horizontalRule:r.lightBlack,imageErrorBackground:"rgba(0, 0, 0, 0.5)"});t.default=a},742:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={blocks:{heading1:{nodes:[{match:{object:"text"}}],marks:[""]},heading2:{nodes:[{match:{object:"text"}}],marks:[""]},heading3:{nodes:[{match:{object:"text"}}],marks:[""]},heading4:{nodes:[{match:{object:"text"}}],marks:[""]},heading5:{nodes:[{match:{object:"text"}}],marks:[""]},heading6:{nodes:[{match:{object:"text"}}],marks:[""]},"block-quote":{marks:[""]},"horizontal-rule":{isVoid:!0},image:{isVoid:!0},link:{nodes:[{objects:["text"]}]},"block-toolbar":{isVoid:!0}},document:{nodes:[{match:[{type:"paragraph"},{type:"heading1"},{type:"heading2"},{type:"heading3"},{type:"heading4"},{type:"heading5"},{type:"heading6"},{type:"block-quote"},{type:"code"},{type:"horizontal-rule"},{type:"image"},{type:"bulleted-list"},{type:"ordered-list"},{type:"todo-list"},{type:"block-toolbar"},{type:"table"},{type:"link"}],min:1}]}}},747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n(0)),n(5);var o=x(n(748)),r=x(n(750)),i=x(n(769)),a=x(n(778)),l=x(n(779)),c=x(n(783)),u=x(n(784)),s=x(n(787)),p=x(n(790)),d=x(n(346)),f=x(n(814)),h=x(n(819)),m=x(n(820)),y=x(n(821)),g=x(n(822)),b=x(n(823)),v=x(n(824)),O=x(n(825)),w=x(n(900)),E=x(n(901)),k=x(n(947));function x(e){return e&&e.__esModule?e:{default:e}}n(949),n(950),n(951),n(952),n(953),n(954),n(955),n(956);t.default=function(e){var t=e.placeholder,n=e.getLinkComponent;return[E.default,k.default,(0,c.default)({type:"link",collapseTo:"end"}),(0,p.default)({placeholder:t,when:function(e,t){return!e.readOnly&&("block"===t.object&&("paragraph"===t.type&&(""===t.text&&!(e.value.document.getBlocks().size>1))))}}),(0,l.default)({extensions:["png","jpg","jpeg","gif","webp"],insertImage:function(e,t){return e.insertImageFile(t)}}),(0,r.default)({containerType:"code",lineType:"code-line",exitBlocktype:"paragraph",allowMarks:!1,selectAll:!0}),(0,i.default)({type:"block-quote",typeDefault:"paragraph"}),(0,a.default)({typeTable:"table",typeRow:"table-row",typeCell:"table-cell",typeContent:"paragraph"}),(0,w.default)(),(0,s.default)({onlyIn:function(e){return"code"===e.type},getSyntax:function(e){return e.data.get("language")||"javascript"}}),(0,v.default)({getComponent:n}),(0,u.default)({toEdge:"end"}),(0,f.default)(),d.default,(0,h.default)(),(0,m.default)(),(0,y.default)(),(0,g.default)(),(0,b.default)(),(0,o.default)({type:"paragraph"}),(0,O.default)()]}},790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(791)),r=a(n(0)),i=(n(5),a(n(792)));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.placeholder,n=e.when;return(0,o.default)(t,"You must pass `PlaceholderPlugin` an `options.placeholder` string."),(0,o.default)(n,"You must pass `PlaceholderPlugin` an `options.when` query."),{decorateNode:function(e,o,r){if(!o.query(n,e))return r();var i=r()||[],a=e.getFirstText();if(!a)return r();var l={anchor:{key:a.key,offset:0},focus:{key:a.key,offset:0},mark:{type:"placeholder",data:{placeholder:t}}};return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i),[l])},renderMark:function(e,t,n){var o=e.children,a=e.mark;if("placeholder"===a.type){var l=a.data.get("placeholder");return r.default.createElement("span",null,r.default.createElement(i.default,null,l),o)}return n()}}}},792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(29);var i=((o=r)&&o.__esModule?o:{default:o}).default.span.attrs({contentEditable:!1}).withConfig({displayName:"Placeholder",componentId:"mx6118-0"})(["pointer-events:none;display:inline-block;width:0;max-width:100%;white-space:nowrap;line-height:1.2em;color:",";"],(function(e){return e.theme.placeholder}));t.default=i},814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(){return{queries:{getPathForHeadingNode:function(e,t){var n=(0,a.default)(e.value.document,t);return(e.props.id||window.location.pathname)+"#"+n}},commands:{showContentBelow:function(e,t){return e.updateContentBelow(t,!1)},hideContentBelow:function(e,t){return e.updateContentBelow(t,!0)},toggleContentBelow:function(e,t){var n=t.data.get("collapsed"),o=e.getPathForHeadingNode(t);return n?(localStorage.removeItem(o),e.showContentBelow(t)):(localStorage.setItem(o,"collapsed"),e.hideContentBelow(t))},updateContentBelow:function(e,t,n){var r=e.value.document;e.setNodeByKey(t.key,{data:{collapsed:n}});for(var i=parseInt(t.type.replace(/^heading/,""),10),a=[],l=i;l>0;l--)a.push("heading"+l);var c=void 0;r.nodes.forEach((function(r){c&&a.includes(r.type)?c=!1:(c&&e.setNodeByKey(r.key,{data:o({},r.data.toJS(),{hidden:n})}),r===t&&(c=!0))}))}},normalizeNode:function(e,t,n){if("block"!==e.object)return n();if(e.type.match(/heading/)){var o=e.data.get("collapsed"),r=t.getPathForHeadingNode(e),i="collapsed"===localStorage.getItem(r);if(i&&!o)return function(t){return t.updateContentBelow(e,i).setNodeByKey(e.key,{data:{collapsed:i}})}}return n()},onKeyDown:function(e,t,n){var o=t.value.startBlock;return o&&o.type&&o.type.match(/heading/)&&o.data.get("collapsed")?(t.toggleContentBelow(o),n()):n()}}};n(5);var r,i=n(223),a=(r=i)&&r.__esModule?r:{default:r}},819:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onKeyDown:function(e,t,n){if((0,i.default)(e))return n();switch(e.key){case"Enter":return function(e,t,n){var o=t.value,r=o.startBlock,i=o.selection;if(i.isExpanded)return n();if(!r)return n();var a=i.end.offset;if("image"===r.type)return e.preventDefault(),t.splitBlock(10).setBlocks({type:"paragraph",text:"",isVoid:!1});if(r.type.match(/(heading|block-quote)/))return e.preventDefault(),t.showContentBelow(r),a>0?t.splitBlock().setBlocks("paragraph"):t.splitBlock().moveToStartOfPreviousBlock().setBlocks("paragraph");return n()}(e,t,n);case"Tab":return function(e,t,n){var o=t.value.startBlock;if(!o)return n();if("heading1"===o.type)return e.preventDefault(),t.splitBlock().setBlocks("paragraph");return n()}(e,t,n);case"Backspace":return function(e,t,n){var o=t.value,r=o.startBlock,i=o.selection;if(!r)return n();if("image"===r.type||"link"===r.type)return e.preventDefault(),t.removeNodeByKey(r.key).moveToStartOfNextBlock();if(i.isExpanded)return 0===i.start.offset&&i.end.offset===r.text.length&&r.type.match(/heading/)&&t.showContentBelow(r),n();if(0===i.start.offset)return"paragraph"===r.type||"code-line"===r.type?n():(e.preventDefault(),r.type.match(/heading/)&&t.showContentBelow(r),t.setBlocks("paragraph"),void("list-item"===r.type&&t.unwrapBlock("bulleted-list")));if(i.isCollapsed){if(r.getMarksAtRange(i).filter((function(e){return"code"===e.type})).size>0){e.preventDefault();var a=0,l=i.start.offset,c=r.getTextAtOffset(l),u=c.leaves.takeUntil((function(e){return(a+=e.text.length)>l})),s=u.map((function(e){return e.text})).join(""),p=u.reverse().first();return p?l!==s.length?n():t.removeMarkByKey(c.key,l-p.text.length,l,"code"):n()}}return n()}(e,t,n);default:return n()}}}};n(5);var o,r=n(152),i=(o=r)&&o.__esModule?o:{default:o}},820:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t,n){if("heading1"===e.value.startBlock.type)return n();e.removeMark("code").toggleMark(t)}return{onKeyDown:function(t,n,o){if(!(0,i.default)(t))return o();switch(t.key){case"b":return t.preventDefault(),e(n,"bold",o);case"i":return t.preventDefault(),e(n,"italic",o);case"u":return t.preventDefault(),e(n,"underlined",o);case"d":return t.preventDefault(),e(n,"deleted",o);case"k":return t.preventDefault(),n.wrapLink("");default:return o()}}}};n(5);var o,r=n(152),i=(o=r)&&o.__esModule?o:{default:o}},821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onKeyDown:function(e,t,n){var r=t.value.startBlock;if(!r)return n();if(r.type.match(/code/))return n();switch(e.key){case"-":return function(e,t,n){var o=t.value,r=o.startBlock,i=o.selection;if(i.isExpanded)return n();if(r.type.match(/heading/))return n();if(t.isSelectionInTable())return n();if("--"===r.text.slice(0,i.start.offset).replace(/\s*/g,""))return e.preventDefault(),t.moveFocusToStartOfNode(r).delete().setBlocks({type:"horizontal-rule",isVoid:!0},{normalize:!1}).insertBlock("paragraph").moveToStart();return n()}(e,t,n);case"`":return function(e,t,n){var o=t.value,r=o.startBlock,i=o.selection;if(i.isExpanded)return n();if(r.type.match(/heading/))return n();if("``"===r.text.slice(0,i.start.offset).replace(/\s*/g,""))return e.preventDefault(),t.moveFocusToStartOfNode(r).delete().setBlocks({type:"code"});return n()}(e,t,n);case" ":return function(e,t,n){var r=t.value,i=r.selection,a=r.startBlock;if(i.isExpanded)return n();var l=a.text.slice(0,i.start.offset).trim(),c=function(e){switch(e){case"*":case"-":case"+":case"1.":case"[ ]":case"[x]":return"list-item";case">":return"block-quote";case"#":return"heading1";case"##":return"heading2";case"###":return"heading3";case"####":return"heading4";case"#####":return"heading5";case"######":return"heading6";default:return null}}(l);if(c&&!t.isSelectionInTable()){if(a.type.match(/heading/)&&!c.match(/heading/))return n();if("list-item"===c&&"list-item"===a.type)return n();e.preventDefault();var u=void 0;"[x]"===l&&(u=!0),"[ ]"===l&&(u=!1),t.withoutNormalizing((function(e){return e.moveFocusToStartOfNode(a).delete().setBlocks({type:c,data:{checked:u}}),"list-item"===c?void 0!==u?e.wrapBlock("todo-list"):"1."===l?e.wrapBlock("ordered-list"):e.wrapBlock("bulleted-list"):n()}))}var s=!0,p=!1,d=void 0;try{for(var f,h=o[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){for(var m=f.value,y=m.mark,g=m.shortcut,b=[],v=0;v<a.text.length;v++){var O=a.text,w=v,E=v+g.length,k=0===w,x=E===O.length,T=[O.slice(w-1,w),O.slice(E,E+1)].includes(" ");O.slice(w,E)===g&&(k||x||T)&&b.push(v)}if(b.length>1){var C=a.getFirstText(),_=b[0],S=b[b.length-1];return t.removeTextByKey(C.key,S,g.length).removeTextByKey(C.key,_,g.length).moveAnchorTo(_,S-g.length).addMark(y).moveToEnd().removeMark(y)}}}catch(j){p=!0,d=j}finally{try{!s&&h.return&&h.return()}finally{if(p)throw d}}return n()}(e,t,n);default:return n()}}}};n(5);var o=[{mark:"bold",shortcut:"**"},{mark:"bold",shortcut:"__"},{mark:"italic",shortcut:"*"},{mark:"italic",shortcut:"_"},{mark:"code",shortcut:"`"},{mark:"inserted",shortcut:"++"},{mark:"deleted",shortcut:"~~"}]},822:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onPaste:function(e,t,n){var o=(0,r.getEventTransfer)(e),i=o.text;if("text"!==o.type&&"html"!==o.type)return n();var l=a.default.deserialize(i||"");return l?t.insertFragment(l.document):void 0}}};n(5);var o,r=n(52),i=n(325),a=(o=i)&&o.__esModule?o:{default:o}},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onKeyDown:function(e,t,n){if((0,i.default)(e)||" "!==e.key)return n();var o=t.value,r=o.startBlock;if(o.selection.isExpanded)return n();if(!r||r.type.match(/code/))return n();var a=o.selection.start.offset-3,l=r.getFirstText();return l&&"..."===l.text.slice(a,a+3)?t.removeTextByKey(l.key,a,3).insertTextByKey(l.key,a,"\u2026"):n()}}};n(5);var o,r=n(152),i=(o=r)&&o.__esModule?o:{default:o}},824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){var t=e.getComponent;return{normalizeNode:function(e,n,r){if(!t||"block"===e.type||"link"!==e.type||e.text!==e.data.get("href"))return r();var i=t(e);if(!i)return r();var a=function(e,t){var n=void 0;for(;t!==e;){if((n=e.getParent(t.key))===e)return t;t=n}}(n.value.document,e);return a?"paragraph"!==a.type||a.text!==e.text?r():function(t){return t.replaceNodeByKey(a.key,{object:"block",type:"link",isVoid:!0,nodes:[{object:"text",leaves:[{text:""}]}],data:o({},e.data.toJS(),{embed:!0,component:i})})}:r()}}};(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n(0)),n(5)},825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),r=(n(5),l(n(826))),i=l(n(350)),a=l(n(899));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return{renderEditor:function(e,t,n){var l=n();return o.createElement(o.Fragment,null,!e.readOnly&&o.createElement(i.default,{value:t.value,editor:t}),!e.readOnly&&o.createElement(a.default,{editor:t}),e.toc&&o.createElement(r.default,{editor:t}),l)}}}},826:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=l(n(29)),a=(n(52),n(5),n(4),l(n(223)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(t){function n(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=o=c(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={activeHeading:void 0},o.updateActiveHeading=function(){var e=o.getHeadingElements();if(e.length){var t=e[0].id,n=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;c.getBoundingClientRect().top<=0&&(t=c.id)}}catch(u){r=!0,i=u}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}o.state.activeHeading!==t&&o.setState({activeHeading:t})}},c(o,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&window.addEventListener("scroll",this.updateActiveHeading),e(this.updateActiveHeading)}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&window.removeEventListener("scroll",this.updateActiveHeading)}},{key:"getHeadingElements",value:function(){var e=[],t=!0,n=!1,o=void 0;try{for(var r,i=["h1","h2","h3","h4","h5","h6"][Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value,l=!0,c=!1,u=void 0;try{for(var s,p=document.getElementsByTagName(a)[Symbol.iterator]();!(l=(s=p.next()).done);l=!0){var d=s.value;e.push(d)}}catch(f){c=!0,u=f}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}}}catch(f){n=!0,o=f}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}return e}},{key:"getHeadings",value:function(){return this.props.editor.value.document.nodes.filter((function(e){return!!e.text&&e.type.match(/^heading/)}))}},{key:"render",value:function(){var e=this,t=this.props.editor,n=this.getHeadings();return n.size<=1?null:r.createElement(s,null,r.createElement(f,null,n.map((function(n){var o=(0,a.default)(t.value.document,n),i=e.state.activeHeading===o;return r.createElement(d,{type:n.type,active:i,key:o},r.createElement(p,{href:"#"+o,active:i},n.text))}))))}}]),n}(r.Component),s=i.default.div.withConfig({displayName:"Contents__Wrapper",componentId:"sc-1x41345-0"})(["font-family:",";font-weight:",";font-size:1em;line-height:1.4;position:fixed;right:0;top:150px;z-index:",";@media print{display:none;}"],(function(e){return e.theme.fontFamily}),(function(e){return e.theme.fontWeight}),(function(e){return e.theme.zIndex})),p=i.default.a.withConfig({displayName:"Contents__Anchor",componentId:"sc-1x41345-1"})(["color:",";font-weight:",";opacity:0;transition:all 100ms ease-in-out;margin-right:-5px;padding:2px 0;pointer-events:none;text-overflow:ellipsis;text-decoration:none;&:hover{color:",";}"],(function(e){return e.active?e.theme.text:e.theme.textSecondary}),(function(e){return e.active?500:400}),(function(e){return e.theme.primary})),d=i.default.li.withConfig({displayName:"Contents__ListItem",componentId:"sc-1x41345-2"})(["position:relative;margin-left:",";text-align:right;color:",";padding-right:16px;white-space:nowrap;&:after{color:",';content:"','";position:absolute;right:0;}'],(function(e){return e.type.match(/heading[12]/)?"8px":"16px"}),(function(e){return e.theme.textSecondary}),(function(e){return e.active?e.theme.text:e.theme.textSecondary}),(function(e){return e.type.match(/heading[12]/)?"\u2014":"\u2013"})),f=i.default.ol.withConfig({displayName:"Contents__Sections",componentId:"sc-1x41345-3"})(["margin:0 0 0 -8px;padding:0;list-style:none;font-size:13px;width:100px;transition-delay:1s;transition:width 100ms ease-in-out;&:hover{width:300px;transition-delay:0s;","{opacity:1;margin-right:0;background:",";pointer-events:all;}}"],p,(function(e){return e.theme.background}));t.default=u}).call(this,n(349).setImmediate)},838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(29),a=(n(52),n(94)),l=u(n(153)),c=u(n(353));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.hasMark=function(e){try{return o.props.editor.value.marks.some((function(t){return t.type===e}))}catch(t){return!1}},o.isBlock=function(e){var t=o.props.editor.value,n=t.startBlock,r=t.document,i=n&&r.getParent(n.key);return n&&n.type===e||i&&i.type===e},o.onClickMark=function(e,t){e.preventDefault(),e.stopPropagation();var n=o.props.editor;n.toggleMark(t),(o.hasMark("code")||"code"===t)&&n.value.marks.forEach((function(e){"code"!==e.type&&n.removeMark(e)}))},o.onClickBlock=function(e,t){e.preventDefault(),e.stopPropagation();var n=o.props.editor,r=n.value,i=r.startBlock,a=r.document.getParent(i.key);n.setNodeByKey(i.key,t),a&&a.type&&"paragraph"===t&&n.setNodeByKey(a.key,t)},o.handleCreateLink=function(e){e.preventDefault(),e.stopPropagation();var t=window.getSelection().toString();if((t=t.trim()).length){o.props.editor.wrapInline({type:"link",data:{href:""}}),o.props.onCreateLink(e)}},o.renderMarkButton=function(e,t,n){var i=o.props.theme.hiddenToolbarButtons,a=o.props.editor.props.tooltip;if(i&&i.marks&&i.marks.includes(e))return null;var c=o.hasMark(e);return r.createElement(l.default,{onMouseDown:function(t){return o.onClickMark(t,e)},active:c},r.createElement(a,{tooltip:n,placement:"top"},r.createElement(t,{color:o.props.theme.toolbarItem})))},o.renderBlockButton=function(e,t,n){var i=o.props.theme.hiddenToolbarButtons,a=o.props.editor.props.tooltip;if(i&&i.blocks&&i.blocks.includes(e))return null;var c=o.isBlock(e);return r.createElement(l.default,{onMouseDown:function(t){return o.onClickBlock(t,c?"paragraph":e)},active:c},r.createElement(a,{tooltip:n,placement:"top"},r.createElement(t,{color:o.props.theme.toolbarItem})))},s(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props.editor.isSelectionInTable(),t=this.props.editor.props.tooltip;return r.createElement(r.Fragment,null,this.renderMarkButton("bold",a.BoldIcon,"Bold"),this.renderMarkButton("italic",a.ItalicIcon,"Italic"),this.renderMarkButton("deleted",a.StrikethroughIcon,"Strikethrough"),this.renderMarkButton("code",a.CodeIcon,"Code"),!e&&r.createElement(r.Fragment,null,r.createElement(c.default,null),this.renderBlockButton("heading2",a.Heading1Icon,"Heading"),this.renderBlockButton("heading3",a.Heading2Icon,"Subheading"),this.renderBlockButton("block-quote",a.BlockQuoteIcon,"Quote")),r.createElement(c.default,null),r.createElement(l.default,{onMouseDown:this.handleCreateLink},r.createElement(t,{tooltip:"Create link",placement:"top"},r.createElement(a.LinkIcon,{color:this.props.theme.toolbarItem}))))}}]),t}(r.Component);t.default=(0,i.withTheme)(p)},893:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,r=g(n(199)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(15),c=(n(5),n(52)),u=g(n(894)),s=n(29),p=g(s),d=g(n(388)),f=n(94),h=g(n(324)),m=g(n(898)),y=g(n(153));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var v=(0,d.default)(o=function(t){function n(){var e,t,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return t=o=b(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(u))),o.originalValue="",o.state={isEditing:!1,isFetching:!1,results:[]},o.handleOutsideMouseClick=function(e){var t=(0,l.findDOMNode)(o.wrapper);if(!(!t||e.target instanceof HTMLElement&&t.contains(e.target)||e.button&&0!==e.button)){try{var n=(0,c.findDOMNode)(o.props.link);if(!n||e.target instanceof HTMLElement&&n.contains(e.target)||e.button&&0!==e.button)return}catch(r){}e.preventDefault(),o.save(o.input?o.input.value:"")}},o.search=function(){var e,t=(e=r.default.mark((function e(t){var n,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=o.props.editor).props.onSearchLink){e.next=3;break}return e.abrupt("return");case 3:if(o.setState({isFetching:!0}),!t){e.next=17;break}return e.prev=5,e.next=8,n.props.onSearchLink(t);case 8:a=e.sent,o.setState({results:a}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0);case 15:e.next=18;break;case 17:o.setState({results:[]});case 18:o.setState({isFetching:!1});case 19:case"end":return e.stop()}}),e,i,[[5,12]])})),function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function o(r,i){try{var a=t[r](i),l=a.value}catch(c){return void n(c)}if(!a.done)return Promise.resolve(l).then((function(e){o("next",e)}),(function(e){o("throw",e)}));e(l)}("next")}))});return function(e){return t.apply(this,arguments)}}(),o.selectSearchResult=function(e,t){e.preventDefault(),o.save(t)},o.cancel=function(){o.save(o.originalValue)},o.onKeyDown=function(e){switch(e.key){case"Enter":if(e.preventDefault(),!(e.target instanceof HTMLInputElement))return;return o.save(e.target.value);case"Escape":return e.preventDefault(),e.stopPropagation(),o.cancel();case"ArrowDown":if(e.preventDefault(),o.firstDocument){var t=(0,l.findDOMNode)(o.firstDocument);t instanceof HTMLElement&&t.focus()}}},o.onChange=function(e){if(o.props.editor.props.onSearchLink){try{new URL(e.target.value)}catch(t){return void o.search(e.target.value)}o.setState({results:[]})}},o.onResultKeyDown=function(e){"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),o.cancel())},o.removeLink=function(){o.save("")},o.openLink=function(e){var t=o.props,n=t.link,r=t.editor,i=n.data.get("href");r.props.onClickLink?(e.preventDefault(),r.props.onClickLink(i)):window.open(i,"_blank")},o.save=function(e){var t=o.props,n=t.editor,r=t.link;(e=e.trim())?n.setNodeByKey(r.key,{type:"link",data:{href:e}}):r&&n.unwrapInlineByKey(r.key),n.deselect(),o.props.onBlur()},o.setFirstResultRef=function(e){o.firstDocument=e},o.setWrapperRef=function(e){o.wrapper=e},b(o,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"componentDidMount",value:function(){var t=this;this.originalValue=this.props.link.data.get("href"),this.setState({isEditing:!!this.originalValue}),"undefined"!==typeof window&&e((function(){return window.addEventListener("mousedown",t.handleOutsideMouseClick)}))}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&window.removeEventListener("mousedown",this.handleOutsideMouseClick)}},{key:"render",value:function(){var e=this,t=this.props.link.data.get("href"),n=this.state.results.length>0,o=this.props.editor.props.tooltip;return a.createElement("span",{ref:this.setWrapperRef},a.createElement(w,null,a.createElement(E,{ref:function(t){return e.input=t},defaultValue:t,placeholder:"Search or paste a link\u2026",onKeyDown:this.onKeyDown,onChange:this.onChange,autoFocus:""===t}),this.state.isEditing&&a.createElement(y.default,{onMouseDown:this.openLink},a.createElement(o,{tooltip:"Open link",placement:"top"},a.createElement(f.OpenIcon,{color:this.props.theme.toolbarItem}))),a.createElement(y.default,{onMouseDown:this.removeLink},this.state.isEditing?a.createElement(o,{tooltip:"Remove link",placement:"top"},a.createElement(f.TrashIcon,{color:this.props.theme.toolbarItem})):a.createElement(o,{tooltip:"Discard link",placement:"top"},a.createElement(f.CloseIcon,{color:this.props.theme.toolbarItem})))),n&&a.createElement(O,null,a.createElement(u.default,{mode:u.default.mode.VERTICAL,defaultActiveChildIndex:0},this.state.results.map((function(t,n){return a.createElement(m.default,{ref:function(t){return 0===n&&e.setFirstResultRef(t)},title:t.title,key:t.url,onClick:function(n){return e.selectSearchResult(n,t.url)},onKeyDown:e.onResultKeyDown})})))))}}]),n}(a.Component))||o,O=p.default.div.withConfig({displayName:"LinkToolbar__SearchResults",componentId:"pbs8fd-0"})(["background:",";position:absolute;top:100%;width:100%;height:auto;left:0;padding:8px;margin-top:-3px;margin-bottom:0;border-radius:0 0 4px 4px;"],(function(e){return e.theme.toolbarBackground})),w=(0,p.default)(h.default).withConfig({displayName:"LinkToolbar__LinkEditor",componentId:"pbs8fd-1"})(["margin-left:-8px;margin-right:-8px;min-width:300px;"]),E=p.default.input.withConfig({displayName:"LinkToolbar__Input",componentId:"pbs8fd-2"})(["font-size:15px;background:",";color:",";border-radius:2px;padding:4px 8px;border:0;margin:0;outline:none;flex-grow:1;"],(function(e){return e.theme.toolbarInput}),(function(e){return e.theme.toolbarItem}));t.default=(0,s.withTheme)(v)}).call(this,n(349).setImmediate)},898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(29),c=(o=l)&&o.__esModule?o:{default:o},u=n(94);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["title"]);return a.createElement(p,r({},n,{href:""}),a.createElement("i",null,a.createElement(u.NextIcon,{light:!0})),t)}}]),t}(a.Component),p=c.default.a.withConfig({displayName:"LinkSearchResult__ListItem",componentId:"d0io2b-0"})(["display:flex;align-items:center;height:28px;padding:6px 8px 6px 0;color:",";font-family:",";font-size:15px;text-decoration:none;overflow:hidden;white-space:nowrap;i{visibility:hidden;}&:hover,&:focus,&:active{font-weight:500;outline:none;i{visibility:visible;}}"],(function(e){return e.theme.toolbarItem}),(function(e){return e.theme.fontFamily}));t.default=s},899:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(351)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(228),c=(n(5),n(52)),u=n(29),s=d(u),p=n(94);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=i=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.state={top:-1e3,left:-1e3,active:!1,closestRootNode:void 0},i.componentDidMount=function(){"undefined"!==typeof window&&window.addEventListener("mousemove",i.handleMouseMove)},i.componentWillUnmount=function(){i.mouseMoveTimeout&&clearTimeout(i.mouseMoveTimeout),"undefined"!==typeof window&&window.removeEventListener("mousemove",i.handleMouseMove)},i.setInactive=function(){i.setState({active:!1})},i.handleMouseMove=function(e){var t=i.ref?i.ref.getBoundingClientRect().left+300:window.innerWidth,n=function(e,t){var n=void 0,o=!0,r=!1,i=void 0;try{for(var a,l=e.document.nodes[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var u=a.value,s=(0,c.findDOMNode)(u),p=s.getBoundingClientRect();if(p.top>t.clientY)return n;n={node:u,element:s,bounds:p}}}catch(d){r=!0,i=d}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}return n}(i.props.editor.value,e),a=r({},i.state);(a.active=e.clientX<t,n)&&(a.closestRootNode=n.node,"paragraph"!==n.node.type||!!n.node.text.trim()||n.node.isVoid?(a.left=-1e3,a.active=!1):(a.left=Math.round(n.bounds.left-20),a.top=Math.round(n.bounds.top+window.scrollY)));i.state.active&&(i.mouseMoveTimeout&&clearTimeout(i.mouseMoveTimeout),i.mouseMoveTimeout=setTimeout(i.setInactive,2e3)),(0,o.default)(a,i.state)||i.setState(a)},i.handleClick=function(e){e.preventDefault(),e.stopPropagation(),i.setState({active:!1});var t=i.props.editor;t.value.document.nodes.forEach((function(e){"block-toolbar"===e.type&&t.setNodeByKey(e.key,{type:"paragraph",isVoid:!1})}));var n=i.state.closestRootNode;n&&(n.text.trim()||"paragraph"!==n.type||t.setNodeByKey(n.key,{type:"block-toolbar",isVoid:!0}))},i.setRef=function(e){i.ref=e},f(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props.theme,t={top:this.state.top+"px",left:this.state.left+"px"};return a.createElement(a.Fragment,null,a.createElement("span",{ref:this.setRef}),a.createElement(l.Portal,null,a.createElement(m,{active:this.state.active,style:t},a.createElement(p.PlusIcon,{onClick:this.handleClick,color:e.blockToolbarTrigger}))))}}]),t}(a.Component),m=s.default.div.withConfig({displayName:"BlockInsert__Trigger",componentId:"sc-9hcx4i-0"})(["position:absolute;z-index:",";opacity:0;background-color:",";transition:opacity 150ms cubic-bezier(0.175,0.885,0.32,1.275),transform 150ms cubic-bezier(0.175,0.885,0.32,1.275);line-height:0;margin-left:-10px;box-shadow:inset 0 0 0 2px ",";border-radius:100%;transform:scale(0.9);cursor:pointer;&:hover{background-color:",";svg{fill:",";}}",";"],(function(e){return e.theme.zIndex+99}),(function(e){return e.theme.background}),(function(e){return e.theme.blockToolbarTrigger}),(function(e){return e.theme.blockToolbarTrigger}),(function(e){return e.theme.blockToolbarTriggerIcon}),(function(e){return e.active&&"\n    transform: scale(1);\n    opacity: .9;\n  "}));t.default=(0,u.withTheme)(h)},900:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(){return{schema:{blocks:{"table-cell":{data:{align:function(e){return["left","center","right"].includes(e)}},normalize:function(e,t){"node_data_invalid"===t.code&&e.setNodeByKey(t.node.key,{data:t.node.data.set("align","left")})}}}},commands:{setColumnAlign:function(e,t){var n=e.getPosition(e.value);return e.getCellsAtColumn(n.table,n.getColumnIndex()).forEach((function(n){var r=n.data.toObject();e.setNodeByKey(n.key,{data:o({},r,{align:t})})})),e},clearSelectedColumn:function(e,t,n){e.getCellsAtColumn(t,n).forEach((function(t){if(t){var n=t.data.toObject();e.setNodeByKey(t.key,{data:o({},n,{selected:void 0})})}}))},clearSelectedRow:function(e,t,n){e.getCellsAtRow(t,n).forEach((function(t){if(t){var n=t.data.toObject();e.setNodeByKey(t.key,{data:o({},n,{selected:void 0})})}}))},resetAlign:function(e,t,n){var r=e.getCellsAtRow(t,0),i=e.getPositionByKey(e.value.document,t.key);e.getCellsAtRow(i.table,n).forEach((function(t,n){var i=r.get(n).data.toObject();e.setNodeByKey(t.key,{data:o({},i,{selected:void 0})})}))},clearSelected:function(e,t){var n=t.data.get("selectedRows")||[],o=t.data.get("selectedColumns")||[];return e.withoutSaving((function(){n.forEach((function(n){e.clearSelectedRow(t,n)})),o.forEach((function(n){e.clearSelectedColumn(t,n)})),(n.length||o.length)&&e.setNodeByKey(t.key,{data:{selectedTable:!1,selectedColumns:[],selectedRows:[]}})})),e},selectColumn:function(e,t){var n=e.getPosition(e.value),r=n.getColumnIndex();return e.withoutSaving((function(){e.clearSelected(n.table),e.setNodeByKey(n.table.key,{data:{selectedColumns:t?[r]:[],selectedRows:[]}}),e.getCellsAtColumn(n.table,r).forEach((function(n){var r=n.data.toObject();e.setNodeByKey(n.key,{data:o({},r,{selected:t})})}))})),e},selectRow:function(e,t){var n=e.getPosition(e.value),r=n.getRowIndex();return e.withoutSaving((function(){e.clearSelected(n.table),e.setNodeByKey(n.table.key,{data:{selectedColumns:[],selectedRows:t?[r]:[]}}),e.getCellsAtRow(n.table,r).forEach((function(n){var r=n.data.toObject();e.setNodeByKey(n.key,{data:o({},r,{selected:t})})}))})),e},selectAll:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getPosition(e.value);e.withoutSaving((function(){e.withoutNormalizing((function(){var r=n.getWidth(),i=n.getHeight(),a={selectedTable:!0,selectedColumns:Array.from(Array(r).keys()),selectedRows:Array.from(Array(i).keys())};e.setNodeByKey(n.table.key,{data:a});for(var l=0;l<n.getHeight();l++){e.getCellsAtRow(n.table,l).forEach((function(n){var r=n.data.toObject();e.setNodeByKey(n.key,{data:o({},r,{selected:t})})}))}}))}))}}}}},901:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),r=(n(5),y(n(902))),i=y(n(922)),a=y(n(923)),l=y(n(924)),c=y(n(935)),u=y(n(936)),s=y(n(358)),p=y(n(941)),d=y(n(942)),f=y(n(944)),h=n(945),m=y(n(946));function y(e){return e&&e.__esModule?e:{default:e}}t.default={renderNode:function(e,t,n){var y=e.attributes;switch(e.node.data.get("hidden")&&(y.style={display:"none"}),e.node.type){case"paragraph":return o.createElement(m.default,e);case"block-toolbar":return o.createElement(i.default,e);case"block-quote":return o.createElement("blockquote",y,e.children);case"bulleted-list":return o.createElement("ul",y,e.children);case"ordered-list":return o.createElement("ol",y,e.children);case"todo-list":return o.createElement(f.default,y,e.children);case"table":return o.createElement(u.default,e,e.children);case"table-row":return o.createElement(p.default,e);case"table-cell":return o.createElement(s.default,e);case"list-item":return o.createElement(d.default,e);case"horizontal-rule":return o.createElement(a.default,e);case"code":return o.createElement(r.default,e);case"code-line":return o.createElement("pre",y,e.children);case"image":return o.createElement(l.default,e);case"link":return o.createElement(c.default,e);case"heading1":return o.createElement(h.Heading1,e);case"heading2":return o.createElement(h.Heading2,e);case"heading3":return o.createElement(h.Heading3,e);case"heading4":return o.createElement(h.Heading4,e);case"heading5":return o.createElement(h.Heading5,e);case"heading6":return o.createElement(h.Heading6,e);default:return n()}}}},902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(903)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){var t=e.children,n=e.node,a=e.readOnly,c=e.attributes,h=e.editor,m=n.data,y=m.get("language")||"javascript";return i.createElement(f,r({},c,{spellCheck:!1}),a&&i.createElement(l.default,{text:u(n)}),i.createElement(p,null,t),!a&&i.createElement(d,{onChange:function(e){h.setNodeByKey(n.key,{data:r({},m,{language:e.target.value})})},value:y,contentEditable:!1},(0,o.default)(s,(function(e,t){return i.createElement("option",{key:t,value:t},e)}))))};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=c(n(29)),l=c(n(919));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return e.nodes.reduce((function(e,t){return""+e+t.text+"\n"}),"")}var s={none:"None",bash:"Bash",css:"CSS",clike:"C",csharp:"C#",markup:"HTML",java:"Java",javascript:"JavaScript",php:"PHP",powershell:"Powershell",python:"Python",ruby:"Ruby",typescript:"TypeScript"};var p=a.default.code.withConfig({displayName:"Code",componentId:"hfpue9-0"})(["display:block;overflow-x:auto;padding:0.5em 1em;line-height:1.4em;pre{-webkit-font-smoothing:initial;font-family:"," font-size:13px;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;color:",";margin:0;}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:",";}.token.punctuation{color:",";}.token.namespace{opacity:.7;}.token.operator,.token.boolean,.token.number{color:",";}.token.property{color:",";}.token.tag{color:",";}.token.string{color:",";}.token.selector{color:",";}.token.attr-name{color:",";}.token.entity,.token.url,.language-css .token.string,.style .token.string{color:",";}.token.attr-value,.token.keyword,.token.control,.token.directive,.token.unit{color:",";}.token.function{color:",";}.token.statement,.token.regex,.token.atrule{color:",";}.token.placeholder,.token.variable{color:",";}.token.deleted{text-decoration:line-through;}.token.inserted{border-bottom:1px dotted ",";text-decoration:none;}.token.italic{font-style:italic;}.token.important,.token.bold{font-weight:bold;}.token.important{color:",";}.token.entity{cursor:help;}"],(function(e){return e.theme.fontFamilyMono}),(function(e){return e.theme.code}),(function(e){return e.theme.codeComment}),(function(e){return e.theme.codePunctuation}),(function(e){return e.theme.codeNumber}),(function(e){return e.theme.codeProperty}),(function(e){return e.theme.codeTag}),(function(e){return e.theme.codeString}),(function(e){return e.theme.codeSelector}),(function(e){return e.theme.codeAttr}),(function(e){return e.theme.codeEntity}),(function(e){return e.theme.codeKeyword}),(function(e){return e.theme.codeFunction}),(function(e){return e.theme.codeStatement}),(function(e){return e.theme.codePlaceholder}),(function(e){return e.theme.codeInserted}),(function(e){return e.theme.codeImportant})),d=a.default.select.withConfig({displayName:"Code__Language",componentId:"hfpue9-1"})(["position:absolute;bottom:2px;right:2px;opacity:0;"]),f=a.default.div.withConfig({displayName:"Code__Container",componentId:"hfpue9-2"})(["position:relative;background:",";border-radius:4px;border:1px solid ",";&:hover{> span{opacity:1;}","{opacity:1;}}"],(function(e){return e.theme.codeBackground}),(function(e){return e.theme.codeBorder}),d)},919:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=c(n(29)),l=c(n(356));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={copied:!1},o.handleCopy=function(){o.setState({copied:!0}),o.copiedTimeout=setTimeout((function(){return o.setState({copied:!1})}),3e3)},u(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.copiedTimeout&&clearTimeout(this.copiedTimeout)}},{key:"render",value:function(){return i.createElement(p,o({onCopy:this.handleCopy},this.props),i.createElement("span",null,this.state.copied?"Copied":"Copy"))}}]),t}(i.Component),p=(0,a.default)(l.default).withConfig({displayName:"CopyButton__StyledCopyToClipboard",componentId:"sc-12wurb0-0"})(["position:absolute;top:0;right:0;opacity:0;transition:opacity 50ms ease-in-out;z-index:",";font-size:12px;font-weight:500;color:",";background:",";border-radius:0 4px 0 0;padding:2px 6px;cursor:pointer;"],(function(e){return e.theme.zIndex+99}),(function(e){return e.theme.text}),(function(e){return e.theme.codeBorder}));t.default=s},922:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=g(n(199)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),u=n(15),s=g(n(388)),p=n(29),d=g(p),f=n(94),h=g(n(323)),m=g(n(346)),y=g(n(153));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var v=m.default.changes,O=(o=(0,s.default)("esc"),function(e,t,n,o,r){var i={};Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((r=function(e){function t(){var e,n,o,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleOutsideMouseClick=function(e){var t=(0,u.findDOMNode)(o.bar);!t||e.target instanceof Node&&t.contains(e.target)||e.button&&0!==e.button||o.removeSelf(e)},o.insertBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on",n=o.props.editor;return n.moveToEndOfNode(o.props.node),"table"===e.type?n.insertTable(3,3):n.insertBlock(e.type),n.removeNodeByKey(o.props.node.key).moveToEnd(),"before"===t&&n.moveToStartOfPreviousBlock(),"after"===t&&n.moveToStartOfNextBlock(),n.focus()},o.insertList=function(e){var t=o.props.editor,n="todo-list"!==e&&void 0;return t.moveToEndOfNode(o.props.node).command(v.wrapInList,e,void 0,{type:"list-item",data:{checked:n}}),t.removeNodeByKey(o.props.node.key).moveToEndOfNextBlock().focus()},o.handleClickBlock=function(e,t){switch(e.preventDefault(),e.stopPropagation(),t){case"heading1":case"heading2":case"block-quote":case"table":case"code":return o.insertBlock({type:t});case"horizontal-rule":return o.insertBlock({type:{type:"horizontal-rule",isVoid:!0}},"after");case"bulleted-list":return o.insertList("bulleted-list");case"ordered-list":return o.insertList("ordered-list");case"todo-list":return o.insertList("todo-list");case"image":return o.onPickImage()}},o.onPickImage=function(){o.file&&o.file.click()},o.onImagePicked=function(){var e,t=(e=i.default.mark((function e(t){var n,a,l,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=(0,h.default)(t),a=o.props.editor,l=0;l<n.length;l++)c=n[l],a.insertImageFile(c);case 3:case"end":return e.stop()}}),e,r)})),function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function o(r,i){try{var a=t[r](i),l=a.value}catch(c){return void n(c)}if(!a.done)return Promise.resolve(l).then((function(e){o("next",e)}),(function(e){o("throw",e)}));e(l)}("next")}))});return function(e){return t.apply(this,arguments)}}(),o.renderBlockButton=function(e,t,n){var r=o.props.theme.hiddenToolbarButtons,i=o.props.editor.props.tooltip;return r&&r.blocks&&r.blocks.includes(e)?null:c.createElement(y.default,{onMouseDown:function(t){return o.handleClickBlock(t,e)}},c.createElement(i,{tooltip:n,placement:"top"},c.createElement(t,{color:o.props.theme.blockToolbarItem})))},b(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&window.addEventListener("click",this.handleOutsideMouseClick)}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&window.removeEventListener("click",this.handleOutsideMouseClick)}},{key:"removeSelf",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.editor.setNodeByKey(this.props.node.key,{type:"paragraph",text:"",isVoid:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.editor,o=t.attributes,r=!!n.props.uploadImage;return c.createElement(E,a({},o,{ref:function(t){return e.bar=t}}),c.createElement(k,{type:"file",ref:function(t){return e.file=t},onChange:this.onImagePicked,accept:"image/*"}),this.renderBlockButton("heading1",f.Heading1Icon,"Add heading"),this.renderBlockButton("heading2",f.Heading2Icon,"Add subheading"),c.createElement(w,null),this.renderBlockButton("bulleted-list",f.BulletedListIcon,"Start bulleted list"),this.renderBlockButton("ordered-list",f.OrderedListIcon,"Start numbered List"),this.renderBlockButton("todo-list",f.TodoListIcon,"Start checklist"),c.createElement(w,null),this.renderBlockButton("table",f.TableIcon,"Create table"),this.renderBlockButton("block-quote",f.BlockQuoteIcon,"Add quote"),this.renderBlockButton("code",f.CodeIcon,"Add code"),this.renderBlockButton("horizontal-rule",f.HorizontalRuleIcon,"Add break"),r&&this.renderBlockButton("image",f.ImageIcon,"Add image"))}}]),t}(c.Component)).prototype,"removeSelf",[o],Object.getOwnPropertyDescriptor(r.prototype,"removeSelf"),r.prototype),r),w=d.default.div.withConfig({displayName:"BlockToolbar__Separator",componentId:"sc-1bzrnp2-0"})(["height:100%;width:1px;background:rgba(0,0,0,0.1);display:inline-block;margin-left:10px;"]),E=d.default.div.withConfig({displayName:"BlockToolbar__Bar",componentId:"sc-1bzrnp2-1"})(["display:flex;z-index:",";position:relative;align-items:center;background:",';height:44px;&:before,&:after{content:"";position:absolute;left:-100%;width:100%;height:44px;background:',";}&:after{left:auto;right:-100%;}@media print{display:none;}"],(function(e){return e.theme.zIndex}),(function(e){return e.theme.blockToolbarBackground}),(function(e){return e.theme.blockToolbarBackground})),k=d.default.input.withConfig({displayName:"BlockToolbar__HiddenInput",componentId:"sc-1bzrnp2-2"})(["position:absolute;top:-100px;left:-100px;visibility:hidden;"]);t.default=(0,p.withTheme)(O)},923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=i(n(29)).default.hr.withConfig({displayName:"HorizontalRule__StyledHr",componentId:"sc-14nxlq1-0"})(["padding-top:0.75em;margin:0;border:0;border-bottom:1px solid ",";"],(function(e){return e.isSelected?e.theme.selected:e.theme.horizontalRule}));t.default=function(e){var t=e.isSelected,n=e.attributes;return r.default.createElement(a,o({isSelected:t},n))}},924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=u(n(925)),l=u(n(930)),c=u(n(29));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={hasError:!1},r.handleKeyDown=function(e){if("Enter"===e.key||"ArrowDown"===e.key){e.preventDefault();var t=r.props,n=t.editor,o=t.node;return n.moveToRangeOfNode(o).moveToStartOfNextBlock().focus()}},r.handleChange=function(e){e.stopPropagation();var t=e.target.value,n=r.props,i=n.editor,a=n.node,l=a.data.toObject();i.setNodeByKey(a.key,{data:o({},l,{alt:t})})},r.handleClick=function(e){e.stopPropagation()},r.handleError=function(){r.setState({hasError:!0})},s(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.node,r=e.isSelected,l=e.readOnly,c=n.data.get("loading"),u=n.data.get("alt")||"",s=n.data.get("src"),p=!l||u;return i.createElement(g,{contentEditable:!1},this.state.hasError?i.createElement(i.Fragment,null,i.createElement(y,{as:"div",isSelected:r}),i.createElement(d,null,"Could not load image")):i.createElement(i.Fragment,null,i.createElement(h,{src:s,onError:this.handleError}),l?i.createElement(a.default,{image:o({src:s,alt:u,style:{maxWidth:"100%"}},t),shouldRespectMaxDimension:!0}):i.createElement(m,o({},t,{src:s,alt:u,isSelected:r,isLoading:c,loading:"lazy"})),p&&i.createElement(b,{type:"text",placeholder:"Write a caption",onKeyDown:this.handleKeyDown,onChange:this.handleChange,onClick:this.handleClick,defaultValue:u,contentEditable:!1,disabled:l,tabIndex:-1,async:!0})))}}]),t}(i.Component),d=c.default.div.withConfig({displayName:"Image__ErrorMessage",componentId:"sc-77wqjk-0"})(["position:absolute;text-align:center;transform:translate3d(-50%,-50%,0);top:50%;left:50%;color:",";background:",";display:block;margin:0 auto;padding:4px 8px;border-radius:4px;font-size:14px;"],(function(e){return e.theme.text}),(function(e){return e.theme.imageErrorBackground})),f=function(e){return i.createElement("img",e)},h=(0,c.default)(f).withConfig({displayName:"Image__HiddenImg",componentId:"sc-77wqjk-1"})(["display:none;"]),m=(0,c.default)(f).withConfig({displayName:"Image__StyledImg",componentId:"sc-77wqjk-2"})(["max-width:100%;box-shadow:",";border-radius:",";opacity:",";"],(function(e){return e.isSelected?"0 0 0 2px "+e.theme.selected:"none"}),(function(e){return e.isSelected?"2px":"0"}),(function(e){return e.isLoading?.5:1})),y=(0,c.default)(m).withConfig({displayName:"Image__ErrorImg",componentId:"sc-77wqjk-3"})(["width:200px;height:100px;margin:0 auto;"]),g=c.default.span.withConfig({displayName:"Image__CenteredImage",componentId:"sc-77wqjk-4"})(["display:block;text-align:center;position:relative;"]),b=(0,c.default)(l.default).withConfig({displayName:"Image__Caption",componentId:"sc-77wqjk-5"})(["border:0;display:block;font-size:13px;font-style:italic;color:",";padding:2px 0;line-height:16px;text-align:center;width:100%;outline:none;background:none;resize:none;&::placeholder{color:",";}"],(function(e){return e.theme.textSecondary}),(function(e){return e.theme.placeholder}));t.default=p},935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){var t=e.attributes,n=e.node,i=e.children,a=e.editor,l=e.readOnly,c=n.data.get("embed"),u=n.data.get("component"),s=n.data.get("href");if(c&&u)return r.createElement(u,e);return r.createElement("a",o({},t,{href:l?s:void 0,onClick:l?function(e){a.props.onClickLink&&(e.preventDefault(),a.props.onClickLink(s))}:void 0,target:"_blank"}),i)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0))},936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=n(15),l=s(n(29)),c=n(358),u=s(n(940));function s(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.handleOutsideMouseClick=function(e){var t=(0,a.findDOMNode)(o.table);!t||e.target instanceof Node&&t.contains(e.target)||o.props.editor.clearSelected(o.props.node)},p(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&window.addEventListener("click",this.handleOutsideMouseClick)}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&window.removeEventListener("click",this.handleOutsideMouseClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.attributes;return i.createElement(u.default,null,i.createElement(f,o({ref:function(t){return e.table=t}},r),i.createElement("tbody",null,n)))}}]),t}(i.Component),f=l.default.table.withConfig({displayName:"Table__StyledTable",componentId:"sc-1q8gax3-0"})(["width:100%;border-collapse:collapse;border-radius:4px;border:1px solid ",";margin-top:1em;*{box-sizing:initial;}",",",",","{opacity:0;transition:opacity 100ms ease-in-out;}&:hover{",",",",","{opacity:1;}}"],(function(e){return e.theme.tableDivider}),c.GripColumn,c.GripRow,c.GripTable,c.GripColumn,c.GripRow,c.GripTable);t.default=d},937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=(n(5),n(228)),l=n(15),c=n(938),u=(o=c)&&o.__esModule?o:{default:o},s=n(350);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d={row:148,column:248,table:68},f={row:"left",column:"center",table:"left"},h=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={top:0,left:0},p(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(){if(this.props.cell){var e=(0,l.findDOMNode)(this.props.cell);if(e instanceof HTMLElement){var t=e.getBoundingClientRect(),n=d[this.props.type],o="center"===f[this.props.type]?Math.round(t.left+window.scrollX+t.width/2-n/2):Math.round(t.left+window.scrollX-n/2),r=Math.round(t.top+window.scrollY-40-12);this.setState((function(e){if(e.left!==o||e.top!==r)return{left:o,top:r}}))}}}},{key:"render",value:function(){var e=this.props,t=e.editor,n=e.type,o=e.active;return this.state.top||this.state.left?i.createElement(a.Portal,null,i.createElement(s.Menu,{active:o,style:this.state},i.createElement(u.default,{editor:t,isTableSelected:"table"===n,isRowSelected:"row"===n,isColumnSelected:"column"===n}))):null}}]),t}(i.Component);t.default=h},938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(29),a=(n(52),n(94)),l=u(n(153)),c=u(n(353));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.hasAlign=function(e){try{var t=o.props.editor,n=t.value,r=n.startBlock,i=n.document;return t.getPositionByKey(i,r.key).cell.data.get("align")===e||r.data.get("align")===e}catch(a){return!1}},o.onClickAlign=function(e,t){e.preventDefault(),e.stopPropagation();var n=o.props.editor,r=n.value,i=r.startBlock,a=r.document,l=n.getPositionByKey(a,i.key);n.moveSelection(l.getColumnIndex(),l.getRowIndex()),n.setColumnAlign(t)},o.renderAlignButton=function(e,t){var n=o.hasAlign(e),i=o.props.editor.props.tooltip;return r.createElement(l.default,{onMouseDown:function(t){return o.onClickAlign(t,e)},active:n},r.createElement(i,{tooltip:"Align "+e,placement:"top"},r.createElement(t,{color:o.props.theme.toolbarItem})))},o.removeTable=function(e){e.preventDefault(),o.props.editor.removeTable().blur()},o.addRowBelow=function(e){e.preventDefault();var t=o.props.editor,n=t.value,r=n.startBlock,i=n.document,a=t.getPositionByKey(i,r.key);t.clearSelected(a.table).insertRow(a.getRowIndex()+1).resetAlign(a.table,a.getRowIndex()+1).blur()},o.addRowAbove=function(e){e.preventDefault();var t=o.props.editor,n=t.value,r=n.startBlock,i=n.document,a=t.getPositionByKey(i,r.key);t.clearSelected(a.table).insertRow(a.getRowIndex()).resetAlign(a.table,a.getRowIndex()).blur()},o.removeRow=function(e){e.preventDefault(),o.props.editor.removeRow().blur()},o.addColumnRight=function(e){e.preventDefault();var t=o.props.editor,n=t.value,r=n.startBlock,i=n.document,a=t.getPositionByKey(i,r.key);o.props.editor.clearSelected(a.table).insertColumn()},o.addColumnLeft=function(e){e.preventDefault();var t=o.props.editor,n=t.value,r=n.startBlock,i=n.document,a=t.getPositionByKey(i,r.key);t.insertColumn(a.getColumnIndex()).clearSelected(a.table).moveSelectionBy(-1,0)},o.removeColumn=function(e){e.preventDefault(),o.props.editor.removeColumn().blur()},s(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.isRowSelected,n=e.isColumnSelected,o=e.isTableSelected,i=this.props.editor.props.tooltip;return r.createElement(r.Fragment,null,o&&r.createElement(l.default,{onMouseDown:this.removeTable},r.createElement(i,{tooltip:"Delete table",placement:"top"},r.createElement(a.TrashIcon,{color:this.props.theme.toolbarItem}))),n&&r.createElement(r.Fragment,null,this.renderAlignButton("left",a.AlignLeftIcon),this.renderAlignButton("center",a.AlignCenterIcon),this.renderAlignButton("right",a.AlignRightIcon),r.createElement(c.default,null),r.createElement(l.default,{onMouseDown:this.removeColumn},r.createElement(i,{tooltip:"Delete column",placement:"top"},r.createElement(a.TrashIcon,{color:this.props.theme.toolbarItem}))),r.createElement(c.default,null),r.createElement(l.default,{onMouseDown:this.addColumnLeft},r.createElement(i,{tooltip:"Insert column left",placement:"top"},r.createElement(a.InsertLeftIcon,{color:this.props.theme.toolbarItem}))),r.createElement(l.default,{onMouseDown:this.addColumnRight},r.createElement(i,{tooltip:"Insert column right",placement:"top"},r.createElement(a.InsertRightIcon,{color:this.props.theme.toolbarItem})))),t&&r.createElement(r.Fragment,null,r.createElement(l.default,{onMouseDown:this.removeRow},r.createElement(i,{tooltip:"Delete row",placement:"top"},r.createElement(a.TrashIcon,{color:this.props.theme.toolbarItem}))),r.createElement(c.default,null),r.createElement(l.default,{onMouseDown:this.addRowAbove},r.createElement(i,{tooltip:"Insert row above",placement:"top"},r.createElement(a.InsertAboveIcon,{color:this.props.theme.toolbarItem}))),r.createElement(l.default,{onMouseDown:this.addRowBelow},r.createElement(i,{tooltip:"Insert row below",placement:"top"},r.createElement(a.InsertBelowIcon,{color:this.props.theme.toolbarItem})))))}}]),t}(r.Component);t.default=(0,i.withTheme)(p)},939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(29);var i=((o=r)&&o.__esModule?o:{default:o}).default.a.withConfig({displayName:"Grip",componentId:"j9idwb-0"})(["position:absolute;cursor:pointer;background:",";"," &:hover{background:",";}"],(function(e){return e.isSelected?e.theme.tableSelected:e.theme.tableDivider}),(function(e){return e.isSelected&&"opacity: 1 !important;"}),(function(e){return e.isSelected?e.theme.tableSelected:e.theme.toolbarBackground}));t.default=i},940:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(29),c=(o=l)&&o.__esModule?o:{default:o};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={shadowLeft:!1,shadowRight:!1},o.handleScroll=function(e){var t=e.currentTarget.scrollLeft>0;o.state.shadowLeft!==t&&o.setState({shadowLeft:t})},u(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.updateRightShadow()}},{key:"componentDidUpdate",value:function(){this.updateRightShadow()}},{key:"updateRightShadow",value:function(){var e=!!(this.element&&this.element.scrollWidth>this.element.clientWidth);this.state.shadowRight!==e&&this.setState({shadowRight:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["children"]);return a.createElement(p,null,a.createElement(d,r({ref:function(t){return e.element=t},onScroll:this.handleScroll},o),n),a.createElement(f,{left:this.state.shadowLeft}),a.createElement(f,{right:this.state.shadowRight}))}}]),t}(a.Component),p=c.default.div.withConfig({displayName:"Scrollable__Wrapper",componentId:"sc-1r73oj6-0"})(["position:relative;margin:0.5em 0;"]),d=c.default.div.withConfig({displayName:"Scrollable__Scrolling",componentId:"sc-1r73oj6-1"})(["overflow-y:hidden;overflow-x:scroll;padding-left:1em;border-left:1px solid transparent;border-right:1px solid transparent;transition:border 250ms ease-in-out;margin-left:-1em;"]),f=c.default.div.withConfig({displayName:"Scrollable__Shadow",componentId:"sc-1r73oj6-2"})(["position:absolute;top:0;bottom:0;left:-1em;width:16px;transition:box-shadow 250ms ease-in-out;border:0px solid transparent;border-left-width:1em;pointer-events:none;"," ",""],(function(e){return e.left&&"\n     box-shadow: 16px 0 16px -16px inset rgba(0,0,0,0.25);\n     border-left: 1em solid "+e.theme.background+";\n  "}),(function(e){return e.right&&"right: 0;\n     left: auto;\n     box-shadow: -16px 0 16px -16px inset rgba(0,0,0,0.25);\n  "}));t.default=s},941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(29);var a=((o=i)&&o.__esModule?o:{default:o}).default.tr.withConfig({displayName:"Row__StyledTr",componentId:"sc-1s45kbv-0"})(["position:relative;border-bottom:1px solid ",";"],(function(e){return e.theme.tableDivider}));t.default=function(e){var t=e.children,n=e.attributes;return r.createElement(a,n,t)}},942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){var t=e.children,n=e.node,a=e.attributes,l=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["children","node","attributes"]);if(void 0!==n.data.get("checked"))return r.default.createElement(i.default,o({node:n,attributes:a},l),t);return r.default.createElement("li",a,t)};var r=a(n(0)),i=a(n(943));function a(e){return e&&e.__esModule?e:{default:e}}},943:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(29),c=(o=l)&&o.__esModule?o:{default:o};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.handleChange=function(e){var t=e.target.checked,n=o.props,r=n.editor,i=n.node;r.setNodeByKey(i.key,{data:{checked:t}})},u(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.node,o=e.attributes,i=e.readOnly,l=n.data.get("checked");return a.createElement(p,r({checked:l},o),a.createElement("span",{contentEditable:!1},a.createElement(d,{type:"checkbox",checked:l,onChange:this.handleChange,disabled:i})),t)}}]),t}(a.Component);t.default=s;var p=c.default.li.withConfig({displayName:"TodoItem__ListItem",componentId:"sc-9rkc5q-0"})(["padding-left:1.4em;position:relative;> p > span{color:",";text-decoration:",";}"],(function(e){return e.checked?e.theme.textSecondary:"inherit"}),(function(e){return e.checked?"line-through":"none"})),d=c.default.input.withConfig({displayName:"TodoItem__Input",componentId:"sc-9rkc5q-1"})(["position:absolute;left:0;top:0.4em;"])},944:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(29);var i=((o=r)&&o.__esModule?o:{default:o}).default.ul.withConfig({displayName:"TodoList",componentId:"l5tb79-0"})(["list-style:none;padding:0 !important;ul{padding-left:1em;}"]);t.default=i},945:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Heading6=t.Heading5=t.Heading4=t.Heading3=t.Heading2=t.Heading1=t.StyledHeading=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=u(n(29)),a=n(94),l=u(n(223)),c=u(n(356));function u(e){return e&&e.__esModule?e:{default:e}}var s=i.default.a.withConfig({displayName:"Heading__CollapseToggle",componentId:"h5m87l-0"})(["opacity:",";pointer-events:",";visibility:",";user-select:none;cursor:pointer;width:24px;height:24px;svg{",";fill:",";transition:transform 100ms ease-in-out;}&:hover{svg{fill:",";}}"],(function(e){return e.disabled?"0":"1"}),(function(e){return e.disabled?"none":"all"}),(function(e){return e.collapsed?"visible":"hidden"}),(function(e){return e.collapsed&&"transform: rotate(-90deg);"}),(function(e){return e.collapsed?e.theme.text:e.theme.placeholder}),(function(e){return e.theme.text})),p=i.default.div.withConfig({displayName:"Heading__Wrapper",componentId:"h5m87l-1"})(["display:inline;margin-left:",";"],(function(e){return e.hasPretitle?"-1.2em":0})),d=i.default.a.withConfig({displayName:"Heading__HiddenAnchor",componentId:"h5m87l-2"})(["visibility:hidden;display:block;position:relative;top:-50px;"]),f=(0,i.default)(c.default).withConfig({displayName:"Heading__Anchor",componentId:"h5m87l-3"})(["visibility:hidden;padding-left:0.25em;"]),h=t.StyledHeading=(0,i.default)((function(e){var t=e.node,n=e.editor,i=e.readOnly,c=e.children,u=e.component,h=void 0===u?"h1":u,m=e.attributes,y=e.className,g=n.value.document.nodes.first()===t,b=(0,l.default)(n.value.document,t),v=i&&!!b,O=h,w=n.props.pretitle||"",E=t.text.trim(),k=w&&E.match(new RegExp("^"+w+"\\s")),x="undefined"!==typeof window?window.location.pathname:"",T="undefined"!==typeof window?window.location.origin:"",C=x+"#"+b,_=t.data.get("collapsed");return r.createElement(O,o({},m,{className:y}),r.createElement(d,{id:b}),r.createElement(s,{onClick:function(){return n.toggleContentBelow(t)},contentEditable:!1,collapsed:_,disabled:g||!E},r.createElement(a.CollapsedIcon,null)),r.createElement(p,{hasPretitle:g&&k},c),v&&r.createElement(f,{name:b,onCopy:function(){return n.props.onShowToast&&n.props.onShowToast("Link copied to clipboard")},text:""+T+C},r.createElement("span",null,"#")))})).withConfig({displayName:"Heading__StyledHeading",componentId:"h5m87l-4"})(["display:flex;align-items:center;position:relative;margin-left:-24px;&:hover{","{visibility:visible;}","{color:",";visibility:visible;text-decoration:none;cursor:pointer;&:hover{color:",";}}}"],s,f,(function(e){return e.theme.placeholder}),(function(e){return e.theme.text}));t.Heading1=function(e){return r.createElement(h,o({component:"h1"},e))},t.Heading2=function(e){return r.createElement(h,o({component:"h2"},e))},t.Heading3=function(e){return r.createElement(h,o({component:"h3"},e))},t.Heading4=function(e){return r.createElement(h,o({component:"h4"},e))},t.Heading5=function(e){return r.createElement(h,o({component:"h5"},e))},t.Heading6=function(e){return r.createElement(h,o({component:"h6"},e))}},946:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.attributes,n=e.children;return i.default.createElement("p",t,n)};var o,r=n(0),i=(o=r)&&o.__esModule?o:{default:o}},947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=(n(5),n(948)),a=(o=i)&&o.__esModule?o:{default:o};t.default={renderMark:function(e,t,n){switch(e.mark.type){case"bold":return r.createElement("strong",null,e.children);case"code":return r.createElement(a.default,null,e.children);case"italic":return r.createElement("em",null,e.children);case"underlined":return r.createElement("u",null,e.children);case"deleted":return r.createElement("del",null,e.children);case"inserted":return r.createElement("mark",null,e.children);default:return n()}}}},948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(29);var i=((o=r)&&o.__esModule?o:{default:o}).default.code.attrs({spellCheck:!1}).withConfig({displayName:"InlineCode",componentId:"sc-14p8r0u-0"})(["background:",";border-radius:4px;border:1px solid ",';padding:3px 6px;font-family:"Source Code Pro",Menlo,monospace;font-size:85%;'],(function(e){return e.theme.codeBackground}),(function(e){return e.theme.codeBorder}));t.default=i},957:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r={wrapLink:function(e,t){e.isLinkActive()||e.wrapInline({type:"link",data:{href:t}})},unwrapLink:function(e){e.unwrapInline("link")},insertImageFile:function(e,t){var n=e.props,r=n.uploadImage,i=n.onImageUploadStart,a=n.onShowToast,l=n.onImageUploadStop;r||console.warn("uploadImage callback must be defined to handle image uploads."),i&&i();var c=o.KeyUtils.create(),u=URL.createObjectURL(t),s=o.Block.create({key:c,type:"image",isVoid:!0,data:{src:u,alt:"",loading:!0}});e.insertBlock(s).insertBlock("paragraph").onChange(e),e.withoutSaving((function(e){r(t).then((function(t){if(!t)throw new Error("No image url returned from uploadImage callback");try{e.setNodeByKey(c,{data:{src:t,alt:"",loading:!1}})}catch(n){console.warn("Image placeholder could not be found",n)}})).catch((function(t){throw e.removeNodeByKey(c),a&&a("Sorry, an error occurred uploading the image"),t})).finally((function(){l&&l()}))}))}};t.default=r},958:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(5);var o={isLinkActive:function(e){return e.value.inlines.some((function(e){return"link"===e.type}))},getLinkInSelection:function(e){try{var t=e.value,n=t.document.getLeafInlinesAtRange(t.selection).filter((function(e){return"link"===e.type}));if(n.size){var o=n.first(),r=t.selection;if(r.anchor.isInNode(o)||r.focus.isInNode(o))return o}}catch(i){console.error(i)}}};t.default=o}},[[439,4,0,2,1]]]);
//# sourceMappingURL=main.c1a2aeb1.chunk.js.map