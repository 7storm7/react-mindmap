{"version":3,"sources":["../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/utils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/errors.js","../node_modules/@blink-mind/core/node_modules/debug/src/browser.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/utils/compareUtils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/utils/safeInvokeMember.js","../node_modules/@blink-mind/plugin-rich-text-editor/node_modules/debug/src/browser.js","../node_modules/@blink-mind/plugin-json-serializer/node_modules/debug/src/browser.js","images/default.jpg","images/theme1.jpg","images/theme2.jpg","images/theme3.jpg","images/theme4.jpg","../node_modules/@blink-mind/renderer-react/node_modules/debug/src/browser.js","../node_modules/@blink-mind/renderer-react/node_modules/debug/src/common.js","../node_modules/@blink-mind/core/node_modules/debug/src/common.js","../node_modules/@blink-mind/plugin-simple-text-editor/node_modules/debug/src/common.js","../node_modules/@blink-mind/plugin-rich-text-editor/node_modules/debug/src/common.js","../node_modules/@blink-mind/plugin-json-serializer/node_modules/debug/src/common.js","../node_modules/@blink-mind/core/node_modules/tiny-warning/dist/tiny-warning.esm.js","../node_modules/@blink-mind/core/node_modules/is-plain-object/index.js","../node_modules/@blink-mind/core/node_modules/isobject/index.js","../node_modules/@blink-mind/core/lib/main.es.js","../node_modules/@blink-mind/renderer-react/node_modules/tslib/tslib.es6.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/position.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popoverSharedProps.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/alignment.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/elevation.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/intent.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/classes.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/keys.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/props.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/abstractPureComponent2.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/icon/icon.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/breadcrumbs/breadcrumb.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/portal/portal.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/overlay/overlay.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/resize-sensor/resizeSensor.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popperUtils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popoverArrow.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popoverMigrationUtils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/popover/popover.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/tooltip/tooltip.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/boundary.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/html/html.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/overflow-list/overflowList.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/menu/menuDivider.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/text/text.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/menu/menuItem.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/menu/menu.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/breadcrumbs/breadcrumbs.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/spinner/spinner.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/button/abstractButton.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/button/buttons.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/dialog/dialog.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/divider/divider.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/button/buttonGroup.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/forms/controlGroup.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/forms/inputGroup.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/forms/numericInputUtils.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/forms/numericInput.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/context-menu/contextMenu.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/context-menu/contextMenuTarget.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/common/utils/isDarkTheme.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeyParser.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/drawer/drawer.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/keyCombo.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkey.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeys.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeysDialog.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeysEvents.js","../node_modules/@blink-mind/renderer-react/node_modules/@blueprintjs/core/lib/esm/components/hotkeys/hotkeysTarget.js","../node_modules/@blink-mind/plugin-simple-text-editor/lib/main.es.js","../node_modules/@blink-mind/renderer-react/lib/main.es.js","../node_modules/@blink-mind/plugin-rich-text-editor/lib/main.es.js","../node_modules/@blink-mind/plugin-json-serializer/lib/main.es.js","../node_modules/@blink-mind/plugin-theme-selector/lib/main.es.js","component/toolbar/toolbar-item-open.js","component/toolbar/toolbar-item-layout.js","component/toolbar/toolbar-item-theme.js","utils/index.js","component/toolbar/toolbar-item-export.js","component/toolbar/toolbar.js","component/mindmap.js","App.js","serviceWorker.js","index.js","../node_modules/@blink-mind/plugin-simple-text-editor/node_modules/debug/src/browser.js"],"names":["isNodeEnv","env","process","isFunction","value","isReactNodeEmpty","node","skipArray","Array","isArray","length","every","n","ensureElement","child","tagName","trim","undefined","type","isReactElement","props","getDisplayName","ComponentClass","displayName","name","isElementOfType","element","ComponentType","safeInvoke","func","args","_i","arguments","apply","safeInvokeOrValue","funcOrValue","elementIsOrContains","testElement","contains","arrayLengthCompare","a","b","approxEqual","tolerance","Math","abs","clamp","val","min","max","Error","countDecimalPlaces","num","isFinite","e","p","round","throttleEvent","target","eventName","newEventName","throttledFunc","_throttleHelper","event","dispatchEvent","CustomEvent","addEventListener","throttleReactEventCallback","callback","options","event2","preventDefault","persist","throttle","method","onAnimationFrameRequested","onBeforeIsRunningCheck","onAfterIsRunningCheck","isRunning","requestAnimationFrame","ns","CLAMP_MIN_MAX","CONTEXTMENU_WARN_DECORATOR_NO_METHOD","CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT","HOTKEYS_HOTKEY_CHILDREN","HOTKEYS_WARN_DECORATOR_NO_METHOD","HOTKEYS_WARN_DECORATOR_NEEDS_REACT_ELEMENT","NUMERIC_INPUT_MIN_MAX","NUMERIC_INPUT_MINOR_STEP_SIZE_BOUND","NUMERIC_INPUT_MAJOR_STEP_SIZE_BOUND","NUMERIC_INPUT_MINOR_STEP_SIZE_NON_POSITIVE","NUMERIC_INPUT_MAJOR_STEP_SIZE_NON_POSITIVE","NUMERIC_INPUT_STEP_SIZE_NON_POSITIVE","NUMERIC_INPUT_STEP_SIZE_NULL","OVERFLOW_LIST_OBSERVE_PARENTS_CHANGED","POPOVER_REQUIRES_TARGET","POPOVER_HAS_BACKDROP_INTERACTION","POPOVER_WARN_TOO_MANY_CHILDREN","POPOVER_WARN_DOUBLE_CONTENT","POPOVER_WARN_DOUBLE_TARGET","POPOVER_WARN_EMPTY_CONTENT","POPOVER_WARN_HAS_BACKDROP_INLINE","POPOVER_WARN_UNCONTROLLED_ONINTERACTION","PORTAL_CONTEXT_CLASS_NAME_STRING","SPINNER_WARN_CLASSES_SIZE","DIALOG_WARN_NO_HEADER_ICON","DIALOG_WARN_NO_HEADER_CLOSE_BUTTON","DRAWER_VERTICAL_IS_IGNORED","DRAWER_ANGLE_POSITIONS_ARE_CASTED","_typeof","obj","Symbol","iterator","constructor","prototype","exports","log","_console","console","formatArgs","this","useColors","namespace","module","humanize","diff","c","color","splice","index","lastC","replace","match","save","namespaces","storage","setItem","removeItem","error","load","r","getItem","DEBUG","window","__nwjs","navigator","userAgent","toLowerCase","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","localStorage","localstorage","colors","formatters","j","v","JSON","stringify","message","arraysEqual","arrA","arrB","compare","i","shallowCompareKeys","objA","objB","keys","_shallowCompareKeys","keysA","Object","keysB","include","deepCompareKeys","_isSimplePrimitiveType","_deepCompareKeys","getDeepUnequalKeyValues","compareFn","filter","key","map","valueA","valueB","_getUnequalKeyValues","keySet","_arrayToObject","concat","_unionKeys","_isWhitelist","exclude","_isBlacklist","keySet_1","forEach","_filterKeys","hasOwnProperty","arr","reduce","safeInvokeMember","member","selectColor","hash","charCodeAt","createDebug","prevTime","debug","enabled","_len","_key","self","curr","Number","Date","ms","prev","coerce","unshift","format","formatter","call","destroy","extend","init","instances","push","indexOf","delimiter","default","stack","disable","enable","names","skips","split","len","substr","instance","test","isProduction","condition","text","warn","x","isObjectObject","o","toString","isPlainObject","ctor","prot","_extendStatics","d","setPrototypeOf","__proto__","__extends","__","create","__read","m","ar","next","done","__spread","compose","middleware","e_1","_a","TypeError","middleware_1","__values","middleware_1_1","e_1_1","return","context","dispatch","fn","bind","err","DiagramLayoutType","Controller","diagram","_b","plugins","onChange","readOnly","Map","registerPlugin","controller","plugin","CorePlugin","run","fns","composedFn","change","model","_super","Block","defineProperty","get","enumerable","configurable","createList","isList","data","defaultTheme","randomColor","background","highlightColor","marginH","marginV","contentStyle","lineHeight","linkStyle","lineRadius","lineType","lineWidth","rootTopic","fontSize","borderRadius","padding","subLinkStyle","lineColor","primaryTopic","borderWidth","borderStyle","normalTopic","border","TopicDirection","TopicVisualLevel","ROOT","PRIMARY","NORMAL","BlockType","CONTENT","DESC","FocusMode","EDITING_CONTENT","EDITING_DESC","SHOW_POPUP","DRAGGING","TopicRelationship","ANCESTOR","DESCENDANT","SIBLING","NONE","OpType","TOGGLE_COLLAPSE","ADD_CHILD","ADD_SIBLING","DELETE_TOPIC","FOCUS_TOPIC","SET_STYLE","SET_TOPIC_CONTENT","SET_TOPIC_DESC","START_EDITING_CONTENT","START_EDITING_DESC","DRAG_AND_DROP","SET_EDITOR_ROOT","defaultConfigRecord","allowUndo","layoutDir","LEFT_AND_RIGHT","theme","Config","fromJSON","Data","attrs","isMap","object","createKey","random","Topic","getBlock","blocks","findIndex","block","parentKey","subKeys","_c","collapse","content","_d","_e","relations","defaultModelRecord","topics","config","rootTopicKey","editorRootTopicKey","focusKey","focusMode","version","Model","isModel","createEmpty","update","set","merge","withMutations","topic","toJS","values","getTopic","getParentTopic","getTopicVisualLevel","level","log$1","focusTopic","topicKey","addChild","child_1","addSibling","pItem","idx_1","sibling_1","updateIn","insert","toggleCollapse","size","deleteTopic","item","delete","deleteKeys","getAllSubTopicKeys","res","toArray","acc","t","dKey","setContent","dt","setDesc","setStyle","s","setTheme","setIn","setLayoutDir","setEditorRootTopicKey","extendStatics","__assign","assign","__rest","getOwnPropertySymbols","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","Position","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_BOTTOM","LEFT_TOP","RIGHT","RIGHT_BOTTOM","RIGHT_TOP","TOP","TOP_LEFT","TOP_RIGHT","getPositionIgnoreAngles","position","PopoverPosition","AUTO","AUTO_END","AUTO_START","Alignment","CENTER","Elevation","Intent","SUCCESS","WARNING","DANGER","NS","BLUEPRINT_NAMESPACE","REACT_APP_BLUEPRINT_NAMESPACE","ACTIVE","ALIGN_LEFT","ALIGN_RIGHT","DARK","DISABLED","FILL","FIXED","FIXED_TOP","INLINE","INTERACTIVE","LARGE","LOADING","MINIMAL","MULTILINE","ROUND","SMALL","VERTICAL","POSITION_TOP","positionClass","POSITION_BOTTOM","POSITION_LEFT","POSITION_RIGHT","ELEVATION_0","elevationClass","ELEVATION_1","ELEVATION_2","ELEVATION_3","ELEVATION_4","INTENT_PRIMARY","INTENT_SUCCESS","INTENT_WARNING","INTENT_DANGER","FOCUS_DISABLED","UI_TEXT","RUNNING_TEXT","MONOSPACE_TEXT","TEXT_LARGE","TEXT_SMALL","TEXT_MUTED","TEXT_DISABLED","TEXT_OVERFLOW_ELLIPSIS","BLOCKQUOTE","CODE","CODE_BLOCK","HEADING","LIST","LIST_UNSTYLED","RTL","ALERT","ALERT_BODY","ALERT_CONTENTS","ALERT_FOOTER","BREADCRUMB","BREADCRUMB_CURRENT","BREADCRUMBS","BREADCRUMBS_COLLAPSED","BUTTON","BUTTON_GROUP","BUTTON_SPINNER","BUTTON_TEXT","CALLOUT","CALLOUT_ICON","CARD","COLLAPSE","COLLAPSE_BODY","COLLAPSIBLE_LIST","CONTEXT_MENU","CONTEXT_MENU_POPOVER_TARGET","CONTROL_GROUP","DIALOG","DIALOG_CONTAINER","DIALOG_BODY","DIALOG_CLOSE_BUTTON","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","DIALOG_HEADER","DIVIDER","DRAWER","DRAWER_BODY","DRAWER_FOOTER","DRAWER_HEADER","EDITABLE_TEXT","EDITABLE_TEXT_CONTENT","EDITABLE_TEXT_EDITING","EDITABLE_TEXT_INPUT","EDITABLE_TEXT_PLACEHOLDER","FLEX_EXPANDER","HTML_SELECT","SELECT","HTML_TABLE","HTML_TABLE_BORDERED","HTML_TABLE_CONDENSED","HTML_TABLE_STRIPED","INPUT","INPUT_GHOST","INPUT_GROUP","INPUT_ACTION","CONTROL","CONTROL_INDICATOR","CONTROL_INDICATOR_CHILD","CHECKBOX","RADIO","SWITCH","SWITCH_INNER_TEXT","FILE_INPUT","FILE_INPUT_HAS_SELECTION","FILE_UPLOAD_INPUT","FILE_UPLOAD_INPUT_CUSTOM_TEXT","KEY","KEY_COMBO","MODIFIER_KEY","HOTKEY","HOTKEY_LABEL","HOTKEY_COLUMN","HOTKEY_DIALOG","LABEL","FORM_GROUP","FORM_CONTENT","FORM_HELPER_TEXT","MENU","MENU_ITEM","MENU_ITEM_LABEL","MENU_SUBMENU","MENU_DIVIDER","MENU_HEADER","NAVBAR","NAVBAR_GROUP","NAVBAR_HEADING","NAVBAR_DIVIDER","NON_IDEAL_STATE","NON_IDEAL_STATE_VISUAL","NUMERIC_INPUT","OVERFLOW_LIST","OVERFLOW_LIST_SPACER","OVERLAY","OVERLAY_BACKDROP","OVERLAY_CONTAINER","OVERLAY_CONTENT","OVERLAY_INLINE","OVERLAY_OPEN","OVERLAY_SCROLL_CONTAINER","PANEL_STACK","PANEL_STACK_HEADER","PANEL_STACK_HEADER_BACK","PANEL_STACK_VIEW","POPOVER","POPOVER_ARROW","POPOVER_BACKDROP","POPOVER_CONTENT","POPOVER_CONTENT_SIZING","POPOVER_DISMISS","POPOVER_DISMISS_OVERRIDE","POPOVER_OPEN","POPOVER_TARGET","POPOVER_WRAPPER","TRANSITION_CONTAINER","PROGRESS_BAR","PROGRESS_METER","PROGRESS_NO_STRIPES","PROGRESS_NO_ANIMATION","PORTAL","SKELETON","SLIDER","SLIDER_AXIS","SLIDER_HANDLE","SLIDER_LABEL","SLIDER_TRACK","SLIDER_PROGRESS","START","END","SPINNER","SPINNER_ANIMATION","SPINNER_HEAD","SPINNER_NO_SPIN","SPINNER_TRACK","TAB","TAB_INDICATOR","TAB_INDICATOR_WRAPPER","TAB_LIST","TAB_PANEL","TABS","TAG","TAG_REMOVE","TAG_INPUT","TAG_INPUT_ICON","TAG_INPUT_VALUES","TOAST","TOAST_CONTAINER","TOAST_MESSAGE","TOOLTIP","TOOLTIP_INDICATOR","TREE","TREE_NODE","TREE_NODE_CARET","TREE_NODE_CARET_CLOSED","TREE_NODE_CARET_NONE","TREE_NODE_CARET_OPEN","TREE_NODE_CONTENT","TREE_NODE_EXPANDED","TREE_NODE_ICON","TREE_NODE_LABEL","TREE_NODE_LIST","TREE_NODE_SECONDARY_LABEL","TREE_NODE_SELECTED","TREE_ROOT","ICON","ICON_STANDARD","ICON_LARGE","getClassNamespace","alignmentClass","alignment","elevation","iconClass","iconName","intent","BACKSPACE","ENTER","SHIFT","ESCAPE","SPACE","ARROW_LEFT","ARROW_UP","ARROW_RIGHT","ARROW_DOWN","DELETE","isKeyboardClick","keyCode","INVALID_PROPS","removeNonHTMLProps","invalidProps","shouldMerge","AbstractPureComponent2","_this","timeoutIds","clearTimeouts","timeoutId","clearTimeout","validateProps","componentDidUpdate","_prevProps","_prevState","_snapshot","componentWillUnmount","setTimeout","timeout","handle","_props","Icon","Icon_1","render","icon","className","htmlTitle","iconSize","SIZE_STANDARD","title","htmlprops","pixelGridSize","SIZE_LARGE","paths","renderSvgPaths","classes","intentClass","viewBox","fill","width","height","pathsSize","pathStrings","fillRule","DISPLAYNAME_PREFIX","Breadcrumb","breadcrumbProps","current","disabled","href","onClick","children","tabIndex","cannotCreatePortal","REACT_CONTEXT_TYPES","blueprintPortalClassName","Portal","state","hasMounted","portalElement","componentDidMount","container","createContainerElement","appendChild","setState","onChildrenMount","unstableRenderNoPortal","prevProps","classList","remove","maybeAddClass","createElement","add","contextTypes","defaultProps","body","Overlay","refHandlers","ref","containerElement","maybeRenderChild","decoratedChild","onOpening","onOpened","onClosing","onClosed","transitionDuration","transitionName","classNames","onEntering","onEntered","onExiting","onExited","handleBackdropMouseDown","backdropProps","canOutsideClickClose","enforceFocus","onClose","bringFocusInsideOverlay","onMouseDown","handleDocumentClick","isOpen","eventTarget","stackIndex","Overlay_1","openStack","isClickInThisOverlayOrDescendant","slice","some","elem","isSameNode","handleDocumentFocus","stopImmediatePropagation","handleKeyDown","canEscapeKeyClose","which","hasEverOpened","getDerivedStateFromProps","lazy","usePortal","childrenWithTransitions","maybeRenderBackdrop","containerClasses","transitionGroup","appear","component","onKeyDown","portalClassName","portalContainer","overlayWillOpen","overlayWillClose","activeElement","autofocusElement","querySelector","wrapperElement","focus","backdropClassName","hasBackdrop","removeEventListener","lastOpenedOverlay","getLastOpened","autoFocus","ResizeSensor","observer","entries","onResize","only","observeElement","observeParents","disconnect","force","getElement","Element","observe","parent_1","parentElement","getPosition","placement","isVerticalPosition","side","getOppositePosition","getAlignment","getTransformOrigin","arrowElement","arrowSizeShift","clientHeight","arrow","offsets","top","left","arrowOffsetModifier","arrowSize","clientWidth","isVertical","offsetSide","arrowOffsetSize","sqrt","popper","getArrowAngle","PopoverArrow","arrowProps","isNaN","transform","positionToPlacement","assertNever","PopoverInteractionKind","CLICK","CLICK_TARGET_ONLY","HOVER","HOVER_TARGET_ONLY","Popover","hasDarkParent","getIsOpen","transformOrigin","isMouseInTargetOrPopover","lostFocusOnSamePage","popover","popoverElement","popoverRef","targetElement","reposition","popperScheduleUpdate","renderPopover","popperProps","interactionKind","scheduleUpdate","popoverHandlers","handlePopoverClick","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","popoverClasses","inheritDarkTheme","minimal","popoverClassName","isArrowEnabled","understandChildren","renderTarget","referenceProps","openOnTargetFocus","targetClassName","targetProps","isControlled","isHoverInteractionKind","targetTagName","finalTargetProps","onBlur","handleTargetBlur","onFocus","handleTargetFocus","handleTargetClick","rawTarget","rawTabIndex","clonedTarget","relatedTarget","isElementInPopover","setOpenState","hoverOpenDelay","hoverCloseDelay","dismissElement","closest","shouldDismiss","isDisabled","isDefaultPrevented","captureDismiss","handleOverlayClose","nativeEvent","KeyboardEvent","prevState","updatePopoverState","wrapperTagName","isContentEmpty","wrapperClasses","wrapper","Reference","innerRef","Popper","modifiers","getPopperModifiers","Manager","updateDarkParent","_","snapshot","nextIsOpen","onInteraction","childrenCount","count","hasContentProp","hasTargetProp","contentProp","targetProp","targetChild","contentChild","defaultIsOpen","boundary","flip","preventOverflow","arrowOffset","order","boundariesElement","cancelOpenTimeout","Tooltip","restProps","Boundary","htmlElement","tagClassName","elementRef","htmlProps","OverflowDirection","H4","H6","MenuDivider","Text","isContentOverflowing","textContent","textRef","ellipsize","newState","scrollWidth","MenuItem","active","labelElement","labelClassName","multiline","shouldDismissPopover","popoverProps","textClassName","hasSubmenu","anchorClasses","DISABLED_PROPS","maybeRenderLabel","liClasses","maybeRenderPopover","label","SUBMENU_POPOVER_MODIFIERS","offset","Menu","large","ulRef","Divider","Item","OverflowList","direction","lastOverflowCount","overflow","visible","items","previousWidths","spacer","resize","growing","entry","previousWidth","contentRect","repartition","ofType","shouldComponentUpdate","_nextProps","nextState","collapseFrom","minVisibleItems","overflowRenderer","visibleItemRenderer","GROW","onOverflow","maybeRenderOverflow","list","getBoundingClientRect","collapseFromStart","shift","pop","SHRINK","Breadcrumbs","renderOverflow","orderedItems","reverse","renderOverflowBreadcrumb","isClickable","renderBreadcrumbWrapper","isCurrent","renderBreadcrumb","overflowListProps","currentBreadcrumbRenderer","breadcrumbRenderer","R","Spinner","Spinner_1","forceUpdate","getSize","strokeWidth","strokeOffset","toFixed","getViewBox","pathLength","strokeDasharray","PATH_LENGTH","strokeDashoffset","SIZE_SMALL","radius","viewBoxX","viewBoxWidth","AbstractButton","isActive","button","buttonRef","currentKeyDown","handleKeyUp","click","onKeyUp","getCommonButtonProps","alignText","loading","small","renderChildren","rightIcon","Button","AnchorButton","commonProps","role","Dialog","maybeRenderHeader","isCloseButtonShown","maybeRenderCloseButton","ButtonGroup","vertical","buttonGroupClasses","ControlGroup","rootClasses","DEFAULT_RIGHT_ELEMENT_WIDTH","InputGroup","rightElementWidth","rightElement","leftIcon","paddingRight","inputRef","maybeRenderRightElement","getValueOrEmptyValue","IncrementDirection","FLOATING_POINT_NUMBER_CHARACTER_REGEX","isFloatingPointNumericCharacter","character","NON_HTML_PROPS","NumericInput","shouldSelectAfterUpdate","stepMaxPrecision","NumericInput_1","getStepMaxPrecision","didPasteEventJustOccur","delta","inputElement","intervalId","incrementButtonHandlers","getButtonEventHandlers","UP","decrementButtonHandlers","DOWN","input","handleButtonClick","updateDelta","nextValue","incrementValue","invokeValueCallback","onButtonClick","stopContinuousChange","clearInterval","handleContinuousChange","handleInputFocus","selectAllOnFocus","handleInputBlur","clampValueOnBlur","sanitizedValue","getSanitizedValue","handleInputKeyDown","handleInputKeyPress","allowNumericCharactersOnly","ctrlKey","altKey","metaKey","isValidNumericKeyboardEvent","onKeyPress","handleInputPaste","onPaste","handleInputChange","join","prevMinProp","prevMaxProp","prevValueProp","didMinChange","didMaxChange","didBoundsChange","VALUE_EMPTY","minorStepSize","stepSize","parseFloat","isValueNumeric","adjustedMin","Infinity","adjustedMax","clampValue","maxPrecision","scaleFactor","pow","toMaxPrecision","buttonPosition","buttons","renderButtons","renderInput","setSelectionRange","onValueChange","nextProps","majorStepSize","inputGroupHtmlProps","autoComplete","evt","startContinuousChange","setInterval","CONTINUOUS_CHANGE_INTERVAL","CONTINUOUS_CHANGE_DELAY","currValue","VALUE_ZERO","selectAllOnIncrement","getIncrementDelta","isShiftKeyPressed","isAltKeyPressed","shiftKey","contextMenuElement","contextMenu","POPPER_MODIFIERS","TRANSITION_DURATION","ContextMenu","isDarkTheme","menu","cancelContextMenu","handleBackdropContextMenu","elementFromPoint","clientX","clientY","MouseEvent","handlePopoverInteraction","nextOpenState","hide","onContextMenu","show","ContextMenuTarget","WrappedComponent","renderContextMenu","ContextMenuTargetClass","oldOnContextMenu","defaultPrevented","darkTheme","onContextMenuClose","Drawer","realPosition","styleProp","isPositionHorizontal","KeyCodes","8","9","13","20","27","32","33","34","35","36","37","38","39","40","45","46","48","49","50","51","52","53","54","55","56","57","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","Modifiers","16","17","18","91","93","224","ModifierBitMasks","alt","ctrl","meta","Aliases","cmd","command","escape","minus","mod","isMac","option","plus","win","ShiftKeys","$","comboMatches","parseKeyCombo","combo","pieces_1","piece","getKeyCombo","String","fromCharCode","platformOverride","platform","KeyIcons","down","enter","right","up","KeyCombo","renderKey","reactKey","renderMinimalKey","keyName","normalizeKeyCombo","toUpperCase","Hotkey","spreadableProps","global","group","allowInInput","stopPropagation","Hotkeys","hotkeys","sort","localeCompare","lastGroup","elems","hotkeys_1","hotkey","groupLabel","HOTKEYS_DIALOG","HotkeysDialog","componentProps","globalHotkeysGroup","hotkeysQueue","isDialogShowing","getContainer","renderComponent","unmount","enqueueHotkeysForDisplay","showTimeoutToken","hideAfterDelay","hideTimeoutToken","isShowing","renderHotkeys","elements","emptyHotkeyQueue","queued","isHotkeysDialogShowing","HotkeyScope","SHOW_DIALOG_KEY","HotkeysEvents","scope","actions","isTextInput","invokeNamedCallbackIfComboRecognized","action","clear","setHotkeys","isScope","callbackName","isPropagationStopped","GLOBAL","LOCAL","editable","inputType","HotkeysTarget","HotkeysTargetClass","globalHotkeysEvents","localHotkeysEvents","existingKeyDown_1","existingKeyUp_1","_assign","cooked","raw","templateObject_1","Content","div","SimpleTextEditor","onMouseMove","_handleClick","root","onClickOutSide","rootRef","saveRef","initState","getCustomizeProps","getContent","deserialize","refKeyPrefix","placeholder","editorProps","contentProps","TopicContentEditor","whiteSpace","editingContentKey","opType","log$2","TopicDescEditor","editingDescKey","getTopicTitle","renderTopicContentEditor","renderTopicDescEditor","isBlockEmpty","serializeBlockData","serialize","serializeBlock","deserializeBlock","templateObject_2","templateObject_1$1","templateObject_2$1","templateObject_3","templateObject_4","templateObject_5","templateObject_6","BaseWidget","operation","arg","DragScrollView","DragScrollContent","DragScrollWidget","contentResizeCallback","oldContentRect","widgetStyle","bigView","contentResizeObserver","contentRef","viewBoxRef","setViewBoxScroll","bigViewRef","setWidgetStyle","scrollLeft","scrollTop","setViewBoxScrollDelta","deltaLeft","deltaTop","mouseKey","needKeyPressed","canDragFunc","_lastCoordX","_lastCoordY","onMouseUp","handleContextMenu","SaveRef","getRef","fireListener","observers","has","listeners","listeners_1","listeners_1_1","listener","registerRefListener","Flex","alignItems","Margin","margin","ShowMenuIcon","IconBg","CloseIcon","Title","IconName","SHOW_MENU","CLOSE","COLOR_PICKER","NOTES","iconClassName","contentRefKey","topicRefKey","linksRefKey","linksSvgRefKey","collapseRefKey","DIAGRAM_ROOT_KEY","cancelEvent","centerY","rect","bottom","centerPointX","p1","p2","centerPointY","y","templateObject_1$2","templateObject_1$3","templateObject_2$2","DropEffectSvg","svg","TopicDropEffect","layout","dropDir","svgRect","stroke","DropArea","DragAndDrop","dragTargetKey","dragTargetDir","renderTopicDropArea","eventHandlers","onDragEnter","ev","onDragLeave","onDragOver","onDrop","renderDragAndDropEffect","getDragTargetProps","handleTopicDragStart","canDrop","srcKey","dstKey","srcTopic","dstTopic","pTopic","getRelationship","handleTopicDragEnter","handleTopicDragLeave","handleTopicDrop","log$3","HotKeyName","EDIT_CONTENT","EDIT_NOTES","HotKeyPlugin","customizeHotKeys","op","templateObject_1$4","templateObject_2$3","templateObject_3$1","log$4","Node","topicDirection","NodeChildren","dir","NodeTopic","TopicWidget","renderSubTopics","subTopics","subLinks","layoutLinks","links","topicStyle","propsMore","topicContent","log$5","OperationPlugin","OpMap","srcParentKey","srcParentSubKeys","srcIndex","dstSubKeys_1","dstParentKey_1","dstParentSubKeys_1","dstIndex","newDstParentSubKeys_1","undoStack","redoStack","getAllowUndo","getUndoRedoStack","setUndoStack","setRedoStack","canUndo","canRedo","undo","newModel","peek","redo","beforeOperation","opArray","undoStack_1","cur","opFunc","afterOperation","templateObject_1$5","templateObject_2$4","templateObject_3$2","templateObject_1$6","templateObject_2$5","templateObject_1$7","templateObject_1$8","templateObject_2$6","templateObject_1$9","templateObject_2$7","templateObject_3$3","templateObject_4$1","templateObject_5$1","EditorRootBreadcrumbsRoot","TooltipContent","BreadcrumbTitle","span","EditorRootBreadcrumbs","breadProps","propertyIsEnumerable","needTooltip","tooltipProps","breadcrumb","editingRootKey","NodeLayer","DIV","MindDragScrollWidget","nodeLayer","rootTopicRect","nodeLayerRect","dragScrollWidget","nodeKey","rootWidgetProps","Modals","handleClose","handleActiveModalClose","activeModal","activeModalProps","minHeight","RootLinksSvg","RootSubLinks","curves","curve","vDir","hDir","log$7","LayerPart","RootWidget","renderPartTopics","isRoot","cxName","partTopics","L","LEFT_TO_RIGHT","RIGHT_TO_LEFT","TOP_TO_BOTTOM","B","SettingTitle","SettingItem","SettingRow","ColorBar","WithBorder","unit","handleClick","query","PxSelect","borderWidthItems","borderWidthItems$1","borderRadiusItems","borderStyleItems","lineTypes","templateObject_1$a","templateObject_2$8","templateObject_1$b","templateObject_2$9","templateObject_3$4","log$8","StyleEditorRoot","PopRoot","StyleEditor","setShowPanel","showPanel","setTopicContentStyle","handleBackgroundColorChange","hex","handleClearStyle","handleCopyStyle","copiedStyle","handlePasteStyle","itemRenderer","filterable","onItemSelect","borderColor","onChangeComplete","BorderStyleEditor","fontSizeNumInputProps","lineHeightInputProps","TextStyleEditor","LinkStyleEditor","ClearAllCustomStyle","Icon$1","TopicCollapseIcon","onClickCollapse","iconfont","templateObject_1$c","templateObject_2$a","log$9","EditingRoot","EditingWrapper","cancelEvent$1","TopicContent","editor","wrapper_1","rect_1","editorDiv","contentResizeObserver_1","templateObject_1$d","templateObject_2$b","templateObject_1$e","templateObject_2$c","templateObject_3$5","log$a","TopicContent$1","TopicContentWithDropArea","TopicContentWidget","onDragStart","isDoubleClick","onDoubleClick","needRelocation","oldCollapseIconRect","dragEnter","newRect","draggable","collapseIcon","prevDropArea","nextDropArea","dropEventHandlers","TopicContextMenu","log$b","DescIcon","DescEditorWrapper","TooltipContentWrapper","TopicDesc","isEditing","descEditor","diagramRoot","maxWidth","maxHeight","dRect","classname","descIcon","descData","templateObject_1$f","templateObject_1$g","FocusHighlightSvg","TopicHighlight","TopicLinksSvg","TopicSubLinks","p3","collapseRect","shortcut","rootCanUse","customizeTopicContextMenu","onClickItem","Theme","templateObject_1$h","log$d","RenderingPlugin","DiagramRoot","renderDiagram","widgetProps","renderDiagramCustomize","renderEditorRootBreadcrumbs","renderModals","renderModal","getActiveModalProps","renderDoc","renderRootWidget","renderTopicWidget","renderTopicContent","renderTopicContextMenu","renderTopicCollapseIcon","renderTopicBlocks","blockKey","renderTopicBlock","renderTopicBlockContent","renderTopicBlockDesc","renderSubLinks","renderRootSubLinks","renderFocusItemHighlight","renderRootWidgetOtherChildren","renderStyleEditor","log$e","UtilsPlugin","tempValueMap","getTempValue","setTempValue","deleteTempValue","log$f","StylePlugin","colorMap","colorIndex","getTopicStyle","getTopicContentStyle","themeStyle","visualLevel","customStyle","parse","getLinkStyle","presetStyle","parentSubLinkStyle","getSubLinkStyle","styleObj","newStyleObj","newStyleStr","setLinkStyle","setSubLinkStyle","getTopicThemeStyle","getRandomColor","clearAllCustomStyle","keySeq","DefaultPlugin","getPartTopics","subTopicCount","ceil","createSubTopics","tKey","subTopicProps","highlight","dropEffect","handleTopicClick","handleTopicDoubleClick","handleTopicContextMenu","Diagram","resolveController","commands","TheDefaultPlugin","defaultPlugin","construct","getDiagramProps","diagramProps","hotKeys","k","NodeContent","RichTextEditor","richEditorProps","editorValue","nodeContentProps","markdownSerializer","DATA_VERSION","themeRandomColorSquare","theme1","theme2","boxShadow","theme3","theme4","ToolbarItemOpen","accept","file","files","fr","FileReader","onload","txt","result","readAsText","ToolbarItemLayout","layoutDirs","onClickSetLayout","cx","ToolbarItemTheme","onClickSetTheme","themeKey","themes","defaultThemeImg","theme1Img","theme2Img","theme3Img","theme4Img","src","downloadFile","url","filename","link","download","generateSimpleModel","rootKey","ToolbarItemExport","json","jsonStr","encodeURIComponent","Toolbar","onClickUndo","onClickRedo","React","PureComponent","RichTextEditorPlugin","serializeModel","valueSeq","deserializeModel","serializeConfig","deserializeConfig","serializeTopic","deserializeTopic","deserializeTopics","deserializeBlocks","themeMap","getAllThemes","allTheme","ThemeSelectorPlugin","Mindmap","diagramRef","initModel","toolbarProps","renderToolbar","Component","App","Boolean","location","hostname","ReactDOM","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/chunk-blinkmind.faaea0f8.chunk.js","sourcesContent":["/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as React from \"react\";\nimport { CLAMP_MIN_MAX } from \"./errors\";\nexport * from \"./utils/compareUtils\";\nexport * from \"./utils/safeInvokeMember\";\n/** Returns whether `process.env.NODE_ENV` exists and equals `env`. */\n\nexport function isNodeEnv(env) {\n  return typeof process !== \"undefined\" && process.env && process.env.NODE_ENV === env;\n}\n/** Returns whether the value is a function. Acts as a type guard. */\n// tslint:disable-next-line:ban-types\n\nexport function isFunction(value) {\n  return typeof value === \"function\";\n}\n/**\n * Returns true if `node` is null/undefined, false, empty string, or an array\n * composed of those. If `node` is an array, only one level of the array is\n * checked, for performance reasons.\n */\n\nexport function isReactNodeEmpty(node, skipArray) {\n  if (skipArray === void 0) {\n    skipArray = false;\n  }\n\n  return node == null || node === \"\" || node === false || !skipArray && Array.isArray(node) && ( // only recurse one level through arrays, for performance\n  node.length === 0 || node.every(function (n) {\n    return isReactNodeEmpty(n, true);\n  }));\n}\n/**\n * Converts a React node to an element: non-empty string or number or\n * `React.Fragment` (React 16.3+) is wrapped in given tag name; empty strings\n * and booleans are discarded.\n */\n\nexport function ensureElement(child, tagName) {\n  if (tagName === void 0) {\n    tagName = \"span\";\n  }\n\n  if (child == null || typeof child === \"boolean\") {\n    return undefined;\n  } else if (typeof child === \"string\") {\n    // cull whitespace strings\n    return child.trim().length > 0 ? React.createElement(tagName, {}, child) : undefined;\n  } else if (typeof child === \"number\" || typeof child.type === \"symbol\" || Array.isArray(child)) {\n    // React.Fragment has a symbol type, ReactNodeArray extends from Array\n    return React.createElement(tagName, {}, child);\n  } else if (isReactElement(child)) {\n    return child;\n  } else {\n    // child is inferred as {}\n    return undefined;\n  }\n}\nexport function isReactElement(child) {\n  return typeof child === \"object\" && typeof child.type !== \"undefined\" && typeof child.props !== \"undefined\";\n}\nexport function getDisplayName(ComponentClass) {\n  return ComponentClass.displayName || ComponentClass.name || \"Unknown\";\n}\n/**\n * Returns true if the given JSX element matches the given component type.\n *\n * NOTE: This function only checks equality of `displayName` for performance and\n * to tolerate multiple minor versions of a component being included in one\n * application bundle.\n * @param element JSX element in question\n * @param ComponentType desired component type of element\n */\n\nexport function isElementOfType(element, ComponentType) {\n  return element != null && element.type != null && element.type.displayName != null && element.type.displayName === ComponentType.displayName;\n} // tslint:disable-next-line:ban-types\n\nexport function safeInvoke(func) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  if (isFunction(func)) {\n    return func.apply(void 0, args);\n  }\n\n  return undefined;\n} // tslint:disable-next-line:ban-types\n\nexport function safeInvokeOrValue(funcOrValue) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  return isFunction(funcOrValue) ? funcOrValue.apply(void 0, args) : funcOrValue;\n}\nexport function elementIsOrContains(element, testElement) {\n  return element === testElement || element.contains(testElement);\n}\n/**\n * Returns the difference in length between two arrays. A `null` argument is\n * considered an empty list. The return value will be positive if `a` is longer\n * than `b`, negative if the opposite is true, and zero if their lengths are\n * equal.\n */\n\nexport function arrayLengthCompare(a, b) {\n  if (a === void 0) {\n    a = [];\n  }\n\n  if (b === void 0) {\n    b = [];\n  }\n\n  return a.length - b.length;\n}\n/**\n * Returns true if the two numbers are within the given tolerance of each other.\n * This is useful to correct for floating point precision issues, less useful\n * for integers.\n */\n\nexport function approxEqual(a, b, tolerance) {\n  if (tolerance === void 0) {\n    tolerance = 0.00001;\n  }\n\n  return Math.abs(a - b) <= tolerance;\n}\n/**\n * Clamps the given number between min and max values. Returns value if within\n * range, or closest bound.\n */\n\nexport function clamp(val, min, max) {\n  if (val == null) {\n    return val;\n  }\n\n  if (max < min) {\n    throw new Error(CLAMP_MIN_MAX);\n  }\n\n  return Math.min(Math.max(val, min), max);\n}\n/** Returns the number of decimal places in the given number. */\n\nexport function countDecimalPlaces(num) {\n  if (!isFinite(num)) {\n    return 0;\n  }\n\n  var e = 1,\n      p = 0;\n\n  while (Math.round(num * e) / e !== num) {\n    e *= 10;\n    p++;\n  }\n\n  return p;\n}\n/**\n * Throttle an event on an EventTarget by wrapping it in a\n * `requestAnimationFrame` call. Returns the event handler that was bound to\n * given eventName so you can clean up after yourself.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events/scroll\n */\n\nexport function throttleEvent(target, eventName, newEventName) {\n  var throttledFunc = _throttleHelper(function (event) {\n    target.dispatchEvent(new CustomEvent(newEventName, event));\n  });\n\n  target.addEventListener(eventName, throttledFunc);\n  return throttledFunc;\n}\n/**\n * Throttle a callback by wrapping it in a `requestAnimationFrame` call. Returns\n * the throttled function.\n * @see https://www.html5rocks.com/en/tutorials/speed/animations/\n */\n\nexport function throttleReactEventCallback(callback, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var throttledFunc = _throttleHelper(callback, function (event2) {\n    if (options.preventDefault) {\n      event2.preventDefault();\n    }\n  }, // prevent React from reclaiming the event object before we reference it\n  function (event2) {\n    return event2.persist();\n  });\n\n  return throttledFunc;\n}\n/**\n * Throttle a method by wrapping it in a `requestAnimationFrame` call. Returns\n * the throttled function.\n */\n// tslint:disable-next-line:ban-types\n\nexport function throttle(method) {\n  return _throttleHelper(method);\n} // tslint:disable-next-line:ban-types\n\nfunction _throttleHelper(onAnimationFrameRequested, onBeforeIsRunningCheck, onAfterIsRunningCheck) {\n  var isRunning = false;\n\n  var func = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    } // don't use safeInvoke, because we might have more than its max number\n    // of typed params\n\n\n    if (isFunction(onBeforeIsRunningCheck)) {\n      onBeforeIsRunningCheck.apply(void 0, args);\n    }\n\n    if (isRunning) {\n      return;\n    }\n\n    isRunning = true;\n\n    if (isFunction(onAfterIsRunningCheck)) {\n      onAfterIsRunningCheck.apply(void 0, args);\n    }\n\n    requestAnimationFrame(function () {\n      onAnimationFrameRequested.apply(void 0, args);\n      isRunning = false;\n    });\n  };\n\n  return func;\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ns = \"[Blueprint]\";\nexport var CLAMP_MIN_MAX = ns + \" clamp: max cannot be less than min\";\nexport var ALERT_WARN_CANCEL_PROPS = ns + \" <Alert> cancelButtonText and onCancel should be set together.\";\nexport var ALERT_WARN_CANCEL_ESCAPE_KEY = ns + \" <Alert> canEscapeKeyCancel enabled without onCancel or onClose handler.\";\nexport var ALERT_WARN_CANCEL_OUTSIDE_CLICK = ns + \" <Alert> canOutsideClickCancel enbaled without onCancel or onClose handler.\";\nexport var COLLAPSIBLE_LIST_INVALID_CHILD = ns + \" <CollapsibleList> children must be <MenuItem>s\";\nexport var CONTEXTMENU_WARN_DECORATOR_NO_METHOD = ns + \" @ContextMenuTarget-decorated class should implement renderContextMenu.\";\nexport var CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT = ns + \" \\\"@ContextMenuTarget-decorated components must return a single JSX.Element or an empty render.\";\nexport var HOTKEYS_HOTKEY_CHILDREN = ns + \" <Hotkeys> only accepts <Hotkey> children.\";\nexport var HOTKEYS_WARN_DECORATOR_NO_METHOD = ns + \" @HotkeysTarget-decorated class should implement renderHotkeys.\";\nexport var HOTKEYS_WARN_DECORATOR_NEEDS_REACT_ELEMENT = ns + \" \\\"@HotkeysTarget-decorated components must return a single JSX.Element or an empty render.\";\nexport var NUMERIC_INPUT_MIN_MAX = ns + \" <NumericInput> requires min to be no greater than max if both are defined.\";\nexport var NUMERIC_INPUT_MINOR_STEP_SIZE_BOUND = ns + \" <NumericInput> requires minorStepSize to be no greater than stepSize.\";\nexport var NUMERIC_INPUT_MAJOR_STEP_SIZE_BOUND = ns + \" <NumericInput> requires stepSize to be no greater than majorStepSize.\";\nexport var NUMERIC_INPUT_MINOR_STEP_SIZE_NON_POSITIVE = ns + \" <NumericInput> requires minorStepSize to be strictly greater than zero.\";\nexport var NUMERIC_INPUT_MAJOR_STEP_SIZE_NON_POSITIVE = ns + \" <NumericInput> requires majorStepSize to be strictly greater than zero.\";\nexport var NUMERIC_INPUT_STEP_SIZE_NON_POSITIVE = ns + \" <NumericInput> requires stepSize to be strictly greater than zero.\";\nexport var NUMERIC_INPUT_STEP_SIZE_NULL = ns + \" <NumericInput> requires stepSize to be defined.\";\nexport var PANEL_STACK_INITIAL_PANEL_STACK_MUTEX = ns + \" <PanelStack> requires exactly one of initialPanel and stack prop\";\nexport var PANEL_STACK_REQUIRES_PANEL = ns + \" <PanelStack> requires at least one panel in the stack\";\nexport var OVERFLOW_LIST_OBSERVE_PARENTS_CHANGED = ns + \" <OverflowList> does not support changing observeParents after mounting.\"; // TODO (clewis): Migrate old Popover validation errors to the component formerly known as Popover2.\n// See: https://github.com/palantir/blueprint/issues/1940\n\nexport var POPOVER_REQUIRES_TARGET = ns + \" <Popover> requires target prop or at least one child element.\";\nexport var POPOVER_HAS_BACKDROP_INTERACTION = ns + \" <Popover hasBackdrop={true}> requires interactionKind={PopoverInteractionKind.CLICK}.\";\nexport var POPOVER_WARN_TOO_MANY_CHILDREN = ns + \" <Popover> supports one or two children; additional children are ignored.\" + \" First child is the target, second child is the content. You may instead supply these two as props.\";\nexport var POPOVER_WARN_DOUBLE_CONTENT = ns + \" <Popover> with two children ignores content prop; use either prop or children.\";\nexport var POPOVER_WARN_DOUBLE_TARGET = ns + \" <Popover> with children ignores target prop; use either prop or children.\";\nexport var POPOVER_WARN_EMPTY_CONTENT = ns + \" Disabling <Popover> with empty/whitespace content...\";\nexport var POPOVER_WARN_HAS_BACKDROP_INLINE = ns + \" <Popover usePortal={false}> ignores hasBackdrop\";\nexport var POPOVER_WARN_UNCONTROLLED_ONINTERACTION = ns + \" <Popover> onInteraction is ignored when uncontrolled.\";\nexport var PORTAL_CONTEXT_CLASS_NAME_STRING = ns + \" <Portal> context blueprintPortalClassName must be string\";\nexport var RADIOGROUP_WARN_CHILDREN_OPTIONS_MUTEX = ns + \" <RadioGroup> children and options prop are mutually exclusive, with options taking priority.\";\nexport var SLIDER_ZERO_STEP = ns + \" <Slider> stepSize must be greater than zero.\";\nexport var SLIDER_ZERO_LABEL_STEP = ns + \" <Slider> labelStepSize must be greater than zero.\";\nexport var RANGESLIDER_NULL_VALUE = ns + \" <RangeSlider> value prop must be an array of two non-null numbers.\";\nexport var MULTISLIDER_INVALID_CHILD = ns + \" <MultiSlider> children must be <SliderHandle>s or <SliderTrackStop>s\";\nexport var SPINNER_WARN_CLASSES_SIZE = ns + \" <Spinner> Classes.SMALL/LARGE are ignored if size prop is set.\";\nexport var TOASTER_CREATE_NULL = ns + \" Toaster.create() is not supported inside React lifecycle methods in React 16.\" + \" See usage example on the docs site.\";\nexport var TOASTER_WARN_INLINE = ns + \" Toaster.create() ignores inline prop as it always creates a new element.\";\nexport var DIALOG_WARN_NO_HEADER_ICON = ns + \" <Dialog> iconName is ignored if title is omitted.\";\nexport var DIALOG_WARN_NO_HEADER_CLOSE_BUTTON = ns + \" <Dialog> isCloseButtonShown prop is ignored if title is omitted.\";\nexport var DRAWER_VERTICAL_IS_IGNORED = ns + \" <Drawer> vertical is ignored if position is defined\";\nexport var DRAWER_ANGLE_POSITIONS_ARE_CASTED = ns + \" <Drawer> all angle positions are casted into pure position (TOP, BOTTOM, LEFT or RIGHT)\";\nexport var TOASTER_MAX_TOASTS_INVALID = ns + \" <Toaster> maxToasts is set to an invalid number, must be greater than 0\";","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns true if the arrays are equal. Elements will be shallowly compared by\n * default, or they will be compared using the custom `compare` function if one\n * is provided.\n */\nexport function arraysEqual(arrA, arrB, compare) {\n  if (compare === void 0) {\n    compare = function (a, b) {\n      return a === b;\n    };\n  } // treat `null` and `undefined` as the same\n\n\n  if (arrA == null && arrB == null) {\n    return true;\n  } else if (arrA == null || arrB == null || arrA.length !== arrB.length) {\n    return false;\n  } else {\n    return arrA.every(function (a, i) {\n      return compare(a, arrB[i]);\n    });\n  }\n}\n/**\n * Shallow comparison between objects. If `keys` is provided, just that subset\n * of keys will be compared; otherwise, all keys will be compared.\n * @returns true if items are equal.\n */\n\nexport function shallowCompareKeys(objA, objB, keys) {\n  // treat `null` and `undefined` as the same\n  if (objA == null && objB == null) {\n    return true;\n  } else if (objA == null || objB == null) {\n    return false;\n  } else if (Array.isArray(objA) || Array.isArray(objB)) {\n    return false;\n  } else if (keys != null) {\n    return _shallowCompareKeys(objA, objB, keys);\n  } else {\n    // shallowly compare all keys from both objects\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB);\n    return _shallowCompareKeys(objA, objB, {\n      include: keysA\n    }) && _shallowCompareKeys(objA, objB, {\n      include: keysB\n    });\n  }\n}\n/**\n * Deep comparison between objects. If `keys` is provided, just that subset of\n * keys will be compared; otherwise, all keys will be compared.\n * @returns true if items are equal.\n */\n\nexport function deepCompareKeys(objA, objB, keys) {\n  if (objA === objB) {\n    return true;\n  } else if (objA == null && objB == null) {\n    // treat `null` and `undefined` as the same\n    return true;\n  } else if (objA == null || objB == null) {\n    return false;\n  } else if (Array.isArray(objA) || Array.isArray(objB)) {\n    return arraysEqual(objA, objB, deepCompareKeys);\n  } else if (_isSimplePrimitiveType(objA) || _isSimplePrimitiveType(objB)) {\n    return objA === objB;\n  } else if (keys != null) {\n    return _deepCompareKeys(objA, objB, keys);\n  } else if (objA.constructor !== objB.constructor) {\n    return false;\n  } else {\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB);\n\n    if (keysA == null || keysB == null) {\n      return false;\n    }\n\n    if (keysA.length === 0 && keysB.length === 0) {\n      return true;\n    }\n\n    return arraysEqual(keysA, keysB) && _deepCompareKeys(objA, objB, keysA);\n  }\n}\n/**\n * Returns a descriptive object for each key whose values are deeply unequal\n * between two provided objects. Useful for debugging shouldComponentUpdate.\n */\n\nexport function getDeepUnequalKeyValues(objA, objB, keys) {\n  if (objA === void 0) {\n    objA = {};\n  }\n\n  if (objB === void 0) {\n    objB = {};\n  }\n\n  var filteredKeys = keys == null ? _unionKeys(objA, objB) : keys;\n  return _getUnequalKeyValues(objA, objB, filteredKeys, function (a, b, key) {\n    return deepCompareKeys(a, b, [key]);\n  });\n} // Private helpers\n// ===============\n\n/**\n * Partial shallow comparison between objects using the given list of keys.\n */\n\nfunction _shallowCompareKeys(objA, objB, keys) {\n  return _filterKeys(objA, objB, keys).every(function (key) {\n    return objA.hasOwnProperty(key) === objB.hasOwnProperty(key) && objA[key] === objB[key];\n  });\n}\n/**\n * Partial deep comparison between objects using the given list of keys.\n */\n\n\nfunction _deepCompareKeys(objA, objB, keys) {\n  return keys.every(function (key) {\n    return objA.hasOwnProperty(key) === objB.hasOwnProperty(key) && deepCompareKeys(objA[key], objB[key]);\n  });\n}\n\nfunction _isSimplePrimitiveType(value) {\n  return typeof value === \"number\" || typeof value === \"string\" || typeof value === \"boolean\";\n}\n\nfunction _filterKeys(objA, objB, keys) {\n  if (_isWhitelist(keys)) {\n    return keys.include;\n  } else if (_isBlacklist(keys)) {\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB); // merge keys from both objects into a big set for quick access\n\n    var keySet_1 = _arrayToObject(keysA.concat(keysB)); // delete blacklisted keys from the key set\n\n\n    keys.exclude.forEach(function (key) {\n      return delete keySet_1[key];\n    }); // return the remaining keys as an array\n\n    return Object.keys(keySet_1);\n  }\n\n  return [];\n}\n\nfunction _isWhitelist(keys) {\n  return keys != null && keys.include != null;\n}\n\nfunction _isBlacklist(keys) {\n  return keys != null && keys.exclude != null;\n}\n\nfunction _arrayToObject(arr) {\n  return arr.reduce(function (obj, element) {\n    obj[element] = true;\n    return obj;\n  }, {});\n}\n\nfunction _getUnequalKeyValues(objA, objB, keys, compareFn) {\n  var unequalKeys = keys.filter(function (key) {\n    return !compareFn(objA, objB, key);\n  });\n  var unequalKeyValues = unequalKeys.map(function (key) {\n    return {\n      key: key,\n      valueA: objA[key],\n      valueB: objB[key]\n    };\n  });\n  return unequalKeyValues;\n}\n\nfunction _unionKeys(objA, objB) {\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  var concatKeys = keysA.concat(keysB);\n\n  var keySet = _arrayToObject(concatKeys);\n\n  return Object.keys(keySet);\n}","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isFunction } from \"../utils\"; // tslint:disable-next-line:ban-types\n\nexport function safeInvokeMember(obj, key) {\n  var args = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n\n  if (obj != null) {\n    var member = obj[key];\n\n    if (isFunction(member)) {\n      return member.apply(void 0, args);\n    }\n  }\n\n  return undefined;\n}","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};","module.exports = __webpack_public_path__ + \"static/media/default.4f8c4983.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme1.2f59f00b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme2.b18193fb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme3.61c97910.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme4.1e21408c.jpg\";","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","\"use strict\";\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;","var isProduction = process.env.NODE_ENV === 'production';\n\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\nimport isObject from 'isobject';\n\nfunction isObjectObject(o) {\n  return isObject(o) === true && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport default function isPlainObject(o) {\n  var ctor, prot;\n  if (isObjectObject(o) === false) return false; // If has modified constructor\n\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false; // If has modified prototype\n\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false; // If constructor does not have an Object-specific method\n\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n;","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\nexport default function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n}\n;","import debug from 'debug';\nimport memoizeOne from 'memoize-one';\nimport warning from 'tiny-warning';\nimport { List, Record, Map as Map$1 } from 'immutable';\nimport isPlainObject from 'is-plain-object';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nfunction __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n\nfunction CorePlugin(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _a = options.plugins,\n      plugins = _a === void 0 ? [] : _a;\n  return __spread(plugins);\n}\n\nvar log = debug('core:controller');\n\nfunction registerPlugin(controller, plugin) {\n  if (Array.isArray(plugin)) {\n    plugin.forEach(function (p) {\n      return registerPlugin(controller, p);\n    });\n    return;\n  }\n\n  if (plugin == null) {\n    return;\n  }\n\n  for (var key in plugin) {\n    var fn = plugin[key];\n    controller.middleware[key] = controller.middleware[key] || [];\n    controller.middleware[key].push(fn);\n  }\n} // modified from koa-compose\n\n\nfunction compose(middleware) {\n  var e_1, _a;\n\n  if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!');\n\n  try {\n    for (var middleware_1 = __values(middleware), middleware_1_1 = middleware_1.next(); !middleware_1_1.done; middleware_1_1 = middleware_1.next()) {\n      var fn = middleware_1_1.value;\n      if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!');\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (middleware_1_1 && !middleware_1_1.done && (_a = middleware_1.return)) _a.call(middleware_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return function (context, next) {\n    // last called middleware #\n    var index = -1;\n    return dispatch(0);\n\n    function dispatch(i) {\n      if (i <= index) throw new Error('next() called multiple times');\n      index = i;\n      var fn = middleware[i];\n      if (i === middleware.length) fn = next;\n      if (!fn) return null;\n\n      try {\n        return fn(context, dispatch.bind(null, i + 1));\n      } catch (err) {\n        throw err;\n      }\n    }\n  };\n}\n\nvar Controller =\n/** @class */\nfunction () {\n  function Controller(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _a = options.diagram,\n        diagram = _a === void 0 ? this : _a,\n        _b = options.plugins,\n        plugins = _b === void 0 ? [] : _b,\n        onChange = options.onChange,\n        readOnly = options.readOnly;\n    this.diagram = diagram;\n    this.readOnly = readOnly;\n    this.onChange = onChange;\n    this.middleware = new Map();\n    var corePlugin = CorePlugin({\n      plugins: plugins\n    });\n    registerPlugin(this, corePlugin);\n  }\n\n  Controller.prototype.run = function (key) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var middleware = this.middleware;\n    var fns = middleware[key] || [];\n    warning(fns.length !== 0, \"the middleware function \" + key + \" is not found!\");\n    var composedFn = memoizeOne(compose)(fns); // @ts-ignore\n\n    return composedFn.apply(void 0, __spread(args));\n  };\n\n  Controller.prototype.change = function (model) {\n    this.onChange(model);\n  };\n\n  return Controller;\n}();\n\nvar defaultBlockRecord = {\n  type: null,\n  key: null,\n  data: null\n};\n\nvar Block =\n/** @class */\nfunction (_super) {\n  __extends(Block, _super);\n\n  function Block() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Block.prototype, \"data\", {\n    get: function get() {\n      return this.get('data');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Block.prototype, \"type\", {\n    get: function get() {\n      return this.get('type');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Block.create = function (obj) {\n    return new Block(obj);\n  };\n\n  Block.createList = function (obj) {\n    if (List.isList(obj) || Array.isArray(obj)) {\n      // @ts-ignore\n      return List(obj.map(Block.create));\n    }\n\n    throw new Error(\"Block.createList only accepts Array or List, but you passed it: \" + obj);\n  };\n\n  return Block;\n}(Record(defaultBlockRecord));\n\nvar defaultTheme = {\n  name: 'default',\n  randomColor: true,\n  background: 'rgb(57,60,65)',\n  highlightColor: '#50C9CE',\n  marginH: 60,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5,\n    lineType: 'curve',\n    lineWidth: 3\n  },\n  rootTopic: {\n    contentStyle: {\n      fontSize: '34px',\n      borderRadius: '35px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3,\n      lineColor: 'rgb(113, 203, 45)'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderRadius: '20px',\n      fontSize: '17px',\n      padding: '10px 15px 10px 15px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3,\n      lineColor: 'rgb(113, 203, 45)'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      border: '1px solid #e8eaec',\n      borderRadius: '20px',\n      fontSize: '17px',\n      padding: '4px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3,\n      lineColor: 'white'\n    }\n  }\n};\nvar TopicDirection = {\n  LEFT: 'L',\n  RIGHT: 'R',\n  BOTTOM: 'B',\n  MAIN: 'M' // root\n\n};\nvar DiagramLayoutType;\n\n(function (DiagramLayoutType) {\n  DiagramLayoutType[DiagramLayoutType[\"LEFT_TO_RIGHT\"] = 0] = \"LEFT_TO_RIGHT\";\n  DiagramLayoutType[DiagramLayoutType[\"RIGHT_TO_LEFT\"] = 1] = \"RIGHT_TO_LEFT\";\n  DiagramLayoutType[DiagramLayoutType[\"LEFT_AND_RIGHT\"] = 2] = \"LEFT_AND_RIGHT\";\n  DiagramLayoutType[DiagramLayoutType[\"TOP_TO_BOTTOM\"] = 3] = \"TOP_TO_BOTTOM\";\n})(DiagramLayoutType || (DiagramLayoutType = {}));\n\nvar TopicVisualLevel = {\n  ROOT: 0,\n  PRIMARY: 1,\n  NORMAL: 2\n};\nvar BlockType = {\n  CONTENT: 'CONTENT',\n  DESC: 'DESC'\n};\nvar FocusMode = {\n  NORMAL: 'NORMAL',\n  EDITING_CONTENT: 'EDITING_CONTENT',\n  EDITING_DESC: 'EDITING_DESC',\n  SHOW_POPUP: 'SHOW_POPUP',\n  DRAGGING: 'DRAGGING'\n};\nvar TopicRelationship = {\n  ANCESTOR: 'ANCESTOR',\n  DESCENDANT: 'DESCENDANT',\n  SIBLING: 'SIBLING',\n  NONE: 'NONE'\n};\nvar OpType = {\n  TOGGLE_COLLAPSE: 'TOGGLE_COLLAPSE',\n  ADD_CHILD: 'ADD_CHILD',\n  ADD_SIBLING: 'ADD_SIBLING',\n  DELETE_TOPIC: 'DELETE_TOPIC',\n  FOCUS_TOPIC: 'FOCUS_TOPIC',\n  SET_STYLE: 'SET_STYLE',\n  SET_TOPIC_CONTENT: 'SET_TOPIC_CONTENT',\n  SET_TOPIC_DESC: 'SET_TOPIC_DESC',\n  START_EDITING_CONTENT: 'START_EDITING_CONTENT',\n  START_EDITING_DESC: 'START_EDITING_DESC',\n  DRAG_AND_DROP: 'DRAG_AND_DROP',\n  SET_EDITOR_ROOT: 'SET_EDITOR_ROOT'\n};\nvar defaultConfigRecord = {\n  readOnly: false,\n  allowUndo: true,\n  layoutDir: DiagramLayoutType.LEFT_AND_RIGHT,\n  theme: defaultTheme\n};\n\nvar Config =\n/** @class */\nfunction (_super) {\n  __extends(Config, _super);\n\n  function Config() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Config.prototype, \"layoutDir\", {\n    get: function get() {\n      return this.get('layoutDir');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Config.prototype, \"readOnly\", {\n    get: function get() {\n      return this.get('readOnly');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Config.prototype, \"allowUndo\", {\n    get: function get() {\n      return this.get('allowUndo');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Config.prototype, \"theme\", {\n    get: function get() {\n      return this.get('theme');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Config.fromJSON = function (obj) {\n    return new Config(obj);\n  };\n\n  return Config;\n}(Record(defaultConfigRecord));\n/**\r\n * Data.\r\n *\r\n * This isn't an immutable record, it's just a thin wrapper around `Map` so that\r\n * we can allow for more convenient creation.\r\n *\r\n * @type {Object}\r\n */\n\n\nvar Data =\n/** @class */\nfunction () {\n  function Data() {}\n  /**\r\n   * Create a new `Data` with `attrs`.\r\n   *\r\n   * @param {Object|Map} attrs\r\n   * @return {Data} data\r\n   */\n\n\n  Data.create = function (attrs) {\n    if (attrs === void 0) {\n      attrs = {};\n    }\n\n    if (Map$1.isMap(attrs)) {\n      return attrs;\n    }\n\n    if (isPlainObject(attrs)) {\n      return Data.fromJSON(attrs);\n    }\n\n    throw new Error(\"`Data.create` only accepts objects or maps, but you passed it: \" + attrs);\n  };\n  /**\r\n   * Create a `Data` from a JSON `object`.\r\n   *\r\n   * @param {Object} object\r\n   * @return {Data}\r\n   */\n\n\n  Data.fromJSON = function (object) {\n    return Map$1(object);\n  };\n\n  return Data;\n}();\n\nfunction createKey() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nvar defaultTopicRecord = {\n  key: null,\n  parentKey: null,\n  collapse: false,\n  subKeys: null,\n  blocks: null,\n  relations: null,\n  style: null\n};\n\nvar Topic =\n/** @class */\nfunction (_super) {\n  __extends(Topic, _super);\n\n  function Topic() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Topic.prototype, \"key\", {\n    get: function get() {\n      return this.get('key');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"parentKey\", {\n    get: function get() {\n      return this.get('parentKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"collapse\", {\n    get: function get() {\n      return this.get('collapse');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"subKeys\", {\n    get: function get() {\n      return this.get('subKeys');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"blocks\", {\n    get: function get() {\n      return this.get('blocks');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"relations\", {\n    get: function get() {\n      return this.get('relations');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"style\", {\n    get: function get() {\n      return this.get('style');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Topic.prototype.getBlock = function (type) {\n    var index = this.blocks.findIndex(function (b) {\n      return b.type === type;\n    });\n    if (index === -1) return {\n      index: index,\n      block: null\n    };\n    return {\n      index: index,\n      block: this.blocks.get(index)\n    };\n  };\n\n  Topic.fromJSON = function (obj) {\n    var key = obj.key,\n        _a = obj.parentKey,\n        parentKey = _a === void 0 ? null : _a,\n        blocks = obj.blocks,\n        _b = obj.subKeys,\n        subKeys = _b === void 0 ? [] : _b,\n        _c = obj.collapse,\n        collapse = _c === void 0 ? false : _c;\n    return new Topic({\n      key: key,\n      parentKey: parentKey,\n      collapse: collapse,\n      subKeys: List(subKeys),\n      blocks: Block.createList(blocks)\n    });\n  };\n\n  Topic.create = function (_a) {\n    var key = _a.key,\n        _b = _a.parentKey,\n        parentKey = _b === void 0 ? null : _b,\n        _c = _a.content,\n        content = _c === void 0 ? '' : _c,\n        _d = _a.subKeys,\n        subKeys = _d === void 0 ? [] : _d,\n        _e = _a.collapse,\n        collapse = _e === void 0 ? false : _e;\n    var block = Block.create({\n      type: BlockType.CONTENT,\n      data: content,\n      key: null\n    });\n    var blocks = List([block]);\n    return new Topic({\n      key: key,\n      parentKey: parentKey,\n      blocks: blocks,\n      subKeys: List(subKeys),\n      collapse: collapse\n    });\n  };\n\n  return Topic;\n}(Record(defaultTopicRecord));\n\nvar defaultModelRecord = {\n  topics: Map$1(),\n  data: null,\n  config: null,\n  rootTopicKey: null,\n  editorRootTopicKey: null,\n  focusKey: null,\n  focusMode: null,\n  version: null\n};\n\nvar Model =\n/** @class */\nfunction (_super) {\n  __extends(Model, _super);\n\n  function Model() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Model.isModel = function (obj) {\n    return obj instanceof Model;\n  };\n\n  Model.create = function (attrs) {\n    if (attrs === void 0) {\n      attrs = null;\n    }\n\n    if (attrs == null) return Model.createEmpty();\n\n    if (Model.isModel(attrs)) {\n      return attrs;\n    }\n\n    if (isPlainObject(attrs)) {\n      return Model.fromJSON(attrs);\n    }\n\n    throw new Error(\"`Value.create` only accepts objects or values, but you passed it: \" + attrs);\n  };\n\n  Model.createEmpty = function () {\n    var model = new Model();\n    var rootTopic = Topic.create({\n      key: createKey()\n    });\n    return model.update('topics', function (topics) {\n      return topics.set(rootTopic.key, rootTopic);\n    }).set('rootTopicKey', rootTopic.key);\n  };\n\n  Model.fromJSON = function (object) {\n    var model = new Model();\n    var _a = object.data,\n        data = _a === void 0 ? {} : _a,\n        _b = object.topics,\n        topics = _b === void 0 ? [] : _b,\n        _c = object.config,\n        config = _c === void 0 ? {} : _c,\n        rootTopicKey = object.rootTopicKey;\n    var editorRootTopicKey = object.editorRootTopicKey;\n    if (editorRootTopicKey === undefined) editorRootTopicKey = rootTopicKey;\n    model = model.merge({\n      rootTopicKey: rootTopicKey,\n      editorRootTopicKey: editorRootTopicKey\n    });\n    model = model.withMutations(function (model) {\n      topics.forEach(function (topic) {\n        model.update('topics', function (topics) {\n          return topics.set(topic.key, Topic.fromJSON(topic));\n        });\n      });\n      model.set('config', Config.fromJSON(config));\n      model.set('data', Data.fromJSON(data));\n    });\n    return model;\n  };\n\n  Model.prototype.toJS = function () {\n    var obj = {\n      rootTopicKey: this.rootTopicKey,\n      topics: Object.values(this.topics.toJS()),\n      config: this.config,\n      data: this.data\n    };\n    return obj;\n  };\n\n  Object.defineProperty(Model.prototype, \"topics\", {\n    get: function get() {\n      return this.get('topics');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"config\", {\n    get: function get() {\n      return this.get('config');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"version\", {\n    get: function get() {\n      return this.get('version');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"rootTopicKey\", {\n    get: function get() {\n      return this.get('rootTopicKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"editorRootTopicKey\", {\n    get: function get() {\n      return this.get('editorRootTopicKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"focusKey\", {\n    get: function get() {\n      return this.get('focusKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"focusMode\", {\n    get: function get() {\n      return this.get('focusMode');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"editingContentKey\", {\n    get: function get() {\n      return this.focusMode === FocusMode.EDITING_CONTENT ? this.focusKey : null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"editingDescKey\", {\n    get: function get() {\n      return this.focusMode === FocusMode.EDITING_DESC ? this.focusKey : null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Model.prototype.getTopic = function (key) {\n    return this.topics.get(key);\n  };\n\n  Model.prototype.getParentTopic = function (key) {\n    var topic = this.getTopic(key);\n    return topic.parentKey ? this.getTopic(topic.parentKey) : null;\n  };\n\n  Model.prototype.getTopicVisualLevel = function (key) {\n    var topic = this.getTopic(key);\n    var level = 0;\n\n    while (topic && topic.key !== this.editorRootTopicKey) {\n      level++;\n      topic = this.getParentTopic(topic.key);\n    }\n\n    return level;\n  };\n\n  Object.defineProperty(Model.prototype, \"rootTopic\", {\n    get: function get() {\n      return this.getTopic(this.rootTopicKey);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Model;\n}(Record(defaultModelRecord));\n\nfunction getAllSubTopicKeys(model, topicKey) {\n  var item = model.getTopic(topicKey);\n  var res = [];\n\n  if (item.subKeys.size > 0) {\n    var subKeys = item.subKeys.toArray();\n    res.push.apply(res, __spread(subKeys));\n    res = subKeys.reduce(function (acc, key) {\n      acc.push.apply(acc, __spread(getAllSubTopicKeys(model, key)));\n      return acc;\n    }, res);\n  }\n\n  return res;\n}\n\nfunction getRelationship(model, srcKey, dstKey) {\n  var srcTopic = model.getTopic(srcKey);\n  var dstTopic = model.getTopic(dstKey);\n\n  if (srcTopic && dstTopic) {\n    if (srcTopic.parentKey == dstTopic.parentKey) return TopicRelationship.SIBLING;\n    var pTopic = srcTopic;\n\n    while (pTopic.parentKey) {\n      if (pTopic.parentKey === dstTopic.key) return TopicRelationship.DESCENDANT;\n      pTopic = model.getParentTopic(pTopic.key);\n    }\n\n    pTopic = dstTopic;\n\n    while (pTopic.parentKey) {\n      if (pTopic.parentKey === srcTopic.key) return TopicRelationship.ANCESTOR;\n      pTopic = model.getParentTopic(pTopic.key);\n    }\n  }\n\n  return TopicRelationship.NONE;\n}\n\nvar log$1 = debug('modifier');\n\nfunction toggleCollapse(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  var topic = model.getTopic(topicKey);\n\n  if (topic && topic.subKeys.size !== 0) {\n    topic = topic.merge({\n      collapse: !topic.collapse\n    });\n    model = model.updateIn(['topics', topic.key, 'collapse'], function (collapse) {\n      return !collapse;\n    });\n  }\n\n  return model;\n}\n\nfunction focusTopic(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      focusMode = _a.focusMode;\n  log$1('focus topic');\n  if (topicKey !== model.focusKey) model = model.set('focusKey', topicKey);\n  if (focusMode !== model.focusMode) model = model.set('focusMode', focusMode);\n  return model;\n}\n\nfunction addChild(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  log$1('addChild:', topicKey);\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var child_1 = Topic.create({\n      key: createKey(),\n      parentKey: topic.key\n    });\n    topic = topic.set('collapse', false).update('subKeys', function (subKeys) {\n      return subKeys.push(child_1.key);\n    });\n    model = model.update('topics', function (topics) {\n      return topics.set(topicKey, topic).set(child_1.key, child_1);\n    });\n    return focusTopic({\n      model: model,\n      topicKey: child_1.key,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction addSibling(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  if (topicKey === model.rootTopicKey) return model;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var pItem = model.getTopic(topic.parentKey);\n    var idx_1 = pItem.subKeys.indexOf(topicKey);\n    var sibling_1 = Topic.create({\n      key: createKey(),\n      parentKey: pItem.key\n    });\n    model = model.update('topics', function (topics) {\n      return topics.set(sibling_1.key, sibling_1);\n    }).updateIn(['topics', pItem.key, 'subKeys'], function (subKeys) {\n      return subKeys.insert(idx_1 + 1, sibling_1.key);\n    });\n    return focusTopic({\n      model: model,\n      topicKey: sibling_1.key,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction deleteTopic(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  if (topicKey === model.rootTopicKey) return model;\n  var item = model.getTopic(topicKey);\n\n  if (item) {\n    model = model.withMutations(function (m) {\n      m.update('topics', function (topics) {\n        topics = topics.delete(topicKey);\n        var deleteKeys = getAllSubTopicKeys(model, topicKey);\n        topics = topics.withMutations(function (t) {\n          deleteKeys.forEach(function (dKey) {\n            t.delete(dKey);\n          });\n        });\n        return topics;\n      });\n      m.updateIn(['topics', item.parentKey, 'subKeys'], function (subKeys) {\n        return subKeys.delete(subKeys.indexOf(topicKey));\n      });\n      if (m.focusKey === topicKey) m.set('focusKey', null).set('focusMode', null);\n    });\n  }\n\n  return model;\n}\n\nfunction setContent(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      data = _a.data;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var _b = topic.getBlock(BlockType.CONTENT),\n        index = _b.index,\n        block = _b.block;\n\n    if (block.data !== data) {\n      model = model.updateIn(['topics', topicKey, 'blocks', index, 'data'], function (dt) {\n        return data;\n      });\n    }\n\n    return focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction setStyle(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      style = _a.style;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    if (style !== topic.style) {\n      model = model.updateIn(['topics', topicKey, 'style'], function (s) {\n        return style;\n      });\n    }\n  }\n\n  return model;\n}\n\nfunction setDesc(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      data = _a.data;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var _b = topic.getBlock(BlockType.DESC),\n        index = _b.index,\n        block = _b.block;\n\n    if (index === -1) {\n      model = model.updateIn(['topics', topicKey, 'blocks'], function (blocks) {\n        return blocks.push(Block.create({\n          type: BlockType.DESC,\n          data: data\n        }));\n      });\n    } else {\n      if (block.data !== data) {\n        model = model.updateIn(['topics', topicKey, 'blocks', index, 'data'], function (dt) {\n          return data;\n        });\n      }\n    }\n\n    return focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_DESC\n    });\n  }\n\n  return model;\n}\n\nfunction setTheme(_a) {\n  var model = _a.model,\n      theme = _a.theme;\n  model = model.setIn(['config', 'theme'], theme);\n  return model;\n}\n\nfunction setLayoutDir(_a) {\n  var model = _a.model,\n      layoutDir = _a.layoutDir;\n  if (model.config.layoutDir === layoutDir) return model;\n  model = model.setIn(['config', 'layoutDir'], layoutDir);\n  return model;\n}\n\nfunction setEditorRootTopicKey(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  if (model.editorRootTopicKey !== topicKey) model = model.set('editorRootTopicKey', topicKey);\n  if (model.getTopic(topicKey).collapse) model = model.setIn(['topics', topicKey, 'collapse'], false);\n  return model;\n}\n\nvar index = {\n  addChild: addChild,\n  addSibling: addSibling,\n  toggleCollapse: toggleCollapse,\n  focusTopic: focusTopic,\n  deleteTopic: deleteTopic,\n  setContent: setContent,\n  setDesc: setDesc,\n  setStyle: setStyle,\n  setTheme: setTheme,\n  setLayoutDir: setLayoutDir,\n  setEditorRootTopicKey: setEditorRootTopicKey\n};\nvar index$1 = {\n  Block: Block,\n  Config: Config,\n  Model: Model,\n  Topic: Topic,\n  Data: Data\n};\nexport { Block, BlockType, Config, Controller, Data, DiagramLayoutType, FocusMode, Model, index as ModelModifier, index as Modifiers, OpType, Topic, TopicDirection, TopicRelationship, TopicVisualLevel, defaultTheme, getAllSubTopicKeys, getRelationship, index$1 as models };","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nexport var __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport function __exportStar(m, exports) {\n  for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexport function __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result.default = mod;\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var Position = {\n  BOTTOM: \"bottom\",\n  BOTTOM_LEFT: \"bottom-left\",\n  BOTTOM_RIGHT: \"bottom-right\",\n  LEFT: \"left\",\n  LEFT_BOTTOM: \"left-bottom\",\n  LEFT_TOP: \"left-top\",\n  RIGHT: \"right\",\n  RIGHT_BOTTOM: \"right-bottom\",\n  RIGHT_TOP: \"right-top\",\n  TOP: \"top\",\n  TOP_LEFT: \"top-left\",\n  TOP_RIGHT: \"top-right\"\n};\nexport function isPositionHorizontal(position) {\n  /* istanbul ignore next */\n  return position === Position.TOP || position === Position.TOP_LEFT || position === Position.TOP_RIGHT || position === Position.BOTTOM || position === Position.BOTTOM_LEFT || position === Position.BOTTOM_RIGHT;\n}\nexport function isPositionVertical(position) {\n  /* istanbul ignore next */\n  return position === Position.LEFT || position === Position.LEFT_TOP || position === Position.LEFT_BOTTOM || position === Position.RIGHT || position === Position.RIGHT_TOP || position === Position.RIGHT_BOTTOM;\n}\nexport function getPositionIgnoreAngles(position) {\n  if (position === Position.TOP || position === Position.TOP_LEFT || position === Position.TOP_RIGHT) {\n    return Position.TOP;\n  } else if (position === Position.BOTTOM || position === Position.BOTTOM_LEFT || position === Position.BOTTOM_RIGHT) {\n    return Position.BOTTOM;\n  } else if (position === Position.LEFT || position === Position.LEFT_TOP || position === Position.LEFT_BOTTOM) {\n    return Position.LEFT;\n  } else {\n    return Position.RIGHT;\n  }\n}","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { Position } from \"../../common/position\";\n/** `Position` with `\"auto\"` values, used by `Popover` and `Tooltip`. */\n\nexport var PopoverPosition = tslib_1.__assign({}, Position, {\n  AUTO: \"auto\",\n  AUTO_END: \"auto-end\",\n  AUTO_START: \"auto-start\"\n});","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Alignment along the horizontal axis. */\nexport var Alignment = {\n  CENTER: \"center\",\n  LEFT: \"left\",\n  RIGHT: \"right\"\n};","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// tslint:disable:object-literal-sort-keys\nexport var Elevation = {\n  ZERO: 0,\n  ONE: 1,\n  TWO: 2,\n  THREE: 3,\n  FOUR: 4\n};","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// tslint:disable:object-literal-sort-keys\n\n/**\n * The four basic intents.\n */\nexport var Intent = {\n  NONE: \"none\",\n  PRIMARY: \"primary\",\n  SUCCESS: \"success\",\n  WARNING: \"warning\",\n  DANGER: \"danger\"\n};","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Alignment } from \"./alignment\";\nimport { Elevation } from \"./elevation\";\nimport { Intent } from \"./intent\";\nimport { Position } from \"./position\";\nvar NS = process.env.BLUEPRINT_NAMESPACE || process.env.REACT_APP_BLUEPRINT_NAMESPACE || \"bp3\"; // modifiers\n\nexport var ACTIVE = NS + \"-active\";\nexport var ALIGN_LEFT = NS + \"-align-left\";\nexport var ALIGN_RIGHT = NS + \"-align-right\";\nexport var DARK = NS + \"-dark\";\nexport var DISABLED = NS + \"-disabled\";\nexport var FILL = NS + \"-fill\";\nexport var FIXED = NS + \"-fixed\";\nexport var FIXED_TOP = NS + \"-fixed-top\";\nexport var INLINE = NS + \"-inline\";\nexport var INTERACTIVE = NS + \"-interactive\";\nexport var LARGE = NS + \"-large\";\nexport var LOADING = NS + \"-loading\";\nexport var MINIMAL = NS + \"-minimal\";\nexport var MULTILINE = NS + \"-multiline\";\nexport var ROUND = NS + \"-round\";\nexport var SMALL = NS + \"-small\";\nexport var VERTICAL = NS + \"-vertical\";\nexport var POSITION_TOP = positionClass(Position.TOP);\nexport var POSITION_BOTTOM = positionClass(Position.BOTTOM);\nexport var POSITION_LEFT = positionClass(Position.LEFT);\nexport var POSITION_RIGHT = positionClass(Position.RIGHT);\nexport var ELEVATION_0 = elevationClass(Elevation.ZERO);\nexport var ELEVATION_1 = elevationClass(Elevation.ONE);\nexport var ELEVATION_2 = elevationClass(Elevation.TWO);\nexport var ELEVATION_3 = elevationClass(Elevation.THREE);\nexport var ELEVATION_4 = elevationClass(Elevation.FOUR);\nexport var INTENT_PRIMARY = intentClass(Intent.PRIMARY);\nexport var INTENT_SUCCESS = intentClass(Intent.SUCCESS);\nexport var INTENT_WARNING = intentClass(Intent.WARNING);\nexport var INTENT_DANGER = intentClass(Intent.DANGER);\nexport var FOCUS_DISABLED = NS + \"-focus-disabled\"; // text utilities\n\nexport var UI_TEXT = NS + \"-ui-text\";\nexport var RUNNING_TEXT = NS + \"-running-text\";\nexport var MONOSPACE_TEXT = NS + \"-monospace-text\";\nexport var TEXT_LARGE = NS + \"-text-large\";\nexport var TEXT_SMALL = NS + \"-text-small\";\nexport var TEXT_MUTED = NS + \"-text-muted\";\nexport var TEXT_DISABLED = NS + \"-text-disabled\";\nexport var TEXT_OVERFLOW_ELLIPSIS = NS + \"-text-overflow-ellipsis\"; // textual elements\n\nexport var BLOCKQUOTE = NS + \"-blockquote\";\nexport var CODE = NS + \"-code\";\nexport var CODE_BLOCK = NS + \"-code-block\";\nexport var HEADING = NS + \"-heading\";\nexport var LIST = NS + \"-list\";\nexport var LIST_UNSTYLED = NS + \"-list-unstyled\";\nexport var RTL = NS + \"-rtl\"; // components\n\nexport var ALERT = NS + \"-alert\";\nexport var ALERT_BODY = ALERT + \"-body\";\nexport var ALERT_CONTENTS = ALERT + \"-contents\";\nexport var ALERT_FOOTER = ALERT + \"-footer\";\nexport var BREADCRUMB = NS + \"-breadcrumb\";\nexport var BREADCRUMB_CURRENT = BREADCRUMB + \"-current\";\nexport var BREADCRUMBS = BREADCRUMB + \"s\";\nexport var BREADCRUMBS_COLLAPSED = BREADCRUMB + \"s-collapsed\";\nexport var BUTTON = NS + \"-button\";\nexport var BUTTON_GROUP = BUTTON + \"-group\";\nexport var BUTTON_SPINNER = BUTTON + \"-spinner\";\nexport var BUTTON_TEXT = BUTTON + \"-text\";\nexport var CALLOUT = NS + \"-callout\";\nexport var CALLOUT_ICON = CALLOUT + \"-icon\";\nexport var CARD = NS + \"-card\";\nexport var COLLAPSE = NS + \"-collapse\";\nexport var COLLAPSE_BODY = COLLAPSE + \"-body\";\nexport var COLLAPSIBLE_LIST = NS + \"-collapse-list\";\nexport var CONTEXT_MENU = NS + \"-context-menu\";\nexport var CONTEXT_MENU_POPOVER_TARGET = CONTEXT_MENU + \"-popover-target\";\nexport var CONTROL_GROUP = NS + \"-control-group\";\nexport var DIALOG = NS + \"-dialog\";\nexport var DIALOG_CONTAINER = DIALOG + \"-container\";\nexport var DIALOG_BODY = DIALOG + \"-body\";\nexport var DIALOG_CLOSE_BUTTON = DIALOG + \"-close-button\";\nexport var DIALOG_FOOTER = DIALOG + \"-footer\";\nexport var DIALOG_FOOTER_ACTIONS = DIALOG + \"-footer-actions\";\nexport var DIALOG_HEADER = DIALOG + \"-header\";\nexport var DIVIDER = NS + \"-divider\";\nexport var DRAWER = NS + \"-drawer\";\nexport var DRAWER_BODY = DRAWER + \"-body\";\nexport var DRAWER_FOOTER = DRAWER + \"-footer\";\nexport var DRAWER_HEADER = DRAWER + \"-header\";\nexport var EDITABLE_TEXT = NS + \"-editable-text\";\nexport var EDITABLE_TEXT_CONTENT = EDITABLE_TEXT + \"-content\";\nexport var EDITABLE_TEXT_EDITING = EDITABLE_TEXT + \"-editing\";\nexport var EDITABLE_TEXT_INPUT = EDITABLE_TEXT + \"-input\";\nexport var EDITABLE_TEXT_PLACEHOLDER = EDITABLE_TEXT + \"-placeholder\";\nexport var FLEX_EXPANDER = NS + \"-flex-expander\";\nexport var HTML_SELECT = NS + \"-html-select\";\n/** @deprecated prefer `<HTMLSelect>` component */\n\nexport var SELECT = NS + \"-select\";\nexport var HTML_TABLE = NS + \"-html-table\";\nexport var HTML_TABLE_BORDERED = HTML_TABLE + \"-bordered\";\nexport var HTML_TABLE_CONDENSED = HTML_TABLE + \"-condensed\";\nexport var HTML_TABLE_STRIPED = HTML_TABLE + \"-striped\";\nexport var INPUT = NS + \"-input\";\nexport var INPUT_GHOST = INPUT + \"-ghost\";\nexport var INPUT_GROUP = INPUT + \"-group\";\nexport var INPUT_ACTION = INPUT + \"-action\";\nexport var CONTROL = NS + \"-control\";\nexport var CONTROL_INDICATOR = CONTROL + \"-indicator\";\nexport var CONTROL_INDICATOR_CHILD = CONTROL_INDICATOR + \"-child\";\nexport var CHECKBOX = NS + \"-checkbox\";\nexport var RADIO = NS + \"-radio\";\nexport var SWITCH = NS + \"-switch\";\nexport var SWITCH_INNER_TEXT = SWITCH + \"-inner-text\";\nexport var FILE_INPUT = NS + \"-file-input\";\nexport var FILE_INPUT_HAS_SELECTION = NS + \"-file-input-has-selection\";\nexport var FILE_UPLOAD_INPUT = NS + \"-file-upload-input\";\nexport var FILE_UPLOAD_INPUT_CUSTOM_TEXT = NS + \"-file-upload-input-custom-text\";\nexport var KEY = NS + \"-key\";\nexport var KEY_COMBO = KEY + \"-combo\";\nexport var MODIFIER_KEY = NS + \"-modifier-key\";\nexport var HOTKEY = NS + \"-hotkey\";\nexport var HOTKEY_LABEL = HOTKEY + \"-label\";\nexport var HOTKEY_COLUMN = HOTKEY + \"-column\";\nexport var HOTKEY_DIALOG = HOTKEY + \"-dialog\";\nexport var LABEL = NS + \"-label\";\nexport var FORM_GROUP = NS + \"-form-group\";\nexport var FORM_CONTENT = NS + \"-form-content\";\nexport var FORM_HELPER_TEXT = NS + \"-form-helper-text\";\nexport var MENU = NS + \"-menu\";\nexport var MENU_ITEM = MENU + \"-item\";\nexport var MENU_ITEM_LABEL = MENU_ITEM + \"-label\";\nexport var MENU_SUBMENU = NS + \"-submenu\";\nexport var MENU_DIVIDER = MENU + \"-divider\";\nexport var MENU_HEADER = MENU + \"-header\";\nexport var NAVBAR = NS + \"-navbar\";\nexport var NAVBAR_GROUP = NAVBAR + \"-group\";\nexport var NAVBAR_HEADING = NAVBAR + \"-heading\";\nexport var NAVBAR_DIVIDER = NAVBAR + \"-divider\";\nexport var NON_IDEAL_STATE = NS + \"-non-ideal-state\";\nexport var NON_IDEAL_STATE_VISUAL = NON_IDEAL_STATE + \"-visual\";\nexport var NUMERIC_INPUT = NS + \"-numeric-input\";\nexport var OVERFLOW_LIST = NS + \"-overflow-list\";\nexport var OVERFLOW_LIST_SPACER = OVERFLOW_LIST + \"-spacer\";\nexport var OVERLAY = NS + \"-overlay\";\nexport var OVERLAY_BACKDROP = OVERLAY + \"-backdrop\";\nexport var OVERLAY_CONTAINER = OVERLAY + \"-container\";\nexport var OVERLAY_CONTENT = OVERLAY + \"-content\";\nexport var OVERLAY_INLINE = OVERLAY + \"-inline\";\nexport var OVERLAY_OPEN = OVERLAY + \"-open\";\nexport var OVERLAY_SCROLL_CONTAINER = OVERLAY + \"-scroll-container\";\nexport var PANEL_STACK = NS + \"-panel-stack\";\nexport var PANEL_STACK_HEADER = PANEL_STACK + \"-header\";\nexport var PANEL_STACK_HEADER_BACK = PANEL_STACK + \"-header-back\";\nexport var PANEL_STACK_VIEW = PANEL_STACK + \"-view\";\nexport var POPOVER = NS + \"-popover\";\nexport var POPOVER_ARROW = POPOVER + \"-arrow\";\nexport var POPOVER_BACKDROP = POPOVER + \"-backdrop\";\nexport var POPOVER_CONTENT = POPOVER + \"-content\";\nexport var POPOVER_CONTENT_SIZING = POPOVER_CONTENT + \"-sizing\";\nexport var POPOVER_DISMISS = POPOVER + \"-dismiss\";\nexport var POPOVER_DISMISS_OVERRIDE = POPOVER_DISMISS + \"-override\";\nexport var POPOVER_OPEN = POPOVER + \"-open\";\nexport var POPOVER_TARGET = POPOVER + \"-target\";\nexport var POPOVER_WRAPPER = POPOVER + \"-wrapper\";\nexport var TRANSITION_CONTAINER = NS + \"-transition-container\";\nexport var PROGRESS_BAR = NS + \"-progress-bar\";\nexport var PROGRESS_METER = NS + \"-progress-meter\";\nexport var PROGRESS_NO_STRIPES = NS + \"-no-stripes\";\nexport var PROGRESS_NO_ANIMATION = NS + \"-no-animation\";\nexport var PORTAL = NS + \"-portal\";\nexport var SKELETON = NS + \"-skeleton\";\nexport var SLIDER = NS + \"-slider\";\nexport var SLIDER_AXIS = SLIDER + \"-axis\";\nexport var SLIDER_HANDLE = SLIDER + \"-handle\";\nexport var SLIDER_LABEL = SLIDER + \"-label\";\nexport var SLIDER_TRACK = SLIDER + \"-track\";\nexport var SLIDER_PROGRESS = SLIDER + \"-progress\";\nexport var START = NS + \"-start\";\nexport var END = NS + \"-end\";\nexport var SPINNER = NS + \"-spinner\";\nexport var SPINNER_ANIMATION = SPINNER + \"-animation\";\nexport var SPINNER_HEAD = SPINNER + \"-head\";\nexport var SPINNER_NO_SPIN = NS + \"-no-spin\";\nexport var SPINNER_TRACK = SPINNER + \"-track\";\nexport var TAB = NS + \"-tab\";\nexport var TAB_INDICATOR = TAB + \"-indicator\";\nexport var TAB_INDICATOR_WRAPPER = TAB_INDICATOR + \"-wrapper\";\nexport var TAB_LIST = TAB + \"-list\";\nexport var TAB_PANEL = TAB + \"-panel\";\nexport var TABS = TAB + \"s\";\nexport var TAG = NS + \"-tag\";\nexport var TAG_REMOVE = TAG + \"-remove\";\nexport var TAG_INPUT = NS + \"-tag-input\";\nexport var TAG_INPUT_ICON = TAG_INPUT + \"-icon\";\nexport var TAG_INPUT_VALUES = TAG_INPUT + \"-values\";\nexport var TOAST = NS + \"-toast\";\nexport var TOAST_CONTAINER = TOAST + \"-container\";\nexport var TOAST_MESSAGE = TOAST + \"-message\";\nexport var TOOLTIP = NS + \"-tooltip\";\nexport var TOOLTIP_INDICATOR = TOOLTIP + \"-indicator\";\nexport var TREE = NS + \"-tree\";\nexport var TREE_NODE = NS + \"-tree-node\";\nexport var TREE_NODE_CARET = TREE_NODE + \"-caret\";\nexport var TREE_NODE_CARET_CLOSED = TREE_NODE_CARET + \"-closed\";\nexport var TREE_NODE_CARET_NONE = TREE_NODE_CARET + \"-none\";\nexport var TREE_NODE_CARET_OPEN = TREE_NODE_CARET + \"-open\";\nexport var TREE_NODE_CONTENT = TREE_NODE + \"-content\";\nexport var TREE_NODE_EXPANDED = TREE_NODE + \"-expanded\";\nexport var TREE_NODE_ICON = TREE_NODE + \"-icon\";\nexport var TREE_NODE_LABEL = TREE_NODE + \"-label\";\nexport var TREE_NODE_LIST = TREE_NODE + \"-list\";\nexport var TREE_NODE_SECONDARY_LABEL = TREE_NODE + \"-secondary-label\";\nexport var TREE_NODE_SELECTED = TREE_NODE + \"-selected\";\nexport var TREE_ROOT = NS + \"-tree-root\";\nexport var ICON = NS + \"-icon\";\nexport var ICON_STANDARD = ICON + \"-standard\";\nexport var ICON_LARGE = ICON + \"-large\";\n/**\n * Returns the namespace prefix for all Blueprint CSS classes.\n * Customize this namespace at build time with the `process.env.BLUEPRINT_NAMESPACE` environment variable.\n */\n\nexport function getClassNamespace() {\n  return NS;\n}\n/** Return CSS class for alignment. */\n\nexport function alignmentClass(alignment) {\n  switch (alignment) {\n    case Alignment.LEFT:\n      return ALIGN_LEFT;\n\n    case Alignment.RIGHT:\n      return ALIGN_RIGHT;\n\n    default:\n      return undefined;\n  }\n}\nexport function elevationClass(elevation) {\n  if (elevation == null) {\n    return undefined;\n  }\n\n  return NS + \"-elevation-\" + elevation;\n}\n/** Returns CSS class for icon name. */\n\nexport function iconClass(iconName) {\n  if (iconName == null) {\n    return undefined;\n  }\n\n  return iconName.indexOf(NS + \"-icon-\") === 0 ? iconName : NS + \"-icon-\" + iconName;\n}\n/** Return CSS class for intent. */\n\nexport function intentClass(intent) {\n  if (intent == null || intent === Intent.NONE) {\n    return undefined;\n  }\n\n  return NS + \"-intent-\" + intent.toLowerCase();\n}\nexport function positionClass(position) {\n  if (position == null) {\n    return undefined;\n  }\n\n  return NS + \"-position-\" + position;\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var BACKSPACE = 8;\nexport var TAB = 9;\nexport var ENTER = 13;\nexport var SHIFT = 16;\nexport var ESCAPE = 27;\nexport var SPACE = 32;\nexport var ARROW_LEFT = 37;\nexport var ARROW_UP = 38;\nexport var ARROW_RIGHT = 39;\nexport var ARROW_DOWN = 40;\nexport var DELETE = 46;\n/** Returns whether the key code is `enter` or `space`, the two keys that can click a button. */\n\nexport function isKeyboardClick(keyCode) {\n  return keyCode === ENTER || keyCode === SPACE;\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nexport var DISPLAYNAME_PREFIX = \"Blueprint3\";\n/** A collection of curated prop keys used across our Components which are not valid HTMLElement props. */\n\nvar INVALID_PROPS = [\"active\", \"alignText\", \"containerRef\", \"elementRef\", \"fill\", \"icon\", \"inputRef\", \"intent\", \"inline\", \"large\", \"loading\", \"leftIcon\", \"minimal\", \"onChildrenMount\", \"onRemove\", \"panel\", \"panelClassName\", \"popoverProps\", \"rightElement\", \"rightIcon\", \"round\", \"small\", \"text\"];\n/**\n * Typically applied to HTMLElements to filter out blacklisted props. When applied to a Component,\n * can filter props from being passed down to the children. Can also filter by a combined list of\n * supplied prop keys and the blacklist (only appropriate for HTMLElements).\n * @param props The original props object to filter down.\n * @param {string[]} invalidProps If supplied, overwrites the default blacklist.\n * @param {boolean} shouldMerge If true, will merge supplied invalidProps and blacklist together.\n */\n\nexport function removeNonHTMLProps(props, invalidProps, shouldMerge) {\n  if (invalidProps === void 0) {\n    invalidProps = INVALID_PROPS;\n  }\n\n  if (shouldMerge === void 0) {\n    shouldMerge = false;\n  }\n\n  if (shouldMerge) {\n    invalidProps = invalidProps.concat(INVALID_PROPS);\n  }\n\n  return invalidProps.reduce(function (prev, curr) {\n    if (prev.hasOwnProperty(curr)) {\n      delete prev[curr];\n    }\n\n    return prev;\n  }, tslib_1.__assign({}, props));\n}","/*\n * Copyright 2019 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport { isNodeEnv } from \"./utils\";\n/**\n * An abstract component that Blueprint components can extend\n * in order to add some common functionality like runtime props validation.\n */\n\nvar AbstractPureComponent2 =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(AbstractPureComponent2, _super);\n\n  function AbstractPureComponent2(props, context) {\n    var _this = _super.call(this, props, context) || this; // Not bothering to remove entries when their timeouts finish because clearing invalid ID is a no-op\n\n\n    _this.timeoutIds = [];\n    /**\n     * Clear all known timeouts.\n     */\n\n    _this.clearTimeouts = function () {\n      if (_this.timeoutIds.length > 0) {\n        for (var _i = 0, _a = _this.timeoutIds; _i < _a.length; _i++) {\n          var timeoutId = _a[_i];\n          window.clearTimeout(timeoutId);\n        }\n\n        _this.timeoutIds = [];\n      }\n    };\n\n    if (!isNodeEnv(\"production\")) {\n      _this.validateProps(_this.props);\n    }\n\n    return _this;\n  }\n\n  AbstractPureComponent2.prototype.componentDidUpdate = function (_prevProps, _prevState, _snapshot) {\n    if (!isNodeEnv(\"production\")) {\n      this.validateProps(this.props);\n    }\n  };\n\n  AbstractPureComponent2.prototype.componentWillUnmount = function () {\n    this.clearTimeouts();\n  };\n  /**\n   * Set a timeout and remember its ID.\n   * All stored timeouts will be cleared when component unmounts.\n   * @returns a \"cancel\" function that will clear timeout when invoked.\n   */\n\n\n  AbstractPureComponent2.prototype.setTimeout = function (callback, timeout) {\n    var handle = window.setTimeout(callback, timeout);\n    this.timeoutIds.push(handle);\n    return function () {\n      return window.clearTimeout(handle);\n    };\n  };\n  /**\n   * Ensures that the props specified for a component are valid.\n   * Implementations should check that props are valid and usually throw an Error if they are not.\n   * Implementations should not duplicate checks that the type system already guarantees.\n   *\n   * This method should be used instead of React's\n   * [propTypes](https://facebook.github.io/react/docs/reusable-components.html#prop-validation) feature.\n   * Like propTypes, these runtime checks run only in development mode.\n   */\n\n\n  AbstractPureComponent2.prototype.validateProps = function (_props) {// implement in subclass\n  };\n\n  return AbstractPureComponent2;\n}(React.PureComponent);\n\nexport { AbstractPureComponent2 };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { IconSvgPaths16, IconSvgPaths20 } from \"@blueprintjs/icons\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX } from \"../../common\";\n\nvar Icon =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Icon, _super);\n\n  function Icon() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Icon_1 = Icon;\n\n  Icon.prototype.render = function () {\n    var icon = this.props.icon;\n\n    if (icon == null || typeof icon === \"boolean\") {\n      return null;\n    } else if (typeof icon !== \"string\") {\n      return icon;\n    }\n\n    var _a = this.props,\n        className = _a.className,\n        color = _a.color,\n        htmlTitle = _a.htmlTitle,\n        _b = _a.iconSize,\n        iconSize = _b === void 0 ? Icon_1.SIZE_STANDARD : _b,\n        intent = _a.intent,\n        _c = _a.title,\n        title = _c === void 0 ? icon : _c,\n        _d = _a.tagName,\n        tagName = _d === void 0 ? \"span\" : _d,\n        htmlprops = tslib_1.__rest(_a, [\"className\", \"color\", \"htmlTitle\", \"iconSize\", \"intent\", \"title\", \"tagName\"]); // choose which pixel grid is most appropriate for given icon size\n\n\n    var pixelGridSize = iconSize >= Icon_1.SIZE_LARGE ? Icon_1.SIZE_LARGE : Icon_1.SIZE_STANDARD; // render path elements, or nothing if icon name is unknown.\n\n    var paths = this.renderSvgPaths(pixelGridSize, icon);\n    var classes = classNames(Classes.ICON, Classes.iconClass(icon), Classes.intentClass(intent), className);\n    var viewBox = \"0 0 \" + pixelGridSize + \" \" + pixelGridSize;\n    return React.createElement(tagName, tslib_1.__assign({}, htmlprops, {\n      className: classes,\n      title: htmlTitle\n    }), React.createElement(\"svg\", {\n      fill: color,\n      \"data-icon\": icon,\n      width: iconSize,\n      height: iconSize,\n      viewBox: viewBox\n    }, title && React.createElement(\"desc\", null, title), paths));\n  };\n  /** Render `<path>` elements for the given icon name. Returns `null` if name is unknown. */\n\n\n  Icon.prototype.renderSvgPaths = function (pathsSize, iconName) {\n    var svgPathsRecord = pathsSize === Icon_1.SIZE_STANDARD ? IconSvgPaths16 : IconSvgPaths20;\n    var pathStrings = svgPathsRecord[iconName];\n\n    if (pathStrings == null) {\n      return null;\n    }\n\n    return pathStrings.map(function (d, i) {\n      return React.createElement(\"path\", {\n        key: i,\n        d: d,\n        fillRule: \"evenodd\"\n      });\n    });\n  };\n\n  var Icon_1;\n  Icon.displayName = DISPLAYNAME_PREFIX + \".Icon\";\n  Icon.SIZE_STANDARD = 16;\n  Icon.SIZE_LARGE = 20;\n  Icon = Icon_1 = tslib_1.__decorate([polyfill], Icon);\n  return Icon;\n}(AbstractPureComponent2);\n\nexport { Icon };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport * as Classes from \"../../common/classes\";\nimport { Icon } from \"../icon/icon\";\nexport var Breadcrumb = function (breadcrumbProps) {\n  var _a;\n\n  var classes = classNames(Classes.BREADCRUMB, (_a = {}, _a[Classes.BREADCRUMB_CURRENT] = breadcrumbProps.current, _a[Classes.DISABLED] = breadcrumbProps.disabled, _a), breadcrumbProps.className);\n  var icon = breadcrumbProps.icon != null ? React.createElement(Icon, {\n    icon: breadcrumbProps.icon\n  }) : undefined;\n\n  if (breadcrumbProps.href == null && breadcrumbProps.onClick == null) {\n    return React.createElement(\"span\", {\n      className: classes\n    }, icon, breadcrumbProps.text, breadcrumbProps.children);\n  }\n\n  return React.createElement(\"a\", {\n    className: classes,\n    href: breadcrumbProps.href,\n    onClick: breadcrumbProps.disabled ? null : breadcrumbProps.onClick,\n    tabIndex: breadcrumbProps.disabled ? null : 0,\n    target: breadcrumbProps.target\n  }, icon, breadcrumbProps.text, breadcrumbProps.children);\n};","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport * as Classes from \"../../common/classes\";\nimport * as Errors from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { isFunction } from \"../../common/utils\";\n/** Detect if `React.createPortal()` API method does not exist. */\n\nvar cannotCreatePortal = !isFunction(ReactDOM.createPortal);\nvar REACT_CONTEXT_TYPES = {\n  blueprintPortalClassName: function (obj, key) {\n    if (obj[key] != null && typeof obj[key] !== \"string\") {\n      return new Error(Errors.PORTAL_CONTEXT_CLASS_NAME_STRING);\n    }\n\n    return undefined;\n  }\n};\n/**\n * This component detaches its contents and re-attaches them to document.body.\n * Use it when you need to circumvent DOM z-stacking (for dialogs, popovers, etc.).\n * Any class names passed to this element will be propagated to the new container element on document.body.\n */\n\nvar Portal =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Portal, _super);\n\n  function Portal() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      hasMounted: false\n    };\n    return _this;\n  }\n\n  Portal.prototype.render = function () {\n    // Only render `children` once this component has mounted in a browser environment, so they are\n    // immediately attached to the DOM tree and can do DOM things like measuring or `autoFocus`.\n    // See long comment on componentDidMount in https://reactjs.org/docs/portals.html#event-bubbling-through-portals\n    if (cannotCreatePortal || typeof document === \"undefined\" || !this.state.hasMounted) {\n      return null;\n    } else {\n      return ReactDOM.createPortal(this.props.children, this.portalElement);\n    }\n  };\n\n  Portal.prototype.componentDidMount = function () {\n    if (!this.props.container) {\n      return;\n    }\n\n    this.portalElement = this.createContainerElement();\n    this.props.container.appendChild(this.portalElement);\n    this.setState({\n      hasMounted: true\n    }, this.props.onChildrenMount);\n\n    if (cannotCreatePortal) {\n      this.unstableRenderNoPortal();\n    }\n  };\n\n  Portal.prototype.componentDidUpdate = function (prevProps) {\n    // update className prop on portal DOM element\n    if (this.portalElement != null && prevProps.className !== this.props.className) {\n      this.portalElement.classList.remove(prevProps.className);\n      maybeAddClass(this.portalElement.classList, this.props.className);\n    }\n\n    if (cannotCreatePortal) {\n      this.unstableRenderNoPortal();\n    }\n  };\n\n  Portal.prototype.componentWillUnmount = function () {\n    if (this.portalElement != null) {\n      if (cannotCreatePortal) {\n        ReactDOM.unmountComponentAtNode(this.portalElement);\n      }\n\n      this.portalElement.remove();\n    }\n  };\n\n  Portal.prototype.createContainerElement = function () {\n    var container = document.createElement(\"div\");\n    container.classList.add(Classes.PORTAL);\n    maybeAddClass(container.classList, this.props.className);\n\n    if (this.context != null) {\n      maybeAddClass(container.classList, this.context.blueprintPortalClassName);\n    }\n\n    return container;\n  };\n\n  Portal.prototype.unstableRenderNoPortal = function () {\n    ReactDOM.unstable_renderSubtreeIntoContainer(\n    /* parentComponent */\n    this, React.createElement(\"div\", null, this.props.children), this.portalElement);\n  };\n\n  Portal.displayName = DISPLAYNAME_PREFIX + \".Portal\";\n  Portal.contextTypes = REACT_CONTEXT_TYPES;\n  Portal.defaultProps = {\n    container: typeof document !== \"undefined\" ? document.body : null\n  };\n  return Portal;\n}(React.Component);\n\nexport { Portal };\n\nfunction maybeAddClass(classList, className) {\n  if (className != null && className !== \"\") {\n    classList.add.apply(classList, className.split(\" \"));\n  }\n}","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport { findDOMNode } from \"react-dom\";\nimport { AbstractPureComponent2, Classes, Keys } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { safeInvoke } from \"../../common/utils\";\nimport { Portal } from \"../portal/portal\";\n\nvar Overlay =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Overlay, _super);\n\n  function Overlay(props, context) {\n    var _this = _super.call(this, props, context) || this;\n\n    _this.refHandlers = {\n      container: function (ref) {\n        return _this.containerElement = findDOMNode(ref);\n      }\n    };\n\n    _this.maybeRenderChild = function (child) {\n      if (child == null) {\n        return null;\n      } // add a special class to each child element that will automatically set the appropriate\n      // CSS position mode under the hood. also, make the container focusable so we can\n      // trap focus inside it (via `enforceFocus`).\n\n\n      var decoratedChild = typeof child === \"object\" ? React.cloneElement(child, {\n        className: classNames(child.props.className, Classes.OVERLAY_CONTENT),\n        tabIndex: 0\n      }) : React.createElement(\"span\", {\n        className: Classes.OVERLAY_CONTENT\n      }, child);\n      var _a = _this.props,\n          onOpening = _a.onOpening,\n          onOpened = _a.onOpened,\n          onClosing = _a.onClosing,\n          onClosed = _a.onClosed,\n          transitionDuration = _a.transitionDuration,\n          transitionName = _a.transitionName;\n      return React.createElement(CSSTransition, {\n        classNames: transitionName,\n        onEntering: onOpening,\n        onEntered: onOpened,\n        onExiting: onClosing,\n        onExited: onClosed,\n        timeout: transitionDuration\n      }, decoratedChild);\n    };\n\n    _this.handleBackdropMouseDown = function (e) {\n      var _a = _this.props,\n          backdropProps = _a.backdropProps,\n          canOutsideClickClose = _a.canOutsideClickClose,\n          enforceFocus = _a.enforceFocus,\n          onClose = _a.onClose;\n\n      if (canOutsideClickClose) {\n        safeInvoke(onClose, e);\n      }\n\n      if (enforceFocus) {\n        // make sure document.activeElement is updated before bringing the focus back\n        _this.bringFocusInsideOverlay();\n      }\n\n      safeInvoke(backdropProps.onMouseDown, e);\n    };\n\n    _this.handleDocumentClick = function (e) {\n      var _a = _this.props,\n          canOutsideClickClose = _a.canOutsideClickClose,\n          isOpen = _a.isOpen,\n          onClose = _a.onClose;\n      var eventTarget = e.target;\n      var stackIndex = Overlay_1.openStack.indexOf(_this);\n      var isClickInThisOverlayOrDescendant = Overlay_1.openStack.slice(stackIndex).some(function (_a) {\n        var elem = _a.containerElement; // `elem` is the container of backdrop & content, so clicking on that container\n        // should not count as being \"inside\" the overlay.\n\n        return elem && elem.contains(eventTarget) && !elem.isSameNode(eventTarget);\n      });\n\n      if (isOpen && canOutsideClickClose && !isClickInThisOverlayOrDescendant) {\n        // casting to any because this is a native event\n        safeInvoke(onClose, e);\n      }\n    };\n\n    _this.handleDocumentFocus = function (e) {\n      if (_this.props.enforceFocus && _this.containerElement != null && !_this.containerElement.contains(e.target)) {\n        // prevent default focus behavior (sometimes auto-scrolls the page)\n        e.preventDefault();\n        e.stopImmediatePropagation();\n\n        _this.bringFocusInsideOverlay();\n      }\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _a = _this.props,\n          canEscapeKeyClose = _a.canEscapeKeyClose,\n          onClose = _a.onClose;\n\n      if (e.which === Keys.ESCAPE && canEscapeKeyClose) {\n        safeInvoke(onClose, e); // prevent browser-specific escape key behavior (Safari exits fullscreen)\n\n        e.preventDefault();\n      }\n    };\n\n    _this.state = {\n      hasEverOpened: props.isOpen\n    };\n    return _this;\n  }\n\n  Overlay_1 = Overlay;\n\n  Overlay.getDerivedStateFromProps = function (_a) {\n    var hasEverOpened = _a.isOpen;\n\n    if (hasEverOpened) {\n      return {\n        hasEverOpened: hasEverOpened\n      };\n    }\n\n    return null;\n  };\n\n  Overlay.prototype.render = function () {\n    var _a; // oh snap! no reason to render anything at all if we're being truly lazy\n\n\n    if (this.props.lazy && !this.state.hasEverOpened) {\n      return null;\n    }\n\n    var _b = this.props,\n        children = _b.children,\n        className = _b.className,\n        usePortal = _b.usePortal,\n        isOpen = _b.isOpen; // TransitionGroup types require single array of children; does not support nested arrays.\n    // So we must collapse backdrop and children into one array, and every item must be wrapped in a\n    // Transition element (no ReactText allowed).\n\n    var childrenWithTransitions = isOpen ? React.Children.map(children, this.maybeRenderChild) : [];\n    childrenWithTransitions.unshift(this.maybeRenderBackdrop());\n    var containerClasses = classNames(Classes.OVERLAY, (_a = {}, _a[Classes.OVERLAY_OPEN] = isOpen, _a[Classes.OVERLAY_INLINE] = !usePortal, _a), className);\n    var transitionGroup = React.createElement(TransitionGroup, {\n      appear: true,\n      className: containerClasses,\n      component: \"div\",\n      onKeyDown: this.handleKeyDown,\n      ref: this.refHandlers.container\n    }, childrenWithTransitions);\n\n    if (usePortal) {\n      return React.createElement(Portal, {\n        className: this.props.portalClassName,\n        container: this.props.portalContainer\n      }, transitionGroup);\n    } else {\n      return transitionGroup;\n    }\n  };\n\n  Overlay.prototype.componentDidMount = function () {\n    if (this.props.isOpen) {\n      this.overlayWillOpen();\n    }\n  };\n\n  Overlay.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.isOpen && !this.props.isOpen) {\n      this.overlayWillClose();\n    } else if (!prevProps.isOpen && this.props.isOpen) {\n      this.overlayWillOpen();\n    }\n  };\n\n  Overlay.prototype.componentWillUnmount = function () {\n    this.overlayWillClose();\n  };\n  /**\n   * @public for testing\n   * @internal\n   */\n\n\n  Overlay.prototype.bringFocusInsideOverlay = function () {\n    var _this = this; // always delay focus manipulation to just before repaint to prevent scroll jumping\n\n\n    return requestAnimationFrame(function () {\n      // container ref may be undefined between component mounting and Portal rendering\n      // activeElement may be undefined in some rare cases in IE\n      if (_this.containerElement == null || document.activeElement == null || !_this.props.isOpen) {\n        return;\n      }\n\n      var isFocusOutsideModal = !_this.containerElement.contains(document.activeElement);\n\n      if (isFocusOutsideModal) {\n        // element marked autofocus has higher priority than the other clowns\n        var autofocusElement = _this.containerElement.querySelector(\"[autofocus]\");\n\n        var wrapperElement = _this.containerElement.querySelector(\"[tabindex]\");\n\n        if (autofocusElement != null) {\n          autofocusElement.focus();\n        } else if (wrapperElement != null) {\n          wrapperElement.focus();\n        }\n      }\n    });\n  };\n\n  Overlay.prototype.maybeRenderBackdrop = function () {\n    var _a = this.props,\n        backdropClassName = _a.backdropClassName,\n        backdropProps = _a.backdropProps,\n        hasBackdrop = _a.hasBackdrop,\n        isOpen = _a.isOpen,\n        transitionDuration = _a.transitionDuration,\n        transitionName = _a.transitionName;\n\n    if (hasBackdrop && isOpen) {\n      return React.createElement(CSSTransition, {\n        classNames: transitionName,\n        key: \"__backdrop\",\n        timeout: transitionDuration\n      }, React.createElement(\"div\", tslib_1.__assign({}, backdropProps, {\n        className: classNames(Classes.OVERLAY_BACKDROP, backdropClassName, backdropProps.className),\n        onMouseDown: this.handleBackdropMouseDown,\n        tabIndex: this.props.canOutsideClickClose ? 0 : null\n      })));\n    } else {\n      return null;\n    }\n  };\n\n  Overlay.prototype.overlayWillClose = function () {\n    document.removeEventListener(\"focus\", this.handleDocumentFocus,\n    /* useCapture */\n    true);\n    document.removeEventListener(\"mousedown\", this.handleDocumentClick);\n    var openStack = Overlay_1.openStack;\n    var stackIndex = openStack.indexOf(this);\n\n    if (stackIndex !== -1) {\n      openStack.splice(stackIndex, 1);\n\n      if (openStack.length > 0) {\n        var lastOpenedOverlay = Overlay_1.getLastOpened();\n\n        if (lastOpenedOverlay.props.enforceFocus) {\n          document.addEventListener(\"focus\", lastOpenedOverlay.handleDocumentFocus,\n          /* useCapture */\n          true);\n        }\n      }\n\n      if (openStack.filter(function (o) {\n        return o.props.usePortal && o.props.hasBackdrop;\n      }).length === 0) {\n        document.body.classList.remove(Classes.OVERLAY_OPEN);\n      }\n    }\n  };\n\n  Overlay.prototype.overlayWillOpen = function () {\n    var openStack = Overlay_1.openStack;\n\n    if (openStack.length > 0) {\n      document.removeEventListener(\"focus\", Overlay_1.getLastOpened().handleDocumentFocus,\n      /* useCapture */\n      true);\n    }\n\n    openStack.push(this);\n\n    if (this.props.autoFocus) {\n      this.bringFocusInsideOverlay();\n    }\n\n    if (this.props.enforceFocus) {\n      document.addEventListener(\"focus\", this.handleDocumentFocus,\n      /* useCapture */\n      true);\n    }\n\n    if (this.props.canOutsideClickClose && !this.props.hasBackdrop) {\n      document.addEventListener(\"mousedown\", this.handleDocumentClick);\n    }\n\n    if (this.props.hasBackdrop && this.props.usePortal) {\n      // add a class to the body to prevent scrolling of content below the overlay\n      document.body.classList.add(Classes.OVERLAY_OPEN);\n    }\n  };\n\n  var Overlay_1;\n  Overlay.displayName = DISPLAYNAME_PREFIX + \".Overlay\";\n  Overlay.defaultProps = {\n    autoFocus: true,\n    backdropProps: {},\n    canEscapeKeyClose: true,\n    canOutsideClickClose: true,\n    enforceFocus: true,\n    hasBackdrop: true,\n    isOpen: false,\n    lazy: true,\n    transitionDuration: 300,\n    transitionName: Classes.OVERLAY,\n    usePortal: true\n  };\n  Overlay.openStack = [];\n\n  Overlay.getLastOpened = function () {\n    return Overlay_1.openStack[Overlay_1.openStack.length - 1];\n  };\n\n  Overlay = Overlay_1 = tslib_1.__decorate([polyfill], Overlay);\n  return Overlay;\n}(AbstractPureComponent2);\n\nexport { Overlay };","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport ResizeObserver from \"resize-observer-polyfill\";\nimport { AbstractPureComponent2 } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { safeInvoke } from \"../../common/utils\";\n\nvar ResizeSensor =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ResizeSensor, _super);\n\n  function ResizeSensor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.element = null;\n    _this.observer = new ResizeObserver(function (entries) {\n      return safeInvoke(_this.props.onResize, entries);\n    });\n    return _this;\n  }\n\n  ResizeSensor.prototype.render = function () {\n    // pass-through render of single child\n    return React.Children.only(this.props.children);\n  };\n\n  ResizeSensor.prototype.componentDidMount = function () {\n    this.observeElement();\n  };\n\n  ResizeSensor.prototype.componentDidUpdate = function (prevProps) {\n    this.observeElement(this.props.observeParents !== prevProps.observeParents);\n  };\n\n  ResizeSensor.prototype.componentWillUnmount = function () {\n    this.observer.disconnect();\n  };\n  /**\n   * Observe the DOM element, if defined and different from the currently\n   * observed element. Pass `force` argument to skip element checks and always\n   * re-observe.\n   */\n\n\n  ResizeSensor.prototype.observeElement = function (force) {\n    if (force === void 0) {\n      force = false;\n    }\n\n    var element = this.getElement();\n\n    if (!(element instanceof Element)) {\n      // stop everything if not defined\n      this.observer.disconnect();\n      return;\n    }\n\n    if (element === this.element && !force) {\n      // quit if given same element -- nothing to update (unless forced)\n      return;\n    } else {\n      // clear observer list if new element\n      this.observer.disconnect(); // remember element reference for next time\n\n      this.element = element;\n    } // observer callback is invoked immediately when observing new elements\n\n\n    this.observer.observe(element);\n\n    if (this.props.observeParents) {\n      var parent_1 = element.parentElement;\n\n      while (parent_1 != null) {\n        this.observer.observe(parent_1);\n        parent_1 = parent_1.parentElement;\n      }\n    }\n  };\n\n  ResizeSensor.prototype.getElement = function () {\n    try {\n      // using findDOMNode for two reasons:\n      // 1. cloning to insert a ref is unwieldy and not performant.\n      // 2. ensure that we resolve to an actual DOM node (instead of any JSX ref instance).\n      return findDOMNode(this);\n    } catch (_a) {\n      // swallow error if findDOMNode is run on unmounted component.\n      return null;\n    }\n  };\n\n  ResizeSensor.displayName = DISPLAYNAME_PREFIX + \".ResizeSensor\";\n  ResizeSensor = tslib_1.__decorate([polyfill], ResizeSensor);\n  return ResizeSensor;\n}(AbstractPureComponent2);\n\nexport { ResizeSensor };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Popper placement utils\n// ======================\n\n/** Converts a full placement to one of the four positions by stripping text after the `-`. */\nexport function getPosition(placement) {\n  return placement.split(\"-\")[0];\n}\n/** Returns true if position is left or right. */\n\nexport function isVerticalPosition(side) {\n  return [\"left\", \"right\"].indexOf(side) !== -1;\n}\n/** Returns the opposite position. */\n\nexport function getOppositePosition(side) {\n  switch (side) {\n    case \"top\":\n      return \"bottom\";\n\n    case \"left\":\n      return \"right\";\n\n    case \"bottom\":\n      return \"top\";\n\n    default:\n      return \"left\";\n  }\n}\n/** Returns the CSS alignment keyword corresponding to given placement. */\n\nexport function getAlignment(placement) {\n  var align = placement.split(\"-\")[1];\n\n  switch (align) {\n    case \"start\":\n      return \"left\";\n\n    case \"end\":\n      return \"right\";\n\n    default:\n      return \"center\";\n  }\n} // Popper modifiers\n// ================\n\n/** Modifier helper function to compute popper transform-origin based on arrow position */\n\nexport function getTransformOrigin(data) {\n  var position = getPosition(data.placement);\n\n  if (data.arrowElement == null) {\n    return isVerticalPosition(position) ? getOppositePosition(position) + \" \" + getAlignment(position) : getAlignment(position) + \" \" + getOppositePosition(position);\n  } else {\n    var arrowSizeShift = data.arrowElement.clientHeight / 2;\n    var arrow = data.offsets.arrow; // can use keyword for dimension without the arrow, to ease computation burden.\n    // move origin by half arrow's height to keep it centered.\n\n    return isVerticalPosition(position) ? getOppositePosition(position) + \" \" + (arrow.top + arrowSizeShift) + \"px\" : arrow.left + arrowSizeShift + \"px \" + getOppositePosition(position);\n  }\n} // additional space between arrow and edge of target\n\nvar ARROW_SPACING = 4;\n/** Popper modifier that offsets popper and arrow so arrow points out of the correct side */\n\nexport var arrowOffsetModifier = function (data) {\n  if (data.arrowElement == null) {\n    return data;\n  } // our arrows have equal width and height\n\n\n  var arrowSize = data.arrowElement.clientWidth; // this logic borrowed from original Popper arrow modifier itself\n\n  var position = getPosition(data.placement);\n  var isVertical = isVerticalPosition(position);\n  var len = isVertical ? \"width\" : \"height\";\n  var offsetSide = isVertical ? \"left\" : \"top\";\n  var arrowOffsetSize = Math.round(arrowSize / 2 / Math.sqrt(2)); // offset popover by arrow size, offset arrow in the opposite direction\n\n  if (position === \"top\" || position === \"left\") {\n    // the \"up & back\" directions require negative popper offsets\n    data.offsets.popper[offsetSide] -= arrowOffsetSize + ARROW_SPACING; // can only use left/top on arrow so gotta get clever with 100% + X\n\n    data.offsets.arrow[offsetSide] = data.offsets.popper[len] - arrowSize + arrowOffsetSize;\n  } else {\n    data.offsets.popper[offsetSide] += arrowOffsetSize + ARROW_SPACING;\n    data.offsets.arrow[offsetSide] = -arrowOffsetSize;\n  }\n\n  return data;\n};","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as React from \"react\";\nimport * as Classes from \"../../common/classes\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { getPosition } from \"./popperUtils\"; // these paths come from the Core Kit Sketch file\n// https://github.com/palantir/blueprint/blob/develop/resources/sketch/Core%20Kit.sketch\n\nvar SVG_SHADOW_PATH = \"M8.11 6.302c1.015-.936 1.887-2.922 1.887-4.297v26c0-1.378\" + \"-.868-3.357-1.888-4.297L.925 17.09c-1.237-1.14-1.233-3.034 0-4.17L8.11 6.302z\";\nvar SVG_ARROW_PATH = \"M8.787 7.036c1.22-1.125 2.21-3.376 2.21-5.03V0v30-2.005\" + \"c0-1.654-.983-3.9-2.21-5.03l-7.183-6.616c-.81-.746-.802-1.96 0-2.7l7.183-6.614z\";\n/** Modifier helper function to compute arrow rotate() transform */\n\nfunction getArrowAngle(placement) {\n  if (placement == null) {\n    return 0;\n  } // can only be top/left/bottom/right - auto is resolved internally\n\n\n  switch (getPosition(placement)) {\n    case \"top\":\n      return -90;\n\n    case \"left\":\n      return 180;\n\n    case \"bottom\":\n      return 90;\n\n    default:\n      return 0;\n  }\n}\n\nexport var PopoverArrow = function (_a) {\n  var _b = _a.arrowProps,\n      ref = _b.ref,\n      style = _b.style,\n      placement = _a.placement;\n  return React.createElement(\"div\", {\n    className: Classes.POPOVER_ARROW,\n    ref: ref,\n    style: isNaN(+style.left) ? {} : style\n  }, React.createElement(\"svg\", {\n    viewBox: \"0 0 30 30\",\n    style: {\n      transform: \"rotate(\" + getArrowAngle(placement) + \"deg)\"\n    }\n  }, React.createElement(\"path\", {\n    className: Classes.POPOVER_ARROW + \"-border\",\n    d: SVG_SHADOW_PATH\n  }), React.createElement(\"path\", {\n    className: Classes.POPOVER_ARROW + \"-fill\",\n    d: SVG_ARROW_PATH\n  })));\n};\nPopoverArrow.displayName = DISPLAYNAME_PREFIX + \".PopoverArrow\";","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Position } from \"../../common/position\";\n/**\n * Convert a position to a placement.\n * @param position the position to convert\n */\n\nexport function positionToPlacement(position) {\n  /* istanbul ignore next */\n  switch (position) {\n    case Position.TOP_LEFT:\n      return \"top-start\";\n\n    case Position.TOP:\n      return \"top\";\n\n    case Position.TOP_RIGHT:\n      return \"top-end\";\n\n    case Position.RIGHT_TOP:\n      return \"right-start\";\n\n    case Position.RIGHT:\n      return \"right\";\n\n    case Position.RIGHT_BOTTOM:\n      return \"right-end\";\n\n    case Position.BOTTOM_RIGHT:\n      return \"bottom-end\";\n\n    case Position.BOTTOM:\n      return \"bottom\";\n\n    case Position.BOTTOM_LEFT:\n      return \"bottom-start\";\n\n    case Position.LEFT_BOTTOM:\n      return \"left-end\";\n\n    case Position.LEFT:\n      return \"left\";\n\n    case Position.LEFT_TOP:\n      return \"left-start\";\n\n    case \"auto\":\n    case \"auto-start\":\n    case \"auto-end\":\n      // Return the string unchanged.\n      return position;\n\n    default:\n      return assertNever(position);\n  }\n}\n/* istanbul ignore next */\n\nfunction assertNever(x) {\n  throw new Error(\"Unexpected position: \" + x);\n}","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { Manager, Popper, Reference } from \"react-popper\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport * as Utils from \"../../common/utils\";\nimport { Overlay } from \"../overlay/overlay\";\nimport { ResizeSensor } from \"../resize-sensor/resizeSensor\";\nimport { Tooltip } from \"../tooltip/tooltip\";\nimport { PopoverArrow } from \"./popoverArrow\";\nimport { positionToPlacement } from \"./popoverMigrationUtils\";\nimport { arrowOffsetModifier, getTransformOrigin } from \"./popperUtils\";\nexport var PopoverInteractionKind = {\n  CLICK: \"click\",\n  CLICK_TARGET_ONLY: \"click-target\",\n  HOVER: \"hover\",\n  HOVER_TARGET_ONLY: \"hover-target\"\n};\n\nvar Popover =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Popover, _super);\n\n  function Popover() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      hasDarkParent: false,\n      isOpen: _this.getIsOpen(_this.props),\n      transformOrigin: \"\"\n    }; // a flag that lets us detect mouse movement between the target and popover,\n    // now that mouseleave is triggered when you cross the gap between the two.\n\n    _this.isMouseInTargetOrPopover = false; // a flag that indicates whether the target previously lost focus to another\n    // element on the same page.\n\n    _this.lostFocusOnSamePage = true;\n    _this.refHandlers = {\n      popover: function (ref) {\n        _this.popoverElement = ref;\n        Utils.safeInvoke(_this.props.popoverRef, ref);\n      },\n      target: function (ref) {\n        return _this.targetElement = ref;\n      }\n    };\n    /**\n     * Instance method to instruct the `Popover` to recompute its position.\n     *\n     * This method should only be used if you are updating the target in a way\n     * that does not cause it to re-render, such as changing its _position_\n     * without changing its _size_ (since `Popover` already repositions when it\n     * detects a resize).\n     */\n\n    _this.reposition = function () {\n      return Utils.safeInvoke(_this.popperScheduleUpdate);\n    };\n\n    _this.renderPopover = function (popperProps) {\n      var _a;\n\n      var _b = _this.props,\n          usePortal = _b.usePortal,\n          interactionKind = _b.interactionKind;\n      var transformOrigin = _this.state.transformOrigin; // Need to update our reference to this on every render as it will change.\n\n      _this.popperScheduleUpdate = popperProps.scheduleUpdate;\n      var popoverHandlers = {\n        // always check popover clicks for dismiss class\n        onClick: _this.handlePopoverClick\n      };\n\n      if (interactionKind === PopoverInteractionKind.HOVER || !usePortal && interactionKind === PopoverInteractionKind.HOVER_TARGET_ONLY) {\n        popoverHandlers.onMouseEnter = _this.handleMouseEnter;\n        popoverHandlers.onMouseLeave = _this.handleMouseLeave;\n      }\n\n      var popoverClasses = classNames(Classes.POPOVER, (_a = {}, _a[Classes.DARK] = _this.props.inheritDarkTheme && _this.state.hasDarkParent, _a[Classes.MINIMAL] = _this.props.minimal, _a), _this.props.popoverClassName);\n      return React.createElement(\"div\", {\n        className: Classes.TRANSITION_CONTAINER,\n        ref: popperProps.ref,\n        style: popperProps.style\n      }, React.createElement(ResizeSensor, {\n        onResize: _this.reposition\n      }, React.createElement(\"div\", tslib_1.__assign({\n        className: popoverClasses,\n        style: {\n          transformOrigin: transformOrigin\n        }\n      }, popoverHandlers), _this.isArrowEnabled() && React.createElement(PopoverArrow, {\n        arrowProps: popperProps.arrowProps,\n        placement: popperProps.placement\n      }), React.createElement(\"div\", {\n        className: Classes.POPOVER_CONTENT\n      }, _this.understandChildren().content))));\n    };\n\n    _this.renderTarget = function (referenceProps) {\n      var _a, _b;\n\n      var _c = _this.props,\n          fill = _c.fill,\n          openOnTargetFocus = _c.openOnTargetFocus,\n          targetClassName = _c.targetClassName,\n          _d = _c.targetProps,\n          targetProps = _d === void 0 ? {} : _d;\n      var isOpen = _this.state.isOpen;\n\n      var isControlled = _this.isControlled();\n\n      var isHoverInteractionKind = _this.isHoverInteractionKind();\n\n      var targetTagName = _this.props.targetTagName;\n\n      if (fill) {\n        targetTagName = \"div\";\n      }\n\n      var finalTargetProps = isHoverInteractionKind ? {\n        // HOVER handlers\n        onBlur: _this.handleTargetBlur,\n        onFocus: _this.handleTargetFocus,\n        onMouseEnter: _this.handleMouseEnter,\n        onMouseLeave: _this.handleMouseLeave\n      } : {\n        // CLICK needs only one handler\n        onClick: _this.handleTargetClick\n      };\n      finalTargetProps.className = classNames(Classes.POPOVER_TARGET, (_a = {}, _a[Classes.POPOVER_OPEN] = isOpen, _a), targetProps.className, targetClassName);\n      finalTargetProps.ref = referenceProps.ref;\n      var rawTarget = Utils.ensureElement(_this.understandChildren().target);\n      var rawTabIndex = rawTarget.props.tabIndex; // ensure target is focusable if relevant prop enabled\n\n      var tabIndex = rawTabIndex == null && openOnTargetFocus && isHoverInteractionKind ? 0 : rawTabIndex;\n      var clonedTarget = React.cloneElement(rawTarget, {\n        className: classNames(rawTarget.props.className, (_b = {}, // this class is mainly useful for button targets; we should only apply it for uncontrolled popovers\n        // when they are opened by a user interaction\n        _b[Classes.ACTIVE] = isOpen && !isControlled && !isHoverInteractionKind, _b)),\n        // force disable single Tooltip child when popover is open (BLUEPRINT-552)\n        disabled: isOpen && Utils.isElementOfType(rawTarget, Tooltip) ? true : rawTarget.props.disabled,\n        tabIndex: tabIndex\n      });\n      var target = React.createElement(targetTagName, tslib_1.__assign({}, targetProps, finalTargetProps), clonedTarget);\n      return React.createElement(ResizeSensor, {\n        onResize: _this.reposition\n      }, target);\n    };\n\n    _this.isControlled = function () {\n      return _this.props.isOpen !== undefined;\n    };\n\n    _this.handleTargetFocus = function (e) {\n      if (_this.props.openOnTargetFocus && _this.isHoverInteractionKind()) {\n        if (e.relatedTarget == null && !_this.lostFocusOnSamePage) {\n          // ignore this focus event -- the target was already focused but the page itself\n          // lost focus (e.g. due to switching tabs).\n          return;\n        }\n\n        _this.handleMouseEnter(e);\n      }\n\n      Utils.safeInvokeMember(_this.props.targetProps, \"onFocus\", e);\n    };\n\n    _this.handleTargetBlur = function (e) {\n      if (_this.props.openOnTargetFocus && _this.isHoverInteractionKind()) {\n        // if the next element to receive focus is within the popover, we'll want to leave the\n        // popover open. e.relatedTarget ought to tell us the next element to receive focus, but if the user just\n        // clicked on an element which is not focusable (either by default or with a tabIndex attribute),\n        // it won't be set. So, we filter those out here and assume that a click handler somewhere else will\n        // close the popover if necessary.\n        if (e.relatedTarget != null && !_this.isElementInPopover(e.relatedTarget)) {\n          _this.handleMouseLeave(e);\n        }\n      }\n\n      _this.lostFocusOnSamePage = e.relatedTarget != null;\n      Utils.safeInvokeMember(_this.props.targetProps, \"onBlur\", e);\n    };\n\n    _this.handleMouseEnter = function (e) {\n      _this.isMouseInTargetOrPopover = true; // if we're entering the popover, and the mode is set to be HOVER_TARGET_ONLY, we want to manually\n      // trigger the mouse leave event, as hovering over the popover shouldn't count.\n\n      if (!_this.props.usePortal && _this.isElementInPopover(e.target) && _this.props.interactionKind === PopoverInteractionKind.HOVER_TARGET_ONLY && !_this.props.openOnTargetFocus) {\n        _this.handleMouseLeave(e);\n      } else if (!_this.props.disabled) {\n        // only begin opening popover when it is enabled\n        _this.setOpenState(true, e, _this.props.hoverOpenDelay);\n      }\n\n      Utils.safeInvokeMember(_this.props.targetProps, \"onMouseEnter\", e);\n    };\n\n    _this.handleMouseLeave = function (e) {\n      _this.isMouseInTargetOrPopover = false; // wait until the event queue is flushed, because we want to leave the\n      // popover open if the mouse entered the popover immediately after\n      // leaving the target (or vice versa).\n\n      _this.setTimeout(function () {\n        if (_this.isMouseInTargetOrPopover) {\n          return;\n        } // user-configurable closing delay is helpful when moving mouse from target to popover\n\n\n        _this.setOpenState(false, e, _this.props.hoverCloseDelay);\n      });\n\n      Utils.safeInvokeMember(_this.props.targetProps, \"onMouseLeave\", e);\n    };\n\n    _this.handlePopoverClick = function (e) {\n      var eventTarget = e.target; // an OVERRIDE inside a DISMISS does not dismiss, and a DISMISS inside an OVERRIDE will dismiss.\n\n      var dismissElement = eventTarget.closest(\".\" + Classes.POPOVER_DISMISS + \", .\" + Classes.POPOVER_DISMISS_OVERRIDE);\n      var shouldDismiss = dismissElement != null && dismissElement.classList.contains(Classes.POPOVER_DISMISS);\n      var isDisabled = eventTarget.closest(\":disabled, .\" + Classes.DISABLED) != null;\n\n      if (shouldDismiss && !isDisabled && !e.isDefaultPrevented()) {\n        _this.setOpenState(false, e);\n\n        if (_this.props.captureDismiss) {\n          e.preventDefault();\n        }\n      }\n    };\n\n    _this.handleOverlayClose = function (e) {\n      var eventTarget = e.target; // if click was in target, target event listener will handle things, so don't close\n\n      if (!Utils.elementIsOrContains(_this.targetElement, eventTarget) || e.nativeEvent instanceof KeyboardEvent) {\n        _this.setOpenState(false, e);\n      }\n    };\n\n    _this.handleTargetClick = function (e) {\n      // ensure click did not originate from within inline popover before closing\n      if (!_this.props.disabled && !_this.isElementInPopover(e.target)) {\n        if (_this.props.isOpen == null) {\n          _this.setState(function (prevState) {\n            return {\n              isOpen: !prevState.isOpen\n            };\n          });\n        } else {\n          _this.setOpenState(!_this.props.isOpen, e);\n        }\n      }\n\n      Utils.safeInvokeMember(_this.props.targetProps, \"onClick\", e);\n    };\n    /** Popper modifier that updates React state (for style properties) based on latest data. */\n\n\n    _this.updatePopoverState = function (data) {\n      // always set string; let shouldComponentUpdate determine if update is necessary\n      _this.setState({\n        transformOrigin: getTransformOrigin(data)\n      });\n\n      return data;\n    };\n\n    return _this;\n  }\n\n  Popover.prototype.render = function () {\n    var _a; // rename wrapper tag to begin with uppercase letter so it's recognized\n    // as JSX component instead of intrinsic element. but because of its\n    // type, tsc actually recognizes that it is _any_ intrinsic element, so\n    // it can typecheck the HTML props!!\n\n\n    var _b = this.props,\n        className = _b.className,\n        disabled = _b.disabled,\n        fill = _b.fill;\n    var isOpen = this.state.isOpen;\n    var wrapperTagName = this.props.wrapperTagName;\n\n    if (fill) {\n      wrapperTagName = \"div\";\n    }\n\n    var isContentEmpty = Utils.ensureElement(this.understandChildren().content) == null; // need to do this check in render(), because `isOpen` is derived from\n    // state, and state can't necessarily be accessed in validateProps.\n\n    if (isContentEmpty && !disabled && isOpen !== false && !Utils.isNodeEnv(\"production\")) {\n      console.warn(Errors.POPOVER_WARN_EMPTY_CONTENT);\n    }\n\n    var wrapperClasses = classNames(Classes.POPOVER_WRAPPER, className, (_a = {}, _a[Classes.FILL] = fill, _a));\n    var wrapper = React.createElement(wrapperTagName, {\n      className: wrapperClasses\n    }, React.createElement(Reference, {\n      innerRef: this.refHandlers.target\n    }, this.renderTarget), React.createElement(Overlay, {\n      autoFocus: this.props.autoFocus,\n      backdropClassName: Classes.POPOVER_BACKDROP,\n      backdropProps: this.props.backdropProps,\n      canEscapeKeyClose: this.props.canEscapeKeyClose,\n      canOutsideClickClose: this.props.interactionKind === PopoverInteractionKind.CLICK,\n      className: this.props.portalClassName,\n      enforceFocus: this.props.enforceFocus,\n      hasBackdrop: this.props.hasBackdrop,\n      isOpen: isOpen && !isContentEmpty,\n      onClose: this.handleOverlayClose,\n      onClosed: this.props.onClosed,\n      onClosing: this.props.onClosing,\n      onOpened: this.props.onOpened,\n      onOpening: this.props.onOpening,\n      transitionDuration: this.props.transitionDuration,\n      transitionName: Classes.POPOVER,\n      usePortal: this.props.usePortal,\n      portalContainer: this.props.portalContainer\n    }, React.createElement(Popper, {\n      innerRef: this.refHandlers.popover,\n      placement: positionToPlacement(this.props.position),\n      modifiers: this.getPopperModifiers()\n    }, this.renderPopover)));\n    return React.createElement(Manager, null, wrapper);\n  };\n\n  Popover.prototype.componentDidMount = function () {\n    this.updateDarkParent();\n  };\n\n  Popover.prototype.componentDidUpdate = function (_, __, snapshot) {\n    _super.prototype.componentDidUpdate.call(this, _, __, snapshot);\n\n    this.updateDarkParent();\n    var nextIsOpen = this.getIsOpen(this.props);\n\n    if (this.props.isOpen != null && nextIsOpen !== this.state.isOpen) {\n      this.setOpenState(nextIsOpen); // tricky: setOpenState calls setState only if this.props.isOpen is\n      // not controlled, so we need to invoke setState manually here.\n\n      this.setState({\n        isOpen: nextIsOpen\n      });\n    } else if (this.props.disabled && this.state.isOpen && this.props.isOpen == null) {\n      // special case: close an uncontrolled popover when disabled is set to true\n      this.setOpenState(false);\n    }\n  };\n\n  Popover.prototype.validateProps = function (props) {\n    if (props.isOpen == null && props.onInteraction != null) {\n      console.warn(Errors.POPOVER_WARN_UNCONTROLLED_ONINTERACTION);\n    }\n\n    if (props.hasBackdrop && !props.usePortal) {\n      console.warn(Errors.POPOVER_WARN_HAS_BACKDROP_INLINE);\n    }\n\n    if (props.hasBackdrop && props.interactionKind !== PopoverInteractionKind.CLICK) {\n      throw new Error(Errors.POPOVER_HAS_BACKDROP_INTERACTION);\n    }\n\n    var childrenCount = React.Children.count(props.children);\n    var hasContentProp = props.content !== undefined;\n    var hasTargetProp = props.target !== undefined;\n\n    if (childrenCount === 0 && !hasTargetProp) {\n      throw new Error(Errors.POPOVER_REQUIRES_TARGET);\n    }\n\n    if (childrenCount > 2) {\n      console.warn(Errors.POPOVER_WARN_TOO_MANY_CHILDREN);\n    }\n\n    if (childrenCount > 0 && hasTargetProp) {\n      console.warn(Errors.POPOVER_WARN_DOUBLE_TARGET);\n    }\n\n    if (childrenCount === 2 && hasContentProp) {\n      console.warn(Errors.POPOVER_WARN_DOUBLE_CONTENT);\n    }\n  };\n\n  Popover.prototype.updateDarkParent = function () {\n    if (this.props.usePortal && this.state.isOpen) {\n      var hasDarkParent = this.targetElement != null && this.targetElement.closest(\".\" + Classes.DARK) != null;\n      this.setState({\n        hasDarkParent: hasDarkParent\n      });\n    }\n  }; // content and target can be specified as props or as children. this method\n  // normalizes the two approaches, preferring child over prop.\n\n\n  Popover.prototype.understandChildren = function () {\n    var _a = this.props,\n        children = _a.children,\n        contentProp = _a.content,\n        targetProp = _a.target; // #validateProps asserts that 1 <= children.length <= 2 so content is optional\n\n    var _b = React.Children.toArray(children),\n        targetChild = _b[0],\n        contentChild = _b[1];\n\n    return {\n      content: contentChild == null ? contentProp : contentChild,\n      target: targetChild == null ? targetProp : targetChild\n    };\n  };\n\n  Popover.prototype.getIsOpen = function (props) {\n    // disabled popovers should never be allowed to open.\n    if (props.disabled) {\n      return false;\n    } else if (props.isOpen != null) {\n      return props.isOpen;\n    } else {\n      return props.defaultIsOpen;\n    }\n  };\n\n  Popover.prototype.getPopperModifiers = function () {\n    var _a = this.props,\n        boundary = _a.boundary,\n        modifiers = _a.modifiers;\n    var _b = modifiers.flip,\n        flip = _b === void 0 ? {} : _b,\n        _c = modifiers.preventOverflow,\n        preventOverflow = _c === void 0 ? {} : _c;\n    return tslib_1.__assign({}, modifiers, {\n      arrowOffset: {\n        enabled: this.isArrowEnabled(),\n        fn: arrowOffsetModifier,\n        order: 510\n      },\n      flip: tslib_1.__assign({\n        boundariesElement: boundary\n      }, flip),\n      preventOverflow: tslib_1.__assign({\n        boundariesElement: boundary\n      }, preventOverflow),\n      updatePopoverState: {\n        enabled: true,\n        fn: this.updatePopoverState,\n        order: 900\n      }\n    });\n  }; // a wrapper around setState({isOpen}) that will call props.onInteraction instead when in controlled mode.\n  // starts a timeout to delay changing the state if a non-zero duration is provided.\n\n\n  Popover.prototype.setOpenState = function (isOpen, e, timeout) {\n    var _this = this; // cancel any existing timeout because we have new state\n\n\n    Utils.safeInvoke(this.cancelOpenTimeout);\n\n    if (timeout > 0) {\n      this.cancelOpenTimeout = this.setTimeout(function () {\n        return _this.setOpenState(isOpen, e);\n      }, timeout);\n    } else {\n      if (this.props.isOpen == null) {\n        this.setState({\n          isOpen: isOpen\n        });\n      } else {\n        Utils.safeInvoke(this.props.onInteraction, isOpen, e);\n      }\n\n      if (!isOpen) {\n        Utils.safeInvoke(this.props.onClose, e);\n      }\n    }\n  };\n\n  Popover.prototype.isArrowEnabled = function () {\n    var _a = this.props,\n        minimal = _a.minimal,\n        arrow = _a.modifiers.arrow; // omitting `arrow` from `modifiers` uses Popper default, which does show an arrow.\n\n    return !minimal && (arrow == null || arrow.enabled);\n  };\n\n  Popover.prototype.isElementInPopover = function (element) {\n    return this.popoverElement != null && this.popoverElement.contains(element);\n  };\n\n  Popover.prototype.isHoverInteractionKind = function () {\n    return this.props.interactionKind === PopoverInteractionKind.HOVER || this.props.interactionKind === PopoverInteractionKind.HOVER_TARGET_ONLY;\n  };\n\n  Popover.displayName = DISPLAYNAME_PREFIX + \".Popover\";\n  Popover.defaultProps = {\n    boundary: \"scrollParent\",\n    captureDismiss: false,\n    defaultIsOpen: false,\n    disabled: false,\n    fill: false,\n    hasBackdrop: false,\n    hoverCloseDelay: 300,\n    hoverOpenDelay: 150,\n    inheritDarkTheme: true,\n    interactionKind: PopoverInteractionKind.CLICK,\n    minimal: false,\n    modifiers: {},\n    openOnTargetFocus: true,\n    position: \"auto\",\n    targetTagName: \"span\",\n    transitionDuration: 300,\n    usePortal: true,\n    wrapperTagName: \"span\"\n  };\n  Popover = tslib_1.__decorate([polyfill], Popover);\n  return Popover;\n}(AbstractPureComponent2);\n\nexport { Popover };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Popover, PopoverInteractionKind } from \"../popover/popover\";\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Tooltip, _super);\n\n  function Tooltip() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.popover = null;\n    return _this;\n  }\n\n  Tooltip.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        children = _a.children,\n        intent = _a.intent,\n        popoverClassName = _a.popoverClassName,\n        restProps = tslib_1.__rest(_a, [\"children\", \"intent\", \"popoverClassName\"]);\n\n    var classes = classNames(Classes.TOOLTIP, Classes.intentClass(intent), popoverClassName);\n    return React.createElement(Popover, tslib_1.__assign({\n      interactionKind: PopoverInteractionKind.HOVER_TARGET_ONLY\n    }, restProps, {\n      autoFocus: false,\n      canEscapeKeyClose: false,\n      enforceFocus: false,\n      lazy: true,\n      popoverClassName: classes,\n      portalContainer: this.props.portalContainer,\n      ref: function (ref) {\n        return _this.popover = ref;\n      }\n    }), children);\n  };\n\n  Tooltip.prototype.reposition = function () {\n    if (this.popover != null) {\n      this.popover.reposition();\n    }\n  };\n\n  Tooltip.displayName = DISPLAYNAME_PREFIX + \".Tooltip\";\n  Tooltip.defaultProps = {\n    hoverCloseDelay: 0,\n    hoverOpenDelay: 100,\n    transitionDuration: 100\n  };\n  Tooltip = tslib_1.__decorate([polyfill], Tooltip);\n  return Tooltip;\n}(AbstractPureComponent2);\n\nexport { Tooltip };","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Boundary of a one-dimensional interval. */\nexport var Boundary = {\n  START: \"start\",\n  // tslint:disable-next-line:object-literal-sort-keys\n  END: \"end\"\n};","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { BLOCKQUOTE, CODE, CODE_BLOCK, HEADING, LABEL, LIST } from \"../../common/classes\";\n\nfunction htmlElement(tagName, tagClassName) {\n  return function (props) {\n    var className = props.className,\n        elementRef = props.elementRef,\n        htmlProps = tslib_1.__rest(props, [\"className\", \"elementRef\"]);\n\n    return React.createElement(tagName, tslib_1.__assign({}, htmlProps, {\n      className: classNames(tagClassName, className),\n      ref: elementRef\n    }));\n  };\n} // the following components are linted by blueprint-html-components because\n// they should rarely be used without the Blueprint classes/styles:\n\n\nexport var H1 = htmlElement(\"h1\", HEADING);\nexport var H2 = htmlElement(\"h2\", HEADING);\nexport var H3 = htmlElement(\"h3\", HEADING);\nexport var H4 = htmlElement(\"h4\", HEADING);\nexport var H5 = htmlElement(\"h5\", HEADING);\nexport var H6 = htmlElement(\"h6\", HEADING);\nexport var Blockquote = htmlElement(\"blockquote\", BLOCKQUOTE);\nexport var Code = htmlElement(\"code\", CODE);\nexport var Pre = htmlElement(\"pre\", CODE_BLOCK);\nexport var Label = htmlElement(\"label\", LABEL); // these two are not linted by blueprint-html-components because there are valid\n// uses of these elements without Blueprint styles:\n\nexport var OL = htmlElement(\"ol\", LIST);\nexport var UL = htmlElement(\"ul\", LIST);","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { Boundary } from \"../../common/boundary\";\nimport * as Classes from \"../../common/classes\";\nimport { OVERFLOW_LIST_OBSERVE_PARENTS_CHANGED } from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { safeInvoke, shallowCompareKeys } from \"../../common/utils\";\nimport { ResizeSensor } from \"../resize-sensor/resizeSensor\";\n/** @internal - do not expose this type */\n\nexport var OverflowDirection;\n\n(function (OverflowDirection) {\n  OverflowDirection[OverflowDirection[\"NONE\"] = 0] = \"NONE\";\n  OverflowDirection[OverflowDirection[\"GROW\"] = 1] = \"GROW\";\n  OverflowDirection[OverflowDirection[\"SHRINK\"] = 2] = \"SHRINK\";\n})(OverflowDirection || (OverflowDirection = {}));\n\nvar OverflowList =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(OverflowList, _super);\n\n  function OverflowList() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      direction: OverflowDirection.NONE,\n      lastOverflowCount: 0,\n      overflow: [],\n      visible: _this.props.items\n    };\n    /** A cache containing the widths of all elements being observed to detect growing/shrinking */\n\n    _this.previousWidths = new Map();\n    _this.spacer = null;\n\n    _this.resize = function (entries) {\n      // if any parent is growing, assume we have more room than before\n      var growing = entries.some(function (entry) {\n        var previousWidth = _this.previousWidths.get(entry.target) || 0;\n        return entry.contentRect.width > previousWidth;\n      });\n\n      _this.repartition(growing);\n\n      entries.forEach(function (entry) {\n        return _this.previousWidths.set(entry.target, entry.contentRect.width);\n      });\n    };\n\n    return _this;\n  }\n\n  OverflowList.ofType = function () {\n    return OverflowList;\n  };\n\n  OverflowList.prototype.componentDidMount = function () {\n    this.repartition(false);\n  };\n\n  OverflowList.prototype.shouldComponentUpdate = function (_nextProps, nextState) {\n    // We want this component to always re-render, even when props haven't changed, so that\n    // changes in the renderers' behavior can be reflected.\n    // The following statement prevents re-rendering only in the case where the state changes\n    // identity (i.e. setState was called), but the state is still the same when\n    // shallow-compared to the previous state.\n    return !(this.state !== nextState && shallowCompareKeys(this.state, nextState));\n  };\n\n  OverflowList.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (prevProps.observeParents !== this.props.observeParents) {\n      console.warn(OVERFLOW_LIST_OBSERVE_PARENTS_CHANGED);\n    }\n\n    if (prevProps.collapseFrom !== this.props.collapseFrom || prevProps.items !== this.props.items || prevProps.minVisibleItems !== this.props.minVisibleItems || prevProps.overflowRenderer !== this.props.overflowRenderer || prevProps.visibleItemRenderer !== this.props.visibleItemRenderer) {\n      // reset visible state if the above props change.\n      this.setState({\n        direction: OverflowDirection.GROW,\n        lastOverflowCount: 0,\n        overflow: [],\n        visible: this.props.items\n      });\n    }\n\n    if (!shallowCompareKeys(prevState, this.state)) {\n      this.repartition(false);\n    }\n\n    var _a = this.state,\n        direction = _a.direction,\n        overflow = _a.overflow,\n        lastOverflowCount = _a.lastOverflowCount;\n\n    if ( // if a resize operation has just completed (transition to NONE)\n    direction === OverflowDirection.NONE && direction !== prevState.direction && overflow.length !== lastOverflowCount) {\n      safeInvoke(this.props.onOverflow, overflow);\n    }\n  };\n\n  OverflowList.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        className = _a.className,\n        collapseFrom = _a.collapseFrom,\n        observeParents = _a.observeParents,\n        style = _a.style,\n        _b = _a.tagName,\n        tagName = _b === void 0 ? \"div\" : _b,\n        visibleItemRenderer = _a.visibleItemRenderer;\n    var overflow = this.maybeRenderOverflow();\n    var list = React.createElement(tagName, {\n      className: classNames(Classes.OVERFLOW_LIST, className),\n      style: style\n    }, collapseFrom === Boundary.START ? overflow : null, this.state.visible.map(visibleItemRenderer), collapseFrom === Boundary.END ? overflow : null, React.createElement(\"div\", {\n      className: Classes.OVERFLOW_LIST_SPACER,\n      ref: function (ref) {\n        return _this.spacer = ref;\n      }\n    }));\n    return React.createElement(ResizeSensor, {\n      onResize: this.resize,\n      observeParents: observeParents\n    }, list);\n  };\n\n  OverflowList.prototype.maybeRenderOverflow = function () {\n    var overflow = this.state.overflow;\n\n    if (overflow.length === 0) {\n      return null;\n    }\n\n    return this.props.overflowRenderer(overflow);\n  };\n\n  OverflowList.prototype.repartition = function (growing) {\n    var _this = this;\n\n    if (this.spacer == null) {\n      return;\n    }\n\n    if (growing) {\n      this.setState(function (state) {\n        return {\n          direction: OverflowDirection.GROW,\n          // store last overflow if this is the beginning of a resize (for check in componentDidUpdate).\n          lastOverflowCount: state.direction === OverflowDirection.NONE ? state.overflow.length : state.lastOverflowCount,\n          overflow: [],\n          visible: _this.props.items\n        };\n      });\n    } else if (this.spacer.getBoundingClientRect().width < 0.9) {\n      // spacer has flex-shrink and width 1px so if it's much smaller then we know to shrink\n      this.setState(function (state) {\n        if (state.visible.length <= _this.props.minVisibleItems) {\n          return null;\n        }\n\n        var collapseFromStart = _this.props.collapseFrom === Boundary.START;\n        var visible = state.visible.slice();\n        var next = collapseFromStart ? visible.shift() : visible.pop();\n\n        if (next === undefined) {\n          return null;\n        }\n\n        var overflow = collapseFromStart ? state.overflow.concat([next]) : [next].concat(state.overflow);\n        return {\n          // set SHRINK mode unless a GROW is already in progress.\n          // GROW shows all items then shrinks until it settles, so we\n          // preserve the fact that the original trigger was a GROW.\n          direction: state.direction === OverflowDirection.NONE ? OverflowDirection.SHRINK : state.direction,\n          overflow: overflow,\n          visible: visible\n        };\n      });\n    } else {\n      // repartition complete!\n      this.setState({\n        direction: OverflowDirection.NONE\n      });\n    }\n  };\n\n  OverflowList.displayName = DISPLAYNAME_PREFIX + \".OverflowList\";\n  OverflowList.defaultProps = {\n    collapseFrom: Boundary.START,\n    minVisibleItems: 0\n  };\n  return OverflowList;\n}(React.Component);\n\nexport { OverflowList };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport * as Classes from \"../../common/classes\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { H6 } from \"../html/html\";\n\nvar MenuDivider =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(MenuDivider, _super);\n\n  function MenuDivider() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MenuDivider.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        title = _a.title;\n\n    if (title == null) {\n      // simple divider\n      return React.createElement(\"li\", {\n        className: classNames(Classes.MENU_DIVIDER, className)\n      });\n    } else {\n      // section header with title\n      return React.createElement(\"li\", {\n        className: classNames(Classes.MENU_HEADER, className)\n      }, React.createElement(H6, null, title));\n    }\n  };\n\n  MenuDivider.displayName = DISPLAYNAME_PREFIX + \".MenuDivider\";\n  return MenuDivider;\n}(React.Component);\n\nexport { MenuDivider };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\n\nvar Text =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Text, _super);\n\n  function Text() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isContentOverflowing: false,\n      textContent: \"\"\n    };\n    _this.textRef = null;\n    return _this;\n  }\n\n  Text.prototype.componentDidMount = function () {\n    this.update();\n  };\n\n  Text.prototype.componentDidUpdate = function () {\n    this.update();\n  };\n\n  Text.prototype.render = function () {\n    var _a;\n\n    var _this = this;\n\n    var classes = classNames((_a = {}, _a[Classes.TEXT_OVERFLOW_ELLIPSIS] = this.props.ellipsize, _a), this.props.className);\n    var _b = this.props,\n        children = _b.children,\n        _c = _b.tagName,\n        tagName = _c === void 0 ? \"div\" : _c;\n    return React.createElement(tagName, {\n      className: classes,\n      ref: function (ref) {\n        return _this.textRef = ref;\n      },\n      title: this.state.isContentOverflowing ? this.state.textContent : undefined\n    }, children);\n  };\n\n  Text.prototype.update = function () {\n    if (this.textRef == null) {\n      return;\n    }\n\n    var newState = {\n      isContentOverflowing: this.props.ellipsize && this.textRef.scrollWidth > this.textRef.clientWidth,\n      textContent: this.textRef.textContent\n    };\n    this.setState(newState);\n  };\n\n  Text.displayName = DISPLAYNAME_PREFIX + \".Text\";\n  Text = tslib_1.__decorate([polyfill], Text);\n  return Text;\n}(AbstractPureComponent2);\n\nexport { Text };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, Position } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Icon } from \"../icon/icon\";\nimport { Popover, PopoverInteractionKind } from \"../popover/popover\";\nimport { Text } from \"../text/text\";\nimport { Menu } from \"./menu\";\n\nvar MenuItem =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(MenuItem, _super);\n\n  function MenuItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MenuItem.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        active = _c.active,\n        className = _c.className,\n        children = _c.children,\n        disabled = _c.disabled,\n        icon = _c.icon,\n        intent = _c.intent,\n        labelClassName = _c.labelClassName,\n        labelElement = _c.labelElement,\n        multiline = _c.multiline,\n        popoverProps = _c.popoverProps,\n        shouldDismissPopover = _c.shouldDismissPopover,\n        text = _c.text,\n        textClassName = _c.textClassName,\n        _d = _c.tagName,\n        tagName = _d === void 0 ? \"a\" : _d,\n        htmlProps = tslib_1.__rest(_c, [\"active\", \"className\", \"children\", \"disabled\", \"icon\", \"intent\", \"labelClassName\", \"labelElement\", \"multiline\", \"popoverProps\", \"shouldDismissPopover\", \"text\", \"textClassName\", \"tagName\"]);\n\n    var hasSubmenu = children != null;\n    var intentClass = Classes.intentClass(intent);\n    var anchorClasses = classNames(Classes.MENU_ITEM, intentClass, (_a = {}, _a[Classes.ACTIVE] = active, _a[Classes.INTENT_PRIMARY] = active && intentClass == null, _a[Classes.DISABLED] = disabled, // prevent popover from closing when clicking on submenu trigger or disabled item\n    _a[Classes.POPOVER_DISMISS] = shouldDismissPopover && !disabled && !hasSubmenu, _a), className);\n    var target = React.createElement(tagName, tslib_1.__assign({}, htmlProps, disabled ? DISABLED_PROPS : {}, {\n      className: anchorClasses\n    }), React.createElement(Icon, {\n      icon: icon\n    }), React.createElement(Text, {\n      className: classNames(Classes.FILL, textClassName),\n      ellipsize: !multiline\n    }, text), this.maybeRenderLabel(labelElement), hasSubmenu ? React.createElement(Icon, {\n      icon: \"caret-right\"\n    }) : undefined);\n    var liClasses = classNames((_b = {}, _b[Classes.MENU_SUBMENU] = hasSubmenu, _b));\n    return React.createElement(\"li\", {\n      className: liClasses\n    }, this.maybeRenderPopover(target, children));\n  };\n\n  MenuItem.prototype.maybeRenderLabel = function (labelElement) {\n    var _a = this.props,\n        label = _a.label,\n        labelClassName = _a.labelClassName;\n\n    if (label == null && labelElement == null) {\n      return null;\n    }\n\n    return React.createElement(\"span\", {\n      className: classNames(Classes.MENU_ITEM_LABEL, labelClassName)\n    }, label, labelElement);\n  };\n\n  MenuItem.prototype.maybeRenderPopover = function (target, children) {\n    if (children == null) {\n      return target;\n    }\n\n    var _a = this.props,\n        disabled = _a.disabled,\n        popoverProps = _a.popoverProps;\n    return React.createElement(Popover, tslib_1.__assign({\n      autoFocus: false,\n      captureDismiss: false,\n      disabled: disabled,\n      enforceFocus: false,\n      hoverCloseDelay: 0,\n      interactionKind: PopoverInteractionKind.HOVER,\n      modifiers: SUBMENU_POPOVER_MODIFIERS,\n      position: Position.RIGHT_TOP,\n      usePortal: false\n    }, popoverProps, {\n      content: React.createElement(Menu, null, children),\n      minimal: true,\n      popoverClassName: classNames(Classes.MENU_SUBMENU, popoverProps.popoverClassName),\n      target: target\n    }));\n  };\n\n  MenuItem.defaultProps = {\n    disabled: false,\n    multiline: false,\n    popoverProps: {},\n    shouldDismissPopover: true,\n    text: \"\"\n  };\n  MenuItem.displayName = DISPLAYNAME_PREFIX + \".MenuItem\";\n  MenuItem = tslib_1.__decorate([polyfill], MenuItem);\n  return MenuItem;\n}(AbstractPureComponent2);\n\nexport { MenuItem };\nvar SUBMENU_POPOVER_MODIFIERS = {\n  // 20px padding - scrollbar width + a bit\n  flip: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  },\n  // shift popover up 5px so MenuItems align\n  offset: {\n    offset: -5\n  },\n  preventOverflow: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  }\n}; // props to ignore when disabled\n\nvar DISABLED_PROPS = {\n  href: undefined,\n  onClick: undefined,\n  onMouseDown: undefined,\n  onMouseEnter: undefined,\n  onMouseLeave: undefined,\n  tabIndex: -1\n};","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { MenuDivider } from \"./menuDivider\";\nimport { MenuItem } from \"./menuItem\";\n\nvar Menu =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Menu, _super);\n\n  function Menu() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Menu.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        className = _b.className,\n        children = _b.children,\n        large = _b.large,\n        ulRef = _b.ulRef,\n        htmlProps = tslib_1.__rest(_b, [\"className\", \"children\", \"large\", \"ulRef\"]);\n\n    var classes = classNames(Classes.MENU, (_a = {}, _a[Classes.LARGE] = large, _a), className);\n    return React.createElement(\"ul\", tslib_1.__assign({}, htmlProps, {\n      className: classes,\n      ref: ulRef\n    }), children);\n  };\n\n  Menu.displayName = DISPLAYNAME_PREFIX + \".Menu\";\n  Menu.Divider = MenuDivider;\n  Menu.Item = MenuItem;\n  Menu = tslib_1.__decorate([polyfill], Menu);\n  return Menu;\n}(AbstractPureComponent2);\n\nexport { Menu };","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Boundary, Classes, Position } from \"../../common\";\nimport { Menu } from \"../menu/menu\";\nimport { MenuItem } from \"../menu/menuItem\";\nimport { OverflowList } from \"../overflow-list/overflowList\";\nimport { Popover } from \"../popover/popover\";\nimport { Breadcrumb } from \"./breadcrumb\";\n\nvar Breadcrumbs =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Breadcrumbs, _super);\n\n  function Breadcrumbs() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.renderOverflow = function (items) {\n      var collapseFrom = _this.props.collapseFrom;\n      var position = collapseFrom === Boundary.END ? Position.BOTTOM_RIGHT : Position.BOTTOM_LEFT;\n      var orderedItems = items;\n\n      if (collapseFrom === Boundary.START) {\n        // If we're collapsing from the start, the menu should be read from the bottom to the\n        // top, continuing with the breadcrumbs to the right. Since this means the first\n        // breadcrumb in the props must be the last in the menu, we need to reverse the overlow\n        // order.\n        orderedItems = items.slice().reverse();\n      }\n\n      return React.createElement(\"li\", null, React.createElement(Popover, tslib_1.__assign({\n        position: position\n      }, _this.props.popoverProps), React.createElement(\"span\", {\n        className: Classes.BREADCRUMBS_COLLAPSED\n      }), React.createElement(Menu, null, orderedItems.map(_this.renderOverflowBreadcrumb))));\n    };\n\n    _this.renderOverflowBreadcrumb = function (props, index) {\n      var isClickable = props.href != null || props.onClick != null;\n      return React.createElement(MenuItem, tslib_1.__assign({\n        disabled: !isClickable\n      }, props, {\n        text: props.text,\n        key: index\n      }));\n    };\n\n    _this.renderBreadcrumbWrapper = function (props, index) {\n      var isCurrent = _this.props.items[_this.props.items.length - 1] === props;\n      return React.createElement(\"li\", {\n        key: index\n      }, _this.renderBreadcrumb(props, isCurrent));\n    };\n\n    return _this;\n  }\n\n  Breadcrumbs.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        collapseFrom = _a.collapseFrom,\n        items = _a.items,\n        minVisibleItems = _a.minVisibleItems,\n        _b = _a.overflowListProps,\n        overflowListProps = _b === void 0 ? {} : _b;\n    return React.createElement(OverflowList, tslib_1.__assign({\n      collapseFrom: collapseFrom,\n      minVisibleItems: minVisibleItems,\n      tagName: \"ul\"\n    }, overflowListProps, {\n      className: classNames(Classes.BREADCRUMBS, overflowListProps.className, className),\n      items: items,\n      overflowRenderer: this.renderOverflow,\n      visibleItemRenderer: this.renderBreadcrumbWrapper\n    }));\n  };\n\n  Breadcrumbs.prototype.renderBreadcrumb = function (props, isCurrent) {\n    if (isCurrent && this.props.currentBreadcrumbRenderer != null) {\n      return this.props.currentBreadcrumbRenderer(props);\n    } else if (this.props.breadcrumbRenderer != null) {\n      return this.props.breadcrumbRenderer(props);\n    } else {\n      return React.createElement(Breadcrumb, tslib_1.__assign({}, props, {\n        current: isCurrent\n      }));\n    }\n  };\n\n  Breadcrumbs.defaultProps = {\n    collapseFrom: Boundary.START\n  };\n  Breadcrumbs = tslib_1.__decorate([polyfill], Breadcrumbs);\n  return Breadcrumbs;\n}(AbstractPureComponent2);\n\nexport { Breadcrumbs };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { SPINNER_WARN_CLASSES_SIZE } from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { clamp } from \"../../common/utils\"; // see http://stackoverflow.com/a/18473154/3124288 for calculating arc path\n\nvar R = 45;\nvar SPINNER_TRACK = \"M 50,50 m 0,-\" + R + \" a \" + R + \",\" + R + \" 0 1 1 0,\" + R * 2 + \" a \" + R + \",\" + R + \" 0 1 1 0,-\" + R * 2; // unitless total length of SVG path, to which stroke-dash* properties are relative.\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/pathLength\n// this value is the result of `<path d={SPINNER_TRACK} />.getTotalLength()` and works in all browsers:\n\nvar PATH_LENGTH = 280;\nvar MIN_SIZE = 10;\nvar STROKE_WIDTH = 4;\nvar MIN_STROKE_WIDTH = 16;\n\nvar Spinner =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Spinner, _super);\n\n  function Spinner() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Spinner_1 = Spinner;\n\n  Spinner.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.value !== this.props.value) {\n      // IE/Edge: re-render after changing value to force SVG update\n      this.forceUpdate();\n    }\n  };\n\n  Spinner.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        className = _b.className,\n        intent = _b.intent,\n        value = _b.value,\n        _c = _b.tagName,\n        tagName = _c === void 0 ? \"div\" : _c;\n    var size = this.getSize();\n    var classes = classNames(Classes.SPINNER, Classes.intentClass(intent), (_a = {}, _a[Classes.SPINNER_NO_SPIN] = value != null, _a), className); // keep spinner track width consistent at all sizes (down to about 10px).\n\n    var strokeWidth = Math.min(MIN_STROKE_WIDTH, STROKE_WIDTH * Spinner_1.SIZE_LARGE / size);\n    var strokeOffset = PATH_LENGTH - PATH_LENGTH * (value == null ? 0.25 : clamp(value, 0, 1)); // multiple DOM elements around SVG are necessary to properly isolate animation:\n    // - SVG elements in IE do not support anim/trans so they must be set on a parent HTML element.\n    // - SPINNER_ANIMATION isolates svg from parent display and is always centered inside root element.\n\n    return React.createElement(tagName, {\n      className: classes\n    }, React.createElement(tagName, {\n      className: Classes.SPINNER_ANIMATION\n    }, React.createElement(\"svg\", {\n      width: size,\n      height: size,\n      strokeWidth: strokeWidth.toFixed(2),\n      viewBox: this.getViewBox(strokeWidth)\n    }, React.createElement(\"path\", {\n      className: Classes.SPINNER_TRACK,\n      d: SPINNER_TRACK\n    }), React.createElement(\"path\", {\n      className: Classes.SPINNER_HEAD,\n      d: SPINNER_TRACK,\n      pathLength: PATH_LENGTH,\n      strokeDasharray: PATH_LENGTH + \" \" + PATH_LENGTH,\n      strokeDashoffset: strokeOffset\n    }))));\n  };\n\n  Spinner.prototype.validateProps = function (_a) {\n    var _b = _a.className,\n        className = _b === void 0 ? \"\" : _b,\n        size = _a.size;\n\n    if (size != null && (className.indexOf(Classes.SMALL) >= 0 || className.indexOf(Classes.LARGE) >= 0)) {\n      console.warn(SPINNER_WARN_CLASSES_SIZE);\n    }\n  };\n  /**\n   * Resolve size to a pixel value.\n   * Size can be set by className, props, default, or minimum constant.\n   */\n\n\n  Spinner.prototype.getSize = function () {\n    var _a = this.props,\n        _b = _a.className,\n        className = _b === void 0 ? \"\" : _b,\n        size = _a.size;\n\n    if (size == null) {\n      // allow Classes constants to determine default size.\n      if (className.indexOf(Classes.SMALL) >= 0) {\n        return Spinner_1.SIZE_SMALL;\n      } else if (className.indexOf(Classes.LARGE) >= 0) {\n        return Spinner_1.SIZE_LARGE;\n      }\n\n      return Spinner_1.SIZE_STANDARD;\n    }\n\n    return Math.max(MIN_SIZE, size);\n  };\n  /** Compute viewbox such that stroked track sits exactly at edge of image frame. */\n\n\n  Spinner.prototype.getViewBox = function (strokeWidth) {\n    var radius = R + strokeWidth / 2;\n    var viewBoxX = (50 - radius).toFixed(2);\n    var viewBoxWidth = (radius * 2).toFixed(2);\n    return viewBoxX + \" \" + viewBoxX + \" \" + viewBoxWidth + \" \" + viewBoxWidth;\n  };\n\n  var Spinner_1;\n  Spinner.displayName = DISPLAYNAME_PREFIX + \".Spinner\";\n  Spinner.SIZE_SMALL = 20;\n  Spinner.SIZE_STANDARD = 50;\n  Spinner.SIZE_LARGE = 100;\n  Spinner = Spinner_1 = tslib_1.__decorate([polyfill], Spinner);\n  return Spinner;\n}(AbstractPureComponent2);\n\nexport { Spinner };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, Classes, Keys, Utils } from \"../../common\";\nimport { Icon } from \"../icon/icon\";\nimport { Spinner } from \"../spinner/spinner\";\n\nvar AbstractButton =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(AbstractButton, _super);\n\n  function AbstractButton() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isActive: false\n    };\n    _this.refHandlers = {\n      button: function (ref) {\n        _this.buttonRef = ref;\n        Utils.safeInvoke(_this.props.elementRef, ref);\n      }\n    };\n    _this.currentKeyDown = null; // we're casting as `any` to get around a somewhat opaque safeInvoke error\n    // that \"Type argument candidate 'KeyboardEvent<T>' is not a valid type\n    // argument because it is not a supertype of candidate\n    // 'KeyboardEvent<HTMLElement>'.\"\n\n    _this.handleKeyDown = function (e) {\n      if (Keys.isKeyboardClick(e.which)) {\n        e.preventDefault();\n\n        if (e.which !== _this.currentKeyDown) {\n          _this.setState({\n            isActive: true\n          });\n        }\n      }\n\n      _this.currentKeyDown = e.which;\n      Utils.safeInvoke(_this.props.onKeyDown, e);\n    };\n\n    _this.handleKeyUp = function (e) {\n      if (Keys.isKeyboardClick(e.which)) {\n        _this.setState({\n          isActive: false\n        });\n\n        _this.buttonRef.click();\n      }\n\n      _this.currentKeyDown = null;\n      Utils.safeInvoke(_this.props.onKeyUp, e);\n    };\n\n    return _this;\n  }\n\n  AbstractButton.prototype.getCommonButtonProps = function () {\n    var _a;\n\n    var _b = this.props,\n        alignText = _b.alignText,\n        fill = _b.fill,\n        large = _b.large,\n        loading = _b.loading,\n        minimal = _b.minimal,\n        small = _b.small,\n        tabIndex = _b.tabIndex;\n    var disabled = this.props.disabled || loading;\n    var className = classNames(Classes.BUTTON, (_a = {}, _a[Classes.ACTIVE] = this.state.isActive || this.props.active, _a[Classes.DISABLED] = disabled, _a[Classes.FILL] = fill, _a[Classes.LARGE] = large, _a[Classes.LOADING] = loading, _a[Classes.MINIMAL] = minimal, _a[Classes.SMALL] = small, _a), Classes.alignmentClass(alignText), Classes.intentClass(this.props.intent), this.props.className);\n    return {\n      className: className,\n      disabled: disabled,\n      onClick: disabled ? undefined : this.props.onClick,\n      onKeyDown: this.handleKeyDown,\n      onKeyUp: this.handleKeyUp,\n      ref: this.refHandlers.button,\n      tabIndex: disabled ? -1 : tabIndex\n    };\n  };\n\n  AbstractButton.prototype.renderChildren = function () {\n    var _a = this.props,\n        children = _a.children,\n        icon = _a.icon,\n        loading = _a.loading,\n        rightIcon = _a.rightIcon,\n        text = _a.text;\n    return [loading && React.createElement(Spinner, {\n      key: \"loading\",\n      className: Classes.BUTTON_SPINNER,\n      size: Icon.SIZE_LARGE\n    }), React.createElement(Icon, {\n      key: \"leftIcon\",\n      icon: icon\n    }), (!Utils.isReactNodeEmpty(text) || !Utils.isReactNodeEmpty(children)) && React.createElement(\"span\", {\n      key: \"text\",\n      className: Classes.BUTTON_TEXT\n    }, text, children), React.createElement(Icon, {\n      key: \"rightIcon\",\n      icon: rightIcon\n    })];\n  };\n\n  return AbstractButton;\n}(AbstractPureComponent2);\n\nexport { AbstractButton };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\"; // HACKHACK: these components should go in separate files\n// tslint:disable max-classes-per-file\n\nimport * as React from \"react\";\nimport { DISPLAYNAME_PREFIX, removeNonHTMLProps } from \"../../common/props\";\nimport { AbstractButton } from \"./abstractButton\";\n\nvar Button =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Button, _super);\n\n  function Button() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Button.prototype.render = function () {\n    return React.createElement(\"button\", tslib_1.__assign({\n      type: \"button\"\n    }, removeNonHTMLProps(this.props), this.getCommonButtonProps()), this.renderChildren());\n  };\n\n  Button.displayName = DISPLAYNAME_PREFIX + \".Button\";\n  return Button;\n}(AbstractButton);\n\nexport { Button };\n\nvar AnchorButton =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(AnchorButton, _super);\n\n  function AnchorButton() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AnchorButton.prototype.render = function () {\n    var _a = this.props,\n        href = _a.href,\n        _b = _a.tabIndex,\n        tabIndex = _b === void 0 ? 0 : _b;\n    var commonProps = this.getCommonButtonProps();\n    return React.createElement(\"a\", tslib_1.__assign({\n      role: \"button\"\n    }, removeNonHTMLProps(this.props), commonProps, {\n      href: commonProps.disabled ? undefined : href,\n      tabIndex: commonProps.disabled ? -1 : tabIndex\n    }), this.renderChildren());\n  };\n\n  AnchorButton.displayName = DISPLAYNAME_PREFIX + \".AnchorButton\";\n  return AnchorButton;\n}(AbstractButton);\n\nexport { AnchorButton };","/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Button } from \"../button/buttons\";\nimport { H4 } from \"../html/html\";\nimport { Icon } from \"../icon/icon\";\nimport { Overlay } from \"../overlay/overlay\";\n\nvar Dialog =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Dialog, _super);\n\n  function Dialog() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Dialog.prototype.render = function () {\n    return React.createElement(Overlay, tslib_1.__assign({}, this.props, {\n      className: Classes.OVERLAY_SCROLL_CONTAINER,\n      hasBackdrop: true\n    }), React.createElement(\"div\", {\n      className: Classes.DIALOG_CONTAINER\n    }, React.createElement(\"div\", {\n      className: classNames(Classes.DIALOG, this.props.className),\n      style: this.props.style\n    }, this.maybeRenderHeader(), this.props.children)));\n  };\n\n  Dialog.prototype.validateProps = function (props) {\n    if (props.title == null) {\n      if (props.icon != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_ICON);\n      }\n\n      if (props.isCloseButtonShown != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_CLOSE_BUTTON);\n      }\n    }\n  };\n\n  Dialog.prototype.maybeRenderCloseButton = function () {\n    // show close button if prop is undefined or null\n    // this gives us a behavior as if the default value were `true`\n    if (this.props.isCloseButtonShown !== false) {\n      return React.createElement(Button, {\n        \"aria-label\": \"Close\",\n        className: Classes.DIALOG_CLOSE_BUTTON,\n        icon: React.createElement(Icon, {\n          icon: \"small-cross\",\n          iconSize: Icon.SIZE_LARGE\n        }),\n        minimal: true,\n        onClick: this.props.onClose\n      });\n    } else {\n      return undefined;\n    }\n  };\n\n  Dialog.prototype.maybeRenderHeader = function () {\n    var _a = this.props,\n        icon = _a.icon,\n        title = _a.title;\n\n    if (title == null) {\n      return undefined;\n    }\n\n    return React.createElement(\"div\", {\n      className: Classes.DIALOG_HEADER\n    }, React.createElement(Icon, {\n      icon: icon,\n      iconSize: Icon.SIZE_LARGE\n    }), React.createElement(H4, null, title), this.maybeRenderCloseButton());\n  };\n\n  Dialog.defaultProps = {\n    canOutsideClickClose: true,\n    isOpen: false\n  };\n  Dialog.displayName = DISPLAYNAME_PREFIX + \".Dialog\";\n  Dialog = tslib_1.__decorate([polyfill], Dialog);\n  return Dialog;\n}(AbstractPureComponent2);\n\nexport { Dialog };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2 } from \"../../common\";\nimport { DIVIDER } from \"../../common/classes\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\"; // this component is simple enough that tests would be purely tautological.\n\n/* istanbul ignore next */\n\nvar Divider =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Divider, _super);\n\n  function Divider() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Divider.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        _b = _a.tagName,\n        tagName = _b === void 0 ? \"div\" : _b,\n        htmlProps = tslib_1.__rest(_a, [\"className\", \"tagName\"]);\n\n    var classes = classNames(DIVIDER, className);\n    return React.createElement(tagName, tslib_1.__assign({}, htmlProps, {\n      className: classes\n    }));\n  };\n\n  Divider.displayName = DISPLAYNAME_PREFIX + \".Divider\";\n  Divider = tslib_1.__decorate([polyfill], Divider);\n  return Divider;\n}(AbstractPureComponent2);\n\nexport { Divider };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\"; // this component is simple enough that tests would be purely tautological.\n\n/* istanbul ignore next */\n\nvar ButtonGroup =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ButtonGroup, _super);\n\n  function ButtonGroup() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ButtonGroup.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        alignText = _b.alignText,\n        className = _b.className,\n        fill = _b.fill,\n        minimal = _b.minimal,\n        large = _b.large,\n        vertical = _b.vertical,\n        htmlProps = tslib_1.__rest(_b, [\"alignText\", \"className\", \"fill\", \"minimal\", \"large\", \"vertical\"]);\n\n    var buttonGroupClasses = classNames(Classes.BUTTON_GROUP, (_a = {}, _a[Classes.FILL] = fill, _a[Classes.LARGE] = large, _a[Classes.MINIMAL] = minimal, _a[Classes.VERTICAL] = vertical, _a), Classes.alignmentClass(alignText), className);\n    return React.createElement(\"div\", tslib_1.__assign({}, htmlProps, {\n      className: buttonGroupClasses\n    }), this.props.children);\n  };\n\n  ButtonGroup.displayName = DISPLAYNAME_PREFIX + \".ButtonGroup\";\n  ButtonGroup = tslib_1.__decorate([polyfill], ButtonGroup);\n  return ButtonGroup;\n}(AbstractPureComponent2);\n\nexport { ButtonGroup };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\"; // this component is simple enough that tests would be purely tautological.\n\n/* istanbul ignore next */\n\nvar ControlGroup =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ControlGroup, _super);\n\n  function ControlGroup() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ControlGroup.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        children = _b.children,\n        className = _b.className,\n        fill = _b.fill,\n        vertical = _b.vertical,\n        htmlProps = tslib_1.__rest(_b, [\"children\", \"className\", \"fill\", \"vertical\"]);\n\n    var rootClasses = classNames(Classes.CONTROL_GROUP, (_a = {}, _a[Classes.FILL] = fill, _a[Classes.VERTICAL] = vertical, _a), className);\n    return React.createElement(\"div\", tslib_1.__assign({}, htmlProps, {\n      className: rootClasses\n    }), children);\n  };\n\n  ControlGroup.displayName = DISPLAYNAME_PREFIX + \".ControlGroup\";\n  ControlGroup = tslib_1.__decorate([polyfill], ControlGroup);\n  return ControlGroup;\n}(AbstractPureComponent2);\n\nexport { ControlGroup };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport { DISPLAYNAME_PREFIX, removeNonHTMLProps } from \"../../common/props\";\nimport { Icon } from \"../icon/icon\";\nvar DEFAULT_RIGHT_ELEMENT_WIDTH = 10;\n\nvar InputGroup =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(InputGroup, _super);\n\n  function InputGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      rightElementWidth: DEFAULT_RIGHT_ELEMENT_WIDTH\n    };\n    _this.refHandlers = {\n      rightElement: function (ref) {\n        return _this.rightElement = ref;\n      }\n    };\n    return _this;\n  }\n\n  InputGroup.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        className = _b.className,\n        disabled = _b.disabled,\n        fill = _b.fill,\n        intent = _b.intent,\n        large = _b.large,\n        small = _b.small,\n        leftIcon = _b.leftIcon,\n        round = _b.round;\n    var classes = classNames(Classes.INPUT_GROUP, Classes.intentClass(intent), (_a = {}, _a[Classes.DISABLED] = disabled, _a[Classes.FILL] = fill, _a[Classes.LARGE] = large, _a[Classes.SMALL] = small, _a[Classes.ROUND] = round, _a), className);\n\n    var style = tslib_1.__assign({}, this.props.style, {\n      paddingRight: this.state.rightElementWidth\n    });\n\n    return React.createElement(\"div\", {\n      className: classes\n    }, React.createElement(Icon, {\n      icon: leftIcon\n    }), React.createElement(\"input\", tslib_1.__assign({\n      type: \"text\"\n    }, removeNonHTMLProps(this.props), {\n      className: Classes.INPUT,\n      ref: this.props.inputRef,\n      style: style\n    })), this.maybeRenderRightElement());\n  };\n\n  InputGroup.prototype.componentDidMount = function () {\n    if (this.rightElement != null) {\n      var clientWidth = this.rightElement.clientWidth; // small threshold to prevent infinite loops\n\n      if (Math.abs(clientWidth - this.state.rightElementWidth) > 2) {\n        this.setState({\n          rightElementWidth: clientWidth\n        });\n      }\n    }\n  };\n\n  InputGroup.prototype.maybeRenderRightElement = function () {\n    var rightElement = this.props.rightElement;\n\n    if (rightElement == null) {\n      return undefined;\n    }\n\n    return React.createElement(\"span\", {\n      className: Classes.INPUT_ACTION,\n      ref: this.refHandlers.rightElement\n    }, rightElement);\n  };\n\n  InputGroup.displayName = DISPLAYNAME_PREFIX + \".InputGroup\";\n  InputGroup = tslib_1.__decorate([polyfill], InputGroup);\n  return InputGroup;\n}(AbstractPureComponent2);\n\nexport { InputGroup };","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { clamp } from \"../../common/utils\";\nexport function clampValue(value, min, max) {\n  // defaultProps won't work if the user passes in null, so just default\n  // to +/- infinity here instead, as a catch-all.\n  var adjustedMin = min != null ? min : -Infinity;\n  var adjustedMax = max != null ? max : Infinity;\n  return clamp(value, adjustedMin, adjustedMax);\n}\nexport function getValueOrEmptyValue(value) {\n  if (value === void 0) {\n    value = \"\";\n  }\n\n  return value.toString();\n}\n/** Returns `true` if the string represents a valid numeric value, like \"1e6\". */\n\nexport function isValueNumeric(value) {\n  // checking if a string is numeric in Typescript is a big pain, because\n  // we can't simply toss a string parameter to isFinite. below is the\n  // essential approach that jQuery uses, which involves subtracting a\n  // parsed numeric value from the string representation of the value. we\n  // need to cast the value to the `any` type to allow this operation\n  // between dissimilar types.\n  return value != null && value - parseFloat(value) + 1 >= 0;\n}\nexport function isValidNumericKeyboardEvent(e) {\n  // unit tests may not include e.key. don't bother disabling those events.\n  if (e.key == null) {\n    return true;\n  } // allow modified key strokes that may involve letters and other\n  // non-numeric/invalid characters (Cmd + A, Cmd + C, Cmd + V, Cmd + X).\n\n\n  if (e.ctrlKey || e.altKey || e.metaKey) {\n    return true;\n  } // keys that print a single character when pressed have a `key` name of\n  // length 1. every other key has a longer `key` name (e.g. \"Backspace\",\n  // \"ArrowUp\", \"Shift\"). since none of those keys can print a character\n  // to the field--and since they may have important native behaviors\n  // beyond printing a character--we don't want to disable their effects.\n\n\n  var isSingleCharKey = e.key.length === 1;\n\n  if (!isSingleCharKey) {\n    return true;\n  } // now we can simply check that the single character that wants to be printed\n  // is a floating-point number character that we're allowed to print.\n\n\n  return isFloatingPointNumericCharacter(e.key);\n}\n/**\n * A regex that matches a string of length 1 (i.e. a standalone character)\n * if and only if it is a floating-point number character as defined by W3C:\n * https://www.w3.org/TR/2012/WD-html-markup-20120329/datatypes.html#common.data.float\n *\n * Floating-point number characters are the only characters that can be\n * printed within a default input[type=\"number\"]. This component should\n * behave the same way when this.props.allowNumericCharactersOnly = true.\n * See here for the input[type=\"number\"].value spec:\n * https://www.w3.org/TR/2012/WD-html-markup-20120329/input.number.html#input.number.attrs.value\n */\n\nvar FLOATING_POINT_NUMBER_CHARACTER_REGEX = /^[Ee0-9\\+\\-\\.]$/;\nexport function isFloatingPointNumericCharacter(character) {\n  return FLOATING_POINT_NUMBER_CHARACTER_REGEX.test(character);\n}\n/**\n * Round the value to have _up to_ the specified maximum precision.\n *\n * This differs from `toFixed(5)` in that trailing zeroes are not added on\n * more precise values, resulting in shorter strings.\n */\n\nexport function toMaxPrecision(value, maxPrecision) {\n  // round the value to have the specified maximum precision (toFixed is the wrong choice,\n  // because it would show trailing zeros in the decimal part out to the specified precision)\n  // source: http://stackoverflow.com/a/18358056/5199574\n  var scaleFactor = Math.pow(10, maxPrecision);\n  return Math.round(value * scaleFactor) / scaleFactor;\n}","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX, Keys, Position, removeNonHTMLProps, Utils } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { ButtonGroup } from \"../button/buttonGroup\";\nimport { Button } from \"../button/buttons\";\nimport { ControlGroup } from \"./controlGroup\";\nimport { InputGroup } from \"./inputGroup\";\nimport { clampValue, getValueOrEmptyValue, isFloatingPointNumericCharacter, isValidNumericKeyboardEvent, isValueNumeric, toMaxPrecision } from \"./numericInputUtils\";\nvar IncrementDirection;\n\n(function (IncrementDirection) {\n  IncrementDirection[IncrementDirection[\"DOWN\"] = -1] = \"DOWN\";\n  IncrementDirection[IncrementDirection[\"UP\"] = 1] = \"UP\";\n})(IncrementDirection || (IncrementDirection = {}));\n\nvar NON_HTML_PROPS = [\"allowNumericCharactersOnly\", \"buttonPosition\", \"clampValueOnBlur\", \"className\", \"majorStepSize\", \"minorStepSize\", \"onButtonClick\", \"onValueChange\", \"selectAllOnFocus\", \"selectAllOnIncrement\", \"stepSize\"];\n\nvar NumericInput =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(NumericInput, _super);\n\n  function NumericInput() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      shouldSelectAfterUpdate: false,\n      stepMaxPrecision: NumericInput_1.getStepMaxPrecision(_this.props),\n      value: getValueOrEmptyValue(_this.props.value)\n    }; // updating these flags need not trigger re-renders, so don't include them in this.state.\n\n    _this.didPasteEventJustOccur = false;\n    _this.delta = 0;\n    _this.inputElement = null;\n    _this.intervalId = null;\n    _this.incrementButtonHandlers = _this.getButtonEventHandlers(IncrementDirection.UP);\n    _this.decrementButtonHandlers = _this.getButtonEventHandlers(IncrementDirection.DOWN);\n\n    _this.inputRef = function (input) {\n      _this.inputElement = input;\n      Utils.safeInvoke(_this.props.inputRef, input);\n    };\n\n    _this.handleButtonClick = function (e, direction) {\n      var delta = _this.updateDelta(direction, e);\n\n      var nextValue = _this.incrementValue(delta);\n\n      _this.invokeValueCallback(nextValue, _this.props.onButtonClick);\n    };\n\n    _this.stopContinuousChange = function () {\n      _this.delta = 0;\n\n      _this.clearTimeouts();\n\n      clearInterval(_this.intervalId);\n      document.removeEventListener(\"mouseup\", _this.stopContinuousChange);\n    };\n\n    _this.handleContinuousChange = function () {\n      var nextValue = _this.incrementValue(_this.delta);\n\n      _this.invokeValueCallback(nextValue, _this.props.onButtonClick);\n    }; // Callbacks - Input\n    // =================\n\n\n    _this.handleInputFocus = function (e) {\n      // update this state flag to trigger update for input selection (see componentDidUpdate)\n      _this.setState({\n        shouldSelectAfterUpdate: _this.props.selectAllOnFocus\n      });\n\n      Utils.safeInvoke(_this.props.onFocus, e);\n    };\n\n    _this.handleInputBlur = function (e) {\n      // always disable this flag on blur so it's ready for next time.\n      _this.setState({\n        shouldSelectAfterUpdate: false\n      });\n\n      if (_this.props.clampValueOnBlur) {\n        var value = e.target.value;\n\n        var sanitizedValue = _this.getSanitizedValue(value);\n\n        _this.setState({\n          value: sanitizedValue\n        });\n      }\n\n      Utils.safeInvoke(_this.props.onBlur, e);\n    };\n\n    _this.handleInputKeyDown = function (e) {\n      if (_this.props.disabled || _this.props.readOnly) {\n        return;\n      }\n\n      var keyCode = e.keyCode;\n      var direction;\n\n      if (keyCode === Keys.ARROW_UP) {\n        direction = IncrementDirection.UP;\n      } else if (keyCode === Keys.ARROW_DOWN) {\n        direction = IncrementDirection.DOWN;\n      }\n\n      if (direction != null) {\n        // when the input field has focus, some key combinations will modify\n        // the field's selection range. we'll actually want to select all\n        // text in the field after we modify the value on the following\n        // lines. preventing the default selection behavior lets us do that\n        // without interference.\n        e.preventDefault();\n\n        var delta = _this.updateDelta(direction, e);\n\n        _this.incrementValue(delta);\n      }\n\n      Utils.safeInvoke(_this.props.onKeyDown, e);\n    };\n\n    _this.handleInputKeyPress = function (e) {\n      // we prohibit keystrokes in onKeyPress instead of onKeyDown, because\n      // e.key is not trustworthy in onKeyDown in all browsers.\n      if (_this.props.allowNumericCharactersOnly && !isValidNumericKeyboardEvent(e)) {\n        e.preventDefault();\n      }\n\n      Utils.safeInvoke(_this.props.onKeyPress, e);\n    };\n\n    _this.handleInputPaste = function (e) {\n      _this.didPasteEventJustOccur = true;\n      Utils.safeInvoke(_this.props.onPaste, e);\n    };\n\n    _this.handleInputChange = function (e) {\n      var value = e.target.value;\n      var nextValue = value;\n\n      if (_this.props.allowNumericCharactersOnly && _this.didPasteEventJustOccur) {\n        _this.didPasteEventJustOccur = false;\n        var valueChars = value.split(\"\");\n        var sanitizedValueChars = valueChars.filter(isFloatingPointNumericCharacter);\n        var sanitizedValue = sanitizedValueChars.join(\"\");\n        nextValue = sanitizedValue;\n      }\n\n      _this.setState({\n        shouldSelectAfterUpdate: false,\n        value: nextValue\n      });\n    };\n\n    return _this;\n  }\n\n  NumericInput_1 = NumericInput;\n\n  NumericInput.getDerivedStateFromProps = function (props, state) {\n    var nextState = {\n      prevMinProp: props.min,\n      prevMaxProp: props.max,\n      prevValueProp: props.value\n    };\n    var didMinChange = props.min !== state.prevMinProp;\n    var didMaxChange = props.max !== state.prevMaxProp;\n    var didBoundsChange = didMinChange || didMaxChange;\n    var didValuePropChange = props.value !== state.prevValueProp;\n    var value = getValueOrEmptyValue(didValuePropChange ? props.value : state.value);\n    var sanitizedValue = value !== NumericInput_1.VALUE_EMPTY ? NumericInput_1.getSanitizedValue(value,\n    /* delta */\n    0, props.min, props.max) : NumericInput_1.VALUE_EMPTY;\n    var stepMaxPrecision = NumericInput_1.getStepMaxPrecision(props); // if a new min and max were provided that cause the existing value to fall\n    // outside of the new bounds, then clamp the value to the new valid range.\n\n    if (didBoundsChange && sanitizedValue !== state.value) {\n      return tslib_1.__assign({}, nextState, {\n        stepMaxPrecision: stepMaxPrecision,\n        value: sanitizedValue\n      });\n    } else {\n      return tslib_1.__assign({}, nextState, {\n        stepMaxPrecision: stepMaxPrecision,\n        value: value\n      });\n    }\n  }; // Value Helpers\n  // =============\n\n\n  NumericInput.getStepMaxPrecision = function (props) {\n    if (props.minorStepSize != null) {\n      return Utils.countDecimalPlaces(props.minorStepSize);\n    } else {\n      return Utils.countDecimalPlaces(props.stepSize);\n    }\n  };\n\n  NumericInput.getSanitizedValue = function (value, stepMaxPrecision, min, max, delta) {\n    if (delta === void 0) {\n      delta = 0;\n    }\n\n    if (!isValueNumeric(value)) {\n      return NumericInput_1.VALUE_EMPTY;\n    }\n\n    var nextValue = toMaxPrecision(parseFloat(value) + delta, stepMaxPrecision);\n    return clampValue(nextValue, min, max).toString();\n  };\n\n  NumericInput.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        buttonPosition = _b.buttonPosition,\n        className = _b.className,\n        fill = _b.fill,\n        large = _b.large;\n    var containerClasses = classNames(Classes.NUMERIC_INPUT, (_a = {}, _a[Classes.LARGE] = large, _a), className);\n    var buttons = this.renderButtons();\n    return React.createElement(ControlGroup, {\n      className: containerClasses,\n      fill: fill\n    }, buttonPosition === Position.LEFT && buttons, this.renderInput(), buttonPosition === Position.RIGHT && buttons);\n  };\n\n  NumericInput.prototype.componentDidUpdate = function (prevProps, prevState) {\n    _super.prototype.componentDidUpdate.call(this, prevProps, prevState);\n\n    if (this.state.shouldSelectAfterUpdate) {\n      this.inputElement.setSelectionRange(0, this.state.value.length);\n    }\n\n    var didControlledValueChange = this.props.value !== prevProps.value;\n\n    if (!didControlledValueChange && this.state.value !== prevState.value) {\n      this.invokeValueCallback(this.state.value, this.props.onValueChange);\n    }\n  };\n\n  NumericInput.prototype.validateProps = function (nextProps) {\n    var majorStepSize = nextProps.majorStepSize,\n        max = nextProps.max,\n        min = nextProps.min,\n        minorStepSize = nextProps.minorStepSize,\n        stepSize = nextProps.stepSize;\n\n    if (min != null && max != null && min > max) {\n      throw new Error(Errors.NUMERIC_INPUT_MIN_MAX);\n    }\n\n    if (stepSize == null) {\n      throw new Error(Errors.NUMERIC_INPUT_STEP_SIZE_NULL);\n    }\n\n    if (stepSize <= 0) {\n      throw new Error(Errors.NUMERIC_INPUT_STEP_SIZE_NON_POSITIVE);\n    }\n\n    if (minorStepSize && minorStepSize <= 0) {\n      throw new Error(Errors.NUMERIC_INPUT_MINOR_STEP_SIZE_NON_POSITIVE);\n    }\n\n    if (majorStepSize && majorStepSize <= 0) {\n      throw new Error(Errors.NUMERIC_INPUT_MAJOR_STEP_SIZE_NON_POSITIVE);\n    }\n\n    if (minorStepSize && minorStepSize > stepSize) {\n      throw new Error(Errors.NUMERIC_INPUT_MINOR_STEP_SIZE_BOUND);\n    }\n\n    if (majorStepSize && majorStepSize < stepSize) {\n      throw new Error(Errors.NUMERIC_INPUT_MAJOR_STEP_SIZE_BOUND);\n    }\n  }; // Render Helpers\n  // ==============\n\n\n  NumericInput.prototype.renderButtons = function () {\n    var intent = this.props.intent;\n    var disabled = this.props.disabled || this.props.readOnly;\n    return React.createElement(ButtonGroup, {\n      className: Classes.FIXED,\n      key: \"button-group\",\n      vertical: true\n    }, React.createElement(Button, tslib_1.__assign({\n      disabled: disabled,\n      icon: \"chevron-up\",\n      intent: intent\n    }, this.incrementButtonHandlers)), React.createElement(Button, tslib_1.__assign({\n      disabled: disabled,\n      icon: \"chevron-down\",\n      intent: intent\n    }, this.decrementButtonHandlers)));\n  };\n\n  NumericInput.prototype.renderInput = function () {\n    var inputGroupHtmlProps = removeNonHTMLProps(this.props, NON_HTML_PROPS, true);\n    return React.createElement(InputGroup, tslib_1.__assign({\n      autoComplete: \"off\"\n    }, inputGroupHtmlProps, {\n      intent: this.props.intent,\n      inputRef: this.inputRef,\n      large: this.props.large,\n      leftIcon: this.props.leftIcon,\n      onFocus: this.handleInputFocus,\n      onBlur: this.handleInputBlur,\n      onChange: this.handleInputChange,\n      onKeyDown: this.handleInputKeyDown,\n      onKeyPress: this.handleInputKeyPress,\n      onPaste: this.handleInputPaste,\n      rightElement: this.props.rightElement,\n      value: this.state.value\n    }));\n  }; // Callbacks - Buttons\n  // ===================\n\n\n  NumericInput.prototype.getButtonEventHandlers = function (direction) {\n    var _this = this;\n\n    return {\n      // keydown is fired repeatedly when held so it's implicitly continuous\n      onKeyDown: function (evt) {\n        if (Keys.isKeyboardClick(evt.keyCode)) {\n          _this.handleButtonClick(evt, direction);\n        }\n      },\n      onMouseDown: function (evt) {\n        _this.handleButtonClick(evt, direction);\n\n        _this.startContinuousChange();\n      }\n    };\n  };\n\n  NumericInput.prototype.startContinuousChange = function () {\n    var _this = this; // The button's onMouseUp event handler doesn't fire if the user\n    // releases outside of the button, so we need to watch all the way\n    // from the top.\n\n\n    document.addEventListener(\"mouseup\", this.stopContinuousChange); // Initial delay is slightly longer to prevent the user from\n    // accidentally triggering the continuous increment/decrement.\n\n    this.setTimeout(function () {\n      _this.intervalId = window.setInterval(_this.handleContinuousChange, NumericInput_1.CONTINUOUS_CHANGE_INTERVAL);\n    }, NumericInput_1.CONTINUOUS_CHANGE_DELAY);\n  };\n\n  NumericInput.prototype.invokeValueCallback = function (value, callback) {\n    Utils.safeInvoke(callback, +value, value);\n  };\n\n  NumericInput.prototype.incrementValue = function (delta) {\n    // pretend we're incrementing from 0 if currValue is empty\n    var currValue = this.state.value || NumericInput_1.VALUE_ZERO;\n    var nextValue = this.getSanitizedValue(currValue, delta);\n    this.setState({\n      shouldSelectAfterUpdate: this.props.selectAllOnIncrement,\n      value: nextValue\n    });\n    return nextValue;\n  };\n\n  NumericInput.prototype.getIncrementDelta = function (direction, isShiftKeyPressed, isAltKeyPressed) {\n    var _a = this.props,\n        majorStepSize = _a.majorStepSize,\n        minorStepSize = _a.minorStepSize,\n        stepSize = _a.stepSize;\n\n    if (isShiftKeyPressed && majorStepSize != null) {\n      return direction * majorStepSize;\n    } else if (isAltKeyPressed && minorStepSize != null) {\n      return direction * minorStepSize;\n    } else {\n      return direction * stepSize;\n    }\n  };\n\n  NumericInput.prototype.getSanitizedValue = function (value, delta) {\n    if (delta === void 0) {\n      delta = 0;\n    }\n\n    return NumericInput_1.getSanitizedValue(value, this.state.stepMaxPrecision, this.props.min, this.props.max, delta);\n  };\n\n  NumericInput.prototype.updateDelta = function (direction, e) {\n    this.delta = this.getIncrementDelta(direction, e.shiftKey, e.altKey);\n    return this.delta;\n  };\n\n  var NumericInput_1;\n  NumericInput.displayName = DISPLAYNAME_PREFIX + \".NumericInput\";\n  NumericInput.VALUE_EMPTY = \"\";\n  NumericInput.VALUE_ZERO = \"0\";\n  NumericInput.defaultProps = {\n    allowNumericCharactersOnly: true,\n    buttonPosition: Position.RIGHT,\n    clampValueOnBlur: false,\n    large: false,\n    majorStepSize: 10,\n    minorStepSize: 0.1,\n    selectAllOnFocus: false,\n    selectAllOnIncrement: false,\n    stepSize: 1,\n    value: NumericInput_1.VALUE_EMPTY\n  };\n  NumericInput.CONTINUOUS_CHANGE_DELAY = 300;\n  NumericInput.CONTINUOUS_CHANGE_INTERVAL = 100;\n  NumericInput = NumericInput_1 = tslib_1.__decorate([polyfill], NumericInput);\n  return NumericInput;\n}(AbstractPureComponent2);\n\nexport { NumericInput };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, Position } from \"../../common\";\nimport { safeInvoke } from \"../../common/utils\";\nimport { Popover } from \"../popover/popover\";\nvar POPPER_MODIFIERS = {\n  preventOverflow: {\n    boundariesElement: \"viewport\"\n  }\n};\nvar TRANSITION_DURATION = 100;\n/* istanbul ignore next */\n\nvar ContextMenu =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ContextMenu, _super);\n\n  function ContextMenu() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isDarkTheme: false,\n      isOpen: false,\n      menu: null,\n      offset: null\n    };\n\n    _this.cancelContextMenu = function (e) {\n      return e.preventDefault();\n    };\n\n    _this.handleBackdropContextMenu = function (e) {\n      // React function to remove from the event pool, useful when using a event within a callback\n      e.persist();\n      e.preventDefault(); // wait for backdrop to disappear so we can find the \"real\" element at event coordinates.\n      // timeout duration is equivalent to transition duration so we know it's animated out.\n\n      _this.setTimeout(function () {\n        // retrigger context menu event at the element beneath the backdrop.\n        // if it has a `contextmenu` event handler then it'll be invoked.\n        // if it doesn't, no native menu will show (at least on OSX) :(\n        var newTarget = document.elementFromPoint(e.clientX, e.clientY);\n        newTarget.dispatchEvent(new MouseEvent(\"contextmenu\", e));\n      }, TRANSITION_DURATION);\n    };\n\n    _this.handlePopoverInteraction = function (nextOpenState) {\n      if (!nextOpenState) {\n        // delay the actual hiding till the event queue clears\n        // to avoid flicker of opening twice\n        requestAnimationFrame(function () {\n          return _this.hide();\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  ContextMenu.prototype.render = function () {\n    var _a; // prevent right-clicking in a context menu\n\n\n    var content = React.createElement(\"div\", {\n      onContextMenu: this.cancelContextMenu\n    }, this.state.menu);\n    var popoverClassName = classNames((_a = {}, _a[Classes.DARK] = this.state.isDarkTheme, _a)); // HACKHACK: workaround until we have access to Popper#scheduleUpdate().\n    // https://github.com/palantir/blueprint/issues/692\n    // Generate key based on offset so a new Popover instance is created\n    // when offset changes, to force recomputing position.\n\n    var key = this.state.offset == null ? \"\" : this.state.offset.left + \"x\" + this.state.offset.top; // wrap the popover in a positioned div to make sure it is properly\n    // offset on the screen.\n\n    return React.createElement(\"div\", {\n      className: Classes.CONTEXT_MENU_POPOVER_TARGET,\n      style: this.state.offset\n    }, React.createElement(Popover, tslib_1.__assign({}, this.props, {\n      backdropProps: {\n        onContextMenu: this.handleBackdropContextMenu\n      },\n      content: content,\n      enforceFocus: false,\n      key: key,\n      hasBackdrop: true,\n      isOpen: this.state.isOpen,\n      minimal: true,\n      modifiers: POPPER_MODIFIERS,\n      onInteraction: this.handlePopoverInteraction,\n      position: Position.RIGHT_TOP,\n      popoverClassName: popoverClassName,\n      target: React.createElement(\"div\", null),\n      transitionDuration: TRANSITION_DURATION\n    })));\n  };\n\n  ContextMenu.prototype.show = function (menu, offset, onClose, isDarkTheme) {\n    this.setState({\n      isOpen: true,\n      menu: menu,\n      offset: offset,\n      onClose: onClose,\n      isDarkTheme: isDarkTheme\n    });\n  };\n\n  ContextMenu.prototype.hide = function () {\n    safeInvoke(this.state.onClose);\n    this.setState({\n      isOpen: false,\n      onClose: undefined\n    });\n  };\n\n  ContextMenu = tslib_1.__decorate([polyfill], ContextMenu);\n  return ContextMenu;\n}(AbstractPureComponent2);\n\nvar contextMenuElement;\nvar contextMenu;\n/**\n * Show the given menu element at the given offset from the top-left corner of the viewport.\n * The menu will appear below-right of this point and will flip to below-left if there is not enough\n * room onscreen. The optional callback will be invoked when this menu closes.\n */\n\nexport function show(menu, offset, onClose, isDarkTheme) {\n  if (contextMenuElement == null) {\n    contextMenuElement = document.createElement(\"div\");\n    contextMenuElement.classList.add(Classes.CONTEXT_MENU);\n    document.body.appendChild(contextMenuElement);\n    contextMenu = ReactDOM.render(React.createElement(ContextMenu, {\n      onClosed: remove\n    }), contextMenuElement);\n  }\n\n  contextMenu.show(menu, offset, onClose, isDarkTheme);\n}\n/** Hide the open context menu. */\n\nexport function hide() {\n  if (contextMenu != null) {\n    contextMenu.hide();\n  }\n}\n/** Return whether a context menu is currently open. */\n\nexport function isOpen() {\n  return contextMenu != null && contextMenu.state.isOpen;\n}\n\nfunction remove() {\n  if (contextMenuElement != null) {\n    ReactDOM.unmountComponentAtNode(contextMenuElement);\n    contextMenuElement.remove();\n    contextMenuElement = null;\n    contextMenu = null;\n  }\n}","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT, CONTEXTMENU_WARN_DECORATOR_NO_METHOD } from \"../../common/errors\";\nimport { getDisplayName, isFunction, safeInvoke } from \"../../common/utils\";\nimport { isDarkTheme } from \"../../common/utils/isDarkTheme\";\nimport * as ContextMenu from \"./contextMenu\";\nexport function ContextMenuTarget(WrappedComponent) {\n  var _a;\n\n  if (!isFunction(WrappedComponent.prototype.renderContextMenu)) {\n    console.warn(CONTEXTMENU_WARN_DECORATOR_NO_METHOD);\n  }\n\n  return _a =\n  /** @class */\n  function (_super) {\n    tslib_1.__extends(ContextMenuTargetClass, _super);\n\n    function ContextMenuTargetClass() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ContextMenuTargetClass.prototype.render = function () {\n      var _this = this;\n\n      var element = _super.prototype.render.call(this);\n\n      if (element == null) {\n        // always return `element` in case caller is distinguishing between `null` and `undefined`\n        return element;\n      }\n\n      if (!React.isValidElement(element)) {\n        console.warn(CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT);\n        return element;\n      }\n\n      var oldOnContextMenu = element.props.onContextMenu;\n\n      var onContextMenu = function (e) {\n        // support nested menus (inner menu target would have called preventDefault())\n        if (e.defaultPrevented) {\n          return;\n        }\n\n        if (isFunction(_this.renderContextMenu)) {\n          var menu = _this.renderContextMenu(e);\n\n          if (menu != null) {\n            var darkTheme = isDarkTheme(ReactDOM.findDOMNode(_this));\n            e.preventDefault();\n            ContextMenu.show(menu, {\n              left: e.clientX,\n              top: e.clientY\n            }, _this.onContextMenuClose, darkTheme);\n          }\n        }\n\n        safeInvoke(oldOnContextMenu, e);\n      };\n\n      return React.cloneElement(element, {\n        onContextMenu: onContextMenu\n      });\n    };\n\n    return ContextMenuTargetClass;\n  }(WrappedComponent), _a.displayName = \"ContextMenuTarget(\" + getDisplayName(WrappedComponent) + \")\", _a;\n}","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Classes } from \"../\";\nexport function isDarkTheme(element) {\n  return element instanceof Element && element.closest(\".\" + Classes.DARK) != null;\n}","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var KeyCodes = {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"enter\",\n  20: \"capslock\",\n  27: \"esc\",\n  32: \"space\",\n  33: \"pageup\",\n  34: \"pagedown\",\n  35: \"end\",\n  36: \"home\",\n  37: \"left\",\n  38: \"up\",\n  39: \"right\",\n  40: \"down\",\n  45: \"ins\",\n  46: \"del\",\n  // number keys\n  48: \"0\",\n  49: \"1\",\n  50: \"2\",\n  51: \"3\",\n  52: \"4\",\n  53: \"5\",\n  54: \"6\",\n  55: \"7\",\n  56: \"8\",\n  57: \"9\",\n  // alphabet\n  65: \"a\",\n  66: \"b\",\n  67: \"c\",\n  68: \"d\",\n  69: \"e\",\n  70: \"f\",\n  71: \"g\",\n  72: \"h\",\n  73: \"i\",\n  74: \"j\",\n  75: \"k\",\n  76: \"l\",\n  77: \"m\",\n  78: \"n\",\n  79: \"o\",\n  80: \"p\",\n  81: \"q\",\n  82: \"r\",\n  83: \"s\",\n  84: \"t\",\n  85: \"u\",\n  86: \"v\",\n  87: \"w\",\n  88: \"x\",\n  89: \"y\",\n  90: \"z\",\n  // punctuation\n  106: \"*\",\n  107: \"+\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\"\n};\nexport var Modifiers = {\n  16: \"shift\",\n  17: \"ctrl\",\n  18: \"alt\",\n  91: \"meta\",\n  93: \"meta\",\n  224: \"meta\"\n};\nexport var ModifierBitMasks = {\n  alt: 1,\n  ctrl: 2,\n  meta: 4,\n  shift: 8\n};\nexport var Aliases = {\n  cmd: \"meta\",\n  command: \"meta\",\n  escape: \"esc\",\n  minus: \"-\",\n  mod: isMac() ? \"meta\" : \"ctrl\",\n  option: \"alt\",\n  plus: \"+\",\n  return: \"enter\",\n  win: \"meta\"\n}; // alph sorting is unintuitive here\n// tslint:disable object-literal-sort-keys\n\nexport var ShiftKeys = {\n  \"~\": \"`\",\n  \"!\": \"1\",\n  \"@\": \"2\",\n  \"#\": \"3\",\n  $: \"4\",\n  \"%\": \"5\",\n  \"^\": \"6\",\n  \"&\": \"7\",\n  \"*\": \"8\",\n  \"(\": \"9\",\n  \")\": \"0\",\n  _: \"-\",\n  \"+\": \"=\",\n  \"{\": \"[\",\n  \"}\": \"]\",\n  \"|\": \"\\\\\",\n  \":\": \";\",\n  '\"': \"'\",\n  \"<\": \",\",\n  \">\": \".\",\n  \"?\": \"/\"\n}; // tslint:enable object-literal-sort-keys\n// Function keys\n\nfor (var i = 1; i <= 12; ++i) {\n  KeyCodes[111 + i] = \"f\" + i;\n} // Numpad\n\n\nfor (var i = 0; i <= 9; ++i) {\n  KeyCodes[96 + i] = \"num\" + i.toString();\n}\n\nexport function comboMatches(a, b) {\n  return a.modifiers === b.modifiers && a.key === b.key;\n}\n/**\n * Converts a key combo string into a key combo object. Key combos include\n * zero or more modifier keys, such as `shift` or `alt`, and exactly one\n * action key, such as `A`, `enter`, or `left`.\n *\n * For action keys that require a shift, e.g. `@` or `|`, we inlude the\n * necessary `shift` modifier and automatically convert the action key to the\n * unshifted version. For example, `@` is equivalent to `shift+2`.\n */\n\nexport var parseKeyCombo = function (combo) {\n  var pieces = combo.replace(/\\s/g, \"\").toLowerCase().split(\"+\");\n  var modifiers = 0;\n  var key = null;\n\n  for (var _i = 0, pieces_1 = pieces; _i < pieces_1.length; _i++) {\n    var piece = pieces_1[_i];\n\n    if (piece === \"\") {\n      throw new Error(\"Failed to parse key combo \\\"\" + combo + \"\\\".\\n                Valid key combos look like \\\"cmd + plus\\\", \\\"shift+p\\\", or \\\"!\\\"\");\n    }\n\n    if (Aliases[piece] != null) {\n      piece = Aliases[piece];\n    }\n\n    if (ModifierBitMasks[piece] != null) {\n      modifiers += ModifierBitMasks[piece];\n    } else if (ShiftKeys[piece] != null) {\n      // tslint:disable-next-line no-string-literal\n      modifiers += ModifierBitMasks[\"shift\"];\n      key = ShiftKeys[piece];\n    } else {\n      key = piece.toLowerCase();\n    }\n  }\n\n  return {\n    modifiers: modifiers,\n    key: key\n  };\n};\n/**\n * Converts a keyboard event into a valid combo prop string\n */\n\nexport var getKeyComboString = function (e) {\n  var keys = []; // modifiers first\n\n  if (e.ctrlKey) {\n    keys.push(\"ctrl\");\n  }\n\n  if (e.altKey) {\n    keys.push(\"alt\");\n  }\n\n  if (e.shiftKey) {\n    keys.push(\"shift\");\n  }\n\n  if (e.metaKey) {\n    keys.push(\"meta\");\n  }\n\n  var which = e.which;\n\n  if (Modifiers[which] != null) {// no action key\n  } else if (KeyCodes[which] != null) {\n    keys.push(KeyCodes[which]);\n  } else {\n    keys.push(String.fromCharCode(which).toLowerCase());\n  } // join keys with plusses\n\n\n  return keys.join(\" + \");\n};\n/**\n * Determines the key combo object from the given keyboard event. Again, a key\n * combo includes zero or more modifiers (represented by a bitmask) and one\n * action key, which we determine from the `e.which` property of the keyboard\n * event.\n */\n\nexport var getKeyCombo = function (e) {\n  var key = null;\n  var which = e.which;\n\n  if (Modifiers[which] != null) {// keep key null\n  } else if (KeyCodes[which] != null) {\n    key = KeyCodes[which];\n  } else {\n    key = String.fromCharCode(which).toLowerCase();\n  }\n\n  var modifiers = 0; // tslint:disable no-string-literal\n\n  if (e.altKey) {\n    modifiers += ModifierBitMasks[\"alt\"];\n  }\n\n  if (e.ctrlKey) {\n    modifiers += ModifierBitMasks[\"ctrl\"];\n  }\n\n  if (e.metaKey) {\n    modifiers += ModifierBitMasks[\"meta\"];\n  }\n\n  if (e.shiftKey) {\n    modifiers += ModifierBitMasks[\"shift\"];\n  } // tslint:enable\n\n\n  return {\n    modifiers: modifiers,\n    key: key\n  };\n};\n/**\n * Splits a key combo string into its constituent key values and looks up\n * aliases, such as `return` -> `enter`.\n *\n * Unlike the parseKeyCombo method, this method does NOT convert shifted\n * action keys. So `\"@\"` will NOT be converted to `[\"shift\", \"2\"]`).\n */\n\nexport var normalizeKeyCombo = function (combo, platformOverride) {\n  var keys = combo.replace(/\\s/g, \"\").split(\"+\");\n  return keys.map(function (key) {\n    var keyName = Aliases[key] != null ? Aliases[key] : key;\n    return keyName === \"meta\" ? isMac(platformOverride) ? \"cmd\" : \"ctrl\" : keyName;\n  });\n};\n/* tslint:enable:no-string-literal */\n\nfunction isMac(platformOverride) {\n  var platform = platformOverride != null ? platformOverride : typeof navigator !== \"undefined\" ? navigator.platform : undefined;\n  return platform == null ? false : /Mac|iPod|iPhone|iPad/.test(platform);\n}","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { getPositionIgnoreAngles, isPositionHorizontal } from \"../../common/position\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Button } from \"../button/buttons\";\nimport { H4 } from \"../html/html\";\nimport { Icon } from \"../icon/icon\";\nimport { Overlay } from \"../overlay/overlay\";\n\nvar Drawer =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Drawer, _super);\n\n  function Drawer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Drawer.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        size = _c.size,\n        style = _c.style,\n        position = _c.position,\n        vertical = _c.vertical;\n    var realPosition = position ? getPositionIgnoreAngles(position) : null;\n    var classes = classNames(Classes.DRAWER, (_a = {}, _a[Classes.VERTICAL] = !realPosition && vertical, _a[realPosition ? Classes.positionClass(realPosition) : \"\"] = true, _a), this.props.className);\n    var styleProp = size == null ? style : tslib_1.__assign({}, style, (_b = {}, _b[(realPosition ? isPositionHorizontal(realPosition) : vertical) ? \"height\" : \"width\"] = size, _b));\n    return React.createElement(Overlay, tslib_1.__assign({}, this.props, {\n      className: Classes.OVERLAY_CONTAINER\n    }), React.createElement(\"div\", {\n      className: classes,\n      style: styleProp\n    }, this.maybeRenderHeader(), this.props.children));\n  };\n\n  Drawer.prototype.validateProps = function (props) {\n    if (props.title == null) {\n      if (props.icon != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_ICON);\n      }\n\n      if (props.isCloseButtonShown != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_CLOSE_BUTTON);\n      }\n    }\n\n    if (props.position != null) {\n      if (props.vertical) {\n        console.warn(Errors.DRAWER_VERTICAL_IS_IGNORED);\n      }\n\n      if (props.position !== getPositionIgnoreAngles(props.position)) {\n        console.warn(Errors.DRAWER_ANGLE_POSITIONS_ARE_CASTED);\n      }\n    }\n  };\n\n  Drawer.prototype.maybeRenderCloseButton = function () {\n    // `isCloseButtonShown` can't be defaulted through default props because of props validation\n    // so this check actually defaults it to true (fails only if directly set to false)\n    if (this.props.isCloseButtonShown !== false) {\n      return React.createElement(Button, {\n        \"aria-label\": \"Close\",\n        className: Classes.DIALOG_CLOSE_BUTTON,\n        icon: React.createElement(Icon, {\n          icon: \"small-cross\",\n          iconSize: Icon.SIZE_LARGE\n        }),\n        minimal: true,\n        onClick: this.props.onClose\n      });\n    } else {\n      return null;\n    }\n  };\n\n  Drawer.prototype.maybeRenderHeader = function () {\n    var _a = this.props,\n        icon = _a.icon,\n        title = _a.title;\n\n    if (title == null) {\n      return null;\n    }\n\n    return React.createElement(\"div\", {\n      className: Classes.DRAWER_HEADER\n    }, React.createElement(Icon, {\n      icon: icon,\n      iconSize: Icon.SIZE_LARGE\n    }), React.createElement(H4, null, title), this.maybeRenderCloseButton());\n  };\n\n  Drawer.displayName = DISPLAYNAME_PREFIX + \".Drawer\";\n  Drawer.defaultProps = {\n    canOutsideClickClose: true,\n    isOpen: false,\n    position: null,\n    style: {},\n    vertical: false\n  };\n  Drawer.SIZE_SMALL = \"360px\";\n  Drawer.SIZE_STANDARD = \"50%\";\n  Drawer.SIZE_LARGE = \"90%\";\n  Drawer = tslib_1.__decorate([polyfill], Drawer);\n  return Drawer;\n}(AbstractPureComponent2);\n\nexport { Drawer };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX } from \"../../common\";\nimport { Icon } from \"../icon/icon\";\nimport { normalizeKeyCombo } from \"./hotkeyParser\";\nvar KeyIcons = {\n  alt: \"key-option\",\n  cmd: \"key-command\",\n  ctrl: \"key-control\",\n  delete: \"key-delete\",\n  down: \"arrow-down\",\n  enter: \"key-enter\",\n  left: \"arrow-left\",\n  meta: \"key-command\",\n  right: \"arrow-right\",\n  shift: \"key-shift\",\n  up: \"arrow-up\"\n};\n\nvar KeyCombo =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(KeyCombo, _super);\n\n  function KeyCombo() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.renderKey = function (key, index) {\n      var icon = KeyIcons[key];\n      var reactKey = \"key-\" + index;\n      return icon == null ? React.createElement(\"kbd\", {\n        className: Classes.KEY,\n        key: reactKey\n      }, key) : React.createElement(\"kbd\", {\n        className: classNames(Classes.KEY, Classes.MODIFIER_KEY),\n        key: reactKey\n      }, React.createElement(Icon, {\n        icon: icon\n      }), \" \", key);\n    };\n\n    _this.renderMinimalKey = function (key, index) {\n      var icon = KeyIcons[key];\n      return icon == null ? key : React.createElement(Icon, {\n        icon: icon,\n        key: \"key-\" + index\n      });\n    };\n\n    return _this;\n  }\n\n  KeyCombo.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        combo = _a.combo,\n        minimal = _a.minimal;\n    var keys = normalizeKeyCombo(combo).map(function (key) {\n      return key.length === 1 ? key.toUpperCase() : key;\n    }).map(minimal ? this.renderMinimalKey : this.renderKey);\n    return React.createElement(\"span\", {\n      className: classNames(Classes.KEY_COMBO, className)\n    }, keys);\n  };\n\n  KeyCombo.displayName = DISPLAYNAME_PREFIX + \".KeyCombo\";\n  KeyCombo = tslib_1.__decorate([polyfill], KeyCombo);\n  return KeyCombo;\n}(AbstractPureComponent2);\n\nexport { KeyCombo };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX } from \"../../common\";\nimport { KeyCombo } from \"./keyCombo\";\n\nvar Hotkey =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Hotkey, _super);\n\n  function Hotkey() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Hotkey.prototype.render = function () {\n    var _a = this.props,\n        label = _a.label,\n        className = _a.className,\n        spreadableProps = tslib_1.__rest(_a, [\"label\", \"className\"]);\n\n    var rootClasses = classNames(Classes.HOTKEY, className);\n    return React.createElement(\"div\", {\n      className: rootClasses\n    }, React.createElement(\"div\", {\n      className: Classes.HOTKEY_LABEL\n    }, label), React.createElement(KeyCombo, tslib_1.__assign({}, spreadableProps)));\n  };\n\n  Hotkey.prototype.validateProps = function (props) {\n    if (props.global !== true && props.group == null) {\n      throw new Error(\"non-global <Hotkey>s must define a group\");\n    }\n  };\n\n  Hotkey.displayName = DISPLAYNAME_PREFIX + \".Hotkey\";\n  Hotkey.defaultProps = {\n    allowInInput: false,\n    disabled: false,\n    global: false,\n    preventDefault: false,\n    stopPropagation: false\n  };\n  Hotkey = tslib_1.__decorate([polyfill], Hotkey);\n  return Hotkey;\n}(AbstractPureComponent2);\n\nexport { Hotkey };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes, DISPLAYNAME_PREFIX } from \"../../common\";\nimport { HOTKEYS_HOTKEY_CHILDREN } from \"../../common/errors\";\nimport { isElementOfType } from \"../../common/utils\";\nimport { H4 } from \"../html/html\";\nimport { Hotkey } from \"./hotkey\";\nexport { Hotkey } from \"./hotkey\";\nexport { KeyCombo } from \"./keyCombo\";\nexport { HotkeysTarget } from \"./hotkeysTarget\";\nexport { comboMatches, getKeyCombo, getKeyComboString, parseKeyCombo } from \"./hotkeyParser\";\nexport { hideHotkeysDialog, setHotkeysDialogProps } from \"./hotkeysDialog\";\n\nvar Hotkeys =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Hotkeys, _super);\n\n  function Hotkeys() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Hotkeys.prototype.render = function () {\n    var hotkeys = React.Children.map(this.props.children, function (child) {\n      return child.props;\n    }); // sort by group label alphabetically, prioritize globals\n\n    hotkeys.sort(function (a, b) {\n      if (a.global === b.global) {\n        return a.group.localeCompare(b.group);\n      }\n\n      return a.global ? -1 : 1;\n    });\n    var lastGroup = null;\n    var elems = [];\n\n    for (var _i = 0, hotkeys_1 = hotkeys; _i < hotkeys_1.length; _i++) {\n      var hotkey = hotkeys_1[_i];\n      var groupLabel = hotkey.group;\n\n      if (groupLabel !== lastGroup) {\n        elems.push(React.createElement(H4, {\n          key: \"group-\" + elems.length\n        }, groupLabel));\n        lastGroup = groupLabel;\n      }\n\n      elems.push(React.createElement(Hotkey, tslib_1.__assign({\n        key: elems.length\n      }, hotkey)));\n    }\n\n    var rootClasses = classNames(Classes.HOTKEY_COLUMN, this.props.className);\n    return React.createElement(\"div\", {\n      className: rootClasses\n    }, elems);\n  };\n\n  Hotkeys.prototype.validateProps = function (props) {\n    React.Children.forEach(props.children, function (child) {\n      if (!isElementOfType(child, Hotkey)) {\n        throw new Error(HOTKEYS_HOTKEY_CHILDREN);\n      }\n    });\n  };\n\n  Hotkeys.displayName = DISPLAYNAME_PREFIX + \".Hotkeys\";\n  Hotkeys.defaultProps = {\n    tabIndex: 0\n  };\n  Hotkeys = tslib_1.__decorate([polyfill], Hotkeys);\n  return Hotkeys;\n}(AbstractPureComponent2);\n\nexport { Hotkeys };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Classes } from \"../../common\";\nimport { Dialog } from \"../../components\";\nimport { Hotkey } from \"./hotkey\";\nimport { Hotkeys } from \"./hotkeys\";\n/**\n * The delay before showing or hiding the dialog. Should be long enough to\n * allow all registered hotkey listeners to execute first.\n */\n\nvar DELAY_IN_MS = 10;\n\nvar HotkeysDialog =\n/** @class */\nfunction () {\n  function HotkeysDialog() {\n    var _this = this;\n\n    this.componentProps = {\n      globalHotkeysGroup: \"Global hotkeys\"\n    };\n    this.hotkeysQueue = [];\n    this.isDialogShowing = false;\n\n    this.show = function () {\n      _this.isDialogShowing = true;\n\n      _this.render();\n    };\n\n    this.hide = function () {\n      _this.isDialogShowing = false;\n\n      _this.render();\n    };\n  }\n\n  HotkeysDialog.prototype.render = function () {\n    if (this.container == null) {\n      this.container = this.getContainer();\n    }\n\n    ReactDOM.render(this.renderComponent(), this.container);\n  };\n\n  HotkeysDialog.prototype.unmount = function () {\n    if (this.container != null) {\n      ReactDOM.unmountComponentAtNode(this.container);\n      this.container.remove();\n      delete this.container;\n    }\n  };\n  /**\n   * Because hotkeys can be registered globally and locally and because\n   * event ordering cannot be guaranteed, we use this debouncing method to\n   * allow all hotkey listeners to fire and add their hotkeys to the dialog.\n   *\n   * 10msec after the last listener adds their hotkeys, we render the dialog\n   * and clear the queue.\n   */\n\n\n  HotkeysDialog.prototype.enqueueHotkeysForDisplay = function (hotkeys) {\n    this.hotkeysQueue.push(hotkeys); // reset timeout for debounce\n\n    window.clearTimeout(this.showTimeoutToken);\n    this.showTimeoutToken = window.setTimeout(this.show, DELAY_IN_MS);\n  };\n\n  HotkeysDialog.prototype.hideAfterDelay = function () {\n    window.clearTimeout(this.hideTimeoutToken);\n    this.hideTimeoutToken = window.setTimeout(this.hide, DELAY_IN_MS);\n  };\n\n  HotkeysDialog.prototype.isShowing = function () {\n    return this.isDialogShowing;\n  };\n\n  HotkeysDialog.prototype.getContainer = function () {\n    if (this.container == null) {\n      this.container = document.createElement(\"div\");\n      this.container.classList.add(Classes.PORTAL);\n      document.body.appendChild(this.container);\n    }\n\n    return this.container;\n  };\n\n  HotkeysDialog.prototype.renderComponent = function () {\n    return React.createElement(Dialog, tslib_1.__assign({}, this.componentProps, {\n      className: classNames(Classes.HOTKEY_DIALOG, this.componentProps.className),\n      isOpen: this.isDialogShowing,\n      onClose: this.hide\n    }), React.createElement(\"div\", {\n      className: Classes.DIALOG_BODY\n    }, this.renderHotkeys()));\n  };\n\n  HotkeysDialog.prototype.renderHotkeys = function () {\n    var _this = this;\n\n    var hotkeys = this.emptyHotkeyQueue();\n    var elements = hotkeys.map(function (hotkey, index) {\n      var group = hotkey.global === true && hotkey.group == null ? _this.componentProps.globalHotkeysGroup : hotkey.group;\n      return React.createElement(Hotkey, tslib_1.__assign({\n        key: index\n      }, hotkey, {\n        group: group\n      }));\n    });\n    return React.createElement(Hotkeys, null, elements);\n  };\n\n  HotkeysDialog.prototype.emptyHotkeyQueue = function () {\n    // flatten then empty the hotkeys queue\n    var hotkeys = this.hotkeysQueue.reduce(function (arr, queued) {\n      return arr.concat(queued);\n    }, []);\n    this.hotkeysQueue.length = 0;\n    return hotkeys;\n  };\n\n  return HotkeysDialog;\n}(); // singleton instance\n\n\nvar HOTKEYS_DIALOG = new HotkeysDialog();\nexport function isHotkeysDialogShowing() {\n  return HOTKEYS_DIALOG.isShowing();\n}\nexport function setHotkeysDialogProps(props) {\n  for (var key in props) {\n    if (props.hasOwnProperty(key)) {\n      HOTKEYS_DIALOG.componentProps[key] = props[key];\n    }\n  }\n}\nexport function showHotkeysDialog(hotkeys) {\n  HOTKEYS_DIALOG.enqueueHotkeysForDisplay(hotkeys);\n}\nexport function hideHotkeysDialog() {\n  HOTKEYS_DIALOG.hide();\n}\n/**\n * Use this function instead of `hideHotkeysDialog` if you need to ensure that all hotkey listeners\n * have time to execute with the dialog in a consistent open state. This can avoid flickering the\n * dialog between open and closed states as successive listeners fire.\n */\n\nexport function hideHotkeysDialogAfterDelay() {\n  HOTKEYS_DIALOG.hideAfterDelay();\n}","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Children } from \"react\";\nimport { isElementOfType, safeInvoke } from \"../../common/utils\";\nimport { Hotkey } from \"./hotkey\";\nimport { comboMatches, getKeyCombo, parseKeyCombo } from \"./hotkeyParser\";\nimport { hideHotkeysDialogAfterDelay, isHotkeysDialogShowing, showHotkeysDialog } from \"./hotkeysDialog\";\nvar SHOW_DIALOG_KEY = \"?\";\nexport var HotkeyScope;\n\n(function (HotkeyScope) {\n  HotkeyScope[\"LOCAL\"] = \"local\";\n  HotkeyScope[\"GLOBAL\"] = \"global\";\n})(HotkeyScope || (HotkeyScope = {}));\n\nvar HotkeysEvents =\n/** @class */\nfunction () {\n  function HotkeysEvents(scope) {\n    var _this = this;\n\n    this.scope = scope;\n    this.actions = [];\n\n    this.handleKeyDown = function (e) {\n      var combo = getKeyCombo(e);\n\n      var isTextInput = _this.isTextInput(e);\n\n      if (!isTextInput && comboMatches(parseKeyCombo(SHOW_DIALOG_KEY), combo)) {\n        if (isHotkeysDialogShowing()) {\n          hideHotkeysDialogAfterDelay();\n        } else {\n          showHotkeysDialog(_this.actions.map(function (action) {\n            return action.props;\n          }));\n        }\n\n        return;\n      } else if (isHotkeysDialogShowing()) {\n        return;\n      }\n\n      _this.invokeNamedCallbackIfComboRecognized(combo, \"onKeyDown\", e);\n    };\n\n    this.handleKeyUp = function (e) {\n      if (isHotkeysDialogShowing()) {\n        return;\n      }\n\n      _this.invokeNamedCallbackIfComboRecognized(getKeyCombo(e), \"onKeyUp\", e);\n    };\n  }\n\n  HotkeysEvents.prototype.count = function () {\n    return this.actions.length;\n  };\n\n  HotkeysEvents.prototype.clear = function () {\n    this.actions = [];\n  };\n\n  HotkeysEvents.prototype.setHotkeys = function (props) {\n    var _this = this;\n\n    var actions = [];\n    Children.forEach(props.children, function (child) {\n      if (isElementOfType(child, Hotkey) && _this.isScope(child.props)) {\n        actions.push({\n          combo: parseKeyCombo(child.props.combo),\n          props: child.props\n        });\n      }\n    });\n    this.actions = actions;\n  };\n\n  HotkeysEvents.prototype.invokeNamedCallbackIfComboRecognized = function (combo, callbackName, e) {\n    var isTextInput = this.isTextInput(e);\n\n    for (var _i = 0, _a = this.actions; _i < _a.length; _i++) {\n      var action = _a[_i];\n      var shouldIgnore = isTextInput && !action.props.allowInInput || action.props.disabled;\n\n      if (!shouldIgnore && comboMatches(action.combo, combo)) {\n        if (action.props.preventDefault) {\n          e.preventDefault();\n        }\n\n        if (action.props.stopPropagation) {\n          // set a flag just for unit testing. not meant to be referenced in feature work.\n          e.isPropagationStopped = true;\n          e.stopPropagation();\n        }\n\n        safeInvoke(action.props[callbackName], e);\n      }\n    }\n  };\n\n  HotkeysEvents.prototype.isScope = function (props) {\n    return (props.global ? HotkeyScope.GLOBAL : HotkeyScope.LOCAL) === this.scope;\n  };\n\n  HotkeysEvents.prototype.isTextInput = function (e) {\n    var elem = e.target; // we check these cases for unit testing, but this should not happen\n    // during normal operation\n\n    if (elem == null || elem.closest == null) {\n      return false;\n    }\n\n    var editable = elem.closest(\"input, textarea, [contenteditable=true]\");\n\n    if (editable == null) {\n      return false;\n    } // don't let checkboxes, switches, and radio buttons prevent hotkey behavior\n\n\n    if (editable.tagName.toLowerCase() === \"input\") {\n      var inputType = editable.type;\n\n      if (inputType === \"checkbox\" || inputType === \"radio\") {\n        return false;\n      }\n    } // don't let read-only fields prevent hotkey behavior\n\n\n    if (editable.readOnly) {\n      return false;\n    }\n\n    return true;\n  };\n\n  return HotkeysEvents;\n}();\n\nexport { HotkeysEvents };","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport { HOTKEYS_WARN_DECORATOR_NEEDS_REACT_ELEMENT, HOTKEYS_WARN_DECORATOR_NO_METHOD } from \"../../common/errors\";\nimport { getDisplayName, isFunction, safeInvoke } from \"../../common/utils\";\nimport { HotkeyScope, HotkeysEvents } from \"./hotkeysEvents\";\nexport function HotkeysTarget(WrappedComponent) {\n  var _a;\n\n  if (!isFunction(WrappedComponent.prototype.renderHotkeys)) {\n    console.warn(HOTKEYS_WARN_DECORATOR_NO_METHOD);\n  }\n\n  return _a =\n  /** @class */\n  function (_super) {\n    tslib_1.__extends(HotkeysTargetClass, _super);\n\n    function HotkeysTargetClass() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n      /** @internal */\n\n\n      _this.globalHotkeysEvents = new HotkeysEvents(HotkeyScope.GLOBAL);\n      /** @internal */\n\n      _this.localHotkeysEvents = new HotkeysEvents(HotkeyScope.LOCAL);\n      return _this;\n    }\n\n    HotkeysTargetClass.prototype.componentDidMount = function () {\n      if (_super.prototype.componentDidMount != null) {\n        _super.prototype.componentDidMount.call(this);\n      } // attach global key event listeners\n\n\n      document.addEventListener(\"keydown\", this.globalHotkeysEvents.handleKeyDown);\n      document.addEventListener(\"keyup\", this.globalHotkeysEvents.handleKeyUp);\n    };\n\n    HotkeysTargetClass.prototype.componentWillUnmount = function () {\n      if (_super.prototype.componentWillUnmount != null) {\n        _super.prototype.componentWillUnmount.call(this);\n      }\n\n      document.removeEventListener(\"keydown\", this.globalHotkeysEvents.handleKeyDown);\n      document.removeEventListener(\"keyup\", this.globalHotkeysEvents.handleKeyUp);\n      this.globalHotkeysEvents.clear();\n      this.localHotkeysEvents.clear();\n    };\n\n    HotkeysTargetClass.prototype.render = function () {\n      var _this = this;\n\n      var element = _super.prototype.render.call(this);\n\n      if (element == null) {\n        // always return `element` in case caller is distinguishing between `null` and `undefined`\n        return element;\n      }\n\n      if (!React.isValidElement(element)) {\n        console.warn(HOTKEYS_WARN_DECORATOR_NEEDS_REACT_ELEMENT);\n        return element;\n      }\n\n      if (isFunction(this.renderHotkeys)) {\n        var hotkeys = this.renderHotkeys();\n\n        if (this.localHotkeysEvents) {\n          this.localHotkeysEvents.setHotkeys(hotkeys.props);\n        }\n\n        if (this.globalHotkeysEvents) {\n          this.globalHotkeysEvents.setHotkeys(hotkeys.props);\n        }\n\n        if (this.localHotkeysEvents.count() > 0) {\n          var tabIndex = hotkeys.props.tabIndex === undefined ? 0 : hotkeys.props.tabIndex;\n          var _a = element.props,\n              existingKeyDown_1 = _a.onKeyDown,\n              existingKeyUp_1 = _a.onKeyUp;\n\n          var handleKeyDownWrapper = function (e) {\n            _this.localHotkeysEvents.handleKeyDown(e.nativeEvent);\n\n            safeInvoke(existingKeyDown_1, e);\n          };\n\n          var handleKeyUpWrapper = function (e) {\n            _this.localHotkeysEvents.handleKeyUp(e.nativeEvent);\n\n            safeInvoke(existingKeyUp_1, e);\n          };\n\n          return React.cloneElement(element, {\n            onKeyDown: handleKeyDownWrapper,\n            onKeyUp: handleKeyUpWrapper,\n            tabIndex: tabIndex\n          });\n        }\n      }\n\n      return element;\n    };\n\n    return HotkeysTargetClass;\n  }(WrappedComponent), _a.displayName = \"HotkeysTarget(\" + getDisplayName(WrappedComponent) + \")\", _a;\n}","import { BlockType, OpType, FocusMode } from '@blink-mind/core';\nimport { createElement, PureComponent } from 'react';\nimport plainSerializer from 'slate-plain-serializer';\nimport debug from 'debug';\nimport { Editor } from 'slate-react';\nimport styled from 'styled-components';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar log = debug('node:text-editor');\nvar Content = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 6px;\\n  background-color: \", \";\\n  cursor: \", \";\\n  min-width: 50px;\\n\"], [\"\\n  padding: 6px;\\n  background-color: \", \";\\n  cursor: \", \";\\n  min-width: 50px;\\n\"])), function (props) {\n  return props.readOnly ? null : 'white';\n}, function (props) {\n  return props.readOnly ? 'pointer' : 'text';\n});\n\nvar SimpleTextEditor =\n/** @class */\nfunction (_super) {\n  __extends(SimpleTextEditor, _super);\n\n  function SimpleTextEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      content: null\n    };\n\n    _this.onMouseDown = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.onMouseMove = function (e) {// log('onMouseMove');\n      // e.stopPropagation();\n    };\n\n    _this._handleClick = function (event) {\n      var wasOutside = !_this.root.contains(event.target);\n      wasOutside && _this.onClickOutSide(event);\n    };\n\n    _this.rootRef = function (saveRef) {\n      return function (ref) {\n        saveRef(ref);\n        _this.root = ref;\n      };\n    };\n\n    _this.initState();\n\n    return _this;\n  }\n\n  SimpleTextEditor.prototype.onChange = function (_a) {\n    var value = _a.value;\n    log('onChange', value);\n    this.setState({\n      content: value\n    });\n  };\n\n  SimpleTextEditor.prototype.componentDidMount = function () {\n    var readOnly = this.props.readOnly;\n    if (readOnly) return;\n    document.addEventListener('click', this._handleClick);\n  };\n\n  SimpleTextEditor.prototype.componentWillUnmount = function () {\n    var readOnly = this.props.readOnly;\n    if (readOnly) return;\n    document.removeEventListener('click', this._handleClick);\n  };\n\n  SimpleTextEditor.prototype.onClickOutSide = function (e) {};\n\n  SimpleTextEditor.prototype.getCustomizeProps = function () {\n    return null;\n  };\n\n  SimpleTextEditor.prototype.getContent = function () {\n    var block = this.getCustomizeProps().block;\n    var content = block.data;\n    if (content == null) return null;\n\n    if (typeof content === 'string') {\n      content = plainSerializer.deserialize(content);\n    }\n\n    return content;\n  };\n\n  SimpleTextEditor.prototype.initState = function () {\n    var content = this.getContent();\n    this.state = {\n      content: content\n    };\n  };\n\n  SimpleTextEditor.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n\n    var _b = this.getCustomizeProps(),\n        readOnly = _b.readOnly,\n        refKeyPrefix = _b.refKeyPrefix,\n        placeholder = _b.placeholder,\n        style = _b.style;\n\n    log(readOnly);\n    var key = refKeyPrefix + \"-\" + topicKey;\n    var content = readOnly ? this.getContent() : this.state.content;\n\n    var _c = this,\n        onMouseDown = _c.onMouseDown,\n        onMouseMove = _c.onMouseMove;\n\n    var editorProps = {\n      value: content,\n      readOnly: readOnly,\n      onChange: this.onChange.bind(this),\n      placeholder: placeholder,\n      style: style\n    };\n    var contentProps = {\n      key: key,\n      readOnly: readOnly,\n      ref: this.rootRef(saveRef(key)),\n      onMouseDown: onMouseDown,\n      onMouseMove: onMouseMove\n    };\n    return createElement(Content, _assign({}, contentProps), createElement(Editor, _assign({}, editorProps, {\n      autoFocus: true\n    })));\n  };\n\n  return SimpleTextEditor;\n}(PureComponent);\n\nvar templateObject_1;\nvar log$1 = debug('node:topic-content-editor');\n\nvar TopicContentEditor =\n/** @class */\nfunction (_super) {\n  __extends(TopicContentEditor, _super);\n\n  function TopicContentEditor(props) {\n    return _super.call(this, props) || this;\n  }\n\n  TopicContentEditor.prototype.getCustomizeProps = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey,\n        readOnly = _a.readOnly;\n    var block = model.getTopic(topicKey).getBlock(BlockType.CONTENT).block;\n    var refKeyPrefix = 'content-editor';\n    var style = {\n      whiteSpace: 'pre'\n    };\n    return {\n      block: block,\n      readOnly: readOnly,\n      refKeyPrefix: refKeyPrefix,\n      placeholder: 'new',\n      style: style\n    };\n  }; // onChange = ({ value }) => {\n  //   log('onChange');\n  //   const { model, topicKey } = this.props;\n  //   const readOnly = model.editingContentKey !== topicKey;\n  //   if (readOnly) return;\n  //   const { controller } = this.props;\n  //   controller.run('operation', {\n  //     ...this.props,\n  //     opType: OpType.SET_TOPIC_CONTENT,\n  //     content: value\n  //   });\n  // };\n\n\n  TopicContentEditor.prototype.onClickOutSide = function (e) {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var readOnly = model.editingContentKey !== topicKey;\n    if (readOnly) return;\n    var controller = this.props.controller;\n    controller.run('operation', _assign(_assign({}, this.props), {\n      opType: OpType.SET_TOPIC_CONTENT,\n      data: this.state.content\n    }));\n    controller.run('operation', _assign(_assign({}, this.props), {\n      opType: OpType.FOCUS_TOPIC,\n      focusMode: FocusMode.NORMAL\n    }));\n  };\n\n  return TopicContentEditor;\n}(SimpleTextEditor);\n\nvar log$2 = debug('node:topic-desc-editor');\n\nvar TopicDescEditor =\n/** @class */\nfunction (_super) {\n  __extends(TopicDescEditor, _super);\n\n  function TopicDescEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    log$2('constructor');\n    return _this;\n  }\n\n  TopicDescEditor.prototype.initState = function () {\n    _super.prototype.initState.call(this);\n\n    var _a = this.props,\n        controller = _a.controller,\n        topicKey = _a.topicKey;\n    var key = \"topic-desc-data-\" + topicKey;\n    var value = this.state.content;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n  };\n\n  TopicDescEditor.prototype.getCustomizeProps = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var block = model.getTopic(topicKey).getBlock(BlockType.DESC).block;\n    var readOnly = model.editingDescKey !== topicKey;\n    var refKeyPrefix = 'desc-editor';\n    return {\n      block: block,\n      readOnly: readOnly,\n      refKeyPrefix: refKeyPrefix,\n      placeholder: 'write topic notes here'\n    };\n  };\n\n  TopicDescEditor.prototype.onChange = function (_a) {\n    var value = _a.value;\n    log$2('onChange');\n    var _b = this.props,\n        controller = _b.controller,\n        topicKey = _b.topicKey,\n        model = _b.model;\n    var readOnly = model.editingDescKey !== topicKey;\n    if (readOnly) return;\n    var key = \"topic-desc-data-\" + topicKey;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n    this.setState({\n      content: value\n    });\n  };\n\n  return TopicDescEditor;\n}(SimpleTextEditor);\n\nfunction SimpleTextEditorPlugin() {\n  return {\n    getTopicTitle: function getTopicTitle(props) {\n      var model = props.model,\n          controller = props.controller,\n          topicKey = props.topicKey;\n      var topic = model.getTopic(topicKey);\n      var block = topic.getBlock(BlockType.CONTENT).block;\n      var txt = controller.run('serializeBlockData', _assign(_assign({}, props), {\n        block: block\n      }));\n      return txt;\n    },\n    renderTopicContentEditor: function renderTopicContentEditor(props) {\n      return createElement(TopicContentEditor, _assign({}, props));\n    },\n    renderTopicDescEditor: function renderTopicDescEditor(props) {\n      return createElement(TopicDescEditor, _assign({}, props));\n    },\n    isBlockEmpty: function isBlockEmpty(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        return block.data == null || controller.run('serializeBlockData', props) === '';\n      }\n\n      return next();\n    },\n    serializeBlockData: function serializeBlockData(props, next) {\n      var block = props.block;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        return typeof block.data === 'string' ? block.data : plainSerializer.serialize(block.data);\n      }\n\n      return next();\n    },\n    serializeBlock: function serializeBlock(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        var res = {\n          type: block.type,\n          data: controller.run('serializeBlockData', props)\n        };\n        return res;\n      }\n\n      return next();\n    },\n    deserializeBlock: function deserializeBlock(props, next) {\n      return next();\n    }\n  };\n}\n\nexport default SimpleTextEditorPlugin;","import { PureComponent, createElement, Component, Fragment } from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport styled, { css, ThemeProvider } from 'styled-components';\nimport debug from 'debug';\nimport { OpType, FocusMode, getRelationship, TopicRelationship, TopicDirection, DiagramLayoutType, ModelModifier, BlockType, TopicVisualLevel, Controller } from '@blink-mind/core';\nimport '@blink-mind/icons';\nimport { Breadcrumbs, PopoverPosition, Breadcrumb, Tooltip, Dialog, Classes, MenuItem, Divider, Button, Popover, NumericInput, InputGroup, ContextMenuTarget, Menu, PopoverInteractionKind, Drawer, Hotkey, Hotkeys, HotkeysTarget } from '@blueprintjs/core';\nimport '@blueprintjs/core/lib/css/blueprint.css';\nimport memoizeOne from 'memoize-one';\nimport SimpleTextEditorPlugin from '@blink-mind/plugin-simple-text-editor';\nimport { Stack, List } from 'immutable';\nimport { SketchPicker } from 'react-color';\nimport { Select } from '@blueprintjs/select';\nimport cx from 'classnames';\nimport { isEqual } from 'lodash';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nfunction __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar BaseWidget =\n/** @class */\nfunction (_super) {\n  __extends(BaseWidget, _super);\n\n  function BaseWidget(props) {\n    return _super.call(this, props) || this;\n  }\n\n  BaseWidget.prototype.operation = function (opType, arg) {\n    this.props.controller.run('operation', _assign({\n      opType: opType\n    }, arg));\n  };\n\n  BaseWidget.prototype.run = function (name, arg) {\n    this.props.controller.run(name, arg);\n  };\n\n  Object.defineProperty(BaseWidget.prototype, \"topic\", {\n    get: function get() {\n      return this.props.model.getTopic(this.props.topicKey);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return BaseWidget;\n}(PureComponent);\n\nvar log = debug('node:drag-scroll-widget');\nvar DragScrollView = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: scroll;\\n\"], [\"\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: scroll;\\n\"])));\nvar DragScrollContent = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: relative;\\n  width: max-content;\\n\"], [\"\\n  position: relative;\\n  width: max-content;\\n\"])));\n\nvar DragScrollWidget =\n/** @class */\nfunction (_super) {\n  __extends(DragScrollWidget, _super);\n\n  function DragScrollWidget(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.contentResizeCallback = function (entries, observer) {\n      if (_this.oldContentRect) {\n        var widgetStyle = {\n          width: _this.content.clientWidth + _this.viewBox.clientWidth * 2,\n          height: _this.content.clientHeight + _this.viewBox.clientHeight * 2\n        };\n        _this.bigView.style.width = widgetStyle.width + 'px';\n        _this.bigView.style.height = widgetStyle.height + 'px';\n      }\n\n      _this.oldContentRect = entries[0].contentRect;\n    };\n\n    _this.contentResizeObserver = new ResizeObserver(_this.contentResizeCallback);\n\n    _this.contentRef = function (ref) {\n      if (ref) {\n        _this.content = ref;\n\n        _this.contentResizeObserver.observe(_this.content);\n      }\n    };\n\n    _this.viewBoxRef = function (ref) {\n      if (ref) {\n        _this.viewBox = ref;\n\n        _this.setViewBoxScroll(_this.viewBox.clientWidth, _this.viewBox.clientHeight);\n      }\n    };\n\n    _this.bigViewRef = function (ref) {\n      if (ref) {\n        _this.bigView = ref;\n      }\n    };\n\n    _this.setWidgetStyle = function () {\n      if (_this.content && _this.viewBox && _this.bigView) {\n        _this.bigView.style.width = (_this.content.clientWidth + _this.viewBox.clientWidth) * 2 + 'px';\n        _this.bigView.style.height = (_this.content.clientHeight + _this.viewBox.clientHeight) * 2 + 'px';\n        _this.content.style.left = _this.viewBox.clientWidth + 'px';\n        _this.content.style.top = _this.viewBox.clientHeight + 'px';\n      }\n    };\n\n    _this.setViewBoxScroll = function (left, top) {\n      log(\"setViewBoxScroll \" + left + \" \" + top);\n\n      if (_this.viewBox) {\n        _this.viewBox.scrollLeft = left;\n        _this.viewBox.scrollTop = top;\n      }\n    };\n\n    _this.setViewBoxScrollDelta = function (deltaLeft, deltaTop) {\n      log(\"setViewBoxScrollDelta \" + deltaLeft + \" \" + deltaTop);\n\n      if (_this.viewBox) {\n        _this.viewBox.scrollLeft += deltaLeft;\n        _this.viewBox.scrollTop += deltaTop;\n      }\n    };\n\n    _this.onMouseDown = function (e) {\n      // log('Drag Scroll onMouseDown');\n      // log(e.nativeEvent.target);\n      // mouseKey 表示鼠标按下那个键才可以进行拖动，左键或者右键\n      // needKeyPressed 为了支持是否需要按下ctrl键，才可以进行拖动\n      // canDragFunc是一个函数，它是为了支持使用者以传入函数的方式，这个函数的返回值表示当前的内容是否可以被拖拽而移动\n      var _a = _this.props,\n          mouseKey = _a.mouseKey,\n          needKeyPressed = _a.needKeyPressed,\n          canDragFunc = _a.canDragFunc;\n      if (canDragFunc && !canDragFunc()) return;\n\n      if (e.button === 0 && mouseKey === 'left' || e.button === 2 && mouseKey === 'right') {\n        if (needKeyPressed) {\n          if (!e.ctrlKey) return;\n        }\n\n        _this._lastCoordX = _this.viewBox.scrollLeft + e.nativeEvent.clientX;\n        _this._lastCoordY = _this.viewBox.scrollTop + e.nativeEvent.clientY;\n        window.addEventListener('mousemove', _this.onMouseMove);\n        window.addEventListener('mouseup', _this.onMouseUp); // this.viewBox.addEventListener('mousemove', this.onMouseMove);\n        // this.viewBox.addEventListener('mouseup', this.onMouseUp);\n      }\n    };\n\n    _this.onMouseUp = function (e) {\n      window.removeEventListener('mousemove', _this.onMouseMove);\n      window.removeEventListener('mouseup', _this.onMouseUp); // this.viewBox.removeEventListener('mousemove', this.onMouseMove);\n      // this.viewBox.removeEventListener('mouseup', this.onMouseUp);\n    };\n\n    _this.onMouseMove = function (e) {\n      _this.viewBox.scrollLeft = _this._lastCoordX - e.clientX;\n      _this.viewBox.scrollTop = _this._lastCoordY - e.clientY; // log(`onMouseMove ${this.viewBox.scrollLeft} ${this.viewBox.scrollTop}`);\n    };\n\n    _this.handleContextMenu = function (e) {\n      e.preventDefault();\n    };\n\n    _this.state = {\n      widgetStyle: {\n        width: '10000px',\n        height: '10000px'\n      }\n    };\n    return _this;\n  }\n\n  DragScrollWidget.prototype.componentDidMount = function () {\n    this.setWidgetStyle();\n    document.addEventListener('contextmenu', this.handleContextMenu);\n  };\n\n  DragScrollWidget.prototype.componentWillUnmount = function () {\n    document.removeEventListener('contextmenu', this.handleContextMenu);\n  };\n\n  DragScrollWidget.prototype.render = function () {\n    return createElement(DragScrollView, {\n      ref: this.viewBoxRef,\n      onMouseDown: this.onMouseDown\n    }, createElement(\"div\", {\n      style: this.state.widgetStyle,\n      ref: this.bigViewRef\n    }, createElement(DragScrollContent, {\n      ref: this.contentRef,\n      style: this.state.contentStyle\n    }, this.props.children(this.setViewBoxScroll, this.setViewBoxScrollDelta))));\n  };\n\n  DragScrollWidget.defaultProps = {\n    mouseKey: 'left',\n    needKeyPressed: false\n  };\n  return DragScrollWidget;\n}(Component);\n\nvar templateObject_1, templateObject_2;\n\nvar SaveRef =\n/** @class */\nfunction (_super) {\n  __extends(SaveRef, _super);\n\n  function SaveRef() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.getRef = function (name) {\n      return _this[name];\n    };\n\n    _this.saveRef = function (name) {\n      return function (node) {\n        if (node) {\n          _this[name] = node;\n\n          _this.fireListener(name, node);\n        }\n      };\n    };\n\n    _this.observers = new Map();\n\n    _this.fireListener = function (name, ref) {\n      var e_1, _a;\n\n      if (_this.observers.has(name)) {\n        var listeners = _this.observers.get(name);\n\n        try {\n          for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\n            var listener = listeners_1_1.value;\n            listener(name, ref);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    };\n\n    _this.registerRefListener = function (name, listener) {\n      if (!_this.observers.has(name)) {\n        _this.observers.set(name, [listener]);\n      } else {\n        _this.observers.get(name).push(listener);\n      }\n    };\n\n    return _this;\n  }\n\n  SaveRef.prototype.render = function () {\n    return this.props.children(this.saveRef, this.getRef, this.registerRefListener.bind(this));\n  };\n\n  return SaveRef;\n}(Component);\n\nvar Flex = styled.div(templateObject_1$1 || (templateObject_1$1 = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: \", \";\\n\"], [\"\\n  display: flex;\\n  align-items: \", \";\\n\"])), function (props) {\n  return props.alignItems;\n});\nvar Margin = styled.div(templateObject_2$1 || (templateObject_2$1 = __makeTemplateObject([\"\\n  margin: \", \";\\n\"], [\"\\n  margin: \", \";\\n\"])), function (props) {\n  return props.margin;\n});\nvar ShowMenuIcon = styled.a(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  font-size: 20px !important;\\n\"], [\"\\n  font-size: 20px !important;\\n\"])));\nvar IconBg = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  padding: 5px;\\n  cursor: pointer;\\n\"], [\"\\n  padding: 5px;\\n  cursor: pointer;\\n\"])));\nvar CloseIcon = styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  position: absolute;\\n  right: 5px;\\n  top: 5px;\\n  cursor: pointer;\\n  &:hover {\\n    color: #1ea7fd;\\n  }\\n\"], [\"\\n  position: absolute;\\n  right: 5px;\\n  top: 5px;\\n  cursor: pointer;\\n  &:hover {\\n    color: #1ea7fd;\\n  }\\n\"])));\nvar Title = styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  height: 16px;\\n\"], [\"\\n  height: 16px;\\n\"])));\nvar templateObject_1$1, templateObject_2$1, templateObject_3, templateObject_4, templateObject_5, templateObject_6;\nvar IconName = {\n  SHOW_MENU: 'show-menu',\n  CLOSE: 'close',\n  COLOR_PICKER: 'color-picker',\n  NOTES: 'notes'\n};\n\nfunction iconClassName(name) {\n  return \"icon iconfont bm-\" + name;\n}\n\nfunction Icon(iconName) {\n  return createElement(\"span\", {\n    className: iconClassName(iconName)\n  });\n}\n\nfunction contentRefKey(key) {\n  return \"content-\" + key;\n}\n\nfunction topicRefKey(key) {\n  return \"topic-\" + key;\n}\n\nfunction linksRefKey(key) {\n  return \"links-\" + key;\n}\n\nfunction linksSvgRefKey(key) {\n  return \"links-svg-\" + key;\n}\n\nfunction collapseRefKey(key) {\n  return \"collapse-\" + key;\n}\n\nvar DIAGRAM_ROOT_KEY = 'DIAGRAM-ROOT';\n\nvar cancelEvent = function cancelEvent(e) {\n  e.stopPropagation();\n};\n\nfunction getLinkKey(fromKey, toKey) {\n  return \"link-\" + fromKey + \"-\" + toKey;\n}\n\nfunction centerY(rect) {\n  return (rect.top + rect.bottom) / 2;\n}\n\nfunction centerX(rect) {\n  return (rect.left + rect.right) / 2;\n}\n\nfunction centerPointX(p1, p2) {\n  return (p1.x + p2.x) / 2;\n}\n\nfunction centerPointY(p1, p2) {\n  return (p1.y + p2.y) / 2;\n}\n\nvar log$1 = debug('node:topic-drop-effect');\nvar DropEffectSvg = styled.svg(templateObject_1$2 || (templateObject_1$2 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"])));\n\nvar TopicDropEffect =\n/** @class */\nfunction (_super) {\n  __extends(TopicDropEffect, _super);\n\n  function TopicDropEffect() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      content: null\n    };\n    return _this;\n  }\n\n  TopicDropEffect.prototype.layout = function () {\n    var props = this.props;\n    var _a = this.props,\n        getRef = _a.getRef,\n        model = _a.model,\n        controller = _a.controller;\n    var targetProps = controller.run('getDragTargetProps', props);\n    var key = targetProps.key,\n        dropDir = targetProps.dropDir;\n    log$1('layout', dropDir);\n\n    if (key === null) {\n      this.setState({\n        content: null\n      });\n      return;\n    }\n\n    var dropAreaRefKey;\n\n    if (dropDir === 'in') {\n      dropAreaRefKey = contentRefKey(key);\n    } else {\n      dropAreaRefKey = \"dropArea-\" + dropDir + \"-\" + key;\n    }\n\n    var contentRect = getRef(dropAreaRefKey).getBoundingClientRect();\n    var svgRect = getRef('svg-drop-effect').getBoundingClientRect();\n    var padding = 3;\n    var x = contentRect.left - svgRect.left - padding;\n    var y = contentRect.top - svgRect.top - padding;\n    var width = contentRect.width + 2 * padding;\n    var height = contentRect.height + 2 * padding;\n    this.setState({\n      content: createElement(\"g\", null, createElement(\"rect\", {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        fill: \"none\",\n        stroke: model.config.theme.highlightColor,\n        strokeDasharray: \"5,5\",\n        strokeWidth: 2\n      }))\n    });\n  };\n\n  TopicDropEffect.prototype.render = function () {\n    var saveRef = this.props.saveRef;\n    return createElement(DropEffectSvg, {\n      ref: saveRef('svg-drop-effect')\n    }, this.state.content);\n  };\n\n  return TopicDropEffect;\n}(BaseWidget);\n\nvar templateObject_1$2;\nvar log$2 = debug('plugin:drag-and-drop');\nvar DropArea = styled.div(templateObject_1$3 || (templateObject_1$3 = __makeTemplateObject([\"\\n  height: \", \";\\n  width: 100%;\\n  margin: 5px 0px;\\n\"], [\"\\n  height: \", \";\\n  width: 100%;\\n  margin: 5px 0px;\\n\"])), function (props) {\n  return props.height + \"px\";\n});\nvar DropEffects = styled.svg(templateObject_2$2 || (templateObject_2$2 = __makeTemplateObject([\"\"], [\"\"])));\n\nfunction DragAndDrop() {\n  var dragTargetKey = null;\n  var dragTargetDir = null;\n  return {\n    renderTopicDropArea: function renderTopicDropArea(props) {\n      var topicKey = props.topicKey,\n          dropDir = props.dropDir,\n          saveRef = props.saveRef,\n          controller = props.controller,\n          model = props.model;\n\n      var onDragEnter = function onDragEnter(ev) {\n        log$2('onDragEnter', topicKey, dropDir);\n        controller.run('handleTopicDragEnter', _assign(_assign({}, props), {\n          ev: ev,\n          dropDir: dropDir\n        }));\n      };\n\n      var onDragLeave = function onDragLeave(ev) {\n        log$2('onDragLeave', topicKey, dropDir);\n        controller.run('handleTopicDragLeave', _assign(_assign({}, props), {\n          ev: ev,\n          dropDir: dropDir\n        }));\n      };\n\n      var onDragOver = function onDragOver(ev) {\n        ev.preventDefault();\n      };\n\n      var onDrop = function onDrop(ev) {\n        log$2('onDrop', topicKey, dropDir);\n        controller.run('handleTopicDrop', _assign(_assign({}, props), {\n          ev: ev,\n          dropDir: dropDir\n        }));\n      };\n\n      var eventHandlers = {\n        onDragEnter: onDragEnter,\n        onDragLeave: onDragLeave,\n        onDragOver: onDragOver,\n        onDrop: onDrop\n      };\n      return createElement(DropArea, _assign({\n        height: model.config.theme.marginV / 2,\n        ref: saveRef(\"dropArea-\" + dropDir + \"-\" + topicKey)\n      }, eventHandlers));\n    },\n    renderDragAndDropEffect: function renderDragAndDropEffect(props) {\n      log$2('renderDragAndDropEffect');\n      var saveRef = props.saveRef;\n      return createElement(TopicDropEffect, _assign({\n        ref: saveRef('drop-effect')\n      }, props));\n    },\n    // getTopicDropEventHandlers(props) {\n    //   const { dropDir, controller, topicKey } = props;\n    //   const onDragEnter = ev => {\n    //     log('onDragEnter', topicKey, dropDir);\n    //     controller.run('handleTopicDragEnter', { ...props, ev, dropDir });\n    //   };\n    //   const onDragLeave = ev => {\n    //     log('onDragLeave', topicKey, dropDir);\n    //     controller.run('handleTopicDragLeave', { ...props, ev, dropDir });\n    //   };\n    //   const onDragOver = ev => {\n    //     ev.preventDefault();\n    //   };\n    //   const onDrop = ev => {\n    //     log('onDrop', topicKey, dropDir);\n    //     controller.run('handleTopicDrop', { ...props, ev, dropDir });\n    //   };\n    //   const eventHandlers = {\n    //     onDragEnter,\n    //     onDragLeave,\n    //     onDragOver,\n    //     onDrop\n    //   };\n    //   return eventHandlers;\n    // },\n    getDragTargetProps: function getDragTargetProps(props) {\n      return {\n        key: dragTargetKey,\n        dropDir: dragTargetDir\n      };\n    },\n    handleTopicDragStart: function handleTopicDragStart(props) {\n      var controller = props.controller,\n          ev = props.ev;\n      ev.stopPropagation();\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.DRAGGING\n      }));\n    },\n    canDrop: function canDrop(props) {\n      var srcKey = props.srcKey,\n          dstKey = props.dstKey,\n          model = props.model,\n          dropDir = props.dropDir;\n      if (srcKey === model.editorRootTopicKey || srcKey === dstKey || getRelationship(model, srcKey, dstKey) === TopicRelationship.ANCESTOR) return false;\n      if (dstKey === model.editorRootTopicKey && dropDir !== 'in') return false;\n      var srcTopic = model.getTopic(srcKey);\n      if (srcTopic.parentKey === dstKey && dropDir === 'in') return false;\n      return true;\n    },\n    handleTopicDragEnter: function handleTopicDragEnter(props) {\n      var dropDir = props.dropDir,\n          topicKey = props.topicKey,\n          controller = props.controller,\n          model = props.model,\n          ev = props.ev;\n      log$2('handleTopicDragEnter:', topicKey, dropDir);\n      var canDrop = controller.run('canDrop', _assign(_assign({}, props), {\n        srcKey: model.focusKey,\n        dstKey: topicKey\n      }));\n\n      if (canDrop) {\n        dragTargetKey = topicKey;\n        dragTargetDir = dropDir;\n        controller.change(model);\n      }\n    },\n    handleTopicDragLeave: function handleTopicDragLeave(props) {\n      var controller = props.controller,\n          model = props.model,\n          topicKey = props.topicKey,\n          dropDir = props.dropDir,\n          getRef = props.getRef,\n          ev = props.ev;\n      var relatedTarget = ev.nativeEvent.relatedTarget;\n      log$2('handleTopicDragLeave:', topicKey, dropDir);\n      var content = getRef(contentRefKey(topicKey));\n\n      if (content == relatedTarget || content.contains(relatedTarget)) {\n        return;\n      }\n\n      dragTargetKey = null;\n      dragTargetDir = null;\n      controller.change(model);\n    },\n    handleTopicDrop: function handleTopicDrop(props) {\n      log$2('handleTopicDrop');\n      var controller = props.controller,\n          topicKey = props.topicKey,\n          model = props.model;\n      props = _assign(_assign({}, props), {\n        srcKey: model.focusKey,\n        dstKey: topicKey\n      });\n      dragTargetKey = null;\n      dragTargetDir = null;\n\n      if (controller.run('canDrop', props)) {\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.DRAG_AND_DROP\n        }));\n      }\n    }\n  };\n}\n\nvar templateObject_1$3, templateObject_2$2;\nvar log$3 = debug('plugin:event');\n\nfunction EventPlugin() {\n  return {\n    handleTopicClick: function handleTopicClick(props) {\n      log$3('handleTopicClick');\n      var controller = props.controller,\n          model = props.model,\n          topicKey = props.topicKey;\n      if (model.editingDescKey !== null) return;\n      if (model.editingContentKey === topicKey) return;\n      if (model.focusKey === topicKey && model.focusMode === FocusMode.EDITING_CONTENT) return;\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.NORMAL\n      }));\n    },\n    handleTopicDoubleClick: function handleTopicDoubleClick(props) {\n      var controller = props.controller,\n          model = props.model;\n      if (model.editingDescKey !== null) return;\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.EDITING_CONTENT\n      }));\n    },\n    handleTopicContextMenu: function handleTopicContextMenu(props) {\n      var controller = props.controller;\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.SHOW_POPUP\n      }));\n    },\n    handleActiveModalClose: function handleActiveModalClose(props) {\n      var controller = props.controller;\n      var activeModalProps = controller.run('getActiveModalProps', props);\n      if (activeModalProps == null) return null;\n\n      if (activeModalProps.name === 'edit-desc') {\n        return function () {\n          controller.run('operation', _assign(_assign({}, props), {\n            focusMode: FocusMode.NORMAL,\n            opType: OpType.FOCUS_TOPIC\n          }));\n        };\n      }\n    }\n  };\n}\n\nvar HotKeyName = {\n  ADD_CHILD: 'ADD_CHILD',\n  ADD_SIBLING: 'ADD_SIBLING',\n  DELETE_TOPIC: 'DELETE_TOPIC',\n  EDIT_CONTENT: 'EDIT_CONTENT',\n  EDIT_NOTES: 'EDIT_NOTES',\n  SET_EDITOR_ROOT: 'SET_EDITOR_ROOT'\n};\n\nfunction op(opType, props) {\n  var topicKey = props.topicKey,\n      model = props.model,\n      controller = props.controller;\n\n  if (topicKey === undefined) {\n    props = _assign(_assign({}, props), {\n      topicKey: model.focusKey\n    });\n  }\n\n  controller.run('operation', _assign(_assign({}, props), {\n    opType: opType\n  }));\n}\n\nfunction HotKeyPlugin() {\n  return {\n    customizeHotKeys: function customizeHotKeys(props) {\n      var handleKeyDown = function handleKeyDown(opType) {\n        return function (e) {\n          // log('HotKeyPlugin', opType);\n          op(opType, props);\n        };\n      };\n\n      var hotKeyMap = new Map([[HotKeyName.ADD_CHILD, {\n        label: 'add child',\n        combo: 'tab',\n        onKeyDown: handleKeyDown(OpType.ADD_CHILD)\n      }], [HotKeyName.ADD_SIBLING, {\n        label: 'add sibling',\n        combo: 'enter',\n        onKeyDown: handleKeyDown(OpType.ADD_SIBLING)\n      }], [HotKeyName.DELETE_TOPIC, {\n        label: 'delete topic',\n        combo: 'del',\n        onKeyDown: handleKeyDown(OpType.DELETE_TOPIC)\n      }], [HotKeyName.EDIT_CONTENT, {\n        label: 'edit content',\n        combo: 'space',\n        onKeyDown: handleKeyDown(OpType.START_EDITING_CONTENT)\n      }], [HotKeyName.EDIT_NOTES, {\n        label: 'edit notes',\n        combo: 'alt + d',\n        onKeyDown: handleKeyDown(OpType.START_EDITING_DESC)\n      }], [HotKeyName.SET_EDITOR_ROOT, {\n        label: 'set editor root',\n        combo: 'alt + shift + f',\n        onKeyDown: handleKeyDown(OpType.SET_EDITOR_ROOT)\n      }]]);\n      return hotKeyMap;\n    }\n  };\n}\n\nvar log$4 = debug('node:topic-widget');\nvar Node = styled.div(templateObject_1$4 || (templateObject_1$4 = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: center;\\n  flex-direction: \", \";\\n\"], [\"\\n  display: flex;\\n  align-items: center;\\n  flex-direction: \", \";\\n\"])), function (props) {\n  return props.topicDirection === TopicDirection.RIGHT ? 'row' : 'row-reverse';\n}); // TODO\n\nvar NodeChildren = styled.div(templateObject_2$3 || (templateObject_2$3 = __makeTemplateObject([\"\\n  position: relative;\\n  padding: \", \";\\n\"], [\"\\n  position: relative;\\n  padding: \", \";\\n\"])), function (props) {\n  return props.dir === TopicDirection.RIGHT ? \"0 0 0 \" + props.marginH + \"px\" : \"0 \" + props.marginH + \"px 0 0\";\n});\nvar NodeTopic = styled.div(templateObject_3$1 || (templateObject_3$1 = __makeTemplateObject([\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n\\n  flex-direction: \", \";\\n\"], [\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n\\n  flex-direction: \", \";\\n\"])), function (props) {\n  return props.topicDirection === TopicDirection.RIGHT ? 'row' : 'row-reverse';\n});\n\nvar TopicWidget =\n/** @class */\nfunction (_super) {\n  __extends(TopicWidget, _super);\n\n  function TopicWidget() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TopicWidget.prototype.renderSubTopics = function () {\n    var props = this.props;\n    var controller = props.controller,\n        model = props.model,\n        topicKey = props.topicKey,\n        dir = props.dir,\n        saveRef = props.saveRef,\n        getRef = props.getRef;\n    var topics = model.getTopic(topicKey).subKeys.toArray();\n    var res = controller.run('createSubTopics', {\n      props: props,\n      topics: topics\n    });\n    if (!res) return null;\n    var subTopics = res.subTopics;\n    var subLinks = controller.run('renderSubLinks', props);\n    return createElement(NodeChildren, {\n      dir: dir,\n      marginH: model.config.theme.marginH\n    }, subTopics, \" \", subLinks);\n  };\n\n  TopicWidget.prototype.componentDidUpdate = function () {\n    this.layoutLinks();\n  };\n\n  TopicWidget.prototype.componentDidMount = function () {\n    this.layoutLinks();\n  };\n\n  TopicWidget.prototype.layoutLinks = function () {\n    var _a = this.props,\n        getRef = _a.getRef,\n        topicKey = _a.topicKey;\n    var links = getRef(linksRefKey(topicKey));\n    links && links.layout();\n  };\n\n  TopicWidget.prototype.render = function () {\n    log$4('render');\n    var props = this.props;\n    var controller = props.controller,\n        topicKey = props.topicKey,\n        dir = props.dir,\n        saveRef = props.saveRef;\n    var topicStyle = controller.run('getTopicContentStyle', props);\n\n    var propsMore = _assign(_assign({}, props), {\n      topicStyle: topicStyle\n    });\n\n    var topicContent = controller.run('renderTopicContent', propsMore);\n    return createElement(Node, {\n      topicDirection: dir\n    }, createElement(NodeTopic, {\n      topicDirection: dir,\n      ref: saveRef(topicRefKey(topicKey))\n    }, topicContent), this.renderSubTopics());\n  };\n\n  return TopicWidget;\n}(Component);\n\nvar templateObject_1$4, templateObject_2$3, templateObject_3$1;\n\nfunction LayoutPlugin() {\n  return {\n    getPartTopics: function getPartTopics(_a) {\n      var layout = _a.layout,\n          model = _a.model,\n          topicKey = _a.topicKey;\n      var topic = model.getTopic(topicKey);\n      var subTopicCount = topic.subKeys.size;\n      var topics = topic.subKeys.toArray();\n\n      switch (layout) {\n        case DiagramLayoutType.LEFT_TO_RIGHT:\n          return {\n            R: topics\n          };\n\n        case DiagramLayoutType.RIGHT_TO_LEFT:\n          return {\n            L: topics\n          };\n\n        case DiagramLayoutType.LEFT_AND_RIGHT:\n          return {\n            L: topics.slice(Math.ceil(subTopicCount / 2), subTopicCount),\n            R: topics.slice(0, Math.ceil(subTopicCount / 2))\n          };\n\n        case DiagramLayoutType.TOP_TO_BOTTOM:\n          return {\n            B: topics\n          };\n      }\n    },\n    createSubTopics: function createSubTopics(_a) {\n      var props = _a.props,\n          topics = _a.topics;\n      var model = props.model,\n          topicKey = props.topicKey;\n      var topic = model.getTopic(topicKey);\n      if (topics.size === 0 || topic.collapse) return null;\n      var subTopics = [];\n      topics.forEach(function (tKey) {\n        var subTopicProps = _assign(_assign({}, props), {\n          topicKey: tKey\n        });\n\n        subTopics.push(createElement(TopicWidget, _assign({\n          key: tKey\n        }, subTopicProps)));\n      });\n      return {\n        subTopics: subTopics\n      };\n    },\n    layout: function layout(props) {\n      var getRef = props.getRef,\n          topicKey = props.topicKey;\n      var links = getRef(linksRefKey(topicKey));\n      var highlight = getRef('focus-highlight');\n      var dropEffect = getRef('drop-effect');\n      links && links.layout();\n      highlight && highlight.layout();\n      dropEffect && dropEffect.layout();\n    },\n    setLayoutDir: function setLayoutDir(props) {\n      var layoutDir = props.layoutDir,\n          model = props.model,\n          controller = props.controller;\n      controller.change(ModelModifier.setLayoutDir({\n        model: model,\n        layoutDir: layoutDir\n      }));\n    }\n  };\n}\n\nvar log$5 = debug('plugin:operation');\n\nfunction OperationPlugin() {\n  var startEditingContent = function startEditingContent(_a) {\n    var model = _a.model,\n        topicKey = _a.topicKey;\n    return ModelModifier.focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  };\n\n  var startEditingDesc = function startEditingDesc(_a) {\n    var model = _a.model,\n        topicKey = _a.topicKey;\n    var topic = model.getTopic(topicKey);\n    var desc = topic.getBlock(BlockType.DESC);\n\n    if (desc.block == null || desc.block.data == null) {\n      model = ModelModifier.setDesc({\n        model: model,\n        topicKey: topicKey,\n        data: ''\n      });\n    }\n\n    return ModelModifier.focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_DESC\n    });\n  };\n\n  function dragAndDrop(props) {\n    var srcKey = props.srcKey,\n        dstKey = props.dstKey,\n        dropDir = props.dropDir;\n    var model = props.model;\n    var srcTopic = model.getTopic(srcKey);\n    var dstTopic = model.getTopic(dstKey);\n    var srcParentKey = srcTopic.parentKey;\n    var srcParentTopic = model.getTopic(srcParentKey);\n    var srcParentSubKeys = srcParentTopic.subKeys;\n    var srcIndex = srcParentSubKeys.indexOf(srcKey);\n    srcParentSubKeys = srcParentSubKeys.delete(srcIndex);\n\n    if (dropDir === 'in') {\n      var dstSubKeys_1 = dstTopic.subKeys;\n      dstSubKeys_1 = dstSubKeys_1.push(srcKey);\n      model = model.withMutations(function (m) {\n        m.setIn(['topics', srcParentKey, 'subKeys'], srcParentSubKeys).setIn(['topics', srcKey, 'parentKey'], dstKey).setIn(['topics', dstKey, 'subKeys'], dstSubKeys_1).setIn(['topics', dstKey, 'collapse'], false);\n      });\n    } else {\n      var dstParentKey_1 = dstTopic.parentKey;\n      var dstParentItem = model.getTopic(dstParentKey_1);\n      var dstParentSubKeys_1 = dstParentItem.subKeys;\n      var dstIndex = dstParentSubKeys_1.indexOf(dstKey); //src 和 dst 的父亲相同，这种情况要做特殊处理\n\n      if (srcParentKey === dstParentKey_1) {\n        var newDstParentSubKeys_1 = List();\n        dstParentSubKeys_1.forEach(function (key) {\n          if (key !== srcKey) {\n            if (key === dstKey) {\n              if (dropDir === 'prev') {\n                newDstParentSubKeys_1 = newDstParentSubKeys_1.push(srcKey).push(key);\n              } else {\n                newDstParentSubKeys_1 = newDstParentSubKeys_1.push(key).push(srcKey);\n              }\n            } else {\n              newDstParentSubKeys_1 = newDstParentSubKeys_1.push(key);\n            }\n          }\n        });\n        model = model.withMutations(function (m) {\n          m.setIn(['topics', dstParentKey_1, 'subKeys'], newDstParentSubKeys_1);\n        });\n      } else {\n        if (dropDir === 'prev') {\n          dstParentSubKeys_1 = dstParentSubKeys_1.insert(dstIndex, srcKey);\n        } else if (dropDir === 'next') {\n          dstParentSubKeys_1 = dstParentSubKeys_1.insert(dstIndex + 1, srcKey);\n        }\n\n        model = model.withMutations(function (m) {\n          m.setIn(['topics', srcParentKey, 'subKeys'], srcParentSubKeys).setIn(['topics', srcKey, 'parentKey'], dstParentKey_1).setIn(['topics', dstParentKey_1, 'subKeys'], dstParentSubKeys_1).setIn(['topics', dstParentKey_1, 'collapse'], false);\n        });\n      }\n    }\n\n    return model;\n  }\n\n  var OpMap = new Map([[OpType.TOGGLE_COLLAPSE, ModelModifier.toggleCollapse], [OpType.ADD_CHILD, ModelModifier.addChild], [OpType.ADD_SIBLING, ModelModifier.addSibling], [OpType.DELETE_TOPIC, ModelModifier.deleteTopic], [OpType.FOCUS_TOPIC, ModelModifier.focusTopic], [OpType.SET_STYLE, ModelModifier.setStyle], [OpType.SET_TOPIC_CONTENT, ModelModifier.setContent], [OpType.SET_TOPIC_DESC, ModelModifier.setDesc], [OpType.START_EDITING_CONTENT, startEditingContent], [OpType.START_EDITING_DESC, startEditingDesc], [OpType.DRAG_AND_DROP, dragAndDrop], [OpType.SET_EDITOR_ROOT, ModelModifier.setEditorRootTopicKey]]);\n  var undoStack = Stack();\n  var redoStack = Stack();\n  return {\n    getAllowUndo: function getAllowUndo(props) {\n      var model = props.model,\n          opType = props.opType;\n\n      if (opType) {\n        switch (opType) {\n          case OpType.FOCUS_TOPIC:\n          case OpType.START_EDITING_CONTENT:\n          case OpType.START_EDITING_DESC:\n            return false;\n        }\n      }\n\n      switch (model.focusMode) {\n        case 'EDITING_DESC':\n        case 'EDITING_CONTENT':\n          return false;\n      }\n\n      return model.config.allowUndo;\n    },\n    getUndoRedoStack: function getUndoRedoStack() {\n      return {\n        undoStack: undoStack,\n        redoStack: redoStack\n      };\n    },\n    setUndoStack: function setUndoStack(props) {\n      log$5('setUndoStack', props.undoStack);\n      undoStack = props.undoStack;\n    },\n    setRedoStack: function setRedoStack(props) {\n      log$5('setRedoStack', props.redoStack);\n      redoStack = props.redoStack;\n    },\n    canUndo: function canUndo(props) {\n      var controller = props.controller;\n      var undoStack = controller.run('getUndoRedoStack', props).undoStack;\n      var allowUndo = controller.run('getAllowUndo', props);\n      return undoStack.size > 0 && allowUndo;\n    },\n    canRedo: function canRedo(props) {\n      var controller = props.controller;\n      var redoStack = controller.run('getUndoRedoStack', props).redoStack;\n      var allowUndo = controller.run('getAllowUndo', props);\n      return redoStack.size > 0 && allowUndo;\n    },\n    undo: function undo(props) {\n      var controller = props.controller,\n          model = props.model;\n\n      if (!controller.run('getAllowUndo', props)) {\n        return;\n      }\n\n      var _a = controller.run('getUndoRedoStack', props),\n          undoStack = _a.undoStack,\n          redoStack = _a.redoStack;\n\n      var newModel = undoStack.peek();\n      if (!newModel) return;\n      controller.run('setUndoStack', _assign(_assign({}, props), {\n        undoStack: undoStack.shift()\n      }));\n      controller.run('setRedoStack', _assign(_assign({}, props), {\n        redoStack: redoStack.push(model)\n      }));\n      log$5(newModel);\n      controller.change(newModel);\n    },\n    redo: function redo(props) {\n      var controller = props.controller,\n          model = props.model;\n\n      if (!controller.run('getAllowUndo', props)) {\n        return;\n      }\n\n      var _a = controller.run('getUndoRedoStack', props),\n          undoStack = _a.undoStack,\n          redoStack = _a.redoStack;\n\n      var newModel = redoStack.peek();\n      if (!newModel) return;\n      controller.run('setUndoStack', _assign(_assign({}, props), {\n        undoStack: undoStack.push(model)\n      }));\n      controller.run('setRedoStack', _assign(_assign({}, props), {\n        redoStack: redoStack.shift()\n      }));\n      controller.change(newModel);\n    },\n    beforeOperation: function beforeOperation(props) {},\n    operation: function operation(props) {\n      var opType = props.opType,\n          controller = props.controller,\n          model = props.model,\n          opArray = props.opArray;\n      log$5('operation:', opType || opArray);\n      log$5('model:', model);\n      controller.run('beforeOperation', props);\n\n      if (opType != null && opArray != null) {\n        throw new Error('operation: opType and opArray conflict!');\n      }\n\n      if (controller.run('getAllowUndo', props)) {\n        var undoStack_1 = controller.run('getUndoRedoStack', props).undoStack;\n        controller.run('setUndoStack', _assign(_assign({}, props), {\n          undoStack: undoStack_1.push(model)\n        }));\n      }\n\n      var newModel;\n\n      if (opArray != null) {\n        if (!Array.isArray(opArray)) {\n          throw new Error('operation: the type of opArray must be array!');\n        }\n\n        newModel = opArray.reduce(function (acc, cur) {\n          var opType = cur.opType;\n          if (!OpMap.has(opType)) throw new Error(\"opType:\" + opType + \" not exist!\");\n          var opFunc = OpMap.get(opType);\n          var res = opFunc(_assign(_assign({\n            controller: controller\n          }, cur), {\n            model: acc\n          }));\n          return res;\n        }, model);\n      } else {\n        if (!OpMap.has(opType)) throw new Error(\"opType:\" + opType + \" not exist!\");\n        var opFunc = OpMap.get(opType);\n        newModel = opFunc(props);\n      }\n\n      log$5('newModel:', newModel);\n      controller.change(newModel);\n      controller.run('afterOperation', props);\n    },\n    afterOperation: function afterOperation(props) {}\n  };\n}\n\nvar EditorRootBreadcrumbsRoot = styled.div(templateObject_1$5 || (templateObject_1$5 = __makeTemplateObject([\"\\n  position: absolute;\\n  width: 20%;\\n  padding: 0 5px;\\n  background: white;\\n  left: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  z-index: 4;\\n\"], [\"\\n  position: absolute;\\n  width: 20%;\\n  padding: 0 5px;\\n  background: white;\\n  left: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  z-index: 4;\\n\"])));\nvar TooltipContent = styled.div(templateObject_2$4 || (templateObject_2$4 = __makeTemplateObject([\"\\n  max-width: 600px;\\n\"], [\"\\n  max-width: 600px;\\n\"])));\nvar BreadcrumbTitle = styled.span(templateObject_3$2 || (templateObject_3$2 = __makeTemplateObject([\"\"], [\"\"])));\n\nvar EditorRootBreadcrumbs =\n/** @class */\nfunction (_super) {\n  __extends(EditorRootBreadcrumbs, _super);\n\n  function EditorRootBreadcrumbs(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setEditorRootTopicKey = function (topicKey) {\n      return function () {\n        var _a = _this.props,\n            model = _a.model,\n            controller = _a.controller;\n\n        if (model.editorRootTopicKey !== topicKey) {\n          controller.change(ModelModifier.setEditorRootTopicKey({\n            model: model,\n            topicKey: topicKey\n          }));\n        }\n      };\n    };\n\n    _this.breadcrumbRenderer = function (props) {\n      var text = props.text,\n          breadProps = __rest(props, [\"text\"]);\n\n      var needTooltip = text.length > 8;\n      var title = needTooltip ? text.substr(0, 8) + '...' : text; //TODO\n\n      var content = createElement(TooltipContent, null, text);\n      var tooltipProps = {\n        content: content,\n        position: PopoverPosition.BOTTOM_RIGHT\n      };\n      var breadcrumb = createElement(Breadcrumb, _assign({}, breadProps), createElement(BreadcrumbTitle, null, title));\n      return needTooltip ? createElement(Tooltip, _assign({}, tooltipProps), breadcrumb) : breadcrumb; // return (\n      //   <Breadcrumb {...breadProps}>\n      //     <BreadcrumbTitle>{title}</BreadcrumbTitle>\n      //   </Breadcrumb>\n      // );\n    };\n\n    _this.state = {\n      show: false\n    };\n    return _this;\n  }\n\n  EditorRootBreadcrumbs.prototype.render = function () {\n    var props = this.props;\n    var model = props.model,\n        controller = props.controller;\n    var editingRootKey = model.editorRootTopicKey;\n    if (editingRootKey === model.rootTopicKey) return null;\n    var items = [];\n    var topic = model.getTopic(editingRootKey);\n\n    while (topic != null) {\n      var title = controller.run('getTopicTitle', _assign(_assign({}, props), {\n        topicKey: topic.key\n      }));\n      items.unshift({\n        text: title,\n        onClick: this.setEditorRootTopicKey(topic.key)\n      });\n      topic = model.getTopic(topic.parentKey);\n    }\n\n    var breadcrumbProps = {\n      items: items,\n      breadcrumbRenderer: this.breadcrumbRenderer\n    };\n    return createElement(EditorRootBreadcrumbsRoot, null, createElement(Breadcrumbs, _assign({}, breadcrumbProps)));\n  };\n\n  return EditorRootBreadcrumbs;\n}(BaseWidget);\n\nvar templateObject_1$5, templateObject_2$4, templateObject_3$2;\nvar NodeLayer = styled.div(templateObject_1$6 || (templateObject_1$6 = __makeTemplateObject([\"\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  padding: 5px;\\n\"], [\"\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  padding: 5px;\\n\"])));\nvar DIV = styled.div(templateObject_2$5 || (templateObject_2$5 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  background: \", \";\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  background: \", \";\\n\"])), function (props) {\n  return props.theme.background;\n});\n\nvar MindDragScrollWidget =\n/** @class */\nfunction (_super) {\n  __extends(MindDragScrollWidget, _super);\n\n  function MindDragScrollWidget(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.onClick = function (e) {};\n\n    return _this;\n  }\n\n  MindDragScrollWidget.prototype.componentDidMount = function () {\n    var _a = this.props,\n        getRef = _a.getRef,\n        model = _a.model;\n    var rootTopic = getRef(topicRefKey(model.editorRootTopicKey));\n    var nodeLayer = getRef('node-layer');\n    var rootTopicRect = rootTopic.getBoundingClientRect();\n    var nodeLayerRect = nodeLayer.getBoundingClientRect();\n    this.dragScrollWidget.setViewBoxScrollDelta(0, rootTopicRect.top - nodeLayerRect.top - this.dragScrollWidget.viewBox.getBoundingClientRect().height / 2 + rootTopicRect.height);\n  };\n\n  Object.defineProperty(MindDragScrollWidget.prototype, \"dragScrollWidget\", {\n    get: function get() {\n      return this.props.getRef('DragScrollWidget');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MindDragScrollWidget.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        saveRef = _a.saveRef,\n        model = _a.model,\n        controller = _a.controller;\n    var nodeKey = model.editorRootTopicKey;\n    return createElement(DIV // onClick={this.onClick}\n    , null, createElement(DragScrollWidget, _assign({}, this.state, {\n      ref: saveRef('DragScrollWidget')\n    }), function (setViewBoxScroll, setViewBoxScrollDelta) {\n      var rootWidgetProps = _assign(_assign({}, _this.props), {\n        topicKey: nodeKey,\n        setViewBoxScroll: setViewBoxScroll,\n        setViewBoxScrollDelta: setViewBoxScrollDelta\n      });\n\n      return createElement(NodeLayer, {\n        ref: saveRef('node-layer')\n      }, controller.run('renderRootWidget', rootWidgetProps));\n    }));\n  };\n\n  return MindDragScrollWidget;\n}(Component);\n\nvar templateObject_1$6, templateObject_2$5;\n\nvar Modals =\n/** @class */\nfunction (_super) {\n  __extends(Modals, _super);\n\n  function Modals() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.handleClose = function () {\n      var controller = _this.props.controller;\n      var handleActiveModalClose = controller.run('handleActiveModalClose', _this.props);\n      handleActiveModalClose && handleActiveModalClose();\n    };\n\n    return _this;\n  }\n\n  Modals.prototype.render = function () {\n    var controller = this.props.controller;\n    var activeModal = controller.run('renderModal', this.props);\n    var activeModalProps = controller.run('getActiveModalProps', this.props);\n    return createElement(Dialog, {\n      onClose: this.handleClose,\n      isOpen: activeModal !== null,\n      autoFocus: true,\n      enforceFocus: true,\n      usePortal: true,\n      title: activeModalProps && activeModalProps.title,\n      style: activeModalProps && activeModalProps.style\n    }, createElement(\"div\", {\n      className: Classes.DIALOG_BODY,\n      style: {\n        minHeight: 0\n      }\n    }, activeModal));\n  };\n\n  return Modals;\n}(BaseWidget);\n\nvar RootLinksSvg = styled.svg(templateObject_1$7 || (templateObject_1$7 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"])));\nvar log$6 = debug('node:topic-sub-links');\n\nvar RootSubLinks =\n/** @class */\nfunction (_super) {\n  __extends(RootSubLinks, _super);\n\n  function RootSubLinks() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      curves: []\n    };\n    return _this;\n  }\n\n  RootSubLinks.prototype.layout = function () {\n    var props = this.props;\n    var model = props.model,\n        getRef = props.getRef,\n        topicKey = props.topicKey,\n        dir = props.dir,\n        controller = props.controller;\n    var topic = model.getTopic(topicKey);\n    var contentRect = getRef(contentRefKey(topicKey)).getBoundingClientRect();\n    var svgRect = getRef(linksSvgRefKey(topicKey)).getBoundingClientRect();\n    var p1, p2;\n    p1 = {\n      x: centerX(contentRect) - svgRect.left,\n      y: centerY(contentRect) - svgRect.top\n    };\n    var curves = [];\n    topic.subKeys.forEach(function (key) {\n      var style = controller.run('getTopicContentStyle', _assign(_assign({}, props), {\n        topicKey: key\n      }));\n      var linkStyle = controller.run('getLinkStyle', _assign(_assign({}, props), {\n        topicKey: key\n      }));\n      var lineType = linkStyle.lineType;\n      var rect = getRef(contentRefKey(key)).getBoundingClientRect();\n\n      if (rect.left > contentRect.right) {\n        p2 = {\n          x: rect.left,\n          y: centerY(rect)\n        };\n      } else {\n        p2 = {\n          x: rect.right,\n          y: centerY(rect)\n        };\n      }\n\n      p2 = {\n        x: p2.x - svgRect.left,\n        y: p2.y - svgRect.top\n      };\n      var curve;\n\n      if (lineType === 'curve') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" C \" + p1.x + \" \" + centerPointY(p1, p2) + \" \" + centerPointX(p1, p2) + \" \" + p2.y + \" \" + p2.x + \" \" + p2.y;\n      } else if (lineType === 'line') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" L \" + p2.x + \" \" + p2.y;\n      } else if (lineType === 'round') {\n        var vDir = p2.y > p1.y ? 1 : -1;\n        var hDir = p2.x > p1.x ? 1 : -1;\n        var radius = linkStyle.lineRadius;\n\n        if (radius == null) {\n          throw new Error('link line type is round, but lineRadius is not provided!');\n        }\n\n        if (p2.y === p1.y) {\n          curve = \"M \" + p1.x + \" \" + p1.y + \" H \" + p2.x;\n        } else {\n          // 0 表示逆时针 1 表示顺时针\n          curve = \"M \" + p1.x + \" \" + p1.y + \"  V \" + (p2.y - vDir * radius) + \" A \" + radius + \" \" + radius + \" 0 0 \" + (vDir * hDir === 1 ? 0 : 1) + \" \" + (p1.x + radius * hDir) + \" \" + p2.y + \" H \" + p2.x;\n        }\n      }\n\n      curves.push(createElement(\"path\", {\n        key: \"link-\" + key,\n        d: curve,\n        strokeWidth: linkStyle.lineWidth,\n        stroke: linkStyle.lineColor,\n        fill: \"none\"\n      }));\n    });\n    this.setState({\n      curves: curves\n    });\n  };\n\n  RootSubLinks.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n    return createElement(RootLinksSvg, {\n      ref: saveRef(linksSvgRefKey(topicKey))\n    }, createElement(\"g\", null, this.state.curves));\n  };\n\n  return RootSubLinks;\n}(BaseWidget);\n\nvar templateObject_1$7;\nvar log$7 = debug('RootNode');\nvar LayerPart = styled.div(templateObject_1$8 || (templateObject_1$8 = __makeTemplateObject([\"\\n  display: flex;\\n  position: relative;\\n\\n  align-items: \", \";\\n  flex-direction: column;\\n\\n  padding: \", \";\\n\"], [\"\\n  display: flex;\\n  position: relative;\\n\\n  align-items: \", \";\\n  flex-direction: column;\\n\\n  padding: \", \";\\n\"])), function (props) {\n  //@ts-ignore\n  return props.topicDirection === TopicDirection.LEFT ? 'flex-end' : 'flex-start';\n}, function (props) {\n  //@ts-ignore\n  return props.topicDirection === TopicDirection.LEFT ? '15px 60px 15px 0px' : '15px 0px 15px 60px';\n});\nvar Topic = styled.div(templateObject_2$6 || (templateObject_2$6 = __makeTemplateObject([\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  z-index: 3;\\n\"], [\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  z-index: 3;\\n\"])));\n\nvar RootWidget =\n/** @class */\nfunction (_super) {\n  __extends(RootWidget, _super);\n\n  function RootWidget() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RootWidget.prototype.renderPartTopics = function (topics, dir) {\n    var _a = this.props,\n        controller = _a.controller,\n        saveRef = _a.saveRef;\n    var res = controller.run('createSubTopics', {\n      props: _assign(_assign({}, this.props), {\n        dir: dir,\n        isRoot: true\n      }),\n      topics: topics\n    });\n    if (!res) return null;\n    var subTopics = res.subTopics;\n    var cxName = \"bm-layer-\" + (dir === TopicDirection.LEFT ? 'left' : 'right');\n    return (//@ts-ignore\n      createElement(LayerPart, {\n        topicDirection: dir,\n        ref: saveRef(cxName)\n      }, subTopics)\n    );\n  };\n\n  RootWidget.prototype.componentDidMount = function () {\n    this.layout();\n  };\n\n  RootWidget.prototype.componentDidUpdate = function () {\n    this.layout();\n  };\n\n  RootWidget.prototype.layout = function () {\n    var controller = this.props.controller;\n    controller.run('layout', this.props);\n  };\n\n  RootWidget.prototype.render = function () {\n    log$7('render');\n    var props = this.props;\n    var model = props.model,\n        topicKey = props.topicKey,\n        saveRef = props.saveRef,\n        controller = props.controller,\n        dir = props.dir;\n    var topicStyle = controller.run('getTopicContentStyle', props);\n    var config = model.config;\n    var topicContent = controller.run('renderTopicContent', _assign(_assign({}, props), {\n      topicStyle: topicStyle,\n      dir: TopicDirection.MAIN\n    }));\n    var partTopics = controller.run('getPartTopics', {\n      layout: config.layoutDir,\n      model: model,\n      topicKey: topicKey\n    });\n    var rootTopic = createElement(Topic, {\n      ref: saveRef(topicRefKey(topicKey))\n    }, topicContent);\n    var children = controller.run('renderRootWidgetOtherChildren', props);\n\n    switch (config.layoutDir) {\n      case DiagramLayoutType.LEFT_AND_RIGHT:\n        return createElement(Fragment, null, this.renderPartTopics(partTopics.L, 'L'), rootTopic, this.renderPartTopics(partTopics.R, 'R'), children);\n\n      case DiagramLayoutType.LEFT_TO_RIGHT:\n        return createElement(Fragment, null, rootTopic, this.renderPartTopics(partTopics.R, 'R'), children);\n\n      case DiagramLayoutType.RIGHT_TO_LEFT:\n        return createElement(Fragment, null, this.renderPartTopics(partTopics.L, 'L'), rootTopic, children);\n\n      case DiagramLayoutType.TOP_TO_BOTTOM:\n        return createElement(Fragment, null, rootTopic, this.renderPartTopics(partTopics.B, 'B'), children);\n    }\n\n    return null;\n  };\n\n  return RootWidget;\n}(Component);\n\nvar templateObject_1$8, templateObject_2$6;\nvar SettingTitle = styled.div(templateObject_1$9 || (templateObject_1$9 = __makeTemplateObject([\"\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  font-weight: bold;\\n\"], [\"\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  font-weight: bold;\\n\"])));\nvar SettingItem = styled.span(templateObject_2$7 || (templateObject_2$7 = __makeTemplateObject([\"\\n  margin: 0px 10px 0px 0px;\\n\"], [\"\\n  margin: 0px 10px 0px 0px;\\n\"])));\nvar SettingRow = styled(Flex)(templateObject_3$3 || (templateObject_3$3 = __makeTemplateObject([\"\\n  margin: 5px 0;\\n\"], [\"\\n  margin: 5px 0;\\n\"])));\n\nvar SettingGroup = function SettingGroup(props) {\n  return createElement(\"div\", null, props.children, createElement(Divider, {\n    style: {\n      margin: '10px 0'\n    }\n  }));\n};\n\nvar ColorBar = styled.div(templateObject_4$1 || (templateObject_4$1 = __makeTemplateObject([\"\\n  height: 3px;\\n  width: 80%;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n  margin-bottom: 2px;\\n  background: \", \";\\n\"], [\"\\n  height: 3px;\\n  width: 80%;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n  margin-bottom: 2px;\\n  background: \", \";\\n\"])), function (props) {\n  return props.color;\n});\nvar WithBorder = styled.div(templateObject_5$1 || (templateObject_5$1 = __makeTemplateObject([\"\\n  border: 1px solid grey;\\n  cursor: pointer;\\n  font-weight: bold;\\n\"], [\"\\n  border: 1px solid grey;\\n  cursor: pointer;\\n  font-weight: bold;\\n\"])));\n\nvar renderItem = function renderItem(unit) {\n  return function (width, _a) {\n    var handleClick = _a.handleClick,\n        modifiers = _a.modifiers,\n        query = _a.query;\n    return createElement(MenuItem, {\n      text: \"\" + width + unit,\n      key: width,\n      onClick: handleClick\n    });\n  };\n};\n\nvar PxSelect = Select.ofType();\n\nvar borderWidthItems = __spread(Array(7).keys());\n\nvar templateObject_1$9, templateObject_2$7, templateObject_3$3, templateObject_4$1, templateObject_5$1;\n\nvar borderWidthItems$1 = __spread(Array(7).keys());\n\nvar borderRadiusItems = [0, 5, 10, 15, 20, 25, 30, 35];\nvar borderStyleItems = ['none', 'solid', 'dotted', 'dashed', 'double'];\n\nfunction BorderStyleEditor(props) {\n  var topicStyle = props.topicStyle,\n      setStyle = props.setStyle;\n\n  var handleBorderWidthChange = function handleBorderWidthChange(value) {\n    // log('handleBorderWithChange:', value);\n    setStyle({\n      borderWidth: value + \"px\"\n    });\n  };\n\n  var handleBorderStyleChange = function handleBorderStyleChange(value) {\n    setStyle({\n      borderStyle: value\n    });\n  };\n\n  var handleBorderRadiusChange = function handleBorderRadiusChange(value) {\n    // log('handleBorderRadiusChange:', value);\n    setStyle({\n      borderRadius: value + \"px\"\n    });\n  };\n\n  var handleBorderColorChange = function handleBorderColorChange(color) {\n    setStyle({\n      borderColor: color.hex\n    });\n  };\n\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Border\"), createElement(\"div\", null, createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderWidthItems$1,\n    itemRenderer: renderItem('px'),\n    filterable: false,\n    onItemSelect: handleBorderWidthChange\n  }, createElement(Button, {\n    text: \"width: \" + (topicStyle.borderWidth ? topicStyle.borderWidth : '0px')\n  }))), createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderStyleItems,\n    itemRenderer: renderItem(''),\n    filterable: false,\n    onItemSelect: handleBorderStyleChange\n  }, createElement(Button, {\n    text: \"style: \" + (topicStyle.borderStyle ? topicStyle.borderStyle : 'none')\n  }))), createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderRadiusItems,\n    itemRenderer: renderItem('px'),\n    filterable: false,\n    onItemSelect: handleBorderRadiusChange\n  }, createElement(Button, {\n    text: \"radius: \" + topicStyle.borderRadius\n  }))), createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n    className: iconClassName(IconName.COLOR_PICKER)\n  }), createElement(ColorBar, {\n    color: topicStyle.borderColor\n  })), createElement(\"div\", null, createElement(SketchPicker, {\n    color: topicStyle.borderColor,\n    onChangeComplete: handleBorderColorChange\n  }))))));\n}\n\nfunction ClearAllCustomStyle(props) {\n  var controller = props.controller;\n\n  var handleClearAllCustomStyle = function handleClearAllCustomStyle(e) {\n    controller.run('clearAllCustomStyle', props);\n  };\n\n  return createElement(SettingGroup, null, createElement(SettingItem, null, createElement(Button, {\n    onClick: handleClearAllCustomStyle\n  }, \"Clear All Custom Styles\")));\n}\n\nvar lineTypes = ['curve', 'round', 'line'];\n\nvar renderLineTypeItem = function renderLineTypeItem(lineType, _a) {\n  var handleClick = _a.handleClick,\n      modifiers = _a.modifiers,\n      query = _a.query;\n  return createElement(MenuItem, {\n    text: \"\" + lineType,\n    key: lineType,\n    onClick: handleClick\n  });\n};\n\nfunction LinkStyleEditor(props) {\n  var controller = props.controller; // const topicStyle: TopicStyle = controller.run('getTopicStyle', props);\n\n  var linkStyle = controller.run('getLinkStyle', props);\n  var subLinkStyle = controller.run('getSubLinkStyle', props);\n\n  var handleLinkWidthChange = function handleLinkWidthChange(value) {\n    controller.run('setLinkStyle', _assign(_assign({}, props), {\n      linkStyle: {\n        lineWidth: value + \"px\"\n      }\n    }));\n  };\n\n  var handleLinkTypeChange = function handleLinkTypeChange(value) {\n    controller.run('setLinkStyle', _assign(_assign({}, props), {\n      linkStyle: {\n        lineType: value\n      }\n    }));\n  };\n\n  var handleSubLinkWidthChange = function handleSubLinkWidthChange(value) {\n    controller.run('setSubLinkStyle', _assign(_assign({}, props), {\n      subLinkStyle: {\n        lineWidth: value + \"px\"\n      }\n    }));\n  };\n\n  var handleSubLinkTypeChange = function handleSubLinkTypeChange(value) {\n    controller.run('setSubLinkStyle', _assign(_assign({}, props), {\n      subLinkStyle: {\n        lineType: value\n      }\n    }));\n  };\n\n  var handleLinkColorChange = function handleLinkColorChange(color) {\n    controller.run('setLinkStyle', _assign(_assign({}, props), {\n      linkStyle: {\n        lineColor: color.hex\n      }\n    }));\n  };\n\n  var handleSubLinkColorChange = function handleSubLinkColorChange(color) {\n    controller.run('setSubLinkStyle', _assign(_assign({}, props), {\n      subLinkStyle: {\n        lineColor: color.hex\n      }\n    }));\n  };\n\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Link\"), createElement(SettingRow, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"LinkToParent: \"), createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderWidthItems,\n    itemRenderer: renderItem('px'),\n    filterable: false,\n    onItemSelect: handleLinkWidthChange\n  }, createElement(Button, {\n    text: \"width: \" + (linkStyle ? linkStyle.lineWidth + 'px' : '0px')\n  }))), createElement(SettingItem, null, createElement(PxSelect, {\n    items: lineTypes,\n    itemRenderer: renderLineTypeItem,\n    filterable: false,\n    onItemSelect: handleLinkTypeChange\n  }, createElement(Button, {\n    text: \"lineType: \" + linkStyle.lineType\n  }))), createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n    className: iconClassName(IconName.COLOR_PICKER)\n  }), createElement(ColorBar, {\n    color: linkStyle.lineColor\n  })), createElement(\"div\", null, createElement(SketchPicker, {\n    color: linkStyle.lineColor,\n    onChangeComplete: handleLinkColorChange\n  }))))), createElement(SettingRow, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"SubLinks: \"), createElement(SettingItem, null, createElement(PxSelect, {\n    items: borderWidthItems,\n    itemRenderer: renderItem('px'),\n    filterable: false,\n    onItemSelect: handleSubLinkWidthChange\n  }, createElement(Button, {\n    text: \"width: \" + (subLinkStyle ? subLinkStyle.lineWidth + 'px' : '0px')\n  }))), createElement(SettingItem, null, createElement(PxSelect, {\n    items: lineTypes,\n    itemRenderer: renderLineTypeItem,\n    filterable: false,\n    onItemSelect: handleSubLinkTypeChange\n  }, createElement(Button, {\n    text: \"lineType: \" + subLinkStyle.lineType\n  }))), createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n    className: iconClassName(IconName.COLOR_PICKER)\n  }), createElement(ColorBar, {\n    color: subLinkStyle.lineColor\n  })), createElement(\"div\", null, createElement(SketchPicker, {\n    color: subLinkStyle.lineColor,\n    onChangeComplete: handleSubLinkColorChange\n  }))))));\n}\n\nfunction TextStyleEditor(props) {\n  var topicStyle = props.topicStyle,\n      setStyle = props.setStyle;\n\n  var handleFontSizeChange = function handleFontSizeChange(value) {\n    // log('handleFontSizeChange:', value);\n    setStyle({\n      fontSize: value\n    });\n  };\n\n  var handleLineHeightChange = function handleLineHeightChange(e) {\n    // log('handleLineHeightChange:', e.target.value);\n    setStyle({\n      lineHeight: e.target.value\n    });\n  };\n\n  var handleColorChange = function handleColorChange(color) {\n    setStyle({\n      color: color.hex\n    });\n  };\n\n  var fontSizeNumInputProps = {\n    min: 12,\n    max: 100,\n    value: parseInt(topicStyle.fontSize),\n    style: {\n      width: 50\n    },\n    onValueChange: handleFontSizeChange\n  };\n  var lineHeightInputProps = {\n    style: {\n      width: 50\n    },\n    value: topicStyle.lineHeight || '',\n    onChange: handleLineHeightChange\n  };\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Text Editor\"), createElement(Flex, null, createElement(SettingItem, null, createElement(Flex, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"FontSize: \"), createElement(NumericInput, _assign({}, fontSizeNumInputProps)))), createElement(SettingItem, null, createElement(Flex, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"LineHeight: \"), createElement(InputGroup, _assign({}, lineHeightInputProps)))), createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n    className: iconClassName(IconName.COLOR_PICKER)\n  }), createElement(ColorBar, {\n    color: topicStyle.color\n  })), createElement(\"div\", null, createElement(SketchPicker, {\n    color: topicStyle.color,\n    onChangeComplete: handleColorChange\n  }))))));\n}\n\nvar log$8 = debug('node:style-editor');\nvar StyleEditorRoot = styled.div(templateObject_1$a || (templateObject_1$a = __makeTemplateObject([\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  z-index: 4;\\n\"], [\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  z-index: 4;\\n\"])));\nvar PopRoot = styled.div(templateObject_2$8 || (templateObject_2$8 = __makeTemplateObject([\"\\n  padding: 10px;\\n\"], [\"\\n  padding: 10px;\\n\"])));\n\nvar StyleEditor =\n/** @class */\nfunction (_super) {\n  __extends(StyleEditor, _super);\n\n  function StyleEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setShowPanel = function (showPanel) {\n      return function () {\n        _this.setState({\n          showPanel: showPanel\n        });\n      };\n    };\n\n    _this.setTopicContentStyle = function (style) {\n      var props = _this.props;\n      var controller = props.controller;\n      controller.run('setTopicContentStyle', _assign(_assign({}, props), {\n        style: style\n      }));\n    };\n\n    _this.handleBackgroundColorChange = function (color) {\n      _this.setTopicContentStyle({\n        background: color.hex\n      });\n    };\n\n    _this.handleClearStyle = function () {\n      if (_this.topic.style) {\n        _this.operation(OpType.SET_STYLE, _assign(_assign({}, _this.props), {\n          style: null\n        }));\n\n        _this.setState({});\n      }\n    };\n\n    _this.handleCopyStyle = function () {\n      var props = _this.props;\n      var controller = props.controller;\n      _this.copiedStyle = controller.run('getTopicStyle', props);\n      log$8(_this.copiedStyle);\n    };\n\n    _this.handlePasteStyle = function () {\n      if (_this.copiedStyle) {\n        _this.operation(OpType.SET_STYLE, _assign(_assign({}, _this.props), {\n          style: JSON.stringify(_this.copiedStyle)\n        }));\n\n        _this.setState({});\n      }\n    };\n\n    _this.state = {\n      showPanel: false\n    };\n    return _this;\n  }\n\n  StyleEditor.prototype.render = function () {\n    var props = this.props;\n    var controller = props.controller,\n        model = props.model;\n    if (!model.focusKey) return null;\n    var topicStyle = controller.run('getTopicContentStyle', props);\n\n    if (!this.state.showPanel) {\n      return createElement(StyleEditorRoot, null, createElement(IconBg, {\n        onClick: this.setShowPanel(true)\n      }, createElement(ShowMenuIcon, {\n        className: iconClassName(IconName.SHOW_MENU)\n      })));\n    }\n\n    var setStyle = this.setTopicContentStyle;\n    return createElement(StyleEditorRoot, null, createElement(Title, null, createElement(CloseIcon, {\n      className: iconClassName(IconName.CLOSE),\n      onClick: this.setShowPanel(false)\n    })), createElement(PopRoot, null, BorderStyleEditor(_assign(_assign({}, props), {\n      topicStyle: topicStyle,\n      setStyle: setStyle\n    })), TextStyleEditor(_assign(_assign({}, props), {\n      topicStyle: topicStyle,\n      setStyle: setStyle\n    })), createElement(SettingGroup, null, createElement(SettingTitle, null, \"Background\"), createElement(\"div\", null, createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n      className: iconClassName(IconName.COLOR_PICKER)\n    }), createElement(ColorBar, {\n      color: topicStyle.background\n    })), createElement(\"div\", null, createElement(SketchPicker, {\n      color: topicStyle.background,\n      onChangeComplete: this.handleBackgroundColorChange\n    })))))), LinkStyleEditor(props), createElement(SettingGroup, null, createElement(SettingItem, null, createElement(Button, {\n      onClick: this.handleClearStyle\n    }, \"Clear Topic Style\")), createElement(SettingItem, null, createElement(Button, {\n      onClick: this.handleCopyStyle\n    }, \"Copy Style\")), createElement(SettingItem, null, createElement(Button, {\n      onClick: this.handlePasteStyle\n    }, \"Paste Style\"))), ClearAllCustomStyle(props)));\n  };\n\n  return StyleEditor;\n}(BaseWidget);\n\nvar templateObject_1$a, templateObject_2$8;\nvar Icon$1 = styled.div(templateObject_3$4 || (templateObject_3$4 = __makeTemplateObject([\"\\n  position: absolute;\\n  top: calc(50% - 10px);\\n  \", \";\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  //@ts-ignore\\n  background: \", \";\\n  cursor: pointer;\\n  padding: 0;\\n  font-size: 14px;\\n  line-height: 20px;\\n  border: 0;\\n  z-index: 2;\\n\"], [\"\\n  position: absolute;\\n  top: calc(50% - 10px);\\n  \", \";\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  //@ts-ignore\\n  background: \", \";\\n  cursor: pointer;\\n  padding: 0;\\n  font-size: 14px;\\n  line-height: 20px;\\n  border: 0;\\n  z-index: 2;\\n\"])), function (_a) {\n  var dir = _a.dir;\n  if (dir === TopicDirection.RIGHT) return css(templateObject_1$b || (templateObject_1$b = __makeTemplateObject([\"\\n        right: -25px;\\n      \"], [\"\\n        right: -25px;\\n      \"])));\n  if (dir === TopicDirection.LEFT) return css(templateObject_2$9 || (templateObject_2$9 = __makeTemplateObject([\"\\n        left: -25px;\\n      \"], [\"\\n        left: -25px;\\n      \"])));\n}, function (props) {\n  return props.background;\n});\n\nfunction TopicCollapseIcon(props) {\n  var _a;\n\n  var model = props.model,\n      topicKey = props.topicKey,\n      topicStyle = props.topicStyle,\n      dir = props.dir,\n      saveRef = props.saveRef,\n      onClickCollapse = props.onClickCollapse;\n  var topic = model.getTopic(topicKey);\n  return topic.subKeys.size > 0 ? createElement(Icon$1, {\n    ref: saveRef(collapseRefKey(topicKey)),\n    onClick: onClickCollapse,\n    background: topicStyle.background,\n    dir: dir,\n    className: cx((_a = {\n      icon: true,\n      iconfont: true\n    }, _a[\"bm-\" + (topic.collapse ? 'plus' : 'minus')] = true, _a))\n  }) : null;\n}\n\nvar templateObject_1$b, templateObject_2$9, templateObject_3$4;\nvar log$9 = debug('node:topic-content2');\nvar EditingRoot = styled.div(templateObject_1$c || (templateObject_1$c = __makeTemplateObject([\"\\n  position: relative;\\n\"], [\"\\n  position: relative;\\n\"])));\nvar EditingWrapper = styled.div(templateObject_2$a || (templateObject_2$a = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: auto;\\n  z-index: 10;\\n  color: black;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: auto;\\n  z-index: 10;\\n  color: black;\\n\"])));\n\nvar cancelEvent$1 = function cancelEvent$1(e) {\n  log$9('cancelEvent');\n  e.preventDefault();\n  e.stopPropagation();\n};\n\nfunction TopicContent(props) {\n  var controller = props.controller,\n      model = props.model,\n      topicKey = props.topicKey,\n      getRef = props.getRef;\n  var readOnly = model.editingContentKey !== topicKey;\n  var editor = controller.run('renderTopicContentEditor', _assign(_assign({}, props), {\n    readOnly: readOnly\n  }));\n  var child;\n\n  if (readOnly) {\n    child = editor;\n  } else {\n    var wrapper_1;\n\n    var wrapperRef = function wrapperRef(ref) {\n      if (ref) {\n        wrapper_1 = ref;\n        contentResizeObserver_1.observe(wrapper_1);\n      }\n    };\n\n    var rect_1 = {\n      width: 50,\n      height: 40\n    };\n    var editorDiv = getRef(\"content-editor-\" + topicKey);\n    if (editorDiv) rect_1 = editorDiv.getBoundingClientRect();\n\n    var contentResizeCallback = function contentResizeCallback(entries, observer) {\n      var r = entries[0].contentRect;\n      wrapper_1.style.left = (rect_1.width - r.width) / 2 + 'px';\n      wrapper_1.style.top = (rect_1.height - r.height) / 2 + 'px';\n    };\n\n    var contentResizeObserver_1 = new ResizeObserver(contentResizeCallback);\n    log$9(rect_1);\n    child = createElement(Fragment, null, createElement(\"div\", {\n      style: {\n        width: rect_1.width,\n        height: rect_1.height\n      }\n    }), createElement(EditingWrapper, {\n      ref: wrapperRef\n    }, editor));\n  }\n\n  return createElement(EditingRoot, {\n    onDragEnter: cancelEvent$1,\n    onDragOver: cancelEvent$1\n  }, child);\n}\n\nvar templateObject_1$c, templateObject_2$a;\nvar log$a = debug('node:topic-content-widget');\nvar TopicContent$1 = styled.div(templateObject_1$d || (templateObject_1$d = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n  //overflow: hidden;\\n  position: relative;\\n\"], [\"\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n  //overflow: hidden;\\n  position: relative;\\n\"])));\nvar TopicContentWithDropArea = styled.div(templateObject_2$b || (templateObject_2$b = __makeTemplateObject([\"\\n  position: relative;\\n\"], [\"\\n  position: relative;\\n\"])));\n\nvar TopicContentWidget =\n/** @class */\nfunction (_super) {\n  __extends(TopicContentWidget, _super);\n\n  function TopicContentWidget(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.onDragStart = function (ev) {\n      _this.run('handleTopicDragStart', _assign(_assign({}, _this.props), {\n        ev: ev\n      }));\n    };\n\n    _this.onDragOver = function (ev) {\n      // log('onDragOver');\n      ev.preventDefault();\n    };\n\n    _this.onDragEnter = function (ev) {\n      log$a('onDragEnter', _this.props.topicKey);\n\n      _this.run('handleTopicDragEnter', _assign(_assign({}, _this.props), {\n        ev: ev,\n        dropDir: 'in'\n      }));\n    };\n\n    _this.onDragLeave = function (ev) {\n      _this.run('handleTopicDragLeave', _assign(_assign({}, _this.props), {\n        ev: ev,\n        dropDir: 'in'\n      }));\n    };\n\n    _this.onDrop = function (ev) {\n      log$a('onDrop');\n\n      _this.run('handleTopicDrop', _assign(_assign({}, _this.props), {\n        ev: ev,\n        dropDir: 'in'\n      }));\n    };\n\n    _this.onClick = function (ev) {\n      _this.isDoubleClick = false;\n      var props = _this.props;\n      var controller = props.controller;\n      setTimeout(function () {\n        if (!_this.isDoubleClick) {\n          controller.run('handleTopicClick', _assign(_assign({}, props), {\n            ev: ev\n          }));\n        }\n      });\n    };\n\n    _this.onDoubleClick = function (ev) {\n      _this.isDoubleClick = true;\n      var controller = _this.props.controller;\n      controller.run('handleTopicDoubleClick', _assign(_assign({}, _this.props), {\n        ev: ev\n      }));\n    };\n\n    _this.needRelocation = false;\n\n    _this.onClickCollapse = function (e) {\n      e.stopPropagation();\n      var _a = _this.props,\n          topicKey = _a.topicKey,\n          getRef = _a.getRef;\n      _this.needRelocation = true;\n      _this.oldCollapseIconRect = getRef(collapseRefKey(topicKey)).getBoundingClientRect();\n\n      _this.operation(OpType.TOGGLE_COLLAPSE, _this.props);\n    };\n\n    _this.state = {\n      dragEnter: false\n    };\n    return _this;\n  }\n\n  TopicContentWidget.prototype.renderContextMenu = function () {\n    var controller = this.props.controller;\n    this.operation(OpType.FOCUS_TOPIC, _assign(_assign({}, this.props), {\n      focusMode: FocusMode.SHOW_POPUP\n    }));\n    return controller.run('renderTopicContextMenu', this.props);\n  };\n\n  TopicContentWidget.prototype.onContextMenuClose = function () {// Optional method called once the context menu is closed.\n  };\n\n  TopicContentWidget.prototype.componentDidUpdate = function () {\n    if (this.needRelocation) {\n      var _a = this.props,\n          getRef = _a.getRef,\n          topicKey = _a.topicKey,\n          setViewBoxScrollDelta = _a.setViewBoxScrollDelta;\n      var newRect = getRef(collapseRefKey(topicKey)).getBoundingClientRect();\n      log$a('newRect:', newRect);\n      log$a('oldRect:', this.oldCollapseIconRect);\n      setViewBoxScrollDelta(newRect.left - this.oldCollapseIconRect.left, newRect.top - this.oldCollapseIconRect.top);\n      this.needRelocation = false;\n    }\n  };\n\n  TopicContentWidget.prototype.render = function () {\n    var props = this.props;\n    var saveRef = props.saveRef,\n        topicKey = props.topicKey,\n        model = props.model,\n        controller = props.controller,\n        topicStyle = props.topicStyle,\n        dir = props.dir;\n    var draggable = model.editingContentKey !== topicKey;\n    var collapseIcon = controller.run('renderTopicCollapseIcon', _assign(_assign({}, props), {\n      onClickCollapse: this.onClickCollapse.bind(this)\n    })); // log(dir);\n\n    var prevDropArea = controller.run('renderTopicDropArea', _assign(_assign({}, props), {\n      dropDir: 'prev'\n    }));\n    var nextDropArea = controller.run('renderTopicDropArea', _assign(_assign({}, props), {\n      dropDir: 'next'\n    }));\n    var dropEventHandlers = {\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this.onDragOver,\n      onDrop: this.onDrop\n    };\n    log$a(topicKey, 'style', topicStyle);\n    return createElement(TopicContentWithDropArea, null, prevDropArea, createElement(TopicContent$1, _assign({\n      style: topicStyle,\n      draggable: draggable,\n      ref: saveRef(contentRefKey(topicKey)),\n      onDragStart: this.onDragStart,\n      onClick: this.onClick,\n      onDoubleClick: this.onDoubleClick\n    }, dropEventHandlers), controller.run('renderTopicBlocks', props)), nextDropArea, dir !== TopicDirection.MAIN && collapseIcon);\n  };\n\n  TopicContentWidget = __decorate([ContextMenuTarget], TopicContentWidget);\n  return TopicContentWidget;\n}(BaseWidget);\n\nvar templateObject_1$d, templateObject_2$b;\n\nvar TopicContextMenu =\n/** @class */\nfunction (_super) {\n  __extends(TopicContextMenu, _super);\n\n  function TopicContextMenu() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TopicContextMenu.prototype.render = function () {\n    var controller = this.props.controller;\n    return createElement(Menu, null, controller.run('customizeTopicContextMenu', this.props));\n  };\n\n  return TopicContextMenu;\n}(BaseWidget);\n\nvar log$b = debug('node:topic-desc'); //TODO\n\nvar DescIcon = styled.div(templateObject_1$e || (templateObject_1$e = __makeTemplateObject([\"\"], [\"\"])));\nvar DescEditorWrapper = styled.div(templateObject_2$c || (templateObject_2$c = __makeTemplateObject([\"\\n  overflow: auto;\\n  padding: 0px 0px 0px 20px;\\n  background: #88888850;\\n\"], [\"\\n  overflow: auto;\\n  padding: 0px 0px 0px 20px;\\n  background: #88888850;\\n\"])));\nvar TooltipContentWrapper = styled.div(templateObject_3$5 || (templateObject_3$5 = __makeTemplateObject([\"\\n  overflow: auto;\\n\"], [\"\\n  overflow: auto;\\n\"])));\n\nfunction TopicDesc(props) {\n  var controller = props.controller,\n      model = props.model,\n      topicKey = props.topicKey,\n      getRef = props.getRef;\n  var isEditing = model.editingDescKey === topicKey;\n  log$b('isEditing', isEditing);\n\n  var onClick = function onClick(e) {\n    e.stopPropagation();\n    controller.run('operation', _assign(_assign({}, props), {\n      opType: OpType.START_EDITING_DESC\n    }));\n  };\n\n  var onDescEditorClose = function onDescEditorClose(e) {\n    e.stopPropagation();\n    var key = \"topic-desc-data-\" + topicKey;\n    var descData = controller.run('deleteTempValue', {\n      key: key\n    });\n    controller.run('operation', _assign(_assign({}, props), {\n      opArray: [{\n        opType: OpType.SET_TOPIC_DESC,\n        topicKey: topicKey,\n        data: descData\n      }, {\n        opType: OpType.FOCUS_TOPIC,\n        topicKey: topicKey,\n        focusMode: FocusMode.NORMAL\n      }]\n    }));\n  };\n\n  var desc = model.getTopic(topicKey).getBlock(BlockType.DESC);\n  if (!isEditing && controller.run('isBlockEmpty', _assign(_assign({}, props), {\n    block: desc.block\n  }))) return null;\n  var descEditor = controller.run('renderTopicDescEditor', props);\n  var diagramRoot = getRef(DIAGRAM_ROOT_KEY);\n  var style = {\n    maxWidth: '800px',\n    maxHeight: '600px'\n  };\n\n  if (diagramRoot) {\n    var dRect = diagramRoot.getBoundingClientRect();\n    style.maxWidth = dRect.width * 0.6 + \"px\";\n    style.maxHeight = dRect.height * 0.8 + \"px\";\n  }\n\n  var tooltipContent = createElement(TooltipContentWrapper, {\n    onClick: cancelEvent,\n    classname: Classes.POPOVER_DISMISS,\n    style: style\n  }, descEditor);\n  var icon = createElement(DescIcon, {\n    onClick: onClick,\n    className: iconClassName(IconName.NOTES),\n    tabIndex: -1\n  });\n  var tooltipProps = {\n    autoFocus: false,\n    content: tooltipContent,\n    target: icon,\n    interactionKind: PopoverInteractionKind.HOVER,\n    hoverOpenDelay: 500\n  };\n  var descIcon = desc.block && createElement(Popover, _assign({}, tooltipProps));\n  return createElement(Fragment, null, descIcon, createElement(Drawer, {\n    title: \"Edit Notes\",\n    icon: Icon('note'),\n    isOpen: isEditing,\n    hasBackdrop: true,\n    isCloseButtonShown: false,\n    onClose: onDescEditorClose,\n    size: \"70%\"\n  }, createElement(DescEditorWrapper, null, descEditor)));\n}\n\nvar templateObject_1$e, templateObject_2$c, templateObject_3$5;\nvar FocusHighlightSvg = styled.svg(templateObject_1$f || (templateObject_1$f = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"])));\n\nvar TopicHighlight =\n/** @class */\nfunction (_super) {\n  __extends(TopicHighlight, _super);\n\n  function TopicHighlight() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      content: null\n    };\n    return _this;\n  }\n\n  TopicHighlight.prototype.layout = function () {\n    var _a = this.props,\n        getRef = _a.getRef,\n        model = _a.model;\n    var focusKey = model.focusKey;\n    var focusMode = model.focusMode;\n\n    if (!focusKey || focusMode === FocusMode.EDITING_CONTENT) {\n      this.setState({\n        content: null\n      });\n      return;\n    }\n\n    var contentRect = getRef(contentRefKey(focusKey)).getBoundingClientRect();\n    var svgRect = getRef('svg-highlight').getBoundingClientRect();\n    var padding = 3;\n    var x = contentRect.left - svgRect.left - padding;\n    var y = contentRect.top - svgRect.top - padding;\n    var width = contentRect.width + 2 * padding;\n    var height = contentRect.height + 2 * padding;\n    this.setState({\n      content: createElement(\"rect\", {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        fill: \"none\",\n        stroke: model.config.theme.highlightColor,\n        strokeWidth: 2\n      })\n    });\n  };\n\n  TopicHighlight.prototype.render = function () {\n    var saveRef = this.props.saveRef;\n    return createElement(FocusHighlightSvg, {\n      ref: saveRef('svg-highlight')\n    }, this.state.content);\n  };\n\n  return TopicHighlight;\n}(BaseWidget);\n\nvar templateObject_1$f;\nvar TopicLinksSvg = styled.svg(templateObject_1$g || (templateObject_1$g = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"])));\nvar log$c = debug('node:topic-sub-links');\n\nvar TopicSubLinks =\n/** @class */\nfunction (_super) {\n  __extends(TopicSubLinks, _super);\n\n  function TopicSubLinks() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      curves: []\n    };\n    return _this;\n  }\n\n  TopicSubLinks.prototype.layout = function () {\n    var props = this.props;\n    var model = props.model,\n        getRef = props.getRef,\n        topicKey = props.topicKey,\n        dir = props.dir,\n        controller = props.controller;\n    var topic = model.getTopic(topicKey);\n    var content = getRef(contentRefKey(topicKey));\n    var svgRect = getRef(linksSvgRefKey(topicKey)).getBoundingClientRect();\n    var collapseRect = getRef(collapseRefKey(topicKey)).getBoundingClientRect();\n    var contentRect = content.getBoundingClientRect();\n    var p1, p2, p3;\n\n    if (dir === TopicDirection.RIGHT) {\n      p1 = {\n        x: 0,\n        y: centerY(contentRect) - svgRect.top\n      };\n      p2 = {\n        x: collapseRect.right - svgRect.left + 10,\n        y: p1.y\n      };\n    } else if (dir === TopicDirection.LEFT) {\n      p1 = {\n        x: svgRect.right - svgRect.left,\n        y: centerY(contentRect) - svgRect.top\n      };\n      p2 = {\n        x: collapseRect.left - svgRect.left - 10,\n        y: p1.y\n      };\n    }\n\n    var curves = [];\n    topic.subKeys.forEach(function (key) {\n      var curve;\n      var linkStyle = controller.run('getLinkStyle', _assign(_assign({}, props), {\n        topicKey: key\n      }));\n      var rect = getRef(contentRefKey(key)).getBoundingClientRect();\n\n      if (dir === TopicDirection.RIGHT) {\n        p3 = {\n          x: rect.left - svgRect.left,\n          y: centerY(rect) - svgRect.top\n        };\n      }\n\n      if (dir === TopicDirection.LEFT) {\n        p3 = {\n          x: rect.right - svgRect.left,\n          y: centerY(rect) - svgRect.top\n        };\n      }\n\n      var lineType = linkStyle.lineType;\n\n      if (lineType === 'curve') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" L \" + p2.x + \" \" + p2.y + \" C \" + p2.x + \" \" + centerPointY(p2, p3) + \" \" + centerPointX(p2, p3) + \" \" + p3.y + \" \" + p3.x + \" \" + p3.y;\n      } else if (lineType === 'round') {\n        var vDir = p3.y > p1.y ? 1 : -1;\n        var hDir = p3.x > p1.x ? 1 : -1;\n        var radius = linkStyle.lineRadius; // if (p3.y === p1.y) { //这样判断不可靠\n\n        if (topic.subKeys.size === 1 || Math.abs(p3.y - p1.y) <= 1) {\n          curve = \"M \" + p1.x + \" \" + p1.y + \" L \" + p3.x + \" \" + p3.y;\n        } else {\n          // 0 表示逆时针 1 表示顺时针\n          curve = \"M \" + p1.x + \" \" + p1.y + \" H \" + p2.x + \" V \" + (p3.y - vDir * radius) + \" A \" + radius + \" \" + radius + \" 0 0 \" + (vDir * hDir === 1 ? 0 : 1) + \" \" + (p2.x + radius * hDir) + \" \" + p3.y + \" H \" + p3.x;\n        }\n      } else if (lineType === 'line') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" H \" + p2.x + \" L \" + p3.x + \" \" + p3.y;\n      }\n\n      curves.push(createElement(\"path\", {\n        key: \"link-\" + key,\n        d: curve,\n        strokeWidth: linkStyle.lineWidth,\n        stroke: linkStyle.lineColor,\n        fill: \"none\"\n      }));\n    });\n    this.setState({\n      curves: curves\n    });\n  };\n\n  TopicSubLinks.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n    return createElement(TopicLinksSvg, {\n      ref: saveRef(linksSvgRefKey(topicKey))\n    }, createElement(\"g\", null, this.state.curves));\n  };\n\n  return TopicSubLinks;\n}(BaseWidget);\n\nvar templateObject_1$g;\nvar items = [{\n  icon: 'edit',\n  label: 'edit',\n  shortcut: 'Space',\n  rootCanUse: true,\n  opType: OpType.START_EDITING_CONTENT\n}, {\n  icon: 'add-sibling',\n  label: 'add sibling',\n  shortcut: 'Enter',\n  opType: OpType.ADD_SIBLING\n}, {\n  icon: 'add-child',\n  label: 'add child',\n  shortcut: 'Tab',\n  rootCanUse: true,\n  opType: OpType.ADD_CHILD\n}, {\n  icon: 'notes',\n  label: 'edit notes',\n  shortcut: 'Alt + D',\n  rootCanUse: true,\n  opType: OpType.START_EDITING_DESC\n}, {\n  icon: 'delete-node',\n  label: 'delete node',\n  shortcut: 'Del',\n  opType: OpType.DELETE_TOPIC\n}, {\n  icon: 'root',\n  label: 'set as editor root',\n  shortcut: 'Alt + Shift + F',\n  opType: OpType.SET_EDITOR_ROOT\n}];\n\nfunction customizeTopicContextMenu(props) {\n  var topicKey = props.topicKey,\n      model = props.model,\n      controller = props.controller;\n  var isRoot = topicKey === model.editorRootTopicKey;\n\n  function onClickItem(item) {\n    return function (e) {\n      item.opType && controller.run('operation', _assign(_assign({}, props), {\n        opType: item.opType\n      }));\n    };\n  }\n\n  return items.map(function (item) {\n    return isRoot && !item.rootCanUse ? null : createElement(MenuItem, {\n      key: item.label,\n      icon: Icon(item.icon),\n      text: item.label,\n      labelElement: createElement(\"kbd\", null, item.shortcut),\n      onClick: onClickItem(item)\n    });\n  });\n}\n\nfunction Theme(_a) {\n  var theme = _a.theme,\n      children = _a.children;\n  return (//@ts-ignore\n    createElement(ThemeProvider, {\n      theme: theme\n    }, createElement(Fragment, null, children))\n  );\n}\n\nvar log$d = debug('plugin:rendering');\n\nfunction RenderingPlugin() {\n  var DiagramRoot = styled.div(templateObject_1$h || (templateObject_1$h = __makeTemplateObject([\"\\n    width: 100%;\\n    height: 100%;\\n    background: \", \";\\n    position: relative;\\n  \"], [\"\\n    width: 100%;\\n    height: 100%;\\n    background: \", \";\\n    position: relative;\\n  \"])), function (props) {\n    return props.theme.background;\n  });\n  return {\n    renderDiagram: function renderDiagram(props) {\n      var model = props.model,\n          controller = props.controller;\n      return createElement(SaveRef, null, function (saveRef, getRef) {\n        var widgetProps = _assign(_assign({}, props), {\n          saveRef: saveRef,\n          getRef: getRef\n        });\n\n        log$d('renderDiagram', model);\n        return createElement(Theme, {\n          theme: model.config.theme\n        }, createElement(DiagramRoot, {\n          ref: saveRef(DIAGRAM_ROOT_KEY)\n        }, createElement(MindDragScrollWidget, _assign({}, widgetProps)), controller.run('renderDiagramCustomize', widgetProps)));\n      });\n    },\n    renderDiagramCustomize: function renderDiagramCustomize(props) {\n      var controller = props.controller,\n          model = props.model;\n      var breadcrumbs = controller.run('renderEditorRootBreadcrumbs', _assign(_assign({}, props), {\n        topicKey: model.focusKey\n      }));\n      var styleEditor = controller.run('renderStyleEditor', _assign(_assign({}, props), {\n        topicKey: model.focusKey\n      }));\n      var modals = controller.run('renderModals', _assign(_assign({}, props), {\n        topicKey: model.focusKey\n      }));\n      return [breadcrumbs, styleEditor, modals];\n    },\n    renderEditorRootBreadcrumbs: function renderEditorRootBreadcrumbs(props) {\n      return createElement(EditorRootBreadcrumbs, _assign({\n        key: \"EditorRootBreadcrumbs\"\n      }, props));\n    },\n    renderModals: function renderModals(props) {\n      return createElement(Modals, _assign({\n        key: \"modals\"\n      }, props));\n    },\n    renderModal: function renderModal(props) {\n      // const { controller, model } = props;\n      // const activeModalProps = controller.run('getActiveModalProps', props);\n      // if (activeModalProps) {\n      //   if (activeModalProps.name === 'edit-desc') {\n      //     const modalProps = { ...props, topicKey: model.focusKey };\n      //     return (\n      //       <ModalBody>\n      //         <ModalDescEditor>\n      //           {controller.run('renderTopicDescEditor', modalProps)}\n      //         </ModalDescEditor>\n      //       </ModalBody>\n      //     );\n      //   }\n      // }\n      return null;\n    },\n    getActiveModalProps: function getActiveModalProps(props) {\n      // const { model } = props;\n      // if (model.focusKey && model.focusMode === FocusMode.EDITING_DESC)\n      //   return {\n      //     name: 'edit-desc',\n      //     title: 'Edit Notes',\n      //     style: {\n      //       width: '50%',\n      //       height: '600px'\n      //     }\n      //   };\n      return null;\n    },\n    renderDoc: function renderDoc(_a) {\n      var children = _a.children;\n      return children;\n    },\n    renderRootWidget: function renderRootWidget(props) {\n      return createElement(RootWidget, _assign({}, props));\n    },\n    renderTopicWidget: function renderTopicWidget(props) {\n      return createElement(TopicWidget, _assign({}, props));\n    },\n    renderTopicContent: function renderTopicContent(props) {\n      return createElement(TopicContentWidget, _assign({}, props));\n    },\n    renderTopicContextMenu: function renderTopicContextMenu(props) {\n      return createElement(TopicContextMenu, _assign({}, props));\n    },\n    customizeTopicContextMenu: customizeTopicContextMenu,\n    renderTopicCollapseIcon: function renderTopicCollapseIcon(props) {\n      return createElement(TopicCollapseIcon, _assign({}, props));\n    },\n    renderTopicBlocks: function renderTopicBlocks(props) {\n      var model = props.model,\n          topicKey = props.topicKey,\n          controller = props.controller;\n      var topic = model.getTopic(topicKey);\n      var blocks = topic.blocks;\n      var res = [];\n      var i = 0;\n      blocks.forEach(function (block) {\n        var b = controller.run('renderTopicBlock', _assign(_assign({}, props), {\n          block: block,\n          blockKey: \"block-\" + i\n        }));\n\n        if (b) {\n          res.push(createElement(Fragment, {\n            key: \"block-\" + i\n          }, b));\n          i++;\n        }\n      });\n      return res;\n    },\n    renderTopicBlock: function renderTopicBlock(props) {\n      var controller = props.controller,\n          block = props.block,\n          topicKey = props.topicKey,\n          model = props.model;\n\n      switch (block.type) {\n        case BlockType.CONTENT:\n          return controller.run('renderTopicBlockContent', props);\n\n        case BlockType.DESC:\n          return controller.run('renderTopicBlockDesc', props);\n      }\n\n      return null;\n    },\n    renderTopicBlockContent: function renderTopicBlockContent(props) {\n      return createElement(TopicContent, _assign({}, props));\n    },\n    renderTopicBlockDesc: function renderTopicBlockDesc(props) {\n      return createElement(TopicDesc, _assign({}, props));\n    },\n    renderSubLinks: function renderSubLinks(props) {\n      var saveRef = props.saveRef,\n          topicKey = props.topicKey,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      if (topic.subKeys.size === 0 || topic.collapse) return null;\n      return createElement(TopicSubLinks, _assign({\n        ref: saveRef(linksRefKey(topicKey))\n      }, props));\n    },\n    renderRootSubLinks: function renderRootSubLinks(props) {\n      var saveRef = props.saveRef,\n          topicKey = props.topicKey,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      if (topic.subKeys.size === 0) return null;\n      return createElement(RootSubLinks, _assign({\n        ref: saveRef(linksRefKey(topicKey))\n      }, props));\n    },\n    renderFocusItemHighlight: function renderFocusItemHighlight(props) {\n      var saveRef = props.saveRef;\n      return createElement(TopicHighlight, _assign({\n        ref: saveRef('focus-highlight')\n      }, props));\n    },\n    renderRootWidgetOtherChildren: function renderRootWidgetOtherChildren(props) {\n      var controller = props.controller;\n      return createElement(Fragment, null, controller.run('renderRootSubLinks', props), controller.run('renderFocusItemHighlight', props), controller.run('renderDragAndDropEffect', props));\n    },\n    renderStyleEditor: function renderStyleEditor(props) {\n      return createElement(StyleEditor, _assign({\n        key: \"style-editor\"\n      }, props));\n    }\n  };\n}\n\nvar templateObject_1$h;\nvar log$e = debug('plugin:utils');\n\nfunction UtilsPlugin() {\n  var tempValueMap = new Map();\n  return {\n    getTempValue: function getTempValue(props) {\n      var key = props.key;\n      log$e('getTempValue', key);\n      return tempValueMap.get(key);\n    },\n    setTempValue: function setTempValue(props) {\n      var key = props.key,\n          value = props.value;\n      log$e('setTempValue', key);\n      tempValueMap.set(key, value);\n    },\n    deleteTempValue: function deleteTempValue(props) {\n      var key = props.key;\n      log$e('deleteTempValue', key);\n      var value = tempValueMap.get(key);\n      tempValueMap.delete(key);\n      return value;\n    }\n  };\n}\n\nfunction ReactPlugin(options) {\n  return [RenderingPlugin(), UtilsPlugin()];\n}\n\nvar log$f = debug('plugin:StylePlugin');\n\nfunction StylePlugin() {\n  var colorMap = new Map();\n  var colorIndex = 0;\n  return {\n    getTopicStyle: function getTopicStyle(props) {\n      var controller = props.controller;\n      return {\n        contentStyle: controller.run('getTopicContentStyle', props),\n        linkStyle: controller.run('getLinkStyle', props),\n        subLinkStyle: controller.run('getSubLinkStyle', props)\n      };\n    },\n    getTopicContentStyle: function getTopicContentStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      log$f('getTopicContentStyle:', topicKey, model);\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      var themeStyle;\n      if (visualLevel === TopicVisualLevel.ROOT) themeStyle = theme.rootTopic;else if (visualLevel === TopicVisualLevel.PRIMARY) themeStyle = theme.primaryTopic;else themeStyle = theme.normalTopic;\n      themeStyle = _assign(_assign({}, theme.contentStyle), themeStyle.contentStyle);\n\n      if (theme.randomColor) {\n        var randomColor = controller.run('getRandomColor', props);\n        themeStyle = _assign(_assign({}, themeStyle), {\n          background: randomColor,\n          borderColor: randomColor,\n          subLinkStyle: _assign(_assign({}, themeStyle.subLinkStyle), {\n            lineColor: randomColor\n          })\n        });\n      }\n\n      var topic = model.getTopic(topicKey);\n\n      if (!topic.style) {\n        return themeStyle;\n      }\n\n      var customStyle = JSON.parse(topic.style);\n      return _assign(_assign({}, themeStyle), customStyle.contentStyle);\n    },\n    getLinkStyle: function getLinkStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      log$f('getLinkStyle', topicKey);\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      var linkStyle = theme.linkStyle;\n      var presetStyle;\n      if (visualLevel === TopicVisualLevel.ROOT) presetStyle = theme.rootTopic.linkStyle;else if (visualLevel === TopicVisualLevel.PRIMARY) presetStyle = theme.primaryTopic.linkStyle;else presetStyle = theme.normalTopic.linkStyle;\n      linkStyle = _assign(_assign({}, linkStyle), presetStyle);\n      var topic = model.getTopic(topicKey); // 获取父节点的color\n      // if (theme.randomColor) {\n      //   const randomColor = controller.run('getRandomColor', {\n      //     ...props,\n      //     topicKey:\n      //       topic.parentKey !== model.editorRootTopicKey\n      //         ? topic.parentKey\n      //         : topicKey\n      //   });\n      //   log(randomColor);\n      //   linkStyle = {\n      //     ...linkStyle,\n      //     lineColor: randomColor\n      //   };\n      // }\n\n      if (topic.parentKey != null) {\n        var parentSubLinkStyle = controller.run('getSubLinkStyle', _assign(_assign({}, props), {\n          topicKey: topic.parentKey\n        }));\n        linkStyle = _assign(_assign({}, linkStyle), parentSubLinkStyle);\n      }\n\n      if (!topic.style) {\n        return linkStyle;\n      }\n\n      var customStyle = JSON.parse(topic.style);\n      return _assign(_assign({}, linkStyle), customStyle.linkStyle);\n    },\n    getSubLinkStyle: function getSubLinkStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      log$f('getLinkStyle', topicKey);\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      var subLinkStyle = theme.linkStyle;\n      var presetStyle;\n      if (visualLevel === TopicVisualLevel.ROOT) presetStyle = theme.rootTopic.subLinkStyle;else if (visualLevel === TopicVisualLevel.PRIMARY) presetStyle = theme.primaryTopic.subLinkStyle;else presetStyle = theme.normalTopic.subLinkStyle;\n      subLinkStyle = _assign(_assign({}, subLinkStyle), presetStyle);\n      var topic = model.getTopic(topicKey); // 获取父节点的color\n\n      if (theme.randomColor) {\n        var randomColor = controller.run('getRandomColor', props);\n        log$f(randomColor);\n        subLinkStyle = _assign(_assign({}, subLinkStyle), {\n          lineColor: randomColor\n        });\n      }\n\n      if (!topic.style) {\n        return subLinkStyle;\n      }\n\n      var customStyle = JSON.parse(topic.style);\n\n      var res = _assign(_assign({}, subLinkStyle), customStyle.subLinkStyle); // if (res.lineRadius == null) res.lineRadius = 5;\n\n\n      return res;\n    },\n    setTopicContentStyle: function setTopicContentStyle(props) {\n      var topicKey = props.topicKey,\n          controller = props.controller,\n          style = props.style,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      var topicStyle = topic.style;\n      var styleObj = topicStyle ? JSON.parse(topicStyle) : {};\n\n      var newStyleObj = _assign(_assign({}, styleObj), {\n        contentStyle: _assign(_assign({}, styleObj.contentStyle), style)\n      });\n\n      if (!isEqual(styleObj, newStyleObj)) {\n        var newStyleStr = JSON.stringify(newStyleObj);\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.SET_STYLE,\n          style: newStyleStr\n        }));\n      }\n    },\n    setLinkStyle: function setLinkStyle(props) {\n      var topicKey = props.topicKey,\n          controller = props.controller,\n          linkStyle = props.linkStyle,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      var style = topic.style;\n      var styleObj = style ? JSON.parse(style) : {};\n\n      var newStyleObj = _assign(_assign({}, styleObj), {\n        linkStyle: _assign(_assign({}, styleObj.linkStyle), linkStyle)\n      });\n\n      if (!isEqual(styleObj, newStyleObj)) {\n        var newStyleStr = JSON.stringify(newStyleObj);\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.SET_STYLE,\n          style: newStyleStr\n        }));\n      }\n    },\n    setSubLinkStyle: function setSubLinkStyle(props) {\n      var topicKey = props.topicKey,\n          controller = props.controller,\n          subLinkStyle = props.subLinkStyle,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      var style = topic.style;\n      var styleObj = style ? JSON.parse(style) : {};\n\n      var newStyleObj = _assign(_assign({}, styleObj), {\n        subLinkStyle: _assign(_assign({}, styleObj.subLinkStyle), subLinkStyle)\n      });\n\n      if (!isEqual(styleObj, newStyleObj)) {\n        var newStyleStr = JSON.stringify(newStyleObj);\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.SET_STYLE,\n          style: newStyleStr\n        }));\n      }\n    },\n    getTopicThemeStyle: function getTopicThemeStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model;\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      if (visualLevel === TopicVisualLevel.ROOT) return theme.rootTopic;\n      if (visualLevel === TopicVisualLevel.PRIMARY) return theme.primaryTopic;\n      return theme.normalTopic;\n    },\n    getRandomColor: function getRandomColor(props) {\n      var topicKey = props.topicKey;\n      if (colorMap.has(topicKey)) return colorMap.get(topicKey);\n      var colors = ['#00CC99', '#FFEE88', '#A167A5', '#E5F993', '#F5C396', '#DB995A', '#83BCFF', '#ED7B84', '#739E82', '#D3BCC0', '#FFA0FD', '#EFD3D7', '#C6878F'];\n      var color = colors[++colorIndex % colors.length];\n      colorMap.set(topicKey, color);\n      log$f('getRandomColor', topicKey, color);\n      return color;\n    },\n    clearAllCustomStyle: function clearAllCustomStyle(props) {\n      var model = props.model,\n          controller = props.controller;\n      var newModel = model.withMutations(function (model) {\n        model.topics.keySeq().forEach(function (key) {\n          model.setIn(['topics', key, 'style'], null);\n        });\n      });\n      controller.change(newModel);\n    }\n  };\n}\n\nfunction DefaultPlugin() {\n  return [ReactPlugin(), LayoutPlugin(), OperationPlugin(), StylePlugin(), EventPlugin(), HotKeyPlugin(), DragAndDrop(), SimpleTextEditorPlugin()];\n}\n\nvar log$g = debug('node:Diagram');\n\nvar Diagram =\n/** @class */\nfunction (_super) {\n  __extends(Diagram, _super);\n\n  function Diagram() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.resolveController = memoizeOne(function (plugins, commands, TheDefaultPlugin) {\n      if (plugins === void 0) {\n        plugins = [];\n      }\n\n      var defaultPlugin = TheDefaultPlugin();\n      _this.controller = new Controller({\n        plugins: [plugins, defaultPlugin],\n        commands: commands,\n        construct: false,\n        onChange: _this.props.onChange\n      });\n\n      _this.controller.run('onConstruct');\n    });\n    return _this;\n  }\n\n  Diagram.prototype.getDiagramProps = function () {\n    return this.diagramProps;\n  };\n\n  Diagram.prototype.renderHotkeys = function () {\n    var controller = this.diagramProps.controller;\n    var hotKeys = controller.run('customizeHotKeys', this.diagramProps);\n    if (hotKeys === null) return null;\n\n    if (!(hotKeys instanceof Map)) {\n      throw new TypeError('customizeHotKeys must return a Map');\n    }\n\n    var children = [];\n    hotKeys.forEach(function (v, k) {\n      children.push(createElement(Hotkey, _assign({\n        key: k\n      }, v, {\n        global: true\n      })));\n    });\n    return createElement(Hotkeys, null, children);\n  };\n\n  Diagram.prototype.render = function () {\n    var _a = this.props,\n        commands = _a.commands,\n        plugins = _a.plugins,\n        model = _a.model;\n    this.resolveController(plugins, commands, DefaultPlugin);\n    this.diagramProps = _assign(_assign({}, this.props), {\n      controller: this.controller,\n      model: model,\n      diagram: this\n    });\n    return this.controller.run('renderDiagram', this.diagramProps);\n  };\n\n  Diagram = __decorate([HotkeysTarget], Diagram);\n  return Diagram;\n}(Component);\n\nexport { BaseWidget, CloseIcon, DIAGRAM_ROOT_KEY, Diagram, DragScrollWidget, Flex, Icon, IconBg, IconName, Margin, SaveRef, ShowMenuIcon, Title, cancelEvent, centerPointX, centerPointY, centerX, centerY, collapseRefKey, contentRefKey, getLinkKey, iconClassName, linksRefKey, linksSvgRefKey, topicRefKey };","import { BlockType } from '@blink-mind/core';\nimport { createElement } from 'react';\nimport { BaseWidget } from '@blink-mind/renderer-react';\nimport RichMarkDownEditor from 'awehook-rich-markdown-editor';\nimport debug from 'debug';\nimport styled from 'styled-components';\nimport MarkdownSerializer from 'slate-md-serializer';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar log = debug('node:topic-content-editor');\nvar NodeContent = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  \", \";\\n\"], [\"\\n  \", \";\\n\"])), function (props) {\n  return !props.readOnly && \"\\n    // padding: 75px\\n    // min-width: 150px\\n    // min-height: 150px\\n  \";\n});\n\nvar RichTextEditor =\n/** @class */\nfunction (_super) {\n  __extends(RichTextEditor, _super);\n\n  function RichTextEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.onMouseDown = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.onMouseMove = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.rootRef = function (saveRef) {\n      return function (ref) {\n        saveRef(ref);\n        _this.root = ref;\n      };\n    };\n\n    _this._handleClick = function (event) {\n      var wasOutside = !_this.root.contains(event.target);\n      wasOutside && _this.onClickOutSide(event);\n    };\n\n    _this.initState();\n\n    return _this;\n  }\n\n  RichTextEditor.prototype.initState = function () {\n    this.state = {\n      content: this.getContent()\n    };\n  };\n\n  RichTextEditor.prototype.getContent = function () {\n    var block = this.getCustomizeProps().block;\n    return block.data;\n  };\n\n  RichTextEditor.prototype.onChange = function (value) {\n    this.setState({\n      content: value\n    });\n  };\n\n  RichTextEditor.prototype.getCustomizeProps = function () {\n    return null;\n  };\n\n  RichTextEditor.prototype.componentDidMount = function () {\n    document.addEventListener('click', this._handleClick);\n  };\n\n  RichTextEditor.prototype.componentWillUnmount = function () {\n    document.removeEventListener('click', this._handleClick);\n  };\n\n  RichTextEditor.prototype.onClickOutSide = function (e) {};\n\n  RichTextEditor.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n\n    var _b = this.getCustomizeProps(),\n        readOnly = _b.readOnly,\n        refKeyPrefix = _b.refKeyPrefix,\n        placeholder = _b.placeholder;\n\n    log('readOnly:', readOnly);\n    var content = readOnly ? this.getContent() : this.state.content;\n    if (content == null) return null;\n    var key = refKeyPrefix + \"-\" + topicKey;\n\n    var _c = this,\n        onMouseDown = _c.onMouseDown,\n        onMouseMove = _c.onMouseMove;\n\n    var richEditorProps = {\n      editorValue: content,\n      readOnly: readOnly,\n      onChange: this.onChange.bind(this),\n      placeholder: placeholder\n    };\n    var nodeContentProps = {\n      key: key,\n      ref: this.rootRef(saveRef(key)),\n      readOnly: readOnly,\n      onMouseDown: onMouseDown,\n      onMouseMove: onMouseMove\n    };\n    return createElement(NodeContent, _assign({}, nodeContentProps), createElement(RichMarkDownEditor, _assign({}, richEditorProps)));\n  };\n\n  return RichTextEditor;\n}(BaseWidget);\n\nvar templateObject_1;\n\nvar TopicDescEditor =\n/** @class */\nfunction (_super) {\n  __extends(TopicDescEditor, _super);\n\n  function TopicDescEditor() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TopicDescEditor.prototype.initState = function () {\n    _super.prototype.initState.call(this);\n\n    var _a = this.props,\n        controller = _a.controller,\n        topicKey = _a.topicKey;\n    var key = \"topic-desc-data-\" + topicKey;\n    var value = this.state.content;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n  };\n\n  TopicDescEditor.prototype.getCustomizeProps = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var block = model.getTopic(topicKey).getBlock(BlockType.DESC).block;\n    var readOnly = model.editingDescKey !== topicKey;\n    var refKeyPrefix = 'desc-editor';\n    return {\n      block: block,\n      readOnly: readOnly,\n      refKeyPrefix: refKeyPrefix,\n      placeholder: 'write topic notes here'\n    };\n  };\n\n  TopicDescEditor.prototype.onChange = function (value) {\n    var _a = this.props,\n        controller = _a.controller,\n        topicKey = _a.topicKey;\n    var key = \"topic-desc-data-\" + topicKey;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n    this.setState({\n      content: value\n    });\n  };\n\n  return TopicDescEditor;\n}(RichTextEditor);\n\nvar markdownSerializer = new MarkdownSerializer();\n\nfunction RichTextEditorPlugin() {\n  return {\n    // renderTopicBlockContent(props) {\n    //   return <TopicContent {...props} />;\n    // },\n    // renderTopicContentEditor(props) {\n    //   return <TopicContentEditor {...props} />;\n    // },\n    renderTopicDescEditor: function renderTopicDescEditor(props) {\n      return createElement(TopicDescEditor, _assign({}, props));\n    },\n    isBlockEmpty: function isBlockEmpty(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        return block.data == null || controller.run('serializeBlockData', props) === '';\n      }\n\n      return next();\n    },\n    serializeBlockData: function serializeBlockData(props, next) {\n      var block = props.block;\n\n      if (block.type === BlockType.DESC) {\n        return typeof block.data === 'string' ? block.data : markdownSerializer.serialize(block.data);\n      }\n\n      return next();\n    },\n    serializeBlock: function serializeBlock(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        var res = {\n          type: block.type,\n          data: controller.run('serializeBlockData', props)\n        };\n        return res;\n      }\n\n      return next();\n    },\n    deserializeBlock: function deserializeBlock(props, next) {\n      return next();\n    }\n  };\n}\n\nexport default RichTextEditorPlugin;","import { Model, Config, Topic, Block } from '@blink-mind/core';\nimport debug from 'debug';\nimport { List, Map } from 'immutable';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nvar log = debug('plugin:json-serializer');\nvar DATA_VERSION = '0.0';\n\nfunction JsonSerializerPlugin() {\n  return {\n    serializeModel: function serializeModel(props) {\n      var model = props.model,\n          controller = props.controller;\n      var obj = {\n        rootTopicKey: model.rootTopicKey,\n        topics: model.topics.valueSeq().toArray().map(function (topic) {\n          return controller.run('serializeTopic', _assign(_assign({}, props), {\n            topic: topic\n          }));\n        }),\n        config: controller.run('serializeConfig', _assign(_assign({}, props), {\n          config: model.config\n        })),\n        version: model.version\n      };\n      return obj;\n    },\n    deserializeModel: function deserializeModel(props) {\n      var obj = props.obj,\n          controller = props.controller;\n\n      if (obj.version == null) {\n        obj.version = '0.0';\n      }\n\n      var rootTopicKey = obj.rootTopicKey,\n          topics = obj.topics,\n          config = obj.config,\n          version = obj.version;\n      var model = new Model();\n      model = model.merge({\n        rootTopicKey: rootTopicKey,\n        editorRootTopicKey: rootTopicKey,\n        config: controller.run('deserializeConfig', _assign(_assign({}, props), {\n          obj: config,\n          version: version\n        })),\n        topics: controller.run('deserializeTopics', _assign(_assign({}, props), {\n          obj: topics,\n          version: version\n        })),\n        version: DATA_VERSION\n      });\n      log('deserializeModel', model);\n      return model;\n    },\n    serializeConfig: function serializeConfig(props) {\n      var config = props.config;\n      return config.toJS();\n    },\n    deserializeConfig: function deserializeConfig(props) {\n      var obj = props.obj;\n      return new Config(obj);\n    },\n    serializeTopic: function serializeTopic(props) {\n      var topic = props.topic,\n          controller = props.controller;\n      return {\n        key: topic.key,\n        parentKey: topic.parentKey,\n        subKeys: topic.subKeys.toArray(),\n        collapse: topic.collapse,\n        style: topic.style,\n        blocks: topic.blocks.map(function (block) {\n          return controller.run('serializeBlock', _assign(_assign({}, props), {\n            block: block\n          }));\n        })\n      };\n    },\n    deserializeTopic: function deserializeTopic(props) {\n      var obj = props.obj,\n          controller = props.controller;\n      var key = obj.key,\n          parentKey = obj.parentKey,\n          subKeys = obj.subKeys,\n          blocks = obj.blocks,\n          style = obj.style,\n          collapse = obj.collapse;\n      var topic = new Topic();\n      topic = topic.merge({\n        key: key,\n        parentKey: parentKey,\n        subKeys: List(subKeys),\n        style: style,\n        collapse: collapse,\n        blocks: controller.run('deserializeBlocks', _assign(_assign({}, props), {\n          obj: blocks\n        }))\n      });\n      return topic;\n    },\n    deserializeTopics: function deserializeTopics(props) {\n      var obj = props.obj,\n          controller = props.controller;\n      var topics = Map();\n      topics = topics.withMutations(function (topics) {\n        obj.forEach(function (topic) {\n          return topics.set(topic.key, controller.run('deserializeTopic', _assign(_assign({}, props), {\n            obj: topic\n          })));\n        });\n      });\n      return topics;\n    },\n    serializeBlock: function serializeBlock(props) {\n      var block = props.block;\n      return block.toJS();\n    },\n    deserializeBlock: function deserializeBlock(props) {\n      var obj = props.obj;\n      return new Block(obj);\n    },\n    deserializeBlocks: function deserializeBlocks(props) {\n      var obj = props.obj,\n          controller = props.controller;\n      var blocks = List();\n      blocks = blocks.withMutations(function (blocks) {\n        obj.forEach(function (block) {\n          return blocks.push(controller.run('deserializeBlock', _assign(_assign({}, props), {\n            obj: block\n          })));\n        });\n      });\n      return blocks;\n    }\n  };\n}\n\nexport { JsonSerializerPlugin };","import { ModelModifier, defaultTheme } from '@blink-mind/core';\nvar themeRandomColorSquare = {\n  name: 'default',\n  randomColor: true,\n  background: 'rgb(57,60,65)',\n  highlightColor: '#50C9CE',\n  marginH: 60,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5',\n    fontSize: '16px'\n  },\n  linkStyle: {\n    lineRadius: 5,\n    lineType: 'curve',\n    lineWidth: 3\n  },\n  rootTopic: {\n    contentStyle: {\n      fontSize: '36px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      fontSize: '24px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3\n    }\n  },\n  normalTopic: {\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 3\n    }\n  }\n};\nvar theme1 = {\n  name: 'theme1',\n  randomColor: false,\n  background: 'rgb(250,245,205)',\n  highlightColor: '#50C9CE',\n  marginH: 50,\n  marginV: 30,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: 'rgb(221, 170, 68)',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: 'rgb(221, 170, 68)'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#e8eaec',\n      borderWidth: '2px',\n      borderStyle: 'solid',\n      borderColor: 'rgb(221, 170, 68)',\n      borderRadius: '5px',\n      fontSize: '17px',\n      padding: '10px 15px 10px 15px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: 'rgb(221, 170, 68)'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#fff',\n      border: '1px solid #e8eaec',\n      borderRadius: '20px',\n      color: 'rgb(187, 136, 34)',\n      fontSize: '13px',\n      padding: '4px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: 1,\n      lineColor: 'rgb(187, 136, 34)'\n    }\n  }\n};\nvar theme2 = {\n  name: 'theme2',\n  randomColor: false,\n  background: '#f8f8f8',\n  highlightColor: '#50C9CE',\n  marginH: 45,\n  marginV: 10,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: '#50C18A',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#ffffff',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: 'rgb(221, 170, 68)',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '14px',\n      padding: '6px 10px 5px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#fff',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '13px',\n      padding: '3px 9px 4px',\n      boxShadow: '1px 1px 1px #ccc'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: 1,\n      lineColor: '#43a9ff'\n    }\n  }\n};\nvar theme3 = {\n  name: 'theme3',\n  randomColor: false,\n  background: '#A9DEF9',\n  highlightColor: '#50C9CE',\n  marginH: 50,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: '#FF99C8',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#FCF6BD',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#E4C1F9',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '14px',\n      padding: '6px 10px 5px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#E4FDE1',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '13px',\n      padding: '3px 9px 4px',\n      boxShadow: '1px 1px 1px #ccc'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: 1,\n      lineColor: '#43a9ff'\n    }\n  }\n};\nvar theme4 = {\n  name: 'theme3',\n  randomColor: false,\n  background: '#CCFBFE',\n  highlightColor: '#50C9CE',\n  marginH: 50,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: '#CD8987',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#CDACA1',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#E4C1F9',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '14px',\n      padding: '6px 10px 5px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'line',\n      lineWidth: 2,\n      lineColor: '#43a9ff'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#CDCACC',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '13px',\n      padding: '3px 9px 4px',\n      boxShadow: '1px 1px 1px #ccc'\n    },\n    subLinkStyle: {\n      lineType: 'line',\n      lineRadius: 5,\n      lineWidth: 1,\n      lineColor: '#43a9ff'\n    }\n  }\n};\n\nfunction ThemeSelectorPlugin() {\n  var themeMap = new Map([['default', defaultTheme], ['random-color-square', themeRandomColorSquare], ['theme1', theme1], ['theme2', theme2], ['theme3', theme3], ['theme4', theme4]]);\n  return {\n    getAllThemes: function getAllThemes(props) {\n      return themeMap;\n    },\n    setTheme: function setTheme(props) {\n      var model = props.model,\n          controller = props.controller,\n          themeKey = props.themeKey;\n      var allTheme = controller.run('getAllThemes', props);\n\n      if (!allTheme.has(themeKey)) {\n        throw new Error('setTheme: the theme key is not correct!');\n      }\n\n      var theme = allTheme.get(themeKey);\n      var newModel = ModelModifier.setTheme({\n        model: model,\n        theme: theme\n      });\n      controller.change(newModel);\n    }\n  };\n}\n\nexport { ThemeSelectorPlugin, theme1, theme2, theme3, theme4, themeRandomColorSquare };","import React from \"react\";\nimport { iconClassName } from \"@blink-mind/renderer-react\";\n\nexport function ToolbarItemOpen(props) {\n  const onClickOpenFile = e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \".json,.bm,.blinkmind\";\n    input.addEventListener(\"change\", evt => {\n      const file = evt.target.files[0];\n      const fr = new FileReader();\n      fr.onload = evt => {\n        const txt = evt.target.result;\n        let obj = JSON.parse(txt);\n        let model = controller.run(\"deserializeModel\", { controller, obj });\n        controller.change(model);\n      };\n      fr.readAsText(file);\n    });\n    input.click();\n  };\n  return (\n    <div\n      className={`bm-toolbar-item ${iconClassName(\"openfile\")}`}\n      onClick={onClickOpenFile}\n    />\n  );\n}\n","import React from \"react\";\nimport { DiagramLayoutType } from \"@blink-mind/core\";\nimport cx from \"classnames\";\nimport { Icon, iconClassName } from \"@blink-mind/renderer-react\";\nimport { Menu, MenuItem, Popover } from \"@blueprintjs/core\";\n\nexport function ToolbarItemLayout(props) {\n  const layoutDirs = [\n    [\n      DiagramLayoutType.LEFT_AND_RIGHT,\n      \"Left And Right\",\n      \"layout-left-and-right\"\n    ],\n    [DiagramLayoutType.LEFT_TO_RIGHT, \"Only Right\", \"layout-right\"],\n    [DiagramLayoutType.RIGHT_TO_LEFT, \"Only Left\", \"layout-left\"]\n  ];\n\n  const onClickSetLayout = layoutDir => e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n    controller.run(\"setLayoutDir\", { ...diagramProps, layoutDir });\n  };\n\n  return (\n    <div\n      className={cx(\"bm-toolbar-item\", iconClassName(\"layout-left-and-right\"))}\n    >\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <Menu>\n          {layoutDirs.map(dir => (\n            <MenuItem\n              key={dir[1]}\n              icon={Icon(dir[2])}\n              text={dir[1]}\n              onClick={onClickSetLayout(dir[0])}\n            />\n          ))}\n        </Menu>\n      </Popover>\n    </div>\n  );\n};\n","import defaultThemeImg from '../../images/default.jpg';\nimport theme1Img from '../../images/theme1.jpg';\nimport theme2Img from '../../images/theme2.jpg';\nimport theme3Img from '../../images/theme3.jpg';\nimport theme4Img from '../../images/theme4.jpg';\nimport cx from 'classnames';\nimport { iconClassName } from '@blink-mind/renderer-react';\nimport { Popover } from '@blueprintjs/core';\nimport React from 'react';\n\nexport function ToolbarItemTheme(props) {\n  const onClickSetTheme = themeKey => e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n    controller.run('setTheme', { ...diagramProps, themeKey });\n  };\n  const themes = [\n    ['default', defaultThemeImg],\n    ['theme1', theme1Img],\n    ['theme2', theme2Img],\n    ['theme3', theme3Img],\n    ['theme4', theme4Img]\n  ];\n\n  return (\n    <div className={cx('bm-toolbar-item', iconClassName('theme'))}>\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <div className=\"bm-popover-theme\">\n          {themes.map(theme => (\n            <div className=\"bm-theme-item\" onClick={onClickSetTheme(theme[0])}>\n              <img className=\"bm-theme-img\" src={theme[1]} alt={theme[0]} />\n            </div>\n          ))}\n        </div>\n      </Popover>\n    </div>\n  );\n}\n","import { Model } from \"@blink-mind/core\";\n\nexport function createKey() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    const r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport const downloadFile = (url, filename) => {\n  const link = document.createElement(\"a\");\n  link.href = url;\n  link.download = filename;\n  link.click();\n};\n\nexport function generateSimpleModel() {\n\n  const rootKey = createKey();\n\n  return Model.create({\n    rootTopicKey: rootKey,\n    topics: [\n      {\n        key: rootKey,\n        blocks: [{ type: \"CONTENT\", data: \"MainTopic\" }],\n      }\n    ]\n  });\n}\n","import cx from \"classnames\";\nimport { iconClassName } from \"@blink-mind/renderer-react\";\nimport { Menu, MenuDivider, MenuItem, Popover } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport { downloadFile } from \"../../utils\";\n\nexport function ToolbarItemExport(props) {\n  const onClickExportJson = e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller, model } = diagramProps;\n\n    const json = controller.run(\"serializeModel\", diagramProps);\n    const jsonStr = JSON.stringify(json);\n    const url = `data:text/plain,${encodeURIComponent(jsonStr)}`;\n    const title = controller.run(\"getTopicTitle\", {\n      ...diagramProps,\n      topicKey: model.rootTopicKey\n    });\n    downloadFile(url, `${title}.blinkmind`);\n  };\n\n  return (\n    <div className={cx(\"bm-toolbar-item\", iconClassName(\"export\"))}>\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <Menu>\n          <MenuItem text=\"JSON(.json)\" onClick={onClickExportJson} />\n          <MenuDivider />\n        </Menu>\n      </Popover>\n    </div>\n  );\n}\n","import React from \"react\";\nimport cx from \"classnames\";\nimport \"./Toolbar.css\";\nimport { iconClassName, Icon } from \"@blink-mind/renderer-react\";\nimport { ToolbarItemOpen } from \"./toolbar-item-open\";\nimport { ToolbarItemLayout } from \"./toolbar-item-layout\";\nimport { ToolbarItemTheme } from \"./toolbar-item-theme\";\nimport { ToolbarItemExport } from \"./toolbar-item-export\";\n\n// import debug from \"debug\";\n// const log = debug(\"app\");\n\nexport class Toolbar extends React.PureComponent {\n  render() {\n    const props = this.props;\n\n    const { onClickUndo, onClickRedo, canUndo, canRedo } = props;\n\n    return (\n      <div className=\"bm-toolbar\">\n        <ToolbarItemOpen {...props} />\n        <ToolbarItemExport {...props} />\n        <ToolbarItemTheme {...props} />\n        <ToolbarItemLayout {...props} />\n\n        <div\n          className={cx(\"bm-toolbar-item\", iconClassName(\"undo\"), {\n            \"bm-toolbar-item-disabled\": !canUndo\n          })}\n          onClick={onClickUndo}\n        />\n\n        <div\n          className={cx(\"bm-toolbar-item\", iconClassName(\"redo\"), {\n            \"bm-toolbar-item-disabled\": !canRedo\n          })}\n          onClick={onClickRedo}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Diagram } from \"@blink-mind/renderer-react\";\nimport RichTextEditorPlugin from \"@blink-mind/plugin-rich-text-editor\";\nimport { JsonSerializerPlugin } from \"@blink-mind/plugin-json-serializer\";\nimport { ThemeSelectorPlugin } from \"@blink-mind/plugin-theme-selector\";\nimport { Toolbar } from \"./toolbar/toolbar\";\nimport { generateSimpleModel } from \"../utils\";\nimport \"@blink-mind/renderer-react/lib/main.css\";\nimport debug from \"debug\";\nconst log = debug(\"app\");\n\nconst plugins = [\n  RichTextEditorPlugin(),\n  JsonSerializerPlugin(),\n  ThemeSelectorPlugin()\n];\n\nexport class Mindmap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.initModel();\n  }\n\n  diagram;\n  diagramRef = ref => {\n    this.diagram = ref;\n    this.setState({});\n  };\n\n  initModel() {\n    const model = generateSimpleModel();\n    this.state = { model };\n  }\n\n  onClickUndo = e => {\n    const props = this.diagram.getDiagramProps();\n    const { controller } = props;\n    controller.run(\"undo\", props);\n  };\n\n  onClickRedo = e => {\n    const props = this.diagram.getDiagramProps();\n    const { controller } = props;\n    controller.run(\"redo\", props);\n  };\n\n  renderDiagram() {\n    return (\n      <Diagram\n        ref={this.diagramRef}\n        model={this.state.model}\n        onChange={this.onChange}\n        plugins={plugins}\n      />\n    );\n  }\n\n  renderToolbar() {\n    const props = this.diagram.getDiagramProps();\n    const { controller } = props;\n    const canUndo = controller.run(\"canUndo\", props);\n    const canRedo = controller.run(\"canRedo\", props);\n    const toolbarProps = {\n      diagram: this.diagram,\n      onClickUndo: this.onClickUndo,\n      onClickRedo: this.onClickRedo,\n      canUndo,\n      canRedo,\n    };\n    return <Toolbar {...toolbarProps} />;\n  }\n\n  onChange = model => {\n    this.setState({\n      model\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"mindmap\">\n        {this.diagram && this.renderToolbar()}\n        {this.renderDiagram()}\n      </div>\n    );\n  }\n}\n\nexport default Mindmap;\n","import React from \"react\";\nimport Mindmap from \"./component/mindmap\";\nimport \"./App.css\";\n\nfunction App() {\n  return <Mindmap />;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nlet debugNameSpaces = [\n  \"app\"\n  // \"node:*\",\n];\n\nlocalStorage.debug = debugNameSpaces.join(\",\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console; // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n\n\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};"],"sourceRoot":""}