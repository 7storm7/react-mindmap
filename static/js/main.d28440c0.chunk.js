(window["webpackJsonpreact-mindmap"]=window["webpackJsonpreact-mindmap"]||[]).push([[0],{231:function(e,t,n){e.exports=n.p+"static/media/default.4f8c4983.jpg"},232:function(e,t,n){e.exports=n.p+"static/media/theme1.2f59f00b.jpg"},233:function(e,t,n){e.exports=n.p+"static/media/theme2.b18193fb.jpg"},234:function(e,t,n){e.exports=n.p+"static/media/theme3.61c97910.jpg"},253:function(e,t,n){e.exports=n(646)},258:function(e,t,n){},643:function(e,t,n){},645:function(e,t,n){},646:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),c=n.n(r),i=(n(258),n(216)),l=n(84),s=n(85),m=n(88),d=n(86),u=n(89),p=n(5),b=n(34),h=n(220),f=n(229),g=n(230),k=n(3),O=n.n(k),y=n(137),v=n(235),C=n(236),E=n(239),j=(n(643),n(231)),T=n.n(j),N=n(232),w=n.n(N),x=n(233),P=n.n(x),S=n(234),D=n.n(S),R=n(15),K=n.n(R),F=(K()("app"),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).items=[{icon:"openfile",label:"open file",clickHandler:n.showPopupOpenFile},{icon:"export",label:"export file",clickHandler:n.showPopupExport},{icon:"theme",label:"change theme",clickHandler:n.showPopupChangeTheme},{icon:"undo",label:"undo",clickHandler:n.handleUndo},{icon:"redo",label:"redo",clickHandler:n.handleRedo}],n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClickExportJson,n=e.onClickOpenFile,a=e.onClickChangeTheme,r=e.onClickUndo,c=e.onClickRedo,i=e.canUndo,l=e.canRedo,s=[["default",T.a],["theme1",w.a],["theme2",P.a],["theme3",D.a]];return o.a.createElement("div",{className:"bm-toolbar"},o.a.createElement("div",{className:"bm-toolbar-item ".concat(Object(b.d)("openfile")),onClick:n}),o.a.createElement("div",{className:O()("bm-toolbar-item",Object(b.d)("export"))},o.a.createElement(y.a,{enforceFocus:!1},o.a.createElement("div",{className:"bm-toolbar-popover-target"}),o.a.createElement(v.a,null,o.a.createElement(C.a,{text:"JSON(.json)",onClick:t}),o.a.createElement(E.a,null)))),o.a.createElement("div",{className:O()("bm-toolbar-item",Object(b.d)("theme"))},o.a.createElement(y.a,{enforceFocus:!1},o.a.createElement("div",{className:"bm-toolbar-popover-target"}),o.a.createElement("div",null,s.map((function(e){return o.a.createElement("div",{className:"bm-theme-item",onClick:a(e[0])},o.a.createElement("img",{className:"bm-theme-img",src:e[1]}))}))))),o.a.createElement("div",{className:O()("bm-toolbar-item",Object(b.d)("undo"),{"bm-toolbar-item-disabled":!i}),onClick:r}),o.a.createElement("div",{className:O()("bm-toolbar-item",Object(b.d)("redo"),{"bm-toolbar-item-disabled":!l}),onClick:c}))}}]),t}(o.a.Component)),J=function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()};n(644);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var _=K()("app"),H=[Object(h.a)(),Object(f.a)(),Object(g.a)()],M=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).diagramRef=function(e){n.diagram=e,n.setState({})},n.onClickOpenFile=function(e){var t=document.createElement("input"),a=n.diagram.getDiagramProps().controller;t.type="file",t.accept=".json",_("add onchange"),t.addEventListener("change",(function(e){var t=e.target.files[0],o=new FileReader;_("add fr onload"),o.onload=function(e){var t=e.target.result,o=JSON.parse(t);_("OpenFile:",o);var r=a.run("deserializeModel",{controller:a,obj:o});_("OpenFile:",r),n.setState({model:r})},o.readAsText(t)})),t.click()},n.onClickExportJson=function(e){var t=n.diagram.getDiagramProps(),a=t.controller.run("serializeModel",t),o=JSON.stringify(a),r="data:text/plain,".concat(encodeURIComponent(o));J(r,"example.json"),n.setState({showDialog:!1})},n.onClickChangeTheme=function(e){return function(t){var a=n.diagram.getDiagramProps();a.controller.run("selectTheme",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{themeKey:e}))}},n.onClickUndo=function(e){var t=n.diagram.getDiagramProps();t.controller.run("undo",t)},n.onClickRedo=function(e){var t=n.diagram.getDiagramProps();t.controller.run("redo",t)},n.onChange=function(e){n.setState({model:e})},n.initModel(),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"initModel",value:function(){var e=p.g.create({rootTopicKey:"root",topics:[{key:"root",blocks:[{type:"CONTENT",data:"MainTopic"}],subKeys:["sub1","sub2"]},{key:"sub1",parentKey:"root",blocks:[{type:"CONTENT",data:"SubTopic1"}],subKeys:["sub1_1","sub1_2"],collapse:!1},{key:"sub1_1",parentKey:"sub1",blocks:[{type:"CONTENT",data:"SubTopic"}],collapse:!1},{key:"sub1_2",parentKey:"sub1",blocks:[{type:"CONTENT",data:"SubTopic"}],collapse:!1},{key:"sub2",subKeys:["sub2_1","sub2_2"],parentKey:"root",blocks:[{type:"CONTENT",data:"SubTopic2"}]},{key:"sub2_1",parentKey:"sub2",blocks:[{type:"CONTENT",data:"SubTopic2"}],collapse:!1},{key:"sub2_2",parentKey:"sub2",blocks:[{type:"CONTENT",data:"SubTopic"}],collapse:!1}]});this.state={model:e}}},{key:"renderDiagram",value:function(){return o.a.createElement(b.b,{ref:this.diagramRef,model:this.state.model,onChange:this.onChange,plugins:H})}},{key:"renderToolbar",value:function(){var e=this.diagram.getDiagramProps(),t=e.controller,n=t.run("canUndo",e),a=t.run("canRedo",e),r={onClickExportJson:this.onClickExportJson,onClickOpenFile:this.onClickOpenFile,onClickChangeTheme:this.onClickChangeTheme,onClickUndo:this.onClickUndo,onClickRedo:this.onClickRedo,canUndo:n,canRedo:a};return o.a.createElement(F,r)}},{key:"renderDialog",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"mindmap"},this.diagram&&this.renderToolbar(),this.renderDiagram())}}]),t}(o.a.Component);n(645);var z=function(){return o.a.createElement(M,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));localStorage.debug=["app"].join(","),c.a.render(o.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[253,1,2]]]);
//# sourceMappingURL=main.d28440c0.chunk.js.map