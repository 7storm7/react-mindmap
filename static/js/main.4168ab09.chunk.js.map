{"version":3,"sources":["../../blink-mind-react/lib/main.js","component/ToolbarItem.js","utils/index.js","component/PopupContent.js","component/Toolbar.js","component/MindMap.js","App.js","serviceWorker.js","index.js"],"names":["window","module","exports","e","t","n","o","r","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","this","__extends","setPrototypeOf","__proto__","Array","constructor","Component","BaseWidget","a","u","UNDO","REDO","TOGGLE_COLLAPSE","SET_ITEM_CONTENT","SET_ITEM_DESC","FOCUS_ITEM","SET_EDIT_ITEM_KEY","SET_FOCUS_ITEM_MODE","SET_POPUP_MENU_ITEM_KEY","ADD_CHILD","ADD_SIBLING","DELETE_NODE","DRAG_AND_DROP","OpType","op","opMap","has","undoStack","push","undo","size","popUndoStack","pushRedoStack","peek","redo","redoStack","popRedoStack","pushUndoStack","pop","toggleCollapse","getItem","getSubItemKeys","merge","collapse","getCollapse","setItem","update","set","getKey","focusItem","getFocusItemKey","FocusItemMode","Normal","setFocusItemMode","getFocusItemMode","setEditingItemKey","getEditingItemKey","Editing","setPopupMenuItemKey","getPopupMenuItemKey","PopupMenu","setItemContent","getContent","Value","document","content","setItemDesc","desc","EditingDesc","addChild","MindNodeModel","uuidv4","addSibling","getRootItemKey","getParentKey","getParentItem","insert","indexOf","deleteNode","delete","getAllSubItemKeys","key","withMutations","length","toArray","getRelation","NodeRelationship","Sibling","Descendant","Ancestor","None","dragAndDrop","getEditorRootItemKey","setIn","Stack","Map","MindMapModelModifier","LEFT","RIGHT","ROOT","NodeWidgetDirection","PRIMARY_HAS_BORDER_NORMAL_NO_BORDER","ALL_HAS_BORDER","NodeStyle","LEFT_TO_RIGHT","RIGHT_TO_LEFT","LEFT_AND_RIGHT","DiagramLayoutDirection","defaultDiagramConfig","direction","nodeStyle","hMargin","vMargin","focusBorderPadding","theme","rootItemStyle","fontSize","borderRadius","padding","primaryItemStyle","normalItemStyle","editorRendererFn","createElement","DefaultNodeContentEditor","diagramState","nodeKey","saveRef","descEditorRenderFn","DefaultNodeDescEditor","focusItemsBorderRenderFn","DefaultFocusItemBorderSvg","getRef","ref","toString","map","btoa","unescape","encodeURIComponent","JSON","stringify","sources","sourceRoot","concat","join","all","atob","apply","arguments","querySelector","HTMLIFrameElement","contentDocument","head","id","refs","parts","v","f","base","css","media","sourceMap","g","insertInto","Error","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","parentNode","removeChild","splice","h","attrs","type","y","keys","forEach","setAttribute","transform","singleton","b","URL","createObjectURL","revokeObjectURL","Blob","rel","convertToAbsoluteUrls","href","styleSheet","cssText","createTextNode","DEBUG","_","M","filter","Boolean","childNodes","parentKey","subItemKeys","List","getDesc","contentToString","serialize","descToString","toJSON","createWith","Record","hmr","locals","__assign","assign","generatePathString","props","isRoot","generatePathStringRoot","config","generatePathStringNormal","generatePathStringForBorderNode","fromNodeKey","toNodeKey","dir","mindMapModel","getBoundingClientRect","Math","round","top","height","left","right","bottom","getItemVisualLevel","layout","layoutRoot","layoutNormal","setState","width","render","state","className","xmlns","version","strokeWidth","stroke","fill","defaultProps","LinkWidget","onDragStart","stopPropagation","onDragOver","preventDefault","onDragEnter","dragEnter","onDragLeave","nativeEvent","relatedTarget","contains","onDrop","onClick","isDoubleClick","setTimeout","showPopMenu","onDoubleClick","handlePopMenuVisibleChange","_handleClick","clientX","clientY","onKeyUp","which","TAB","componentDidUpdate","addEventListener","removeEventListener","draggable","style","NodePopupMenu","visible","handleVisibleChange","TopicContentWidget","setMindMapModel","DiagramState","rootItemKey","editorRootItemKey","itemMap","focusItemKey","focusItemMode","getRootItem","getEditorRootItem","getItemMap","getEditingDescItemKey","items","MindMapModel","onChange","MindDragScrollWidget","DiagramWidget","canDragFunc","getSelection","anchorNode","nodeType","Node","TEXT_NODE","componentDidMount","dragScrollWidget","setViewBoxScrollDelta","viewBox","configurable","DragScrollWidget","NodeLayerWidget","setViewBoxScroll","contentResizeCallback","oldContentRect","clientWidth","clientHeight","bigView","contentRect","contentResizeObserver","contentRef","observe","viewBoxRef","bigViewRef","setWidgetStyle","scrollLeft","scrollTop","onMouseDown","mouseKey","needKeyPressed","button","ctrlKey","_lastCoordX","_lastCoordY","onMouseMove","onMouseUp","handleContextMenu","widgetStyle","componentWillUnmount","contentStyle","children","location","protocol","host","pathname","replace","trim","test","renderItems","RootNodeWidget","needRelocation","layoutSubLinks","getNodeModel","getPartItems","slice","ceil","collapseIcon","oldCollapseIconRect","renderPartItems","NodeWidget","Fragment","shouldComponentUpdate","editorValue","debounce","readOnly","random","renderFocusItemBorder","reLayout","forceUpdate","x","rx","ry","onClickCollapse","dragSrcItemKey","collapseIconRef","renderSubItems","paddingTop","paddingBottom","paddingRight","paddingLeft","iconfont","target","root","rootRef","rootCanUse","NodePopupMenuItem","label","icon","opType","handleEditNotes","fireListener","observers","registerRefListener","MindDiagramModel","zoom","convertMindMapModelToRaw","title","convertRawToMindMapModel","ToolbarItem","console","log","clickHandler","cx","React","downloadFile","url","filename","link","download","click","PopupExportContent","model","data","json","Popup","close","PopupOpenFileContent","input","accept","evt","file","files","fr","FileReader","onload","txt","result","obj","parse","newDiagramState","readAsText","Toolbar","showPopupExport","registerPlugin","plugins","popupExport","showPopupOpenFile","popupOpenFile","toolbarItems","item","MindMap","onKeyDown","Keys","RETURN","arg","newState","mindModel","App","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"uKAEEA,OAD0DC,EAAOC,QAE1D,SAAUC,GACf,IAAIC,EAAI,GAER,SAASC,EAAEC,GACT,GAAIF,EAAEE,GAAI,OAAOF,EAAEE,GAAGJ,QACtB,IAAIK,EAAIH,EAAEE,GAAK,CACbE,EAAGF,EACHG,GAAG,EACHP,QAAS,IAEX,OAAOC,EAAEG,GAAGI,KAAKH,EAAEL,QAASK,EAAGA,EAAEL,QAASG,GAAIE,EAAEE,GAAI,EAAIF,EAAEL,QAG5D,OAAOG,EAAEM,EAAIR,EAAGE,EAAEO,EAAIR,EAAGC,EAAEQ,EAAI,SAAUV,EAAGC,EAAGE,GAC7CD,EAAEC,EAAEH,EAAGC,IAAMU,OAAOC,eAAeZ,EAAGC,EAAG,CACvCY,YAAY,EACZC,IAAKX,KAEND,EAAEE,EAAI,SAAUJ,GACjB,oBAAsBe,QAAUA,OAAOC,aAAeL,OAAOC,eAAeZ,EAAGe,OAAOC,YAAa,CACjGC,MAAO,WACLN,OAAOC,eAAeZ,EAAG,aAAc,CACzCiB,OAAO,KAERf,EAAED,EAAI,SAAUD,EAAGC,GACpB,GAAI,EAAIA,IAAMD,EAAIE,EAAEF,IAAK,EAAIC,EAAG,OAAOD,EACvC,GAAI,EAAIC,GAAK,iBAAmBD,GAAKA,GAAKA,EAAEkB,WAAY,OAAOlB,EAC/D,IAAIG,EAAIQ,OAAOQ,OAAO,MACtB,GAAIjB,EAAEE,EAAED,GAAIQ,OAAOC,eAAeT,EAAG,UAAW,CAC9CU,YAAY,EACZI,MAAOjB,IACL,EAAIC,GAAK,iBAAmBD,EAAG,IAAK,IAAII,KAAKJ,EAC/CE,EAAEQ,EAAEP,EAAGC,EAAG,SAAUH,GAClB,OAAOD,EAAEC,IACTmB,KAAK,KAAMhB,IAEf,OAAOD,GACND,EAAEA,EAAI,SAAUF,GACjB,IAAIC,EAAID,GAAKA,EAAEkB,WAAa,WAC1B,OAAOlB,EAAEqB,SACP,WACF,OAAOrB,GAET,OAAOE,EAAEQ,EAAET,EAAG,IAAKA,GAAIA,GACtBC,EAAEC,EAAI,SAAUH,EAAGC,GACpB,OAAOU,OAAOW,UAAUC,eAAehB,KAAKP,EAAGC,IAC9CC,EAAEsB,EAAI,GAAItB,EAAEA,EAAEuB,EAAI,IA9ChB,CA+CL,CAAC,SAAUzB,EAAGC,GACdD,EAAED,QAAU,EAAQ,IACnB,SAAUC,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAI,SAAUL,GAChB,SAASC,EAAEA,GACT,OAAOD,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAG5B,OAAOtB,EAAEH,EAAGD,GAAIC,EALV,CAMNC,EAAE,GAAG8B,WAEP/B,EAAEgC,WAAa5B,GACd,SAAUL,EAAGC,EAAGC,GACjB,aAEAS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAET,IAAId,EACAC,EAAIF,EAAE,GACNG,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,IACNuB,EAAIvB,EAAE,GACNO,EAAIP,EAAE,IACNiC,EAAIjC,EAAE,KACT,SAAUF,GACTA,EAAEA,EAAEoC,KAAO,GAAK,OAAQpC,EAAEA,EAAEqC,KAAO,GAAK,OAAQrC,EAAEA,EAAEsC,gBAAkB,GAAK,kBAAmBtC,EAAEA,EAAEuC,iBAAmB,GAAK,mBAAoBvC,EAAEA,EAAEwC,cAAgB,GAAK,gBAAiBxC,EAAEA,EAAEyC,WAAa,GAAK,aAAczC,EAAEA,EAAE0C,kBAAoB,GAAK,oBAAqB1C,EAAEA,EAAE2C,oBAAsB,GAAK,sBAAuB3C,EAAEA,EAAE4C,wBAA0B,GAAK,0BAA2B5C,EAAEA,EAAE6C,UAAY,IAAM,YAAa7C,EAAEA,EAAE8C,YAAc,IAAM,cAAe9C,EAAEA,EAAE+C,YAAc,IAAM,cAAe/C,EAAEA,EAAEgD,cAAgB,IAAM,gBAD9gB,CAEC7C,EAAIF,EAAEgD,SAAWhD,EAAEgD,OAAS,KAE9B,IAAIzB,EAAI,WACN,SAASxB,KAET,OAAOA,EAAEkD,GAAK,SAAUjD,EAAGC,EAAGE,EAAGC,GAC/B,GAAIF,EAAE4C,YAAa/C,EAAEmD,MAAMC,IAAIlD,GAAI,CACjC,IAAIgC,EAAIlC,EAAEmD,MAAMrC,IAAIZ,EAAZF,CAAeC,EAAGG,EAAGC,GAC7B,OAAOH,IAAMC,EAAEiC,MAAQlC,IAAMC,EAAEkC,MAAQnC,IAAMC,EAAEsC,YAAcvC,IAAMC,EAAEoC,mBAAqBvC,EAAEqD,UAAYrD,EAAEqD,UAAUC,KAAKpB,IAAKA,EAGhI,OAAOjC,GACND,EAAEuD,KAAO,SAAUtD,GACpB,OAAOD,EAAEqD,UAAUG,KAAO,IAAMvD,EAAID,EAAEyD,eAAgBzD,EAAE0D,cAAczD,GAAIA,EAAID,EAAEqD,UAAUM,QAAS1D,GAClGD,EAAE4D,KAAO,SAAU3D,GACpB,OAAOD,EAAE6D,UAAUL,KAAO,IAAMvD,EAAID,EAAE8D,eAAgB9D,EAAE+D,cAAc9D,IAAKA,GAC1ED,EAAE+D,cAAgB,SAAU9D,GAC7BD,EAAEqD,UAAYrD,EAAEqD,UAAUC,KAAKrD,IAC9BD,EAAEyD,aAAe,WAClB,IAAIxD,EAAID,EAAEqD,UAAUM,OACpB,OAAO3D,EAAEqD,UAAYrD,EAAEqD,UAAUW,MAAO/D,GACvCD,EAAE0D,cAAgB,SAAUzD,GAC7BD,EAAE6D,UAAY7D,EAAE6D,UAAUP,KAAKrD,IAC9BD,EAAE8D,aAAe,WAClB,IAAI7D,EAAID,EAAE6D,UAAUF,OACpB,OAAO3D,EAAE6D,UAAY7D,EAAE6D,UAAUG,MAAO/D,GACvCD,EAAEiE,eAAiB,SAAUhE,EAAGC,GACjC,IAAIC,EAAIF,EAAEiE,QAAQhE,GAClB,OAAO,IAAMC,EAAEgE,iBAAiBX,OAASrD,EAAIA,EAAEiE,MAAM,CACnDC,UAAWlE,EAAEmE,gBACXrE,EAAID,EAAEuE,QAAQtE,EAAGE,IAAKF,GACzBD,EAAEuE,QAAU,SAAUvE,EAAGC,GAC1B,OAAOD,EAAEwE,OAAO,UAAW,SAAUxE,GACnC,OAAOA,EAAEyE,IAAIxE,EAAEyE,SAAUzE,MAE1BD,EAAE2E,UAAY,SAAU3E,EAAGC,GAC5B,OAAOA,IAAMD,EAAE4E,oBAAsB5E,EAAIA,EAAEyE,IAAI,eAAgBxE,IAAK,OAASA,IAAMD,EAAIA,EAAEyE,IAAI,gBAAiBpE,EAAEwE,cAAcC,SAAU9E,GACvIA,EAAE+E,iBAAmB,SAAU/E,EAAGC,EAAGC,GACtC,OAAOA,IAAMF,EAAEgF,qBAAuBhF,EAAIA,EAAEyE,IAAI,gBAAiBvE,IAAKF,GACrEA,EAAEiF,kBAAoB,SAAUjF,EAAGC,GACpC,OAAOA,IAAMD,EAAEkF,sBAAwBjF,IAAMD,EAAE4E,oBAAsB5E,EAAIA,EAAEyE,IAAI,eAAgBxE,IAAKD,EAAEc,IAAI,mBAAqBT,EAAEwE,cAAcM,UAAYnF,EAAIA,EAAEyE,IAAI,gBAAiBpE,EAAEwE,cAAcM,WAAYnF,GACjNA,EAAEoF,oBAAsB,SAAUpF,EAAGC,GACtC,OAAOA,IAAMD,EAAEqF,wBAA0BpF,IAAMD,EAAE4E,oBAAsB5E,EAAIA,EAAEyE,IAAI,eAAgBxE,IAAKD,EAAEc,IAAI,mBAAqBT,EAAEwE,cAAcS,YAActF,EAAIA,EAAEyE,IAAI,gBAAiBpE,EAAEwE,cAAcS,aAActF,GACvNA,EAAEuF,eAAiB,SAAUtF,EAAGC,EAAGC,GACpC,IAAIC,EAAIH,EAAEiE,QAAQhE,GACdG,GAAI,EACR,OAAOD,IAAM,IAAMJ,EAAEqD,UAAUG,MAAQxD,EAAE+D,cAAc9D,GAAIG,EAAEoF,uBAAwB/E,EAAEgF,QAAUpF,EAAID,EAAEoF,aAAaE,WAAavF,EAAEuF,UAAWtF,EAAIA,EAAEgE,MAAM,CACxJuB,QAASxF,IACPF,EAAID,EAAEuE,QAAQtE,EAAGG,IAAKH,EAAIA,EAAEwE,IAAI,eAAgBvE,GAAIG,GAAKL,EAAE+D,cAAc9D,GAAIA,GAChFD,EAAE4F,YAAc,SAAU3F,EAAGC,EAAGC,GACjC,IAAIC,EAAIH,EAAEiE,QAAQhE,GACdgC,GAAI,EACR,OAAO9B,IAAM,IAAMJ,EAAEqD,UAAUG,MAAQxD,EAAE+D,cAAc9D,GAAIG,EAAEoF,uBAAwB/E,EAAEgF,QAAUvD,EAAI9B,EAAEoF,aAAaE,WAAavF,EAAEuF,UAAWtF,EAAIA,EAAEgE,MAAM,CACxJyB,KAAM1F,IACJF,EAAID,EAAEuE,QAAQtE,EAAGG,IAAKH,EAAIA,EAAEwE,IAAI,eAAgBvE,GAAGuE,IAAI,gBAAiBpE,EAAEwE,cAAciB,aAAc5D,GAAKlC,EAAE+D,cAAc9D,GAAIA,GAClID,EAAE+F,SAAW,SAAU9F,EAAGC,GAC3B,IAAIC,EAAIF,EAAEiE,QAAQhE,GAElB,GAAIC,EAAG,CACL,IAAIE,EAAID,EAAE4F,cAAc7E,OAAOe,EAAE+D,UACjC5F,EAAIA,EAAEoE,IAAI,YAAatE,EAAEuE,UAAWvE,EAAIA,EAAEsE,IAAI,YAAY,GAAID,OAAO,cAAe,SAAUxE,GAC5F,OAAOA,EAAEsD,KAAKjD,EAAEqE,YACdzE,EAAIA,EAAEuE,OAAO,UAAW,SAAUxE,GACpC,OAAOA,EAAEyE,IAAItE,EAAEuE,SAAUvE,GAAGsE,IAAIpE,EAAEqE,SAAUrE,KAC1CJ,EAAID,EAAEiF,kBAAkBhF,EAAGI,EAAEqE,UAGnC,OAAOzE,GACND,EAAEkG,WAAa,SAAUjG,EAAGC,GAC7B,IAAIC,EAAIF,EAAEiE,QAAQhE,GAClB,GAAIA,IAAMD,EAAEkG,iBAAkB,OAAOlG,EAErC,GAAIE,EAAG,CACL,IAAIE,EAAID,EAAE4F,cAAc7E,OAAOe,EAAE+D,UACjC5F,EAAIA,EAAEoE,IAAI,YAAatE,EAAEiG,gBACzB,IAAI3E,EAAIxB,EAAEoG,cAAcnG,GACxBuB,EAAIA,EAAE+C,OAAO,cAAe,SAAUxE,GACpC,OAAOA,EAAEsG,OAAOtG,EAAEuG,QAAQrG,GAAK,EAAGG,EAAEqE,YAClCzE,EAAIA,EAAEuE,OAAO,UAAW,SAAUxE,GACpC,OAAOA,EAAEyE,IAAIhD,EAAEiD,SAAUjD,GAAGgD,IAAIpE,EAAEqE,SAAUrE,KAC1CJ,EAAID,EAAEiF,kBAAkBhF,EAAGI,EAAEqE,UAGnC,OAAOzE,GACND,EAAEwG,WAAa,SAAUvG,EAAGC,GAC7B,GAAIA,IAAMD,EAAEkG,iBAAkB,OAAOlG,EACrC,IAAIE,EAAIF,EAAEiE,QAAQhE,GACdE,EAAIH,EAAEiE,QAAQ/D,EAAEiG,gBAChB/F,EAAID,EAAE+D,iBAAiBoC,QAAQrG,GACnC,OAAOE,EAAIA,EAAEoE,OAAO,cAAe,SAAUxE,GAC3C,OAAOA,EAAEyG,OAAOpG,KACdJ,EAAIA,EAAEwE,IAAI,eAAgBtE,EAAEiG,gBAAgB5B,OAAO,UAAW,SAAUrE,GAC1E,IAAIE,EAAIL,EAAE0G,kBAAkBzG,EAAGC,GAC/B,OAAQC,EAAIA,EAAEsE,IAAIrE,EAAEuG,IAAKvG,IAAIwG,cAAc,SAAU5G,GACnDA,EAAIA,EAAEyG,OAAOvG,GAEb,IAAK,IAAID,EAAI,EAAGE,EAAIE,EAAGJ,EAAIE,EAAE0G,OAAQ5G,IAAK,CACxC,IAAIG,EAAID,EAAEF,GACVD,EAAIA,EAAEyG,OAAOrG,GAGf,OAAOJ,OAGVA,EAAE0G,kBAAoB,SAAUzG,EAAGC,GACpC,IAAIC,EAAIF,EAAEiE,QAAQhE,GACdE,EAAI,GAER,GAAID,EAAEgE,iBAAiBX,KAAO,EAAG,CAC/B,IAAInD,EAAIF,EAAEgE,iBAAiB2C,UAC3B1G,EAAEkD,KAAKjD,GAEP,IAAK,IAAI6B,EAAI,EAAGT,EAAIpB,EAAG6B,EAAIT,EAAEoF,OAAQ3E,IAAK,CACxC,IAAIzB,EAAIgB,EAAES,GACV9B,EAAEkD,KAAKtD,EAAE0G,kBAAkBzG,EAAGQ,KAIlC,OAAOL,GACNJ,EAAE+G,YAAc,SAAU/G,EAAGC,EAAGC,GACjC,IAAIC,EAAIH,EAAEkE,QAAQjE,GACdG,EAAIJ,EAAEkE,QAAQhE,GAElB,GAAIC,GAAKC,EAAG,CACV,GAAID,EAAEiG,gBAAkBhG,EAAEgG,eAAgB,OAAOjE,EAAE6E,iBAAiBC,QAEpE,IAAK,IAAI5G,EAAIF,EAAGE,EAAE+F,gBAAiB,CACjC,GAAI/F,EAAE+F,iBAAmBhG,EAAEsE,SAAU,OAAOvC,EAAE6E,iBAAiBE,WAC/D7G,EAAIL,EAAEqG,cAAchG,EAAEqE,UAGxB,IAAKrE,EAAID,EAAGC,EAAE+F,gBAAiB,CAC7B,GAAI/F,EAAE+F,iBAAmBjG,EAAEuE,SAAU,OAAOvC,EAAE6E,iBAAiBG,SAC/D9G,EAAIL,EAAEqG,cAAchG,EAAEqE,WAI1B,OAAOvC,EAAE6E,iBAAiBI,MACzBpH,EAAEqH,YAAc,SAAUpH,EAAGC,EAAGC,GACjC,GAAID,IAAMD,EAAEqH,wBAA0BpH,IAAMC,GAAKH,EAAE+G,YAAY9G,EAAGC,EAAGC,KAAOgC,EAAE6E,iBAAiBG,SAAU,OAAOlH,EAChH,IAAIG,EAAIH,EAAEiE,QAAQhE,GACdG,EAAIJ,EAAEiE,QAAQ/D,GAClB,GAAIC,EAAEgG,iBAAmBjG,EAAG,OAAOF,EACnC,IAAIiC,EAAI9B,EAAEgG,eACN3E,EAAIxB,EAAEiE,QAAQhC,GAAGiC,iBACjB1D,EAAIgB,EAAE8E,QAAQrG,GAClBuB,EAAIA,EAAEgF,OAAOhG,GACb,IAAIe,EAAInB,EAAE8D,iBACV,OAAO3C,EAAIA,EAAE8B,KAAKpD,GAAID,EAAE2G,cAAc,SAAU5G,GAC9CA,EAAEuH,MAAM,CAAC,UAAWrF,EAAG,eAAgBT,GAAG8F,MAAM,CAAC,UAAWrH,EAAG,aAAcC,GAAGoH,MAAM,CAAC,UAAWpH,EAAG,eAAgBqB,GAAG+F,MAAM,CAAC,UAAWpH,EAAG,aAAa,MAE3JH,EAAEqD,UAAY5B,EAAE+F,QAASxH,EAAE6D,UAAYpC,EAAE+F,QAASxH,EAAEmD,MAAQ,IAAIsE,IAAI,CAAC,CAACtH,EAAEiC,KAAMpC,EAAEuD,MAAO,CAACpD,EAAEkC,KAAMrC,EAAE4D,MAAO,CAACzD,EAAEmC,gBAAiBtC,EAAEiE,gBAAiB,CAAC9D,EAAEoC,iBAAkBvC,EAAEuF,gBAAiB,CAACpF,EAAEqC,cAAexC,EAAE4F,aAAc,CAACzF,EAAEsC,WAAYzC,EAAE2E,WAAY,CAACxE,EAAEwC,oBAAqB3C,EAAE+E,kBAAmB,CAAC5E,EAAEuC,kBAAmB1C,EAAEiF,mBAAoB,CAAC9E,EAAEyC,wBAAyB5C,EAAEoF,qBAAsB,CAACjF,EAAE0C,UAAW7C,EAAE+F,UAAW,CAAC5F,EAAE2C,YAAa9C,EAAEkG,YAAa,CAAC/F,EAAE4C,YAAa/C,EAAEwG,YAAa,CAACrG,EAAE6C,cAAehD,EAAEqH,eAAgBrH,EArJ9f,GAwJRC,EAAEyH,qBAAuBlG,GACxB,SAAUxB,EAAGC,GACdD,EAAED,QAAU,EAAQ,MACnB,SAAUC,EAAGC,EAAGC,GACjB,aAEAS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IACL,SAAUjB,GACZA,EAAEA,EAAE8E,OAAS,GAAK,SAAU9E,EAAEA,EAAEsF,UAAY,GAAK,YAAatF,EAAEA,EAAEmF,QAAU,GAAK,UAAWnF,EAAEA,EAAE8F,YAAc,GAAK,cADjH,CAEF7F,EAAE4E,gBAAkB5E,EAAE4E,cAAgB,KAAM,SAAU7E,GACtDA,EAAEA,EAAE2H,KAAO,GAAK,OAAQ3H,EAAEA,EAAE4H,MAAQ,GAAK,QAAS5H,EAAEA,EAAE6H,KAAO,GAAK,OADtB,CAE5C5H,EAAE6H,sBAAwB7H,EAAE6H,oBAAsB,KAAM,SAAU9H,GAClEA,EAAEA,EAAE+H,oCAAsC,GAAK,sCAAuC/H,EAAEA,EAAEgI,eAAiB,GAAK,iBADxD,CAExD/H,EAAEgI,YAAchI,EAAEgI,UAAY,MAC/B,SAAUjI,EAAGC,EAAGC,GACjB,aAEAS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAET,IAAId,EACAC,EAAIF,EAAE,GACNG,EAAIH,EAAE,IACNgC,EAAIhC,EAAE,IACNuB,EAAIvB,EAAE,IACNO,EAAIP,EAAE,IACT,SAAUF,GACTA,EAAEA,EAAEkI,cAAgB,GAAK,gBAAiBlI,EAAEA,EAAEmI,cAAgB,GAAK,gBAAiBnI,EAAEA,EAAEoI,eAAiB,GAAK,iBAD/G,CAECjI,EAAIF,EAAEoI,yBAA2BpI,EAAEoI,uBAAyB,KAAMpI,EAAEqI,qBAAuB,CAC3FC,UAAWpI,EAAEiI,eACbI,UAAW/H,EAAEwH,UAAUD,eACvBS,QAAS,GACTC,QAAS,GACTC,mBAAoB,EACpBC,MAAO,eACPC,cAAe,CACbC,SAAU,OACVC,aAAc,OACdC,QAAS,aAEXC,iBAAkB,CAChBH,SAAU,OACVC,aAAc,MACdC,QAAS,KAEXE,gBAAiB,CACfJ,SAAU,OACVC,aAAc,MACdC,QAAS,KAEXG,iBAAkB,SAA0BnJ,EAAGC,EAAGC,EAAGC,GACnD,OAAOC,EAAEgJ,cAAc/I,EAAEgJ,yBAA0B,CACjDC,aAActJ,EACdkD,GAAIjD,EACJsJ,QAASrJ,EACTsJ,QAASrJ,KAGbsJ,mBAAoB,SAA4BzJ,EAAGC,EAAGC,EAAGC,GACvD,OAAOC,EAAEgJ,cAAclH,EAAEwH,sBAAuB,CAC9CJ,aAActJ,EACdkD,GAAIjD,EACJsJ,QAASrJ,EACTsJ,QAASrJ,KAGbwJ,yBAA0B,SAAkC3J,EAAGC,EAAGC,GAChE,OAAOE,EAAEgJ,cAAc3H,EAAEmI,0BAA2B,CAClDN,aAActJ,EACdwJ,QAASvJ,EACT4J,OAAQ3J,EACR4J,IAAK7J,EAAE,2BAIZ,SAAUD,EAAGC,GACdD,EAAED,QAAU,SAAUC,GACpB,IAAIC,EAAI,GACR,OAAOA,EAAE8J,SAAW,WAClB,OAAOrI,KAAKsI,IAAI,SAAU/J,GACxB,IAAIC,EAAI,SAAUF,EAAGC,GACnB,IAAIC,EACAC,EAAIH,EAAE,IAAM,GACZI,EAAIJ,EAAE,GACV,IAAKI,EAAG,OAAOD,EAEf,GAAIF,GAAK,mBAAqBgK,KAAM,CAClC,IAAI5J,GAAKH,EAAIE,EAAG,mEAAqE6J,KAAKC,SAASC,mBAAmBC,KAAKC,UAAUnK,MAAQ,OACzIgC,EAAI9B,EAAEkK,QAAQN,IAAI,SAAUhK,GAC9B,MAAO,iBAAmBI,EAAEmK,WAAavK,EAAI,QAE/C,MAAO,CAACG,GAAGqK,OAAOtI,GAAGsI,OAAO,CAACnK,IAAIoK,KAAK,MAGxC,MAAO,CAACtK,GAAGsK,KAAK,MAdV,CAeNxK,EAAGD,GAEL,OAAOC,EAAE,GAAK,UAAYA,EAAE,GAAK,IAAMC,EAAI,IAAMA,IAChDuK,KAAK,KACPxK,EAAEI,EAAI,SAAUL,EAAGE,GACpB,iBAAmBF,IAAMA,EAAI,CAAC,CAAC,KAAMA,EAAG,MAExC,IAAK,IAAIG,EAAI,GAAIC,EAAI,EAAGA,EAAIsB,KAAKmF,OAAQzG,IAAK,CAC5C,IAAIC,EAAIqB,KAAKtB,GAAG,GAChB,iBAAmBC,IAAMF,EAAEE,IAAK,GAGlC,IAAKD,EAAI,EAAGA,EAAIJ,EAAE6G,OAAQzG,IAAK,CAC7B,IAAI8B,EAAIlC,EAAEI,GACV,iBAAmB8B,EAAE,IAAM/B,EAAE+B,EAAE,MAAQhC,IAAMgC,EAAE,GAAKA,EAAE,GAAKhC,EAAIA,IAAMgC,EAAE,GAAK,IAAMA,EAAE,GAAK,UAAYhC,EAAI,KAAMD,EAAEqD,KAAKpB,MAEvHjC,IAEJ,SAAUD,EAAGC,EAAGC,GACjB,IAAIC,EACAC,EACAC,EAAI,GACJ6B,GAAK/B,EAAI,WACX,OAAON,QAAU6F,UAAYA,SAASgF,MAAQ7K,OAAO8K,MACpD,WACD,YAAO,IAAWvK,IAAMA,EAAID,EAAEyK,MAAMlJ,KAAMmJ,YAAazK,IAErDqB,EAAI,SAAUzB,GAChB,IAAIC,EAAI,GACR,OAAO,SAAUD,GACf,GAAI,mBAAqBA,EAAG,OAAOA,IAEnC,QAAI,IAAWC,EAAED,GAAI,CACnB,IAAIE,EAAI,SAAUF,GAChB,OAAO0F,SAASoF,cAAc9K,IAC9BO,KAAKmB,KAAM1B,GAEb,GAAIH,OAAOkL,mBAAqB7K,aAAaL,OAAOkL,kBAAmB,IACrE7K,EAAIA,EAAE8K,gBAAgBC,KACtB,MAAOjL,GACPE,EAAI,KAEND,EAAED,GAAKE,EAGT,OAAOD,EAAED,IAlBL,GAqBJS,EAAI,KACJ0B,EAAI,EACJX,EAAI,GACJlB,EAAIJ,EAAE,IAEV,SAASQ,EAAEV,EAAGC,GACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAE6G,OAAQ3G,IAAK,CACjC,IAAIC,EAAIH,EAAEE,GACNE,EAAIC,EAAEF,EAAE+K,IAEZ,GAAI9K,EAAG,CACLA,EAAE+K,OAEF,IAAK,IAAIjJ,EAAI,EAAGA,EAAI9B,EAAEgL,MAAMvE,OAAQ3E,IAClC9B,EAAEgL,MAAMlJ,GAAG/B,EAAEiL,MAAMlJ,IAGrB,KAAOA,EAAI/B,EAAEiL,MAAMvE,OAAQ3E,IACzB9B,EAAEgL,MAAM9H,KAAK+H,EAAElL,EAAEiL,MAAMlJ,GAAIjC,QAExB,CACL,IAAIwB,EAAI,GAER,IAAKS,EAAI,EAAGA,EAAI/B,EAAEiL,MAAMvE,OAAQ3E,IAC9BT,EAAE6B,KAAK+H,EAAElL,EAAEiL,MAAMlJ,GAAIjC,IAGvBI,EAAEF,EAAE+K,IAAM,CACRA,GAAI/K,EAAE+K,GACNC,KAAM,EACNC,MAAO3J,KAMf,SAAS6J,EAAEtL,EAAGC,GACZ,IAAK,IAAIC,EAAI,GAAIC,EAAI,GAAIC,EAAI,EAAGA,EAAIJ,EAAE6G,OAAQzG,IAAK,CACjD,IAAIC,EAAIL,EAAEI,GACN8B,EAAIjC,EAAEsL,KAAOlL,EAAE,GAAKJ,EAAEsL,KAAOlL,EAAE,GAC/BoB,EAAI,CACN+J,IAAKnL,EAAE,GACPoL,MAAOpL,EAAE,GACTqL,UAAWrL,EAAE,IAEfF,EAAE+B,GAAK/B,EAAE+B,GAAGkJ,MAAM9H,KAAK7B,GAAKvB,EAAEoD,KAAKnD,EAAE+B,GAAK,CACxCgJ,GAAIhJ,EACJkJ,MAAO,CAAC3J,KAIZ,OAAOvB,EAGT,SAASyL,EAAE3L,EAAGC,GACZ,IAAIC,EAAIuB,EAAEzB,EAAE4L,YACZ,IAAK1L,EAAG,MAAM,IAAI2L,MAAM,+GACxB,IAAI1L,EAAIqB,EAAEA,EAAEqF,OAAS,GACrB,GAAI,QAAU7G,EAAE8L,SAAU3L,EAAIA,EAAE4L,YAAc7L,EAAE8L,aAAa/L,EAAGE,EAAE4L,aAAe7L,EAAE+L,YAAYhM,GAAKC,EAAE8L,aAAa/L,EAAGC,EAAEgM,YAAa1K,EAAE8B,KAAKrD,QAAQ,GAAI,WAAaD,EAAE8L,SAAU5L,EAAE+L,YAAYhM,OAAQ,CACrM,GAAI,iBAAmBD,EAAE8L,WAAa9L,EAAE8L,SAASK,OAAQ,MAAM,IAAIN,MAAM,8LACzE,IAAIzL,EAAIqB,EAAEzB,EAAE4L,WAAa,IAAM5L,EAAE8L,SAASK,QAC1CjM,EAAE8L,aAAa/L,EAAGG,IAItB,SAASI,EAAER,GACT,GAAI,OAASA,EAAEoM,WAAY,OAAO,EAClCpM,EAAEoM,WAAWC,YAAYrM,GACzB,IAAIC,EAAIuB,EAAE+E,QAAQvG,GAClBC,GAAK,GAAKuB,EAAE8K,OAAOrM,EAAG,GAGxB,SAASsM,EAAEvM,GACT,IAAIC,EAAIyF,SAAS0D,cAAc,SAC/B,YAAO,IAAWpJ,EAAEwM,MAAMC,OAASzM,EAAEwM,MAAMC,KAAO,YAAaC,EAAEzM,EAAGD,EAAEwM,OAAQb,EAAE3L,EAAGC,GAAIA,EAGzF,SAASyM,EAAE1M,EAAGC,GACZU,OAAOgM,KAAK1M,GAAG2M,QAAQ,SAAU1M,GAC/BF,EAAE6M,aAAa3M,EAAGD,EAAEC,MAIxB,SAASmL,EAAErL,EAAGC,GACZ,IAAIC,EAAGC,EAAGC,EAAGC,EAEb,GAAIJ,EAAE6M,WAAa9M,EAAEwL,IAAK,CACxB,KAAMnL,EAAIJ,EAAE6M,UAAU9M,EAAEwL,MAAO,OAAO,aACtCxL,EAAEwL,IAAMnL,EAGV,GAAIJ,EAAE8M,UAAW,CACf,IAAI7K,EAAIC,IACRjC,EAAIO,IAAMA,EAAI8L,EAAEtM,IAAKE,EAAI6M,EAAE5L,KAAK,KAAMlB,EAAGgC,GAAG,GAAK9B,EAAI4M,EAAE5L,KAAK,KAAMlB,EAAGgC,GAAG,QACnElC,EAAE0L,WAAa,mBAAqBuB,KAAO,mBAAqBA,IAAIC,iBAAmB,mBAAqBD,IAAIE,iBAAmB,mBAAqBC,MAAQ,mBAAqBnD,MAAQ/J,EAAI,SAAUF,GAChN,IAAIC,EAAIyF,SAAS0D,cAAc,QAC/B,YAAO,IAAWpJ,EAAEwM,MAAMC,OAASzM,EAAEwM,MAAMC,KAAO,YAAazM,EAAEwM,MAAMa,IAAM,aAAcX,EAAEzM,EAAGD,EAAEwM,OAAQb,EAAE3L,EAAGC,GAAIA,EAFmF,CAGtMA,GAAIE,EAAI,SAAUH,EAAGC,EAAGC,GACxB,IAAIC,EAAID,EAAEsL,IACNpL,EAAIF,EAAEwL,UACNrL,OAAI,IAAWJ,EAAEqN,uBAAyBlN,GAC7CH,EAAEqN,uBAAyBjN,KAAOF,EAAIG,EAAEH,IAAKC,IAAMD,GAAK,uDAAyD8J,KAAKC,SAASC,mBAAmBC,KAAKC,UAAUjK,MAAQ,OAC1K,IAAI8B,EAAI,IAAIkL,KAAK,CAACjN,GAAI,CACpBsM,KAAM,aAEJhL,EAAIzB,EAAEuN,KACVvN,EAAEuN,KAAON,IAAIC,gBAAgBhL,GAAIT,GAAKwL,IAAIE,gBAAgB1L,IAC1DL,KAAK,KAAMlB,EAAGD,GAAIG,EAAI,WACtBI,EAAEN,GAAIA,EAAEqN,MAAQN,IAAIE,gBAAgBjN,EAAEqN,SAClCrN,EAAIqM,EAAEtM,GAAIE,EAAI,SAAUH,EAAGC,GAC/B,IAAIC,EAAID,EAAEuL,IACNrL,EAAIF,EAAEwL,MACV,GAAItL,GAAKH,EAAE6M,aAAa,QAAS1M,GAAIH,EAAEwN,WAAYxN,EAAEwN,WAAWC,QAAUvN,MAAO,CAC/E,KAAOF,EAAEkM,YACPlM,EAAEqM,YAAYrM,EAAEkM,YAGlBlM,EAAEiM,YAAYvG,SAASgI,eAAexN,MAExCkB,KAAK,KAAMlB,GAAIE,EAAI,WACnBI,EAAEN,KAGJ,OAAOC,EAAEH,GAAI,SAAUC,GACrB,GAAIA,EAAG,CACL,GAAIA,EAAEuL,MAAQxL,EAAEwL,KAAOvL,EAAEwL,QAAUzL,EAAEyL,OAASxL,EAAEyL,YAAc1L,EAAE0L,UAAW,OAC3EvL,EAAEH,EAAIC,QACDG,KAIXJ,EAAED,QAAU,SAAUC,EAAGC,GACvB,GAAI,oBAAsB0N,OAASA,OAAS,iBAAmBjI,SAAU,MAAM,IAAImG,MAAM,iEACxF5L,EAAIA,GAAK,IAAIuM,MAAQ,iBAAmBvM,EAAEuM,MAAQvM,EAAEuM,MAAQ,GAAIvM,EAAE8M,WAAa,kBAAoB9M,EAAE8M,YAAc9M,EAAE8M,UAAY7K,KAAMjC,EAAE2L,aAAe3L,EAAE2L,WAAa,QAAS3L,EAAE6L,WAAa7L,EAAE6L,SAAW,UAC7M,IAAI5L,EAAIoL,EAAEtL,EAAGC,GACb,OAAOS,EAAER,EAAGD,GAAI,SAAUD,GACxB,IAAK,IAAIG,EAAI,GAAIC,EAAI,EAAGA,EAAIF,EAAE2G,OAAQzG,IAAK,CACzC,IAAI8B,EAAIhC,EAAEE,IACTqB,EAAIpB,EAAE6B,EAAEgJ,KAAKC,OAAQhL,EAAEmD,KAAK7B,GAG/B,IAAKzB,GAAKU,EAAE4K,EAAEtL,EAAGC,GAAIA,GAAIG,EAAI,EAAGA,EAAID,EAAE0G,OAAQzG,IAAK,CACjD,IAAIqB,EAEJ,GAAI,KAAOA,EAAItB,EAAEC,IAAI+K,KAAM,CACzB,IAAK,IAAI1K,EAAI,EAAGA,EAAIgB,EAAE2J,MAAMvE,OAAQpG,IAClCgB,EAAE2J,MAAM3K,YAGHJ,EAAEoB,EAAEyJ,QAMnB,IAAI0C,EACAC,GAAKD,EAAI,GAAI,SAAU5N,EAAGC,GAC5B,OAAO2N,EAAE5N,GAAKC,EAAG2N,EAAEE,OAAOC,SAAStD,KAAK,QAG1C,SAASuC,EAAEhN,EAAGC,EAAGC,EAAGC,GAClB,IAAIC,EAAIF,EAAI,GAAKC,EAAEqL,IACnB,GAAIxL,EAAEwN,WAAYxN,EAAEwN,WAAWC,QAAUI,EAAE5N,EAAGG,OAAQ,CACpD,IAAIC,EAAIqF,SAASgI,eAAetN,GAC5B8B,EAAIlC,EAAEgO,WACV9L,EAAEjC,IAAMD,EAAEqM,YAAYnK,EAAEjC,IAAKiC,EAAE2E,OAAS7G,EAAEgM,aAAa3L,EAAG6B,EAAEjC,IAAMD,EAAEiM,YAAY5L,MAGnF,SAAUL,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,IACNuB,EAAI,CACNkF,IAAK,KACLsH,UAAW,KACXtI,QAAS,KACTE,KAAM,KACNqI,YAAa7N,EAAE8N,OACf9J,UAAU,GAER5D,EAAI,SAAUT,GAChB,SAASC,IACP,OAAOD,EAAEO,KAAKmB,OAASA,KAGzB,OAAOtB,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUoD,OAAS,WACnC,OAAOhD,KAAKZ,IAAI,QACfb,EAAEqB,UAAU8E,aAAe,WAC5B,OAAO1E,KAAKZ,IAAI,cACfb,EAAEqB,UAAUkE,WAAa,WAC1B,OAAO9D,KAAKZ,IAAI,YACfb,EAAEqB,UAAU8M,QAAU,WACvB,OAAO1M,KAAKZ,IAAI,SACfb,EAAEqB,UAAU6C,eAAiB,WAC9B,OAAOzC,KAAKZ,IAAI,gBACfb,EAAEqB,UAAUgD,YAAc,WAC3B,OAAO5C,KAAKZ,IAAI,aACfb,EAAEqB,UAAU+M,gBAAkB,WAC/B,IAAIrO,EAAI0B,KAAK8D,aACb,MAAO,iBAAmBxF,EAAIA,EAAIkC,EAAEb,QAAQiN,UAAUtO,IACrDC,EAAEqB,UAAUiN,aAAe,WAC5B,IAAIvO,EAAI0B,KAAK0M,UACb,MAAO,iBAAmBpO,EAAIA,EAAIkC,EAAEb,QAAQiN,UAAUtO,IACrDC,EAAEqB,UAAUyI,SAAW,WACxB,OAAOrI,KAAK8M,SAASzE,YACpB9J,EAAEqB,UAAUkN,OAAS,WACtB,MAAO,CACL7H,IAAKjF,KAAKgD,SACVuJ,UAAWvM,KAAK0E,eAChB8H,YAAaxM,KAAKyC,iBAClBE,SAAU3C,KAAK4C,cACfqB,QAASjE,KAAK2M,kBACdxI,KAAMnE,KAAK6M,iBAEZtO,EAAEkB,OAAS,SAAUnB,EAAGE,EAAGC,EAAGC,EAAG8B,GAClC,YAAO,IAAWhC,IAAMA,EAAI,WAAO,IAAWC,IAAMA,EAAI,iBAAa,IAAWC,IAAMA,EAAIC,EAAE8N,KAAK,UAAM,IAAWjM,IAAMA,GAAI,GAAKjC,EAAEwO,WAAW,CAC5I9H,IAAK3G,EACLiO,UAAW/N,EACXyF,QAASxF,EACT+N,YAAa9N,EACbiE,SAAUnC,KAEXjC,EAAEwO,WAAa,SAAUzO,GAE1B,OADQ,IAAIC,GACHmE,MAAM,CACbuC,IAAK3G,EAAE2G,IACPsH,UAAWjO,EAAEiO,UACbtI,QAAS3F,EAAE2F,QACXE,KAAM7F,EAAE6F,KACRqI,YAAa7N,EAAE8N,KAAKnO,EAAEkO,aACtB7J,SAAUrE,EAAEqE,YAEbpE,EApDG,CAqDNI,EAAEqO,OAAOjN,IAEXxB,EAAE+F,cAAgBvF,GACjB,SAAUT,EAAGC,GACdD,EAAED,QAAU,EAAQ,IACnB,SAAUC,EAAGC,GACdD,EAAED,QAAU,EAAQ,MACnB,SAAUC,EAAGC,EAAGC,GACjB,aAEAS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAET,IAAId,EAAID,EAAE,IACVD,EAAEoB,QAAU,IAAIlB,EAAEkB,SACjB,SAAUrB,EAAGC,GACdD,EAAED,QAAU,EAAQ,MACnB,SAAUC,EAAGC,EAAGC,GACjB,IAAIC,EAAID,EAAE,IACV,iBAAmBC,IAAMA,EAAI,CAAC,CAACH,EAAEK,EAAGF,EAAG,MACvCD,EAAE,EAAFA,CAAKC,EAAG,CACNwO,KAAK,EACL7B,eAAW,EACXlB,gBAAY,IACVzL,EAAEyO,SAAW5O,EAAED,QAAUI,EAAEyO,SAC9B,SAAU5O,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAErFG,EAAIqB,MAAQA,KAAKmN,UAAYlO,OAAOmO,QAAU,SAAU9O,GAC1D,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAI0K,UAAUhE,OAAQ3G,EAAIC,EAAGD,IAC9C,IAAK,IAAIE,KAAKH,EAAI4K,UAAU3K,GAC1BS,OAAOW,UAAUC,eAAehB,KAAKN,EAAGG,KAAOJ,EAAEI,GAAKH,EAAEG,IAI5D,OAAOJ,GAGTW,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIiB,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,GACNO,EAAIP,EAAE,GACNiC,EAAI,SAAUnC,GAChB,SAASC,EAAEA,GACT,IAAIC,EAAIF,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAC3B,OAAOxB,EAAE6O,mBAAqB,WAC5B,OAAO7O,EAAE8O,MAAMC,OAAS/O,EAAEgP,yBAA2BhP,EAAE8O,MAAM1F,aAAa6F,OAAO3G,YAAc/H,EAAEwH,UAAUF,oCAAsC7H,EAAEkP,2BAA6BlP,EAAEmP,mCACjLnP,EAAEmP,gCAAkC,WACrC,IAAIrP,EAAIE,EAAE8O,MACN/O,EAAID,EAAEsP,YACNnP,EAAIH,EAAEuP,UACNnP,EAAIJ,EAAE6J,OACNxJ,EAAIL,EAAEwP,IACNtN,EAAIlC,EAAEsJ,aAAamG,aAAavL,QAAQjE,GAAGkE,iBAAiBX,KAC5D/B,EAAIrB,EAAE,SAAWH,GACjBkC,EAAI/B,EAAE,SAAWD,GACrB,IAAKsB,IAAMU,EAAG,MAAO,GACrB,IAAIX,EACAlB,EACAI,EACA4K,EACAK,EAAIvL,EAAE,YAAcH,GAAGyP,wBACvBlP,EAAI2B,EAAEuN,wBACNnD,EAAI9K,EAAEiO,wBACV,GAAIrP,IAAMI,EAAEqH,oBAAoBF,OAASpG,EAAIU,EAAI,EAAI,EAAI,EAAG5B,EAAIqP,KAAKC,MAAMrD,EAAEsD,IAAMtD,EAAEuD,OAAS,EAAInE,EAAEkE,KAAMnP,EAAIF,EAAEuP,KAAOxD,EAAEyD,MAAO1E,EAAIqE,KAAKC,MAAMpP,EAAEqP,IAAMrP,EAAEsP,OAAS,EAAInE,EAAEkE,OAASrO,EAAI+K,EAAEwD,KAAOpE,EAAEoE,MAAQ7N,EAAI,EAAI,EAAI,GAAI5B,EAAIqP,KAAKC,MAAMrD,EAAEsD,IAAMtD,EAAEuD,OAAS,EAAInE,EAAEkE,KAAMnP,EAAIiP,KAAKC,MAAMpP,EAAEwP,MAAQrE,EAAEoE,MAAOzE,EAAIqE,KAAKC,MAAMpP,EAAEqP,IAAMrP,EAAEsP,OAAS,EAAInE,EAAEkE,MAAOvP,IAAMgL,EAAG,MAAO,IAAM9J,EAAI,IAAMlB,EAAI,IAAMI,EAAI,IAAM4K,EAC3Y,IAAIoB,GAAKlL,EAAId,GAAK,EACd2K,GAAK/K,EAAIgL,GAAK,EAClB,OAAOjL,IAAMI,EAAEqH,oBAAoBF,MAAQ,IAAMpG,EAAI,IAAMlB,EAAI,IAAMkB,EAAI,IAAM6J,EAAI,IAAMqB,EAAI,IAAMpB,EAAI,IAAM5K,EAAI,IAAM4K,EAAI,IAAM5K,EAAI,IAAM4K,EAAI,IAAMoB,EAAI,IAAMpB,EAAI,IAAM9J,EAAI,IAAM6J,EAAI,IAAM7J,EAAI,IAAMlB,GACtMJ,EAAEkP,yBAA2B,WAC9B,IAAIpP,EAAIE,EAAE8O,MACN/O,EAAID,EAAEsP,YACNnP,EAAIH,EAAEuP,UACNnP,EAAIJ,EAAE6J,OACNxJ,EAAIL,EAAEwP,IACNtN,EAAIlC,EAAEsJ,aAAamG,aACnBhO,EAAIrB,EAAE,SAAWH,GACjBkC,EAAI/B,EAAE,SAAWD,GACrB,IAAKsB,IAAMU,EAAG,MAAO,GACrB,IAAIX,EAAIpB,EAAE,QAAUH,GAChBK,EAAIF,EAAE,YAAcH,GACpBS,EAAIyB,EAAEuN,wBACNpE,EAAI9J,EAAEkO,wBACN/D,EAAIrL,EAAEoP,wBACNlP,EAAI0B,EAAEgC,QAAQjE,GAElB,GAAII,IAAMI,EAAEqH,oBAAoBF,MAAO,CACrC,IAAI2E,EAAI,EACJG,EAAIiD,KAAKC,MAAMtE,EAAEuE,IAAMlE,EAAEkE,IAAM,GAC/BxE,EAAIsE,KAAKC,MAAMlP,EAAEqP,KAAOpE,EAAEoE,KAAO,IACjCnC,EAAI+B,KAAKC,MAAMlP,EAAEuP,OAAStE,EAAEkE,KAC5BhC,EAAI8B,KAAKC,MAAMlP,EAAEsP,MAAQrE,EAAEoE,KAAO,IAEtC,OAAO,IAAMvP,EAAE2D,iBAAiBX,MAAQtB,EAAEgO,mBAAmBjQ,GAAK,EAAI,IAAMsM,EAAI,IAAMqB,EAAI,KAAOlN,EAAEsP,MAAQrE,EAAEoE,MAAQrD,EAAIkB,EAAI,IAAMrB,EAAI,IAAMG,EAAI,KAAOrB,EAAI,MAAQuC,EAAI,IAAM,KAAOvC,EAAI,IAAMuC,EAAI,KAAOvC,EAAI,IAAM,IAAMuC,EAAI,KAAOC,EAAI,IAAMtB,EAAI,IAAMG,EAAI,KAAOrB,EAAI,MAAQuC,EAAI,IAAM,KAAOvC,EAAI,IAAMuC,EAAI,KAAOvC,EAAI,IAAM,IAAMuC,EAAI,KAAOC,EAGnV,OAAOtB,EAAIoD,KAAKC,MAAMtE,EAAEyE,KAAOpE,EAAEoE,MAAOrD,EAAIiD,KAAKC,MAAMtE,EAAEuE,IAAMlE,EAAEkE,IAAM,GAAIxE,EAAIsE,KAAKC,MAAMlP,EAAEsP,MAAQrE,EAAEoE,KAAO,IAAKnC,EAAI+B,KAAKC,MAAMlP,EAAEuP,OAAStE,EAAEkE,KAAMhC,EAAI8B,KAAKC,MAAMlP,EAAEqP,KAAOpE,EAAEoE,KAAO,IAAK,IAAMvP,EAAE2D,iBAAiBX,MAAQtB,EAAEgO,mBAAmBjQ,GAAK,EAAI,IAAMsM,EAAI,IAAMqB,EAAI,KAAOtC,EAAEyE,KAAOrP,EAAEsP,OAAStD,EAAIkB,EAAI,IAAMrB,EAAI,IAAMG,EAAI,KAAOrB,EAAI,MAAQuC,EAAI,IAAM,KAAOvC,EAAI,IAAMuC,EAAI,KAAOvC,EAAI,IAAM,IAAMuC,EAAI,KAAOC,EAAI,IAAMtB,EAAI,IAAMG,EAAI,KAAOrB,EAAI,MAAQuC,EAAI,IAAM,KAAOvC,EAAI,IAAMuC,EAAI,KAAOvC,EAAI,IAAM,IAAMuC,EAAI,KAAOC,GACngB3N,EAAEgP,uBAAyB,WAC5B,IAAIlP,EAAIE,EAAE8O,MACN/O,EAAID,EAAEsP,YACNnP,EAAIH,EAAEuP,UACNnP,EAAIJ,EAAE6J,OACNxJ,EAAIL,EAAEwP,IACNtN,EAAI9B,EAAE,SAAWH,GACjBwB,EAAIrB,EAAE,SAAWD,GACrB,IAAK+B,IAAMT,EAAG,MAAO,GACrB,IAAIU,EACAX,EACAlB,EACAI,EACA4K,EAAI7J,EAAEiO,wBACN/D,EAAIzJ,EAAEwN,wBAEV,GAAIrP,IAAMI,EAAEqH,oBAAoBF,MAAO,CACrC,IAAIpH,EAAIJ,EAAE,uBAAuBsP,wBACjCvN,EAAI,EAAGX,EAAImO,KAAKC,MAAMjE,EAAEkE,IAAMrP,EAAEqP,IAAMlE,EAAEmE,OAAS,GAAIxP,EAAIgL,EAAEyE,KAAOpE,EAAEqE,MAAOtP,EAAIiP,KAAKC,MAAMtE,EAAEuE,IAAMrP,EAAEqP,IAAMvE,EAAEwE,OAAS,QAChH3N,GAAK3B,EAAIJ,EAAE,sBAAsBsP,yBAAyBM,MAAQxP,EAAEuP,KAAMvO,EAAImO,KAAKC,MAAMjE,EAAEkE,IAAMrP,EAAEqP,IAAMlE,EAAEmE,OAAS,GAAIxP,EAAIqP,KAAKC,MAAMtE,EAAE0E,MAAQxP,EAAEuP,MAAOrP,EAAIiP,KAAKC,MAAMtE,EAAEuE,IAAMrP,EAAEqP,IAAMvE,EAAEwE,OAAS,GAE3M,GAAItO,IAAMd,EAAG,MAAO,IAAMyB,EAAI,IAAMX,EAAI,IAAMlB,EAAI,IAAMI,EACxD,IAAI6L,GAAKpK,EAAI7B,GAAK,EACdoM,GAAKlL,EAAId,GAAK,EAClB,OAAOL,IAAMI,EAAEqH,oBAAoBF,MAAQ,IAAMzF,EAAI,IAAMX,EAAI,IAAMW,EAAI,IAAMuK,EAAI,IAAMH,EAAI,IAAM7L,EAAI,IAAMJ,EAAI,IAAMI,EAAI,IAAMJ,EAAI,IAAMI,EAAI,IAAM6L,EAAI,IAAM7L,EAAI,IAAMyB,EAAI,IAAMuK,EAAI,IAAMvK,EAAI,IAAMX,GACtMtB,EAGL,OAAOE,EAAEH,EAAGD,GAAIC,EAAEqB,UAAU6O,OAAS,WACnCzO,KAAKsN,MAAMC,OAASvN,KAAK0O,aAAe1O,KAAK2O,gBAC5CpQ,EAAEqB,UAAU8O,WAAa,WAC1B,IAAIpQ,EAAI0B,KAAKsN,MACT/O,EAAID,EAAEwP,IACNtP,GAAI,EAAIF,EAAE6J,QAAQ,kBAAoB5J,IAAMQ,EAAEqH,oBAAoBH,KAAO,OAAS,UAEtF,GAAIzH,EAAG,CACL,IAAIC,EAAID,EAAEwP,wBACVhO,KAAK4O,SAAS,CACZC,MAAOpQ,EAAEoQ,MACTT,OAAQ3P,EAAE2P,WAGb7P,EAAEqB,UAAU+O,aAAe,WAC5B,IAAIrQ,GAAI,EAAI0B,KAAKsN,MAAMnF,QAAQ,YAAcnI,KAAKsN,MAAMM,aAExD,GAAItP,EAAG,CACL,IAAIC,EAAID,EAAE0P,wBACVhO,KAAK4O,SAAS,CACZC,MAAOtQ,EAAEsQ,MACTT,OAAQ7P,EAAE6P,WAGb7P,EAAEqB,UAAUkP,OAAS,WACtB,OAAO9O,KAAK+O,OAAS/O,KAAK+O,MAAMF,MAAQrO,EAAEkH,cAAc,MAAO,CAC7DsH,UAAW,WACVxO,EAAEkH,cAAc,MAAO/I,EAAE,CAC1BsQ,MAAO,6BACPC,QAAS,MACTC,YAAa,MACbC,OAAQ,SACRC,KAAM,QACLrP,KAAK+O,OAAQvO,EAAEkH,cAAc,IAAK,KAAMlH,EAAEkH,cAAc,OAAQ,CACjE1I,EAAGgB,KAAKqN,0BACF,MACP9O,EAAE+Q,aAAe,CAClB/B,QAAQ,GACPhP,EAxHG,CAyHNwB,EAAEQ,YAEJhC,EAAEgR,WAAa9O,GACd,SAAUnC,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,IACNO,EAAIP,EAAE,GACNiC,EAAIjC,EAAE,GACNsB,EAAItB,EAAE,GACNI,EAAIJ,EAAE,IACNQ,EAAI,KACJ4K,EAAI,SAAUtL,GAChB,SAASC,EAAEA,GACT,IAAIC,EAAIF,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAC3B,OAAOxB,EAAEgR,YAAc,SAAUlR,GAC/BU,EAAIR,EAAE8O,MAAMzF,QAASvJ,EAAEmR,mBACtBjR,EAAEkR,WAAa,SAAUpR,GAC1BA,EAAEqR,kBACDnR,EAAEoR,YAAc,WACjBpR,EAAEoQ,SAAS,CACTiB,WAAW,KAEZrR,EAAEsR,YAAc,SAAUxR,GAC3B,IAAIC,EAAIC,EAAE8O,MACN7O,EAAIF,EAAE4J,OACNzJ,EAAIH,EAAEsJ,QACNlJ,EAAIL,EAAEyR,YAAYC,cAClBxP,EAAI/B,EAAE,WAAaC,GACvB8B,GAAK7B,GAAK6B,EAAEyP,SAAStR,IAAMH,EAAEoQ,SAAS,CACpCiB,WAAW,KAEZrR,EAAE0R,OAAS,WACZ,IAAI5R,EAAIE,EAAE8O,MACN/O,EAAID,EAAEuJ,SACV,EAAIvJ,EAAEkD,IAAI1B,EAAEyB,OAAOD,cAAetC,EAAGT,GAAIC,EAAEoQ,SAAS,CAClDiB,WAAW,KAEZrR,EAAE2R,QAAU,WACb3R,EAAE4R,eAAgB,EAAIC,WAAW,WAC/B,IAAK7R,EAAE4R,cAAe,CACpB,IAAI9R,EAAIE,EAAE8O,MACN/O,EAAID,EAAEsJ,aACNnJ,EAAIH,EAAEkD,GACN9C,EAAIJ,EAAEuJ,QACV,GAAItJ,EAAEwP,aAAavK,sBAAwB9E,EAAG,OAC9CD,EAAEqB,EAAEyB,OAAOL,wBAAyBxC,GAAIF,EAAEoQ,SAAS,CACjD0B,aAAa,MAGhB,MACF9R,EAAE+R,cAAgB,WACnB/R,EAAE4R,eAAgB,EAClB,IAAI9R,EAAIE,EAAE8O,MACN/O,EAAID,EAAEsJ,aACNnJ,EAAIH,EAAEkD,GACN9C,EAAIJ,EAAEuJ,QACVtJ,EAAEwP,aAAavK,sBAAwB9E,GAAKD,EAAEqB,EAAEyB,OAAOP,kBAAmBtC,IACzEF,EAAEgS,2BAA6B,SAAUlS,GAC1CE,EAAEoQ,SAAS,CACT0B,YAAahS,KAEdE,EAAEiS,aAAe,SAAUnS,GAC5B,IAAIC,EAAIC,EAAE8O,MACN7O,GAAI,EAAIF,EAAE4J,QAAQ,WAAa5J,EAAEsJ,SAASmG,wBAC9C1P,EAAEoS,QAAUjS,EAAE4P,KAAO,IAAM/P,EAAEoS,QAAUjS,EAAE6P,MAAQ,IAAMhQ,EAAEqS,QAAUlS,EAAE0P,MAAQ7P,EAAEqS,QAASlS,EAAE8P,SACzF/P,EAAEoS,QAAU,SAAUtS,GACvB,IAAIC,EAAIC,EAAE8O,MACN7O,EAAIF,EAAEiD,GACN9C,EAAIH,EAAEsJ,QAEV,OAAQvJ,EAAEuS,OACR,KAAK9Q,EAAE+Q,IACLrS,EAAEqB,EAAEyB,OAAOJ,UAAWzC,KAEzBF,EAAEuQ,MAAQ,CACXc,WAAW,EACXS,aAAa,GACZ9R,EAGL,OAAOE,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUmR,mBAAqB,SAAUzS,EAAGC,EAAGC,GAC/D,IAAIC,EAAIuB,KAAKsN,MACT5O,EAAID,EAAEmJ,aACNjJ,EAAIF,EAAEoJ,QACVnJ,EAAEqP,aAAavK,sBAAwB7E,EAAIqF,SAASgN,iBAAiB,QAAShR,KAAKyQ,cAAgBzM,SAASiN,oBAAoB,QAASjR,KAAKyQ,eAC7IlS,EAAEqB,UAAUkP,OAAS,WACtB,IAAIxQ,EACAC,EACAC,EAAIwB,KAAKsN,MACT7O,EAAID,EAAEoJ,aACNlJ,EAAIF,EAAEgD,GACNzB,EAAIvB,EAAEqJ,QACN9I,EAAIP,EAAEsP,IACNhO,EAAItB,EAAE0S,UACNlS,EAAIR,EAAEsJ,QACN8B,EAAIpL,EAAE2J,OACN8B,EAAIxL,EAAEsP,aACNjP,EAAIL,EAAEgP,OACN5C,EAAIZ,EAAEuE,mBAAmBzO,GAE7B,OAAQ8K,GACN,KAAK,EACHtM,EAAIO,EAAEqI,cACN,MAEF,KAAK,EACH5I,EAAIO,EAAEyI,iBACN,MAEF,QACEhJ,EAAIO,EAAE0I,gBAGV,IAAIwD,EAAIhL,KAAK+O,MAAMuB,YACnB,OAAO3R,EAAE+I,cAAc,MAAO,CAC5BwJ,UAAWpR,EACXkP,UAAWxO,EAAE,WAAYlC,EAAI,GAAIA,EAAE,eAAiBS,GAAKA,IAAM0B,EAAE2F,oBAAoBD,KAAM7H,EAAE,cAAgB,IAAMuM,EAAGvM,EAAE,iBAAmB,IAAMuM,EAAGvM,EAAE,gBAAkBuM,EAAI,EAAGvM,EAAE,sBAAwB0B,KAAK+O,MAAMc,UAAWvR,IAC/N6S,MAAO5S,EACP6J,IAAKpJ,EAAE,WAAae,GACpByP,YAAaxP,KAAKwP,YAClBI,YAAa5P,KAAK4P,YAClBE,YAAa9P,KAAK8P,YAClBJ,WAAY1P,KAAK0P,WACjBQ,OAAQlQ,KAAKkQ,OACbC,QAASnQ,KAAKmQ,QACdI,cAAevQ,KAAKuQ,eACnBzR,EAAE2I,iBAAiBhJ,EAAGC,EAAGqB,EAAGf,GAAIgM,EAAIrM,EAAE+I,cAAc9I,EAAEwS,cAAe,CACtExJ,aAAcnJ,EACd+C,GAAI9C,EACJmJ,QAAS9H,EACTsR,SAAS,EACTC,oBAAqBtR,KAAKwQ,2BAC1BrI,OAAQyB,IACL,OACJrL,EA3HG,CA4HNQ,EAAEwB,YAEJhC,EAAEgT,mBAAqB3H,GACtB,SAAUtL,EAAGC,EAAGC,GACjB,aAEAS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAId,EAAID,EAAE,GACNE,EAAIF,EAAE,GACNG,EAAI,WACN,SAASL,EAAEA,EAAGC,GACZyB,KAAK+N,aAAezP,EAAG0B,KAAKyN,OAASlP,EAGvC,OAAOD,EAAEkT,gBAAkB,SAAUjT,EAAGC,GACtC,OAAO,IAAIF,EAAEE,EAAGD,EAAEkP,SACjBnP,EAAEkD,GAAK,SAAUjD,EAAGC,EAAGC,EAAGE,GAC3B,OAAOF,GAAKD,IAAME,EAAE6C,OAAOR,aAAetC,EAAIF,EAAEwP,aAAa7K,mBAAoB,IAAI5E,EAAEI,EAAEsH,qBAAqBxE,GAAGjD,EAAEwP,aAAcvP,EAAGC,EAAGE,GAAIJ,EAAEkP,SAC5InP,EAAEyO,WAAa,SAAUxO,EAAGC,GAC7B,OAAO,IAAIF,EAAEC,EAAGC,EAAIS,OAAOmO,OAAO3O,EAAEmI,qBAAsBpI,KACzDF,EAXG,GAcRC,EAAEkT,aAAe9S,GAChB,SAAUL,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,GACNO,EAAI,CACN2S,YAAa,KACbC,kBAAmB,KACnBC,QAASpR,EAAEuF,MACX8L,aAAc,KACdC,cAAenT,EAAEwE,cAAcC,QAE7B3C,EAAI,SAAUnC,GAChB,SAASC,IACP,OAAOD,EAAEO,KAAKmB,OAASA,KAGzB,OAAOtB,EAAEH,EAAGD,GAAIC,EAAEqB,UAAU6E,eAAiB,WAC3C,OAAOzE,KAAKZ,IAAI,gBACfb,EAAEqB,UAAUmS,YAAc,WAC3B,OAAO/R,KAAKwC,QAAQxC,KAAKyE,mBACxBlG,EAAEqB,UAAUgG,qBAAuB,WACpC,OAAO5F,KAAKZ,IAAI,sBACfb,EAAEqB,UAAUoS,kBAAoB,WACjC,OAAOhS,KAAKiS,aAAa7S,IAAIY,KAAK4F,yBACjCrH,EAAEqB,UAAUqS,WAAa,WAC1B,OAAOjS,KAAKZ,IAAI,YACfb,EAAEqB,UAAUsD,gBAAkB,WAC/B,OAAOlD,KAAKZ,IAAI,iBACfb,EAAEqB,UAAU0D,iBAAmB,WAChC,OAAOtD,KAAKZ,IAAI,kBACfb,EAAEqB,UAAU4D,kBAAoB,WACjC,OAAOxD,KAAKZ,IAAI,mBAAqBT,EAAEwE,cAAcM,QAAU,KAAOzD,KAAKkD,mBAC1E3E,EAAEqB,UAAUsS,sBAAwB,WACrC,OAAOlS,KAAKZ,IAAI,mBAAqBT,EAAEwE,cAAciB,YAAc,KAAOpE,KAAKkD,mBAC9E3E,EAAEqB,UAAU+D,oBAAsB,WACnC,OAAO3D,KAAKZ,IAAI,mBAAqBT,EAAEwE,cAAcS,UAAY,KAAO5D,KAAKkD,mBAC5E3E,EAAEqB,UAAU4C,QAAU,SAAUlE,GACjC,OAAO0B,KAAKiS,aAAa7S,IAAId,IAC5BC,EAAEqB,UAAU+E,cAAgB,SAAUrG,GACvC,IAAIC,EAAIyB,KAAKwC,QAAQlE,GACrB,OAAOC,EAAEmG,eAAiB1E,KAAKwC,QAAQjE,EAAEmG,gBAAkB,MAC1DnG,EAAEqB,UAAU4O,mBAAqB,SAAUlQ,GAC5C,IAAK,IAAIC,EAAIyB,KAAKwC,QAAQlE,GAAIE,EAAI,EAAGD,GAAKA,EAAEyE,WAAahD,KAAK4F,wBAC5DpH,IAAKD,EAAIyB,KAAK2E,cAAcpG,EAAEyE,UAGhC,OAAOxE,GACND,EAAEwO,WAAa,SAAUzO,GAC1B,IAAIE,EAAI,IAAID,EACZ,OAAQC,EAAIA,EAAEkE,MAAM,CAClBgP,YAAapT,EAAEoT,YACfC,kBAAmBrT,EAAEqT,qBACnBzM,cAAc,SAAU3G,GAC1BD,EAAE6T,MAAMjH,QAAQ,SAAU5M,GACxBC,EAAEuE,OAAO,UAAW,SAAUvE,GAC5B,OAAOA,EAAEwE,IAAIzE,EAAE2G,IAAKlF,EAAEuE,cAAcyI,WAAWzO,WAIpDC,EAhDG,CAiDNiC,EAAEwM,OAAOjO,IAEXR,EAAE6T,aAAe3R,GAChB,SAAUnC,EAAGC,EAAGC,GACjB,aAEA,SAASC,EAAEH,GACT,IAAK,IAAIE,KAAKF,EACZC,EAAEsB,eAAerB,KAAOD,EAAEC,GAAKF,EAAEE,IAIrCS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IACLd,EAAED,EAAE,KAAMC,EAAED,EAAE,KAAMC,EAAED,EAAE,KAAMC,EAAED,EAAE,KAAMC,EAAED,EAAE,IAAKC,EAAED,EAAE,KAAMC,EAAED,EAAE,IAAKC,EAAED,EAAE,KAC3E,SAAUF,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAET,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,IACNO,EAAIP,EAAE,GACVA,EAAE,IAEF,IAAIiC,EAAIjC,EAAE,IACNsB,EAAItB,EAAE,IACNI,EAAI,SAAUN,GAChB,SAASC,EAAEA,GACT,IAAIC,EAAIF,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAC3B,OAAOxB,EAAEgD,GAAK,SAAUlD,EAAGC,EAAGE,GAC5B,IAAIC,EAAIF,EAAE8O,MACN3O,EAAID,EAAEkJ,cACV,EAAIlJ,EAAE2T,UAAUvS,EAAE2R,aAAajQ,GAAG7C,EAAGL,EAAGC,EAAGE,KAC1CD,EAGL,OAAOE,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUkP,OAAS,WACnC,IAAIxQ,EAAI0B,KACJzB,EAAIyB,KAAKsN,MAAM1F,aACfpJ,EAAID,EAAEwP,aAAamE,wBACvB,OAAOvT,EAAE+I,cAAcjH,EAAEd,QAAS,KAAM,SAAUlB,EAAGC,GACnD,IAAIK,EACJ,OAAOJ,EAAE+I,cAAc,MAAO,CAC5BsH,UAAWxO,EAAE,cAAezB,EAAI,GAAIA,EAAE,GAAKR,EAAEkP,OAAOvG,QAAS,EAAInI,KAChEJ,EAAE+I,cAAc3H,EAAEuS,qBAAsB,CACzC1K,aAAcrJ,EACdiD,GAAIlD,EAAEkD,GACNsG,QAASrJ,EACT0J,OAAQzJ,IACNF,GAAKD,EAAEkP,OAAO1F,mBAAmBxJ,EAAGD,EAAEkD,GAAIhD,EAAGC,OAElDF,EAzBG,CA0BNQ,EAAEwB,YAEJhC,EAAEgU,cAAgB3T,GACjB,SAAUN,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAErFG,EAAIqB,MAAQA,KAAKmN,UAAYlO,OAAOmO,QAAU,SAAU9O,GAC1D,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAI0K,UAAUhE,OAAQ3G,EAAIC,EAAGD,IAC9C,IAAK,IAAIE,KAAKH,EAAI4K,UAAU3K,GAC1BS,OAAOW,UAAUC,eAAehB,KAAKN,EAAGG,KAAOJ,EAAEI,GAAKH,EAAEG,IAI5D,OAAOJ,GAGTW,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIiB,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,GACNO,EAAIP,EAAE,IACNiC,EAAIjC,EAAE,IACNsB,EAAI,SAAUxB,GAChB,SAASC,EAAEA,GACT,IAAIC,EAAIF,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAC3B,OAAOxB,EAAEgU,YAAc,WACrB,IAAIlU,EAAI0F,SAASyO,eACjB,OAAO,OAASnU,EAAEoU,YAAcpU,EAAEoU,WAAWC,WAAaC,KAAKC,WAC9DrU,EAGL,OAAOE,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUkT,kBAAoB,WAC9C,IAAIxU,EAAI0B,KAAKsN,MACT/O,EAAID,EAAE6J,OACN3J,EAAID,EAAE,SAAWD,EAAEsJ,aAAamG,aAAanI,wBAC7CnH,EAAIF,EAAE,cACNG,EAAIF,EAAEwP,wBACNrP,EAAIF,EAAEuP,wBACVhO,KAAK+S,iBAAiBC,sBAAsB,EAAGtU,EAAEyP,IAAMxP,EAAEwP,IAAMnO,KAAK+S,iBAAiBE,QAAQjF,wBAAwBI,OAAS,EAAI1P,EAAE0P,SACnInP,OAAOC,eAAeX,EAAEqB,UAAW,mBAAoB,CACxDR,IAAK,WACH,OAAOY,KAAKsN,MAAMnF,OAAO,qBAE3BhJ,YAAY,EACZ+T,cAAc,IACZ3U,EAAEqB,UAAUkP,OAAS,WACvB,IAAIxQ,EAAI0B,KACJzB,EAAIyB,KAAKsN,MAAMxF,QACnB,OAAOtH,EAAEkH,cAAc3I,EAAEoU,iBAAkBxU,EAAE,GAAIqB,KAAK+O,MAAO,CAC3D3G,IAAK7J,EAAE,sBACL,SAAUC,EAAGC,GACf,OAAO+B,EAAEkH,cAAcjH,EAAE2S,gBAAiBzU,EAAE,GAAIL,EAAEgP,MAAO,CACvD+F,iBAAkB7U,EAClBwU,sBAAuBvU,EACvB2J,IAAK7J,EAAE,6BAGVA,EAnCG,CAoCNwB,EAAEQ,YAEJhC,EAAE+T,qBAAuBxS,GACxB,SAAUxB,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAET,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,IACVA,EAAE,IAEF,IAAIO,EAAI,SAAUT,GAChB,SAASC,EAAEA,GACT,IAAIC,EAAIF,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAC3B,OAAOxB,EAAE8U,sBAAwB,SAAUhV,EAAGC,GAC5C,GAAIC,EAAE+U,eAAgB,CACpB,IAAI9U,EAAI,CACNoQ,MAAOrQ,EAAEyF,QAAQuP,YAAc,EAAIhV,EAAEyU,QAAQO,YAC7CpF,OAAQ5P,EAAEyF,QAAQwP,aAAe,EAAIjV,EAAEyU,QAAQQ,cAEjDjV,EAAEkV,QAAQvC,MAAMtC,MAAQpQ,EAAEoQ,MAAQ,KAAMrQ,EAAEkV,QAAQvC,MAAM/C,OAAS3P,EAAE2P,OAAS,KAG9E5P,EAAE+U,eAAiBjV,EAAE,GAAGqV,aACvBnV,EAAEoV,sBAAwB,IAAI7T,EAAEJ,QAAQnB,EAAE8U,uBAAwB9U,EAAEqV,WAAa,SAAUvV,GAC5FA,IAAME,EAAEyF,QAAU3F,EAAGE,EAAEoV,sBAAsBE,QAAQtV,EAAEyF,WACtDzF,EAAEuV,WAAa,SAAUzV,GAC1BA,IAAME,EAAEyU,QAAU3U,EAAGE,EAAE6U,iBAAiB7U,EAAEyU,QAAQO,YAAahV,EAAEyU,QAAQQ,gBACxEjV,EAAEwV,WAAa,SAAU1V,GAC1BA,IAAME,EAAEkV,QAAUpV,IACjBE,EAAEyV,eAAiB,WACpBzV,EAAEyF,SAAWzF,EAAEyU,SAAWzU,EAAEkV,UAAYlV,EAAEkV,QAAQvC,MAAMtC,MAAQ,GAAKrQ,EAAEyF,QAAQuP,YAAchV,EAAEyU,QAAQO,aAAe,KAAMhV,EAAEkV,QAAQvC,MAAM/C,OAAS,GAAK5P,EAAEyF,QAAQwP,aAAejV,EAAEyU,QAAQQ,cAAgB,KAAMjV,EAAEyF,QAAQkN,MAAM9C,KAAO7P,EAAEyU,QAAQO,YAAc,KAAMhV,EAAEyF,QAAQkN,MAAMhD,IAAM3P,EAAEyU,QAAQQ,aAAe,OACtTjV,EAAE6U,iBAAmB,SAAU/U,EAAGC,GACnCC,EAAEyU,UAAYzU,EAAEyU,QAAQiB,WAAa5V,EAAGE,EAAEyU,QAAQkB,UAAY5V,IAC7DC,EAAEwU,sBAAwB,SAAU1U,EAAGC,GACxCC,EAAEyU,UAAYzU,EAAEyU,QAAQiB,YAAc5V,EAAGE,EAAEyU,QAAQkB,WAAa5V,IAC/DC,EAAE4V,YAAc,SAAU9V,GAC3B,IAAIC,EAAIC,EAAE8O,MACN7O,EAAIF,EAAE8V,SACN3V,EAAIH,EAAE+V,eACN3V,EAAIJ,EAAEiU,YAEV,KAAM7T,GAAKA,OAAS,IAAML,EAAEiW,QAAU,SAAW9V,GAAK,IAAMH,EAAEiW,QAAU,UAAY9V,GAAI,CACtF,GAAIC,IAAMJ,EAAEkW,QAAS,OACrBhW,EAAEiW,YAAcjW,EAAEyU,QAAQiB,WAAa5V,EAAEyR,YAAYW,QAASlS,EAAEkW,YAAclW,EAAEyU,QAAQkB,UAAY7V,EAAEyR,YAAYY,QAASxS,OAAO6S,iBAAiB,YAAaxS,EAAEmW,aAAcxW,OAAO6S,iBAAiB,UAAWxS,EAAEoW,aAEtNpW,EAAEoW,UAAY,SAAUtW,GACzBH,OAAO8S,oBAAoB,YAAazS,EAAEmW,aAAcxW,OAAO8S,oBAAoB,UAAWzS,EAAEoW,YAC/FpW,EAAEmW,YAAc,SAAUrW,GAC3BE,EAAEyU,QAAQiB,WAAa1V,EAAEiW,YAAcnW,EAAEoS,QAASlS,EAAEyU,QAAQkB,UAAY3V,EAAEkW,YAAcpW,EAAEqS,SACzFnS,EAAEqW,kBAAoB,SAAUvW,GACjCA,EAAEqR,kBACDnR,EAAEuQ,MAAQ,CACX+F,YAAa,CACXjG,MAAO,UACPT,OAAQ,YAET5P,EAGL,OAAOE,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUkT,kBAAoB,WAC9C9S,KAAKiU,iBAAkBjQ,SAASgN,iBAAiB,cAAehR,KAAK6U,oBACpEtW,EAAEqB,UAAUmV,qBAAuB,WACpC/Q,SAASiN,oBAAoB,cAAejR,KAAK6U,oBAChDtW,EAAEqB,UAAUkP,OAAS,WACtB,OAAOnQ,EAAE+I,cAAc,MAAO,CAC5BU,IAAKpI,KAAK+T,WACVK,YAAapU,KAAKoU,YAClBpF,UAAW,oBACVrQ,EAAE+I,cAAc,MAAO,CACxByJ,MAAOnR,KAAK+O,MAAM+F,YAClB1M,IAAKpI,KAAKgU,YACTrV,EAAE+I,cAAc,MAAO,CACxBsH,UAAW,sBACX5G,IAAKpI,KAAK6T,WACV1C,MAAOnR,KAAK+O,MAAMiG,cACjBhV,KAAKsN,MAAM2H,SAASjV,KAAKqT,iBAAkBrT,KAAKgT,2BAClDzU,EAAE+Q,aAAe,CAClB+E,SAAU,OACVC,gBAAgB,GACf/V,EArEG,CAsENiC,EAAED,YAEJhC,EAAE4U,iBAAmBpU,GACpB,SAAUT,EAAGC,GACdD,EAAED,QAAU,EAAQ,MACnB,SAAUC,EAAGC,EAAGC,GACjB,IAAIC,EAAID,EAAE,IACV,iBAAmBC,IAAMA,EAAI,CAAC,CAACH,EAAEK,EAAGF,EAAG,MACvCD,EAAE,EAAFA,CAAKC,EAAG,CACNwO,KAAK,EACL7B,eAAW,EACXlB,gBAAY,IACVzL,EAAEyO,SAAW5O,EAAED,QAAUI,EAAEyO,SAC9B,SAAU5O,EAAGC,EAAGC,IAChBF,EAAED,QAAUG,EAAE,EAAFA,EAAK,IAAKoD,KAAK,CAACtD,EAAEK,EAAG,iLAAkL,MACnN,SAAUL,EAAGC,GACdD,EAAED,QAAU,SAAUC,GACpB,IAAIC,EAAI,oBAAsBJ,QAAUA,OAAO+W,SAC/C,IAAK3W,EAAG,MAAM,IAAI4L,MAAM,oCACxB,IAAK7L,GAAK,iBAAmBA,EAAG,OAAOA,EACvC,IAAIE,EAAID,EAAE4W,SAAW,KAAO5W,EAAE6W,KAC1B3W,EAAID,EAAID,EAAE8W,SAASC,QAAQ,YAAa,KAC5C,OAAOhX,EAAEgX,QAAQ,sDAAuD,SAAUhX,EAAGC,GACnF,IAAIG,EACAC,EAAIJ,EAAEgX,OAAOD,QAAQ,WAAY,SAAUhX,EAAGC,GAChD,OAAOA,IACN+W,QAAQ,WAAY,SAAUhX,EAAGC,GAClC,OAAOA,IAET,MAAO,oDAAoDiX,KAAK7W,GAAKL,GAAKI,EAAI,IAAMC,EAAEkG,QAAQ,MAAQlG,EAAI,IAAMA,EAAEkG,QAAQ,KAAOrG,EAAIG,EAAIF,EAAIE,EAAE2W,QAAQ,QAAS,IAAK,OAAS5M,KAAKC,UAAUjK,GAAK,SAGrM,SAAUJ,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,IACNO,EAAI,SAAUT,GAChB,SAASC,EAAEA,GACT,OAAOD,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAG5B,OAAOtB,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUkP,OAAS,WACnC,IAAIxQ,EAAI0B,KAAKsN,MACT/O,EAAID,EAAE+U,iBACN7U,EAAIF,EAAE0U,sBACNvU,EAAIH,EAAEwJ,QACV,OAAOnJ,EAAE+I,cAAc,MAAO,CAC5BsH,UAAW,gBACX5G,IAAK3J,EAAE,eACNuB,KAAKyV,YAAYlX,EAAGC,KACtBD,EAAEqB,UAAU6V,YAAc,SAAUnX,EAAGC,GACxC,IAAIC,EAAIwB,KAAKsN,MACT7O,EAAID,EAAEoJ,aACNlJ,EAAIF,EAAEgD,GACNhB,EAAIhC,EAAE2J,OACNpJ,EAAIP,EAAEsJ,QACNrH,EAAIhC,EAAEsP,aAAanI,uBACvB,OAAOjH,EAAE+I,cAAc3H,EAAE2V,eAAgB,CACvC9N,aAAcnJ,EACd+C,GAAI9C,EACJmJ,QAASpH,EACTqH,QAAS/I,EACToJ,OAAQ3H,EACR6S,iBAAkB/U,EAClB0U,sBAAuBzU,KAExBA,EA9BG,CA+BNiC,EAAED,YAEJhC,EAAE6U,gBAAkBrU,GACnB,SAAUT,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,GACNO,EAAIP,EAAE,GACNiC,EAAIjC,EAAE,IACNsB,EAAItB,EAAE,IACNI,EAAIJ,EAAE,IACNQ,EAAIR,EAAE,GACNoL,EAAI,SAAUtL,GAChB,SAASC,EAAEA,GACT,IAAIC,EAAIF,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAC3B,OAAOxB,EAAEmX,gBAAiB,EAAInX,EAAEoX,eAAiB,WAC/C,IAAItX,EAAIE,EAAE8O,MACN/O,EAAID,EAAEsJ,aACNnJ,EAAIH,EAAEuJ,QACNnJ,EAAIJ,EAAE6J,OACNxJ,EAAIJ,EAAEwP,aAAavL,QAAQ/D,GAC/BE,EAAE8D,iBAAiBX,KAAO,IAAMnD,EAAEiE,eAAiBjE,EAAE8D,iBAAiByI,QAAQ,SAAU5M,GACtFI,EAAE,QAAUD,EAAI,IAAMH,GAAGmQ,YAE1BjQ,EAGL,OAAOE,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUiW,aAAe,WACzC,IAAIvX,EAAI0B,KAAKsN,MACT/O,EAAID,EAAEsJ,aACNpJ,EAAIF,EAAEuJ,QACV,OAAOtJ,EAAEwP,aAAavL,QAAQhE,IAC7BD,EAAEqB,UAAUkW,aAAe,SAAUxX,GACtC,IAAIC,EAAIyB,KAAK6V,eACTrX,EAAID,EAAEkE,iBAAiBX,KACvBrD,EAAIF,EAAEkE,iBAAiB2C,UAE3B,OAAQ9G,GACN,KAAKS,EAAE4H,uBAAuBH,cAC5B,MAAO,CAAC,GAAI/H,GAEd,KAAKM,EAAE4H,uBAAuBF,cAC5B,MAAO,CAAChI,EAAG,IAEb,KAAKM,EAAE4H,uBAAuBD,eAC5B,MAAO,CAACjI,EAAEsX,MAAM9H,KAAK+H,KAAKxX,EAAI,GAAIA,GAAIC,EAAEsX,MAAM,EAAG9H,KAAK+H,KAAKxX,EAAI,OAElED,EAAEqB,UAAUmR,mBAAqB,SAAUzS,EAAGC,EAAGC,GAClD,GAAIwB,KAAK2V,eAAgB,CACvB,IAAIlX,EAAIuB,KAAKiW,aAAajI,wBAC1BhO,KAAKsN,MAAM0F,sBAAsBvU,EAAE4P,KAAOrO,KAAKkW,oBAAoB7H,KAAM5P,EAAE0P,IAAMnO,KAAKkW,oBAAoB/H,KAAMnO,KAAK2V,gBAAiB,EAGxI3V,KAAK4V,kBACJrX,EAAEqB,UAAUkT,kBAAoB,WACjC9S,KAAK4V,kBACJrX,EAAEqB,UAAUuW,gBAAkB,SAAU7X,EAAGC,GAC5C,IAAIC,EAAIwB,KACJvB,EAAIuB,KAAKsN,MACT5O,EAAID,EAAEmJ,aACNpH,EAAI/B,EAAE+C,GACNzB,EAAItB,EAAE4U,iBACNtU,EAAIN,EAAEuU,sBACNpU,EAAIH,EAAEqJ,QACN8B,EAAInL,EAAE0J,OACV,GAAI,IAAM7J,EAAE6G,OAAQ,OAAO,KAC3B,IAAI8E,EAAI,GACJnL,EAAI,GACRR,EAAE4M,QAAQ,SAAU5M,GAClB,IAAIG,EAAI,QAAUD,EAAE8O,MAAMzF,QAAU,IAAMvJ,EAC1C2L,EAAErI,KAAKjD,EAAE+I,cAAcjH,EAAE2V,WAAY,CACnCnR,IAAK3G,EACLuJ,QAASvJ,EACTwP,IAAKvP,EACLqJ,aAAclJ,EACd8C,GAAIhB,EACJ6S,iBAAkBtT,EAClBiT,sBAAuBjU,EACvB+I,QAASlJ,EACTuJ,OAAQyB,KACL9K,EAAE8C,KAAKjD,EAAE+I,cAAc5H,EAAEyP,WAAY,CACxC3H,aAAclJ,EACduG,IAAKxG,EACL2J,IAAKxJ,EAAEH,GACPmP,YAAapP,EAAE8O,MAAMzF,QACrBgG,UAAWvP,EACXwP,IAAKvP,EACLuJ,QAASlJ,EACTuJ,OAAQyB,EACR2D,QAAQ,OAGZ,IAAI1C,EAAI,kBAAoBtM,IAAMS,EAAEoH,oBAAoBH,KAAO,OAAS,SACxE,OAAOtH,EAAE+I,cAAc,MAAO,CAC5BsH,UAAWnE,EACXzC,IAAKxJ,EAAEiM,IACNZ,EAAGnL,IACLP,EAAEqB,UAAUkP,OAAS,WACtB,IAAIxQ,EAAI0B,KAAKsN,MACT/O,EAAID,EAAEsJ,aACNpJ,EAAIF,EAAEkD,GACN/C,EAAIH,EAAEuJ,QACNnJ,EAAIJ,EAAEwJ,QACNtH,EAAIlC,EAAE6J,OACNpJ,EAAIR,EAAEwP,aACNtN,EAAIlC,EAAEkP,OACN3N,EAAIE,KAAK8V,aAAarV,EAAEoG,WACxB+C,EAAI9J,EAAE,GACNmK,EAAInK,EAAE,GACV,OAAOnB,EAAE+I,cAAc/I,EAAE0X,SAAU,KAAMrW,KAAKmW,gBAAgBvM,EAAG5K,EAAEoH,oBAAoBH,MAAOtH,EAAE+I,cAAc,MAAO,CACnHsH,UAAWjP,EAAE,SACbqI,IAAK3J,IAAMM,EAAE6G,uBAAyBlH,EAAE,SAAWD,GAAK,MACvDE,EAAE+I,cAAc9I,EAAE2S,mBAAoB,CACvC3J,aAAcrJ,EACdiD,GAAIhD,EACJqJ,QAASpJ,EACTqP,IAAK9O,EAAEoH,oBAAoBD,KAC3B+K,WAAW,EACXpJ,QAASpJ,EACTyJ,OAAQ3H,KACLR,KAAKmW,gBAAgBlM,EAAGjL,EAAEoH,oBAAoBF,SAClD3H,EA7GG,CA8GNiC,EAAED,YAEJhC,EAAEmX,eAAiB9L,GAClB,SAAUtL,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAET,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,IACNO,EAAIP,EAAE,GACNiC,EAAIjC,EAAE,IACVA,EAAE,IAEF,IAAIsB,EAAI,SAAUxB,GAChB,SAASC,EAAEA,GACT,IAAIC,EAAIF,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAC3B,OAAOxB,EAAE6T,SAAW,SAAU/T,GAC5B,IAAIC,EAAIC,EAAE8O,MACN7O,EAAIF,EAAEiD,GACN9C,EAAIH,EAAEsJ,QACVpJ,EAAEM,EAAEwC,OAAOV,iBAAkBnC,EAAGJ,IAC/BE,EAAE4V,YAAc,SAAU9V,GAC3BA,EAAEmR,mBACDjR,EAAEmW,YAAc,SAAUrW,GAC3BA,EAAEmR,mBACDjR,EAGL,OAAOE,EAAEH,EAAGD,GAAIC,EAAEqB,UAAU0W,sBAAwB,SAAUhY,EAAGC,EAAGC,GAClE,IAAIC,EAAIH,EAAEuJ,QACNnJ,EAAIJ,EAAEsJ,aACNjJ,EAAIqB,KAAKsN,MACT9M,EAAI7B,EAAEkJ,QACN9H,EAAIpB,EAAEiJ,aACV,GAAInJ,IAAM+B,EAAG,OAAO,EACpB,IAAIzB,EAAIgB,EAAEgO,aAAavK,oBACnB/C,EAAI/B,EAAEqP,aAAavK,oBACvB,OAAOzE,IAAM0B,IAAM1B,IAAMyB,GAAKC,IAAMD,IAAMT,EAAEgO,aAAavL,QAAQhC,KAAO9B,EAAEqP,aAAavL,QAAQ/D,IAC9FF,EAAEqB,UAAUkP,OAAS,WACtB,IAAIxQ,EAAI0B,KAAKsN,MACT/O,EAAID,EAAEuJ,QACNrJ,EAAIF,EAAEsJ,aACNnJ,EAAIH,EAAEwJ,QACNpJ,EAAIF,EAAEuP,aACNhP,EAAIL,EAAE8D,QAAQjE,GAAGuF,aACjBhE,IAAMvB,IAAMG,EAAE8E,qBAClB,OAAO7E,EAAE+I,cAAc,MAAO,CAC5BsH,UAAWxO,EAAE,kBAAmB,CAC9B,mBAAoBV,EACpB,0BAA2BA,IAE7BsI,IAAK3J,EAAE,UAAYF,GACnB6V,YAAapU,KAAKoU,YAClBO,YAAa3U,KAAK2U,aACjBhW,EAAE+I,cAAc3H,EAAEJ,QAAS,CAC5B4W,YAAaxX,EACbsT,SAAU5R,EAAE+V,SAASxW,KAAKqS,UAC1BoE,SAAU3W,MAEXvB,EA9CG,CA+CNI,EAAE2B,WAEJ/B,EAAEoJ,yBAA2B7H,GAC5B,SAAUxB,EAAGC,GACdD,EAAED,QAAU,EAAQ,MACnB,SAAUC,EAAGC,EAAGC,GACjB,aAEAS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IACLhB,EAAEgG,OAAS,WACb,MAAO,uCAAuC+Q,QAAQ,QAAS,SAAUhX,GACvE,IAAIC,EAAI,GAAK0P,KAAKyI,SAAW,EAC7B,OAAQ,KAAOpY,EAAIC,EAAI,EAAIA,EAAI,GAAG8J,SAAS,QAG9C,SAAU/J,EAAGC,GACdD,EAAED,QAAU,EAAQ,IACnB,SAAUC,EAAGC,EAAGC,GACjB,aAEAS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IACL,SAAUjB,GACZA,EAAEA,EAAEmH,SAAW,GAAK,WAAYnH,EAAEA,EAAEkH,WAAa,GAAK,aAAclH,EAAEA,EAAEiH,QAAU,GAAK,UAAWjH,EAAEA,EAAEoH,KAAO,GAAK,OADhH,CAEFnH,EAAE+G,mBAAqB/G,EAAE+G,iBAAmB,MAC7C,SAAUhH,EAAGC,EAAGC,IAChBF,EAAED,QAAUG,EAAE,EAAFA,EAAK,IAAKoD,KAAK,CAACtD,EAAEK,EAAG,8FAA+F,MAChI,SAAUL,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAET,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,IACNO,EAAIP,EAAE,GACNiC,EAAIjC,EAAE,IACVA,EAAE,IAEF,IAAIsB,EAAI,SAAUxB,GAChB,SAASC,EAAEA,GACT,IAAIC,EAAIF,EAAEO,KAAKmB,KAAMzB,IAAMyB,KAC3B,OAAOxB,EAAE6T,SAAW,SAAU/T,GAC5B,IAAIC,EAAIC,EAAE8O,MACN7O,EAAIF,EAAEiD,GACN9C,EAAIH,EAAEsJ,QACVpJ,EAAEM,EAAEwC,OAAOT,cAAepC,EAAGJ,IAC5BE,EAAE4V,YAAc,SAAU9V,GAC3BA,EAAEmR,mBACDjR,EAAEmW,YAAc,SAAUrW,GAC3BA,EAAEmR,mBACDjR,EAGL,OAAOE,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUkP,OAAS,WACnC,IAAIxQ,EAAI0B,KAAKsN,MACT/O,EAAID,EAAEuJ,QACNrJ,EAAIF,EAAEsJ,aACNnJ,EAAIH,EAAEwJ,QACNpJ,EAAIF,EAAEuP,aAAavL,QAAQjE,GAAGmO,UAClC,OAAO,MAAQhO,GAAKC,EAAE+I,cAAc,MAAO,CACzCsH,UAAWxO,EAAE,kBACb4H,IAAK3J,EAAE,QAAUF,GACjB6V,YAAapU,KAAKoU,YAClBO,YAAa3U,KAAK2U,aACjBhW,EAAE+I,cAAc3H,EAAEJ,QAAS,CAC5B4W,YAAa7X,EACb2T,SAAU5R,EAAE+V,SAASxW,KAAKqS,cAE3B9T,EA9BG,CA+BNI,EAAE2B,WAEJ/B,EAAEyJ,sBAAwBlI,GACzB,SAAUxB,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAIH,EAAE,GACNgC,EAAI,SAAUlC,GAChB,SAASC,IACP,OAAO,OAASD,GAAKA,EAAE4K,MAAMlJ,KAAMmJ,YAAcnJ,KAGnD,OAAOtB,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUkP,OAAS,WACnC,OAAO9O,KAAK2W,yBACXpY,EAAEqB,UAAUgX,SAAW,WACxB5W,KAAK6W,eACJtY,EAAEqB,UAAU+W,sBAAwB,WACrC,IAAIrY,EAAI0B,KAAKsN,MACT/O,EAAID,EAAE6J,OACN3J,EAAIF,EAAEsJ,aACNnJ,EAAID,EAAEuP,aACNrP,EAAIF,EAAEiP,OAAOxG,mBACbzG,EAAI/B,EAAEyE,kBAEV,GAAI1C,EAAG,CACL,IAAIT,EAAIxB,EAAE,WAAaiC,GACnBzB,EAAIR,EAAE,cAEV,GAAIwB,GAAKhB,EAAG,CACV,IAAI0B,EAAIV,EAAEiO,wBACNlO,EAAIf,EAAEiP,wBACV,OAAOrP,EAAE+I,cAAc,MAAO,CAC5BsH,UAAW,gBACVrQ,EAAE+I,cAAc,MAAO,CACxBuH,MAAO,6BACPC,QAAS,MACTC,YAAa,MACbC,OAAQ,MACRC,KAAM,OACNR,MAAO,SACPT,OAAQ,UACPzP,EAAE+I,cAAc,OAAQ,CACzBoP,EAAG,IAAMrW,EAAE4N,KAAOvO,EAAEuO,KAAO3P,GAC3BsM,EAAG,IAAMvK,EAAE0N,IAAMrO,EAAEqO,IAAMzP,GACzBqY,GAAI,KACJC,GAAI,KACJnI,MAAO,IAAMpO,EAAEoO,MAAQ,EAAInQ,GAC3B0P,OAAQ,IAAM3N,EAAE2N,OAAS,EAAI1P,QAKnC,OAAO,MACNH,EA9CG,CA+CNI,EAAE2B,WAEJ/B,EAAE2J,0BAA4B1H,GAC7B,SAAUlC,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,IACNO,EAAIP,EAAE,IACNiC,EAAIjC,EAAE,GACNsB,EAAItB,EAAE,GACNI,EAAIJ,EAAE,GACNQ,EAAI,SAAUV,GAChB,SAASC,EAAEC,GACT,IAAIC,EAAIH,EAAEO,KAAKmB,KAAMxB,IAAMwB,KAC3B,OAAOvB,EAAEwY,gBAAkB,SAAU3Y,GACnCA,EAAEmR,kBAAmBhR,EAAEkX,gBAAiB,EAAIlX,EAAEyX,oBAAsBzX,EAAEwX,aAAajI,wBAAyBvP,EAAE6O,MAAM9L,GAAGf,EAAEc,OAAOX,gBAAiBnC,EAAE6O,MAAMzF,UACxJpJ,EAAE+Q,YAAc,SAAUlR,GAC3BC,EAAE2Y,eAAiBzY,EAAE6O,MAAMzF,QAASvJ,EAAEmR,mBACrChR,EAAEmR,YAAc,WACjBnR,EAAEmQ,SAAS,CACTiB,WAAW,KAEZpR,EAAEqR,YAAc,SAAUxR,GAC3B,IAAIC,EAAIE,EAAE6O,MACN9O,EAAID,EAAE4J,OACNzJ,EAAIH,EAAEsJ,QACNlJ,EAAIL,EAAEyR,YAAYC,cAClBxP,EAAIhC,EAAE,WAAaE,GACvB8B,GAAK7B,GAAK6B,EAAEyP,SAAStR,IAAMF,EAAEmQ,SAAS,CACpCiB,WAAW,KAEZpR,EAAEyR,OAAS,SAAU5R,GACtB,IAAIE,EAAIC,EAAE6O,MACN5O,EAAIF,EAAEgD,GACN7C,EAAIH,EAAEqJ,QACVnJ,EAAE+B,EAAEc,OAAOD,cAAe/C,EAAE2Y,eAAgBvY,GAAIF,EAAEmQ,SAAS,CACzDiB,WAAW,KAEZpR,EAAEkX,gBAAiB,EAAIlX,EAAEmX,eAAiB,WAC3C,IAAItX,EAAIG,EAAE6O,MACN/O,EAAID,EAAEsJ,aACNpJ,EAAIF,EAAEuJ,QACNnJ,EAAIJ,EAAE6J,OACNxJ,EAAIJ,EAAEwP,aAAavL,QAAQhE,GAC/BG,EAAE8D,iBAAiBX,KAAO,IAAMnD,EAAEiE,eAAiBjE,EAAE8D,iBAAiByI,QAAQ,SAAU5M,GACtFI,EAAE,QAAUF,EAAI,IAAMF,GAAGmQ,YAE1BhQ,EAAE0Y,gBAAkB,SAAU7Y,GAC/BA,IAAMG,EAAEwX,aAAe3X,IACtBG,EAAEsQ,MAAQ,CACXc,WAAW,GACVpR,EAGL,OAAOC,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUmR,mBAAqB,SAAUzS,EAAGC,EAAGC,GAC/D,GAAIwB,KAAK2V,eAAgB,CACvB,IAAIlX,EAAIuB,KAAKiW,aAAajI,wBAC1BhO,KAAKsN,MAAM0F,sBAAsBvU,EAAE4P,KAAOrO,KAAKkW,oBAAoB7H,KAAM5P,EAAE0P,IAAMnO,KAAKkW,oBAAoB/H,KAAMnO,KAAK2V,gBAAiB,EAGxI3V,KAAK4V,kBACJrX,EAAEqB,UAAUkT,kBAAoB,WACjC9S,KAAK4V,kBACJrX,EAAEqB,UAAU0W,sBAAwB,SAAUhY,EAAGC,EAAGC,GACrD,OAAO,GACND,EAAEqB,UAAUwX,eAAiB,WAC9B,IAAI9Y,EAAI0B,KAAKsN,MACT9O,EAAIF,EAAEsJ,aACNnJ,EAAIH,EAAEkD,GACN9C,EAAIJ,EAAEuJ,QACNrH,EAAIlC,EAAEwP,IACN/O,EAAIT,EAAE+U,iBACN5S,EAAInC,EAAE0U,sBACNhU,EAAIV,EAAEwJ,QACN8B,EAAItL,EAAE6J,OACN8B,EAAIzL,EAAEuP,aAAavL,QAAQ9D,GAC/B,GAAI,IAAMuL,EAAExH,iBAAiBX,MAAQmI,EAAErH,cAAe,OAAO,KAC7D,IAAI9D,EAAI,GACJ+L,EAAI,GACRZ,EAAExH,iBAAiByI,QAAQ,SAAU5M,GACnCQ,EAAE8C,KAAKjD,EAAE+I,cAAcnJ,EAAG,CACxB0G,IAAK3G,EACLuJ,QAASvJ,EACTwP,IAAKtN,EACLoH,aAAcpJ,EACdgD,GAAI/C,EACJ4U,iBAAkBtU,EAClBiU,sBAAuBvS,EACvBqH,QAAS9I,EACTmJ,OAAQyB,KAEV,IAAI9J,EAAI,QAAUpB,EAAI,IAAMJ,EAC5BuM,EAAEjJ,KAAKjD,EAAE+I,cAAc3H,EAAEwP,WAAY,CACnC3H,aAAcpJ,EACdyG,IAAKnF,EACL8N,YAAalP,EACbmP,UAAWvP,EACXwP,IAAKtN,EACL2H,OAAQyB,EACRxB,IAAKpJ,EAAEc,QAGX,IAAIkL,EAAIxM,EAAEiP,OACN9D,EAAInJ,IAAM5B,EAAEwH,oBAAoBH,KAAO,CACzCoR,WAAYrM,EAAEhE,QACdsQ,cAAetM,EAAEhE,QACjBuQ,aAAcvM,EAAEjE,SACd,CACFsQ,WAAYrM,EAAEhE,QACdsQ,cAAetM,EAAEhE,QACjBwQ,YAAaxM,EAAEjE,SAEjB,OAAOpI,EAAE+I,cAAc,MAAO,CAC5BsH,UAAWlP,EAAE,eACbqR,MAAOxH,EACPvB,IAAKpJ,EAAE,YAAcN,IACpBI,EAAG+L,IACLtM,EAAEqB,UAAUkP,OAAS,WACtB,IAAIxQ,EACAC,EACAC,EAAIwB,KAAKsN,MACT7O,EAAID,EAAEoJ,aACNlJ,EAAIF,EAAEgD,GACNhB,EAAIhC,EAAEqJ,QACN9H,EAAIvB,EAAEsP,IACNrN,EAAIjC,EAAEsJ,QACN9I,EAAIR,EAAE2J,OACNyB,EAAInL,EAAEsP,aACN9D,EAAIL,EAAEpH,QAAQhC,GACd1B,EAAI8K,EAAE4E,mBAAmBhO,GAC7B,OAAO7B,EAAE+I,cAAc,MAAO,CAC5BsH,UAAWlP,EAAE,UAAW,UAAYC,IACnCpB,EAAE+I,cAAc,MAAO,CACxBsH,UAAWlP,EAAE,QAAS,UAAYC,GAClCqI,IAAK3H,EAAE,SAAWD,IACjB7B,EAAE+I,cAAc3I,EAAEwS,mBAAoB,CACvC3J,aAAcnJ,EACd+C,GAAI9C,EACJmJ,QAASrH,EACTsN,IAAK/N,EACLmR,WAAW,EACXpJ,QAASrH,EACT0H,OAAQnJ,IACNiL,EAAExH,iBAAiBX,KAAO,EAAInD,EAAE+I,cAAc,MAAO,CACvDsH,UAAWlP,EAAE,iBAAkBxB,EAAI,CACjC,qBAAsB2L,EAAErH,eACvBtE,EAAE,wBAA0ByB,GAAKtB,EAAEgP,OAAO3G,YAAclI,EAAE2H,UAAUF,qCAAuCvH,EAAI,EAAGR,IACrH8J,IAAK3H,EAAE,QAAUD,IAChB7B,EAAE+I,cAAc,MAAO,CACxBU,IAAKpI,KAAKmX,gBACVnI,UAAWlP,EAAE,iBAAkBvB,EAAI,CACjCkZ,SAAUxN,EAAExH,iBAAiBX,KAAO,GACnCvD,EAAE,OAAS0L,EAAErH,cAAgB,OAAS,UAAYqH,EAAExH,iBAAiBX,KAAO,EAAGvD,IAClF4R,QAASnQ,KAAKiX,mBACV,MAAOjX,KAAKoX,mBACjB7Y,EAhJG,CAiJNiC,EAAED,YAEJhC,EAAE6X,WAAapX,GACd,SAAUV,EAAGC,GACdD,EAAED,QAAU,EAAQ,MACnB,SAAUC,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,IACNuB,EAAIvB,EAAE,GACNO,EAAI,SAAUT,GAChB,SAASC,IACP,IAAIA,EAAI,OAASD,GAAKA,EAAE4K,MAAMlJ,KAAMmJ,YAAcnJ,KAClD,OAAOzB,EAAEkS,aAAe,SAAUnS,GAChC,IAAIE,EAAID,EAAE+O,MAAM+D,QACd/S,EAAEoZ,OAAOzH,WAAa1R,EAAEoZ,MAASnZ,GAAKD,EAAE+O,MAAMgE,qBAAuB/S,EAAE+O,MAAMgE,qBAAoB,IAClG/S,EAAEqZ,QAAU,SAAUtZ,GACvBC,EAAEoZ,KAAOrZ,GACRC,EAGL,OAAOG,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUkT,kBAAoB,WAC9C9O,SAASgN,iBAAiB,QAAShR,KAAKyQ,eACvClS,EAAEqB,UAAUmV,qBAAuB,WACpC/Q,SAASiN,oBAAoB,QAASjR,KAAKyQ,eAC1ClS,EAAEqB,UAAUkP,OAAS,WACtB,IAAIxQ,EAAI0B,KAAKsN,MACT/O,EAAID,EAAE+S,QACN7S,EAAIF,EAAEuJ,QACNpJ,EAAIH,EAAE6T,MACNzT,EAAIJ,EAAEsJ,aACN7H,EAAIzB,EAAEkD,GACNzC,EAAIL,EAAEqP,aAAanI,uBACnBnF,EAAIhC,EAAE6J,IAAI,SAAUhK,GACtB,OAAOE,IAAMO,GAAKT,EAAEuZ,WAAalZ,EAAE+I,cAAclH,EAAEsX,kBAAmB,CACpErK,OAAQnP,EACR2G,IAAKzG,EAAI,IAAMF,EAAEyZ,MACjBlQ,QAASrJ,EACToJ,aAAclJ,EACd8C,GAAIzB,IACD,OAEP,OAAOxB,GAAKI,EAAE+I,cAAc,MAAO,CACjCsH,UAAW,qBACX5G,IAAKpI,KAAK4X,SACTnX,IACFlC,EAAE+Q,aAAe,CAClB6C,MAAO,CAAC,CACN6F,KAAM,OACND,MAAO,OACPF,YAAY,EACZI,OAAQlY,EAAEwB,OAAOP,mBAChB,CACDgX,KAAM,cACND,MAAO,cACPE,OAAQlY,EAAEwB,OAAOH,aAChB,CACD4W,KAAM,YACND,MAAO,YACPF,YAAY,EACZI,OAAQlY,EAAEwB,OAAOJ,WAChB,CACD6W,KAAM,QACND,MAAO,cACN,CACDC,KAAM,cACND,MAAO,cACPE,OAAQlY,EAAEwB,OAAOF,eAElB9C,EA3DG,CA4DNI,EAAE2B,WAEJ/B,EAAE6S,cAAgBrS,GACjB,SAAUT,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAIH,EAAE,GACNgC,EAAIhC,EAAE,GACNuB,EAAIvB,EAAE,GACNO,EAAI,SAAUT,GAChB,SAASC,IACP,IAAIA,EAAI,OAASD,GAAKA,EAAE4K,MAAMlJ,KAAMmJ,YAAcnJ,KAClD,OAAOzB,EAAE4R,QAAU,SAAU7R,GAC3BA,EAAEmR,kBACF,IAAIjR,EAAID,EAAE+O,MACN7O,EAAID,EAAEqJ,QACNnJ,EAAIF,EAAEiP,OACN9O,EAAIH,EAAEgD,GACV9C,EAAEuZ,OAAStZ,EAAED,EAAEuZ,OAAQxZ,GAAK,UAAYC,EAAEsZ,MAAQzZ,EAAE2Z,mBACnD3Z,EAAE2Z,gBAAkB,WACrB,IAAI5Z,EAAIC,EAAE+O,MACN9O,EAAIF,EAAEuJ,QACNpJ,EAAIH,EAAEkD,GACVlD,EAAEsJ,aAAamG,aAAavL,QAAQhE,GAAGkO,WAAajO,EAAEsB,EAAEwB,OAAOT,cAAetC,EAAG,KAChFD,EAGL,OAAOG,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUkP,OAAS,WACnC,IAAIxQ,EAAI0B,KAAKsN,MAAMG,OACnB,OAAO9O,EAAE+I,cAAc,MAAO,CAC5BsH,UAAW,kBACXmB,QAASnQ,KAAKmQ,SACbxR,EAAE+I,cAAc,MAAO,CACxBsH,UAAWxO,EAAE,OAAQ,WAAY,MAAQlC,EAAE0Z,MAC3C7H,QAASnQ,KAAKmQ,UACZxR,EAAE+I,cAAc,MAAO,CACzBsH,UAAW,SACV1Q,EAAEyZ,SACJxZ,EA7BG,CA8BNI,EAAE2B,WAEJ/B,EAAEuZ,kBAAoB/Y,GACrB,SAAUT,EAAGC,EAAGC,GACjB,IAAIC,EAAID,EAAE,IACV,iBAAmBC,IAAMA,EAAI,CAAC,CAACH,EAAEK,EAAGF,EAAG,MACvCD,EAAE,EAAFA,CAAKC,EAAG,CACNwO,KAAK,EACL7B,eAAW,EACXlB,gBAAY,IACVzL,EAAEyO,SAAW5O,EAAED,QAAUI,EAAEyO,SAC9B,SAAU5O,EAAGC,EAAGC,IAChBD,EAAID,EAAED,QAAUG,EAAE,EAAFA,EAAK,IAAKoD,KAAK,CAACtD,EAAEK,EAAG,+DAAgE,KAAMJ,EAAEqD,KAAK,CAACtD,EAAEK,EAAG,msGAAosG,MAC5zG,SAAUL,EAAGC,EAAGC,GACjB,aAEA,IAAIC,EACAC,EAAIsB,MAAQA,KAAKC,YAAcxB,EAAIQ,OAAOiB,gBAAkB,CAC9DC,UAAW,cACAC,OAAS,SAAU9B,EAAGC,GACjCD,EAAE6B,UAAY5B,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAIC,KAAKD,EACZA,EAAEsB,eAAerB,KAAOF,EAAEE,GAAKD,EAAEC,KAElC,SAAUF,EAAGC,GACd,SAASC,IACPwB,KAAKK,YAAc/B,EAGrBG,EAAEH,EAAGC,GAAID,EAAEsB,UAAY,OAASrB,EAAIU,OAAOQ,OAAOlB,IAAMC,EAAEoB,UAAYrB,EAAEqB,UAAW,IAAIpB,KAEzFS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAIZ,EAAI,SAAUL,GAChB,SAASC,IACP,IAAIA,EAAI,OAASD,GAAKA,EAAE4K,MAAMlJ,KAAMmJ,YAAcnJ,KAClD,OAAOzB,EAAE4J,OAAS,SAAU7J,GAC1B,OAAOC,EAAED,IACRC,EAAEuJ,QAAU,SAAUxJ,GACvB,OAAO,SAAUE,GACfA,IAAMD,EAAED,GAAKE,EAAGD,EAAE4Z,aAAa7Z,EAAGE,MAEnCD,EAAE6Z,UAAY,IAAIrS,IAAOxH,EAAE4Z,aAAe,SAAU7Z,EAAGE,GACxD,GAAID,EAAE6Z,UAAU1W,IAAIpD,GAAI,IAAK,IAAIG,EAAI,EAAGC,EAAIH,EAAE6Z,UAAUhZ,IAAId,GAAIG,EAAIC,EAAEyG,OAAQ1G,KAC5E,EAAIC,EAAED,IAAIH,EAAGE,IAEdD,EAAE8Z,oBAAsB,SAAU/Z,EAAGE,GACtCD,EAAE6Z,UAAU1W,IAAIpD,GAAKC,EAAE6Z,UAAUhZ,IAAId,GAAGsD,KAAKpD,GAAKD,EAAE6Z,UAAUrV,IAAIzE,EAAG,CAACE,KACrED,EAGL,OAAOG,EAAEH,EAAGD,GAAIC,EAAEqB,UAAUkP,OAAS,WACnC,OAAO9O,KAAKsN,MAAM2H,SAASjV,KAAK8H,QAAS9H,KAAKmI,OAAQnI,KAAKqY,oBAAoB3Y,KAAKM,QACnFzB,EApBG,CAqBNC,EAAE,GAAG8B,WAEP/B,EAAEoB,QAAUhB,GACX,SAAUL,EAAGC,EAAGC,GACjB,aAEAS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAGT,IAAId,EAAID,EAAE,GAKVD,EAAE+Z,iBAJM,SAAWha,EAAGC,QACpB,IAAWA,IAAMA,EAAI,IAAKyB,KAAK+N,aAAezP,EAAG0B,KAAKyN,OAASxO,OAAOmO,OAAO3O,EAAEmI,qBAAsBrI,GAAIyB,KAAKuY,KAAO,IAItH,SAAUja,EAAGC,EAAGC,GACjB,aAEAS,OAAOC,eAAeX,EAAG,aAAc,CACrCgB,OAAO,IAET,IAAId,EAAID,EAAE,IACNE,EAAIF,EAAE,IACNG,EAAIH,EAAE,GACVD,EAAEia,yBAA2B,SAAUla,GACrC,IAAIC,EAAI,GACRA,EAAEmT,YAAcpT,EAAEmG,iBAAkBlG,EAAE4T,MAAQ7T,EAAE2T,aAChD,IAAIzT,EAAIF,EAAEyT,cAAcjO,aACxB,OAAOvF,EAAEka,MAAQ,iBAAmBja,EAAIA,EAAIE,EAAEiB,QAAQiN,UAAUpO,GAAID,GACnEA,EAAEma,yBAA2B,SAAUpa,GACxC,IAAIC,EAAI,IAAIE,EAAE2T,aACd,OAAQ7T,EAAIA,EAAEmE,MAAM,CAClBgP,YAAapT,EAAEoT,YACfC,kBAAmBrT,EAAEoT,eACnBxM,cAAc,SAAU3G,GAC1BU,OAAOgM,KAAK3M,EAAE6T,OAAOjH,QAAQ,SAAU1M,GACrC,IAAIC,EAAIH,EAAE6T,MAAM3T,GAChBD,EAAEuE,OAAO,UAAW,SAAUxE,GAC5B,OAAOA,EAAEyE,IAAItE,EAAEwG,IAAKtG,EAAE2F,cAAcyI,WAAWtO,e,iQChsE9Cka,EAAb,YACE,WAAYrL,GAAQ,IAAD,8BACjB,4CAAMA,KAER6C,QAAU,WACRyI,QAAQC,IAAI,sBADE,MAEuB,EAAKvL,MAArCG,EAFS,EAETA,OAAO7F,EAFE,EAEFA,aAAayK,EAFX,EAEWA,SACrB5E,EAAOwK,OACT,EAAK3K,MAAM9L,GAAGiM,EAAOwK,OAAQ,MACrBxK,EAAOqL,cACfrL,EAAOqL,aAAalR,EAAayK,IATlB,EADrB,sEAcY,IACA5E,EAAWzN,KAAKsN,MAAhBG,OACR,OACE,0BACEuB,UAAW+J,IAAG,kBAAmB,WAApB,aAAsCtL,EAAOuK,OAC1D7H,QAASnQ,KAAKmQ,cAnBtB,GAAiC6I,IAAM1Y,WCL1B2Y,G,cAAe,SAACC,EAAKC,GAChC,IAAMC,EAAOpV,SAAS0D,cAAc,KACpC0R,EAAKvN,KAAOqN,EACZE,EAAKC,SAAWF,EAChBC,EAAKE,U,iBCEA,SAASC,EAAmBjM,GAWjC,OACE,yBAAK0B,UAAU,iBACb,wBAAIA,UAAU,sBACZ,wBAAIA,UAAU,0BAA0BmB,QAZ3B,WACjB,IAAIqJ,EAAQlM,EAAM1F,aAAamG,aACzB0L,EAAOjB,mCAAyBgB,GAClCE,EAAOhR,KAAKC,UAAU8Q,GACtBP,EAAG,0BAAsBzQ,mBAAmBiR,IAChDT,EAAaC,EAAD,UAAQO,EAAKhB,MAAb,UACZkB,IAAMC,UAMF,kBAOD,SAASC,EAAqBvM,GAAQ,IACtC1F,EAAyB0F,EAAzB1F,aAAayK,EAAY/E,EAAZ+E,SAsBlB,OACE,yBAAKrD,UAAU,iBACb,kFAGA,wBAAIA,UAAU,sBACZ,wBAAIA,UAAU,2BAAd,iBAGF,6BACE,4BAAQmB,QA/BG,WACf,IAAM2J,EAAQ9V,SAAS0D,cAAc,SACrCoS,EAAM/O,KAAO,OACb+O,EAAMC,OAAS,QACfD,EAAM9I,iBAAiB,SAAS,SAAAgJ,GAC9B,IAAMC,EAAOD,EAAItC,OAAOwC,MAAM,GACxBC,EAAK,IAAIC,WACfD,EAAGE,OAAS,SAAAL,GACV,IAAMM,EAAMN,EAAItC,OAAO6C,OACnBC,EAAM9R,KAAK+R,MAAMH,GACrB1B,QAAQC,IAAI2B,GACZ,IAAIhB,EAAQd,mCAAyB8B,GACjCE,EAAkBjJ,eAAaD,gBAAgB5J,EAAa4R,GAChEnH,EAASqI,IAEXP,EAAGQ,WAAWV,KAEhBH,EAAMR,QACNK,IAAMC,UAaF,aACA,4CCpDD,IAAMgB,EAAb,YACE,WAAYtN,GAAQ,IAAD,8BACjB,4CAAMA,KAGRuN,gBAAkB,SAAAjT,GAChBgR,QAAQC,IAAI,mBACZc,IAAMmB,eAAe,cAAe,WAClC9a,KAAKP,OAAO,CACVgZ,MAAO,mCACPxU,QAAS,kBAACsV,EAAD,CAAoB3R,aAAcA,QAG/C+R,IAAMoB,UAAUC,eAZC,EAenBC,kBAAoB,SAACrT,EAAcyK,GACjCsH,IAAMmB,eAAe,gBAAiB,WACpC9a,KAAKP,OAAO,CACVgZ,MAAO,YACPxU,QACE,kBAAC4V,EAAD,CACEjS,aAAcA,EACdyK,SAAUA,QAKlBsH,IAAMoB,UAAUG,iBA3BC,EA8BnB/I,MAAQ,CACN,CACE6F,KAAM,UACND,MAAO,YAGT,CACEC,KAAM,WACND,MAAO,YACPe,aAAc,EAAKmC,mBAErB,CACEjD,KAAM,SACND,MAAO,cACPe,aAAc,EAAK+B,iBAErB,CACE7C,KAAM,OACND,MAAO,OACPE,OAAQ1W,SAAOb,MAEjB,CACEsX,KAAM,OACND,MAAO,OACPE,OAAQ1W,SAAOZ,MAEjB,CACEqX,KAAM,cACND,MAAO,cACPE,OAAQ1W,SAAOH,aAEjB,CACE4W,KAAM,YACND,MAAO,YACPE,OAAQ1W,SAAOJ,WAEjB,CACE6W,KAAM,cACND,MAAO,cACPE,OAAQ1W,SAAOF,cArEA,EADrB,sEA0EY,IAAD,EAC6BrB,KAAKsN,MAAnC1F,EADC,EACDA,aAAcyK,EADb,EACaA,SAAS7Q,EADtB,EACsBA,GACzB2Z,EAAenb,KAAKmS,MAAM7J,IAAI,SAAA8S,GAAI,OACpC,kBAAC,EAAD,CACE3N,OAAQ2N,EACRnW,IAAKmW,EAAKrD,MACVnQ,aAAcA,EACdyK,SAAUA,EACV7Q,GAAIA,MAGR,OACE,6BACE,yBAAKwN,UAAU,cAAcmM,QAvFrC,GAA6BnC,IAAM1Y,WCoHpB+a,EAjHf,YACE,WAAY/N,GAAQ,IAAD,uBACjB,4CAAMA,KA4CR+E,SAAW,SAAAzK,GACTgR,QAAQC,IAAI,YACZD,QAAQC,IAAIjR,EAAamG,cACzB,EAAKa,SAAS,CAAEhH,kBAhDC,EAmDnB0T,UAAY,SAAAhd,GACV,IAAIwT,EAAgB,EAAKxO,mBAEvBwO,IAAkB3O,gBAAcC,QAChC0O,IAAkB3O,gBAAcS,WAEhCtF,EAAEqR,kBAzDa,EA6DnBiB,QAAU,SAAAtS,GACRsa,QAAQC,IAAIva,GACZ,IAAIwT,EAAgB,EAAKxO,mBACzB,OAAQhF,EAAEuS,OACR,KAAK0K,IAAKzK,IAENgB,IAAkB3O,gBAAcC,QAChC0O,IAAkB3O,gBAAcS,WAEhC,EAAKpC,GAAGD,SAAOJ,WAEjB,MACF,KAAKoa,IAAKC,OAEN1J,IAAkB3O,gBAAcC,QAChC0O,IAAkB3O,gBAAcS,WAEhC,EAAKpC,GAAGD,SAAOH,aAEb0Q,IAAkB3O,gBAAcM,SAC9BnF,EAAEkW,SACJ,EAAKhT,GAAGD,SAAOH,eAlFN,EAyFnBI,GAAK,SAACyW,EAAQpQ,EAAS4T,GAAS,IACxB7T,EAAiB,EAAKmH,MAAtBnH,aACF8T,EAAWjK,eAAajQ,GAAGoG,EAAcqQ,EAAQpQ,EAAS4T,GAC9D,EAAKpJ,SAASqJ,IA1Fd,IAAIC,EAAYvJ,eAAarF,WAAW,CACtC2E,YAAa,OACbC,kBAAmB,OACnBQ,MAAO,CACL,CAAElN,IAAK,OAAQhB,QAAS,YAAauI,YAAa,CAAC,OAAQ,SAC3D,CACEvH,IAAK,OACLsH,UAAW,OACXtI,QAAS,WACTuI,YAAa,GACb7J,UAAU,GAEZ,CACEsC,IAAK,OACLsH,UAAW,OACXtI,QAAS,WACTuI,YAAa,OAOf5E,EAAe6J,eAAa1E,WAAW4O,EAHvB,CAClB5U,QAAS,KAvBM,OA0BjB,EAAKgI,MAAQ,CACXnH,aAAcA,GA3BC,EADrB,gFAiCI,OAAO5H,KAAK+O,MAAMnH,aAAamG,aAAazK,qBAjChD,0CAqCIU,SAASgN,iBAAiB,UAAWhR,KAAKsb,WAC1CtX,SAASgN,iBAAiB,QAAShR,KAAK4Q,WAtC5C,6CA0CI5M,SAASiN,oBAAoB,UAAWjR,KAAKsb,WAC7CtX,SAASiN,oBAAoB,QAASjR,KAAK4Q,WA3C/C,+BAiGI,OACE,yBAAK5B,UAAU,WACb,kBAAC,EAAD,CACEpH,aAAc5H,KAAK+O,MAAMnH,aACzByK,SAAUrS,KAAKqS,SACf7Q,GAAIxB,KAAKwB,KAEX,kBAAC,gBAAD,CACEoG,aAAc5H,KAAK+O,MAAMnH,aACzByK,SAAUrS,KAAKqS,gBA1GzB,GAA6B2G,IAAM1Y,W,cCCpBsb,MARf,WACE,OACE,oCACE,kBAAC,EAAD,QCIcvP,QACW,cAA7BlO,OAAO+W,SAAS2G,UAEe,UAA7B1d,OAAO+W,SAAS2G,UAEhB1d,OAAO+W,SAAS2G,SAASC,MACvB,2DCZNC,IAASjN,OAAO,kBAAC,EAAD,MAAS9K,SAASgY,eAAe,SACjDD,IAASjN,OAAO,kBAAC,IAAD,MAAW9K,SAASgY,eAAe,UD0H7C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,iB","file":"static/js/main.4168ab09.chunk.js","sourcesContent":["!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports[\"blink-mind-react\"] = t() : e[\"blink-mind-react\"] = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function n(o) {\n      if (t[o]) return t[o].exports;\n      var r = t[o] = {\n        i: o,\n        l: !1,\n        exports: {}\n      };\n      return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, o) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: o\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var o = Object.create(null);\n      if (n.r(o), Object.defineProperty(o, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var r in e) {\n        n.d(o, r, function (t) {\n          return e[t];\n        }.bind(null, r));\n      }\n      return o;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 18);\n  }([function (e, t) {\n    e.exports = require(\"react\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = function (e) {\n      function t(t) {\n        return e.call(this, t) || this;\n      }\n\n      return r(t, e), t;\n    }(n(0).Component);\n\n    t.BaseWidget = i;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o,\n        r = n(8),\n        i = n(4),\n        a = n(30),\n        s = n(9),\n        c = n(31),\n        u = n(32);\n    !function (e) {\n      e[e.UNDO = 1] = \"UNDO\", e[e.REDO = 2] = \"REDO\", e[e.TOGGLE_COLLAPSE = 3] = \"TOGGLE_COLLAPSE\", e[e.SET_ITEM_CONTENT = 4] = \"SET_ITEM_CONTENT\", e[e.SET_ITEM_DESC = 5] = \"SET_ITEM_DESC\", e[e.FOCUS_ITEM = 6] = \"FOCUS_ITEM\", e[e.SET_EDIT_ITEM_KEY = 7] = \"SET_EDIT_ITEM_KEY\", e[e.SET_FOCUS_ITEM_MODE = 8] = \"SET_FOCUS_ITEM_MODE\", e[e.SET_POPUP_MENU_ITEM_KEY = 9] = \"SET_POPUP_MENU_ITEM_KEY\", e[e.ADD_CHILD = 10] = \"ADD_CHILD\", e[e.ADD_SIBLING = 11] = \"ADD_SIBLING\", e[e.DELETE_NODE = 12] = \"DELETE_NODE\", e[e.DRAG_AND_DROP = 13] = \"DRAG_AND_DROP\";\n    }(o = t.OpType || (t.OpType = {}));\n\n    var p = function () {\n      function e() {}\n\n      return e.op = function (t, n, r, i) {\n        if (o.DELETE_NODE, e.opMap.has(n)) {\n          var a = e.opMap.get(n)(t, r, i);\n          return n !== o.UNDO && n !== o.REDO && n !== o.FOCUS_ITEM && n !== o.SET_ITEM_CONTENT && (e.undoStack = e.undoStack.push(a)), a;\n        }\n\n        return t;\n      }, e.undo = function (t) {\n        return e.undoStack.size > 1 && (t = e.popUndoStack(), e.pushRedoStack(t), t = e.undoStack.peek()), t;\n      }, e.redo = function (t) {\n        return e.redoStack.size > 0 && (t = e.popRedoStack(), e.pushUndoStack(t)), t;\n      }, e.pushUndoStack = function (t) {\n        e.undoStack = e.undoStack.push(t);\n      }, e.popUndoStack = function () {\n        var t = e.undoStack.peek();\n        return e.undoStack = e.undoStack.pop(), t;\n      }, e.pushRedoStack = function (t) {\n        e.redoStack = e.redoStack.push(t);\n      }, e.popRedoStack = function () {\n        var t = e.redoStack.peek();\n        return e.redoStack = e.redoStack.pop(), t;\n      }, e.toggleCollapse = function (t, n) {\n        var o = t.getItem(n);\n        return 0 !== o.getSubItemKeys().size && (o = o.merge({\n          collapse: !o.getCollapse()\n        }), t = e.setItem(t, o)), t;\n      }, e.setItem = function (e, t) {\n        return e.update(\"itemMap\", function (e) {\n          return e.set(t.getKey(), t);\n        });\n      }, e.focusItem = function (e, t) {\n        return t !== e.getFocusItemKey() && (e = e.set(\"focusItemKey\", t)), null === t && (e = e.set(\"focusItemMode\", i.FocusItemMode.Normal)), e;\n      }, e.setFocusItemMode = function (e, t, n) {\n        return n !== e.getFocusItemMode() && (e = e.set(\"focusItemMode\", n)), e;\n      }, e.setEditingItemKey = function (e, t) {\n        return t !== e.getEditingItemKey() && (t !== e.getFocusItemKey() && (e = e.set(\"focusItemKey\", t)), e.get(\"focusItemMode\") !== i.FocusItemMode.Editing && (e = e.set(\"focusItemMode\", i.FocusItemMode.Editing))), e;\n      }, e.setPopupMenuItemKey = function (e, t) {\n        return t !== e.getPopupMenuItemKey() && (t !== e.getFocusItemKey() && (e = e.set(\"focusItemKey\", t)), e.get(\"focusItemMode\") !== i.FocusItemMode.PopupMenu && (e = e.set(\"focusItemMode\", i.FocusItemMode.PopupMenu))), e;\n      }, e.setItemContent = function (t, n, o) {\n        var r = t.getItem(n),\n            i = !1;\n        return r && (0 === e.undoStack.size && e.pushUndoStack(t), r.getContent() instanceof c.Value && (i = r.getContent().document !== o.document), r = r.merge({\n          content: o\n        }), t = e.setItem(t, r)), t = t.set(\"focusItemKey\", n), i && e.pushUndoStack(t), t;\n      }, e.setItemDesc = function (t, n, o) {\n        var r = t.getItem(n),\n            a = !1;\n        return r && (0 === e.undoStack.size && e.pushUndoStack(t), r.getContent() instanceof c.Value && (a = r.getContent().document !== o.document), r = r.merge({\n          desc: o\n        }), t = e.setItem(t, r)), t = t.set(\"focusItemKey\", n).set(\"focusItemMode\", i.FocusItemMode.EditingDesc), a && e.pushUndoStack(t), t;\n      }, e.addChild = function (t, n) {\n        var o = t.getItem(n);\n\n        if (o) {\n          var i = r.MindNodeModel.create(a.uuidv4());\n          i = i.set(\"parentKey\", o.getKey()), o = o.set(\"collapse\", !1).update(\"subItemKeys\", function (e) {\n            return e.push(i.getKey());\n          }), t = t.update(\"itemMap\", function (e) {\n            return e.set(o.getKey(), o).set(i.getKey(), i);\n          }), t = e.setEditingItemKey(t, i.getKey());\n        }\n\n        return t;\n      }, e.addSibling = function (t, n) {\n        var o = t.getItem(n);\n        if (n === t.getRootItemKey()) return t;\n\n        if (o) {\n          var i = r.MindNodeModel.create(a.uuidv4());\n          i = i.set(\"parentKey\", o.getParentKey());\n          var s = t.getParentItem(n);\n          s = s.update(\"subItemKeys\", function (e) {\n            return e.insert(e.indexOf(n) + 1, i.getKey());\n          }), t = t.update(\"itemMap\", function (e) {\n            return e.set(s.getKey(), s).set(i.getKey(), i);\n          }), t = e.setEditingItemKey(t, i.getKey());\n        }\n\n        return t;\n      }, e.deleteNode = function (t, n) {\n        if (n === t.getRootItemKey()) return t;\n        var o = t.getItem(n),\n            r = t.getItem(o.getParentKey()),\n            i = r.getSubItemKeys().indexOf(n);\n        return r = r.update(\"subItemKeys\", function (e) {\n          return e.delete(i);\n        }), t = t.set(\"focusItemKey\", o.getParentKey()).update(\"itemMap\", function (o) {\n          var i = e.getAllSubItemKeys(t, n);\n          return (o = o.set(r.key, r)).withMutations(function (e) {\n            e = e.delete(n);\n\n            for (var t = 0, o = i; t < o.length; t++) {\n              var r = o[t];\n              e = e.delete(r);\n            }\n\n            return e;\n          });\n        });\n      }, e.getAllSubItemKeys = function (t, n) {\n        var o = t.getItem(n),\n            r = [];\n\n        if (o.getSubItemKeys().size > 0) {\n          var i = o.getSubItemKeys().toArray();\n          r.push(i);\n\n          for (var a = 0, s = i; a < s.length; a++) {\n            var c = s[a];\n            r.push(e.getAllSubItemKeys(t, c));\n          }\n        }\n\n        return r;\n      }, e.getRelation = function (e, t, n) {\n        var o = e.getItem(t),\n            r = e.getItem(n);\n\n        if (o && r) {\n          if (o.getParentKey() == r.getParentKey()) return u.NodeRelationship.Sibling;\n\n          for (var i = o; i.getParentKey();) {\n            if (i.getParentKey() === r.getKey()) return u.NodeRelationship.Descendant;\n            i = e.getParentItem(i.getKey());\n          }\n\n          for (i = r; i.getParentKey();) {\n            if (i.getParentKey() === o.getKey()) return u.NodeRelationship.Ancestor;\n            i = e.getParentItem(i.getKey());\n          }\n        }\n\n        return u.NodeRelationship.None;\n      }, e.dragAndDrop = function (t, n, o) {\n        if (n === t.getEditorRootItemKey() || n === o || e.getRelation(t, n, o) === u.NodeRelationship.Ancestor) return t;\n        var r = t.getItem(n),\n            i = t.getItem(o);\n        if (r.getParentKey() === o) return t;\n        var a = r.getParentKey(),\n            s = t.getItem(a).getSubItemKeys(),\n            c = s.indexOf(n);\n        s = s.delete(c);\n        var p = i.getSubItemKeys();\n        return p = p.push(n), t.withMutations(function (e) {\n          e.setIn([\"itemMap\", a, \"subItemKeys\"], s).setIn([\"itemMap\", n, \"parentKey\"], o).setIn([\"itemMap\", o, \"subItemKeys\"], p).setIn([\"itemMap\", o, \"collapse\"], !1);\n        });\n      }, e.undoStack = s.Stack(), e.redoStack = s.Stack(), e.opMap = new Map([[o.UNDO, e.undo], [o.REDO, e.redo], [o.TOGGLE_COLLAPSE, e.toggleCollapse], [o.SET_ITEM_CONTENT, e.setItemContent], [o.SET_ITEM_DESC, e.setItemDesc], [o.FOCUS_ITEM, e.focusItem], [o.SET_FOCUS_ITEM_MODE, e.setFocusItemMode], [o.SET_EDIT_ITEM_KEY, e.setEditingItemKey], [o.SET_POPUP_MENU_ITEM_KEY, e.setPopupMenuItemKey], [o.ADD_CHILD, e.addChild], [o.ADD_SIBLING, e.addSibling], [o.DELETE_NODE, e.deleteNode], [o.DRAG_AND_DROP, e.dragAndDrop]]), e;\n    }();\n\n    t.MindMapModelModifier = p;\n  }, function (e, t) {\n    e.exports = require(\"classnames\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      e[e.Normal = 0] = \"Normal\", e[e.PopupMenu = 1] = \"PopupMenu\", e[e.Editing = 2] = \"Editing\", e[e.EditingDesc = 3] = \"EditingDesc\";\n    }(t.FocusItemMode || (t.FocusItemMode = {})), function (e) {\n      e[e.LEFT = 0] = \"LEFT\", e[e.RIGHT = 1] = \"RIGHT\", e[e.ROOT = 2] = \"ROOT\";\n    }(t.NodeWidgetDirection || (t.NodeWidgetDirection = {})), function (e) {\n      e[e.PRIMARY_HAS_BORDER_NORMAL_NO_BORDER = 0] = \"PRIMARY_HAS_BORDER_NORMAL_NO_BORDER\", e[e.ALL_HAS_BORDER = 1] = \"ALL_HAS_BORDER\";\n    }(t.NodeStyle || (t.NodeStyle = {}));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o,\n        r = n(0),\n        i = n(28),\n        a = n(34),\n        s = n(35),\n        c = n(4);\n    !function (e) {\n      e[e.LEFT_TO_RIGHT = 0] = \"LEFT_TO_RIGHT\", e[e.RIGHT_TO_LEFT = 1] = \"RIGHT_TO_LEFT\", e[e.LEFT_AND_RIGHT = 2] = \"LEFT_AND_RIGHT\";\n    }(o = t.DiagramLayoutDirection || (t.DiagramLayoutDirection = {})), t.defaultDiagramConfig = {\n      direction: o.LEFT_AND_RIGHT,\n      nodeStyle: c.NodeStyle.ALL_HAS_BORDER,\n      hMargin: 10,\n      vMargin: 10,\n      focusBorderPadding: 4,\n      theme: \"theme-orange\",\n      rootItemStyle: {\n        fontSize: \"24px\",\n        borderRadius: \"10px\",\n        padding: \"10px 25px\"\n      },\n      primaryItemStyle: {\n        fontSize: \"16px\",\n        borderRadius: \"6px\",\n        padding: \"0\"\n      },\n      normalItemStyle: {\n        fontSize: \"16px\",\n        borderRadius: \"6px\",\n        padding: \"0\"\n      },\n      editorRendererFn: function editorRendererFn(e, t, n, o) {\n        return r.createElement(i.DefaultNodeContentEditor, {\n          diagramState: e,\n          op: t,\n          nodeKey: n,\n          saveRef: o\n        });\n      },\n      descEditorRenderFn: function descEditorRenderFn(e, t, n, o) {\n        return r.createElement(a.DefaultNodeDescEditor, {\n          diagramState: e,\n          op: t,\n          nodeKey: n,\n          saveRef: o\n        });\n      },\n      focusItemsBorderRenderFn: function focusItemsBorderRenderFn(e, t, n) {\n        return r.createElement(s.DefaultFocusItemBorderSvg, {\n          diagramState: e,\n          saveRef: t,\n          getRef: n,\n          ref: t(\"focusItemBorderSvg\")\n        });\n      }\n    };\n  }, function (e, t) {\n    e.exports = function (e) {\n      var t = [];\n      return t.toString = function () {\n        return this.map(function (t) {\n          var n = function (e, t) {\n            var n,\n                o = e[1] || \"\",\n                r = e[3];\n            if (!r) return o;\n\n            if (t && \"function\" == typeof btoa) {\n              var i = (n = r, \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(n)))) + \" */\"),\n                  a = r.sources.map(function (e) {\n                return \"/*# sourceURL=\" + r.sourceRoot + e + \" */\";\n              });\n              return [o].concat(a).concat([i]).join(\"\\n\");\n            }\n\n            return [o].join(\"\\n\");\n          }(t, e);\n\n          return t[2] ? \"@media \" + t[2] + \"{\" + n + \"}\" : n;\n        }).join(\"\");\n      }, t.i = function (e, n) {\n        \"string\" == typeof e && (e = [[null, e, \"\"]]);\n\n        for (var o = {}, r = 0; r < this.length; r++) {\n          var i = this[r][0];\n          \"number\" == typeof i && (o[i] = !0);\n        }\n\n        for (r = 0; r < e.length; r++) {\n          var a = e[r];\n          \"number\" == typeof a[0] && o[a[0]] || (n && !a[2] ? a[2] = n : n && (a[2] = \"(\" + a[2] + \") and (\" + n + \")\"), t.push(a));\n        }\n      }, t;\n    };\n  }, function (e, t, n) {\n    var o,\n        r,\n        i = {},\n        a = (o = function o() {\n      return window && document && document.all && !window.atob;\n    }, function () {\n      return void 0 === r && (r = o.apply(this, arguments)), r;\n    }),\n        s = function (e) {\n      var t = {};\n      return function (e) {\n        if (\"function\" == typeof e) return e();\n\n        if (void 0 === t[e]) {\n          var n = function (e) {\n            return document.querySelector(e);\n          }.call(this, e);\n\n          if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement) try {\n            n = n.contentDocument.head;\n          } catch (e) {\n            n = null;\n          }\n          t[e] = n;\n        }\n\n        return t[e];\n      };\n    }(),\n        c = null,\n        u = 0,\n        p = [],\n        l = n(25);\n\n    function d(e, t) {\n      for (var n = 0; n < e.length; n++) {\n        var o = e[n],\n            r = i[o.id];\n\n        if (r) {\n          r.refs++;\n\n          for (var a = 0; a < r.parts.length; a++) {\n            r.parts[a](o.parts[a]);\n          }\n\n          for (; a < o.parts.length; a++) {\n            r.parts.push(v(o.parts[a], t));\n          }\n        } else {\n          var s = [];\n\n          for (a = 0; a < o.parts.length; a++) {\n            s.push(v(o.parts[a], t));\n          }\n\n          i[o.id] = {\n            id: o.id,\n            refs: 1,\n            parts: s\n          };\n        }\n      }\n    }\n\n    function f(e, t) {\n      for (var n = [], o = {}, r = 0; r < e.length; r++) {\n        var i = e[r],\n            a = t.base ? i[0] + t.base : i[0],\n            s = {\n          css: i[1],\n          media: i[2],\n          sourceMap: i[3]\n        };\n        o[a] ? o[a].parts.push(s) : n.push(o[a] = {\n          id: a,\n          parts: [s]\n        });\n      }\n\n      return n;\n    }\n\n    function g(e, t) {\n      var n = s(e.insertInto);\n      if (!n) throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n      var o = p[p.length - 1];\n      if (\"top\" === e.insertAt) o ? o.nextSibling ? n.insertBefore(t, o.nextSibling) : n.appendChild(t) : n.insertBefore(t, n.firstChild), p.push(t);else if (\"bottom\" === e.insertAt) n.appendChild(t);else {\n        if (\"object\" != typeof e.insertAt || !e.insertAt.before) throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n        var r = s(e.insertInto + \" \" + e.insertAt.before);\n        n.insertBefore(t, r);\n      }\n    }\n\n    function m(e) {\n      if (null === e.parentNode) return !1;\n      e.parentNode.removeChild(e);\n      var t = p.indexOf(e);\n      t >= 0 && p.splice(t, 1);\n    }\n\n    function h(e) {\n      var t = document.createElement(\"style\");\n      return void 0 === e.attrs.type && (e.attrs.type = \"text/css\"), y(t, e.attrs), g(e, t), t;\n    }\n\n    function y(e, t) {\n      Object.keys(t).forEach(function (n) {\n        e.setAttribute(n, t[n]);\n      });\n    }\n\n    function v(e, t) {\n      var n, o, r, i;\n\n      if (t.transform && e.css) {\n        if (!(i = t.transform(e.css))) return function () {};\n        e.css = i;\n      }\n\n      if (t.singleton) {\n        var a = u++;\n        n = c || (c = h(t)), o = b.bind(null, n, a, !1), r = b.bind(null, n, a, !0);\n      } else e.sourceMap && \"function\" == typeof URL && \"function\" == typeof URL.createObjectURL && \"function\" == typeof URL.revokeObjectURL && \"function\" == typeof Blob && \"function\" == typeof btoa ? (n = function (e) {\n        var t = document.createElement(\"link\");\n        return void 0 === e.attrs.type && (e.attrs.type = \"text/css\"), e.attrs.rel = \"stylesheet\", y(t, e.attrs), g(e, t), t;\n      }(t), o = function (e, t, n) {\n        var o = n.css,\n            r = n.sourceMap,\n            i = void 0 === t.convertToAbsoluteUrls && r;\n        (t.convertToAbsoluteUrls || i) && (o = l(o)), r && (o += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(r)))) + \" */\");\n        var a = new Blob([o], {\n          type: \"text/css\"\n        }),\n            s = e.href;\n        e.href = URL.createObjectURL(a), s && URL.revokeObjectURL(s);\n      }.bind(null, n, t), r = function r() {\n        m(n), n.href && URL.revokeObjectURL(n.href);\n      }) : (n = h(t), o = function (e, t) {\n        var n = t.css,\n            o = t.media;\n        if (o && e.setAttribute(\"media\", o), e.styleSheet) e.styleSheet.cssText = n;else {\n          for (; e.firstChild;) {\n            e.removeChild(e.firstChild);\n          }\n\n          e.appendChild(document.createTextNode(n));\n        }\n      }.bind(null, n), r = function r() {\n        m(n);\n      });\n\n      return o(e), function (t) {\n        if (t) {\n          if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;\n          o(e = t);\n        } else r();\n      };\n    }\n\n    e.exports = function (e, t) {\n      if (\"undefined\" != typeof DEBUG && DEBUG && \"object\" != typeof document) throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n      (t = t || {}).attrs = \"object\" == typeof t.attrs ? t.attrs : {}, t.singleton || \"boolean\" == typeof t.singleton || (t.singleton = a()), t.insertInto || (t.insertInto = \"head\"), t.insertAt || (t.insertAt = \"bottom\");\n      var n = f(e, t);\n      return d(n, t), function (e) {\n        for (var o = [], r = 0; r < n.length; r++) {\n          var a = n[r];\n          (s = i[a.id]).refs--, o.push(s);\n        }\n\n        for (e && d(f(e, t), t), r = 0; r < o.length; r++) {\n          var s;\n\n          if (0 === (s = o[r]).refs) {\n            for (var c = 0; c < s.parts.length; c++) {\n              s.parts[c]();\n            }\n\n            delete i[s.id];\n          }\n        }\n      };\n    };\n\n    var _,\n        M = (_ = [], function (e, t) {\n      return _[e] = t, _.filter(Boolean).join(\"\\n\");\n    });\n\n    function b(e, t, n, o) {\n      var r = n ? \"\" : o.css;\n      if (e.styleSheet) e.styleSheet.cssText = M(t, r);else {\n        var i = document.createTextNode(r),\n            a = e.childNodes;\n        a[t] && e.removeChild(a[t]), a.length ? e.insertBefore(i, a[t]) : e.appendChild(i);\n      }\n    }\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(9),\n        a = n(11),\n        s = {\n      key: null,\n      parentKey: null,\n      content: null,\n      desc: null,\n      subItemKeys: i.List(),\n      collapse: !1\n    },\n        c = function (e) {\n      function t() {\n        return e.call(this) || this;\n      }\n\n      return r(t, e), t.prototype.getKey = function () {\n        return this.get(\"key\");\n      }, t.prototype.getParentKey = function () {\n        return this.get(\"parentKey\");\n      }, t.prototype.getContent = function () {\n        return this.get(\"content\");\n      }, t.prototype.getDesc = function () {\n        return this.get(\"desc\");\n      }, t.prototype.getSubItemKeys = function () {\n        return this.get(\"subItemKeys\");\n      }, t.prototype.getCollapse = function () {\n        return this.get(\"collapse\");\n      }, t.prototype.contentToString = function () {\n        var e = this.getContent();\n        return \"string\" == typeof e ? e : a.default.serialize(e);\n      }, t.prototype.descToString = function () {\n        var e = this.getDesc();\n        return \"string\" == typeof e ? e : a.default.serialize(e);\n      }, t.prototype.toString = function () {\n        return this.toJSON().toString();\n      }, t.prototype.toJSON = function () {\n        return {\n          key: this.getKey(),\n          parentKey: this.getParentKey(),\n          subItemKeys: this.getSubItemKeys(),\n          collapse: this.getCollapse(),\n          content: this.contentToString(),\n          desc: this.descToString()\n        };\n      }, t.create = function (e, n, o, r, a) {\n        return void 0 === n && (n = null), void 0 === o && (o = \"new node\"), void 0 === r && (r = i.List([])), void 0 === a && (a = !1), t.createWith({\n          key: e,\n          parentKey: n,\n          content: o,\n          subItemKeys: r,\n          collapse: a\n        });\n      }, t.createWith = function (e) {\n        var n = new t();\n        return n.merge({\n          key: e.key,\n          parentKey: e.parentKey,\n          content: e.content,\n          desc: e.desc,\n          subItemKeys: i.List(e.subItemKeys),\n          collapse: e.collapse\n        });\n      }, t;\n    }(i.Record(s));\n\n    t.MindNodeModel = c;\n  }, function (e, t) {\n    e.exports = require(\"immutable\");\n  }, function (e, t) {\n    e.exports = require(\"awehook-rich-markdown-editor\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(29);\n    t.default = new o.default();\n  }, function (e, t) {\n    e.exports = require(\"lodash\");\n  }, function (e, t, n) {\n    var o = n(33);\n    \"string\" == typeof o && (o = [[e.i, o, \"\"]]);\n    n(7)(o, {\n      hmr: !0,\n      transform: void 0,\n      insertInto: void 0\n    }), o.locals && (e.exports = o.locals);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    }),\n        i = this && this.__assign || Object.assign || function (e) {\n      for (var t, n = 1, o = arguments.length; n < o; n++) {\n        for (var r in t = arguments[n]) {\n          Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n        }\n      }\n\n      return e;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var a = n(0),\n        s = n(1),\n        c = n(4),\n        u = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.generatePathString = function () {\n          return n.props.isRoot ? n.generatePathStringRoot() : n.props.diagramState.config.nodeStyle === c.NodeStyle.PRIMARY_HAS_BORDER_NORMAL_NO_BORDER ? n.generatePathStringNormal() : n.generatePathStringForBorderNode();\n        }, n.generatePathStringForBorderNode = function () {\n          var e = n.props,\n              t = e.fromNodeKey,\n              o = e.toNodeKey,\n              r = e.getRef,\n              i = e.dir,\n              a = e.diagramState.mindMapModel.getItem(t).getSubItemKeys().size,\n              s = r(\"topic-\" + t),\n              u = r(\"topic-\" + o);\n          if (!s || !u) return \"\";\n          var p,\n              l,\n              d,\n              f,\n              g = r(\"children-\" + t).getBoundingClientRect(),\n              m = u.getBoundingClientRect(),\n              h = s.getBoundingClientRect();\n          if (i === c.NodeWidgetDirection.RIGHT ? (p = a > 1 ? 1 : 0, l = Math.round(h.top + h.height / 2 - g.top), d = m.left - h.right, f = Math.round(m.top + m.height / 2 - g.top)) : (p = h.left - g.left - (a > 1 ? 1 : 0), l = Math.round(h.top + h.height / 2 - g.top), d = Math.round(m.right - g.left), f = Math.round(m.top + m.height / 2 - g.top)), l === f) return \"M\" + p + \",\" + l + \"L\" + d + \",\" + f;\n          var y = (p + d) / 2,\n              v = (l + f) / 2;\n          return i === c.NodeWidgetDirection.RIGHT ? \"M\" + p + \",\" + l + \"C\" + p + \",\" + v + \",\" + y + \",\" + f + \",\" + d + \",\" + f : \"M\" + d + \",\" + f + \"C\" + y + \",\" + f + \",\" + p + \",\" + v + \",\" + p + \",\" + l;\n        }, n.generatePathStringNormal = function () {\n          var e = n.props,\n              t = e.fromNodeKey,\n              o = e.toNodeKey,\n              r = e.getRef,\n              i = e.dir,\n              a = e.diagramState.mindMapModel,\n              s = r(\"topic-\" + t),\n              u = r(\"topic-\" + o);\n          if (!s || !u) return \"\";\n          var p = r(\"line-\" + t),\n              l = r(\"children-\" + t),\n              d = u.getBoundingClientRect(),\n              f = p.getBoundingClientRect(),\n              g = l.getBoundingClientRect(),\n              m = a.getItem(t);\n\n          if (i === c.NodeWidgetDirection.RIGHT) {\n            var h = 0,\n                y = Math.round(f.top - g.top + 1),\n                v = Math.round(d.left - g.left - 10),\n                _ = Math.round(d.bottom - g.top),\n                M = Math.round(d.right - g.left - 12);\n\n            return 1 === m.getSubItemKeys().size && a.getItemVisualLevel(t) > 1 ? \"M\" + h + \",\" + _ + \"H\" + (d.right - g.left) : y > _ ? \"M\" + h + \",\" + y + \" H\" + v + \" V\" + (_ + 10) + \" Q\" + v + \",\" + _ + \" \" + (v + 10) + \",\" + _ + \" H\" + M : \"M\" + h + \",\" + y + \" H\" + v + \" V\" + (_ - 10) + \" Q\" + v + \",\" + _ + \" \" + (v + 10) + \",\" + _ + \" H\" + M;\n          }\n\n          return h = Math.round(f.left - g.left), y = Math.round(f.top - g.top + 1), v = Math.round(d.right - g.left + 10), _ = Math.round(d.bottom - g.top), M = Math.round(d.left - g.left + 12), 1 === m.getSubItemKeys().size && a.getItemVisualLevel(t) > 1 ? \"M\" + h + \",\" + _ + \"H\" + (f.left - d.right) : y > _ ? \"M\" + h + \",\" + y + \" H\" + v + \" V\" + (_ + 10) + \" Q\" + v + \",\" + _ + \" \" + (v - 10) + \",\" + _ + \" H\" + M : \"M\" + h + \",\" + y + \" H\" + v + \" V\" + (_ - 10) + \" Q\" + v + \",\" + _ + \" \" + (v - 10) + \",\" + _ + \" H\" + M;\n        }, n.generatePathStringRoot = function () {\n          var e = n.props,\n              t = e.fromNodeKey,\n              o = e.toNodeKey,\n              r = e.getRef,\n              i = e.dir,\n              a = r(\"topic-\" + t),\n              s = r(\"topic-\" + o);\n          if (!a || !s) return \"\";\n          var u,\n              p,\n              l,\n              d,\n              f = s.getBoundingClientRect(),\n              g = a.getBoundingClientRect();\n\n          if (i === c.NodeWidgetDirection.RIGHT) {\n            var m = r(\"bm-node-layer-right\").getBoundingClientRect();\n            u = 0, p = Math.round(g.top - m.top + g.height / 2), l = f.left - g.right, d = Math.round(f.top - m.top + f.height / 2);\n          } else u = (m = r(\"bm-node-layer-left\").getBoundingClientRect()).right - m.left, p = Math.round(g.top - m.top + g.height / 2), l = Math.round(f.right - m.left), d = Math.round(f.top - m.top + f.height / 2);\n\n          if (p === d) return \"M\" + u + \",\" + p + \"L\" + l + \",\" + d;\n          var h = (u + l) / 2,\n              y = (p + d) / 2;\n          return i === c.NodeWidgetDirection.RIGHT ? \"M\" + u + \",\" + p + \"C\" + u + \",\" + y + \",\" + h + \",\" + d + \",\" + l + \",\" + d : \"M\" + l + \",\" + d + \"C\" + h + \",\" + d + \",\" + u + \",\" + y + \",\" + u + \",\" + p;\n        }, n;\n      }\n\n      return r(t, e), t.prototype.layout = function () {\n        this.props.isRoot ? this.layoutRoot() : this.layoutNormal();\n      }, t.prototype.layoutRoot = function () {\n        var e = this.props,\n            t = e.dir,\n            n = (0, e.getRef)(\"bm-node-layer-\" + (t === c.NodeWidgetDirection.LEFT ? \"left\" : \"right\"));\n\n        if (n) {\n          var o = n.getBoundingClientRect();\n          this.setState({\n            width: o.width,\n            height: o.height\n          });\n        }\n      }, t.prototype.layoutNormal = function () {\n        var e = (0, this.props.getRef)(\"children-\" + this.props.fromNodeKey);\n\n        if (e) {\n          var t = e.getBoundingClientRect();\n          this.setState({\n            width: t.width,\n            height: t.height\n          });\n        }\n      }, t.prototype.render = function () {\n        return this.state && this.state.width ? a.createElement(\"div\", {\n          className: \"bm-link\"\n        }, a.createElement(\"svg\", i({\n          xmlns: \"http://www.w3.org/2000/svg\",\n          version: \"1.1\",\n          strokeWidth: \"2px\",\n          stroke: \"orange\",\n          fill: \"none\"\n        }, this.state), a.createElement(\"g\", null, a.createElement(\"path\", {\n          d: this.generatePathString()\n        })))) : null;\n      }, t.defaultProps = {\n        isRoot: !1\n      }, t;\n    }(s.BaseWidget);\n\n    t.LinkWidget = u;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(3),\n        s = n(37),\n        c = n(1),\n        u = n(4),\n        p = n(2),\n        l = n(38),\n        d = null,\n        f = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.onDragStart = function (e) {\n          d = n.props.nodeKey, e.stopPropagation();\n        }, n.onDragOver = function (e) {\n          e.preventDefault();\n        }, n.onDragEnter = function () {\n          n.setState({\n            dragEnter: !0\n          });\n        }, n.onDragLeave = function (e) {\n          var t = n.props,\n              o = t.getRef,\n              r = t.nodeKey,\n              i = e.nativeEvent.relatedTarget,\n              a = o(\"content-\" + r);\n          a == i || a.contains(i) || n.setState({\n            dragEnter: !1\n          });\n        }, n.onDrop = function () {\n          var e = n.props,\n              t = e.nodeKey;\n          (0, e.op)(p.OpType.DRAG_AND_DROP, d, t), n.setState({\n            dragEnter: !1\n          });\n        }, n.onClick = function () {\n          n.isDoubleClick = !1, setTimeout(function () {\n            if (!n.isDoubleClick) {\n              var e = n.props,\n                  t = e.diagramState,\n                  o = e.op,\n                  r = e.nodeKey;\n              if (t.mindMapModel.getEditingItemKey() === r) return;\n              o(p.OpType.SET_POPUP_MENU_ITEM_KEY, r), n.setState({\n                showPopMenu: !0\n              });\n            }\n          }, 200);\n        }, n.onDoubleClick = function () {\n          n.isDoubleClick = !0;\n          var e = n.props,\n              t = e.diagramState,\n              o = e.op,\n              r = e.nodeKey;\n          t.mindMapModel.getEditingItemKey() !== r && o(p.OpType.SET_EDIT_ITEM_KEY, r);\n        }, n.handlePopMenuVisibleChange = function (e) {\n          n.setState({\n            showPopMenu: e\n          });\n        }, n._handleClick = function (e) {\n          var t = n.props,\n              o = (0, t.getRef)(\"content-\" + t.nodeKey).getBoundingClientRect();\n          e.clientX > o.left - 40 && e.clientX < o.right + 40 && e.clientY > o.top && (e.clientY, o.bottom);\n        }, n.onKeyUp = function (e) {\n          var t = n.props,\n              o = t.op,\n              r = t.nodeKey;\n\n          switch (e.which) {\n            case s.TAB:\n              o(p.OpType.ADD_CHILD, r);\n          }\n        }, n.state = {\n          dragEnter: !1,\n          showPopMenu: !1\n        }, n;\n      }\n\n      return r(t, e), t.prototype.componentDidUpdate = function (e, t, n) {\n        var o = this.props,\n            r = o.diagramState,\n            i = o.nodeKey;\n        r.mindMapModel.getEditingItemKey() === i ? document.addEventListener(\"click\", this._handleClick) : document.removeEventListener(\"click\", this._handleClick);\n      }, t.prototype.render = function () {\n        var e,\n            t,\n            n = this.props,\n            o = n.diagramState,\n            r = n.op,\n            s = n.nodeKey,\n            c = n.dir,\n            p = n.draggable,\n            d = n.saveRef,\n            f = n.getRef,\n            g = o.mindMapModel,\n            m = o.config,\n            h = g.getItemVisualLevel(s);\n\n        switch (h) {\n          case 0:\n            t = m.rootItemStyle;\n            break;\n\n          case 1:\n            t = m.primaryItemStyle;\n            break;\n\n          default:\n            t = m.normalItemStyle;\n        }\n\n        var y = this.state.showPopMenu;\n        return i.createElement(\"div\", {\n          draggable: p,\n          className: a(\"content\", (e = {}, e[\"content-dir-\" + c] = c !== u.NodeWidgetDirection.ROOT, e[\"root-topic\"] = 0 === h, e[\"primary-topic\"] = 1 === h, e[\"normal-topic\"] = h > 1, e[\"content-drag-enter\"] = this.state.dragEnter, e)),\n          style: t,\n          ref: d(\"content-\" + s),\n          onDragStart: this.onDragStart,\n          onDragEnter: this.onDragEnter,\n          onDragLeave: this.onDragLeave,\n          onDragOver: this.onDragOver,\n          onDrop: this.onDrop,\n          onClick: this.onClick,\n          onDoubleClick: this.onDoubleClick\n        }, m.editorRendererFn(o, r, s, d), y ? i.createElement(l.NodePopupMenu, {\n          diagramState: o,\n          op: r,\n          nodeKey: s,\n          visible: !0,\n          handleVisibleChange: this.handlePopMenuVisibleChange,\n          getRef: f\n        }) : null);\n      }, t;\n    }(c.BaseWidget);\n\n    t.TopicContentWidget = f;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(5),\n        r = n(2),\n        i = function () {\n      function e(e, t) {\n        this.mindMapModel = e, this.config = t;\n      }\n\n      return e.setMindMapModel = function (t, n) {\n        return new e(n, t.config);\n      }, e.op = function (t, n, o, i) {\n        return o || n === r.OpType.FOCUS_ITEM || (o = t.mindMapModel.getFocusItemKey()), new e(r.MindMapModelModifier.op(t.mindMapModel, n, o, i), t.config);\n      }, e.createWith = function (t, n) {\n        return new e(t, n = Object.assign(o.defaultDiagramConfig, n));\n      }, e;\n    }();\n\n    t.DiagramState = i;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(4),\n        a = n(9),\n        s = n(8),\n        c = {\n      rootItemKey: null,\n      editorRootItemKey: null,\n      itemMap: a.Map(),\n      focusItemKey: null,\n      focusItemMode: i.FocusItemMode.Normal\n    },\n        u = function (e) {\n      function t() {\n        return e.call(this) || this;\n      }\n\n      return r(t, e), t.prototype.getRootItemKey = function () {\n        return this.get(\"rootItemKey\");\n      }, t.prototype.getRootItem = function () {\n        return this.getItem(this.getRootItemKey());\n      }, t.prototype.getEditorRootItemKey = function () {\n        return this.get(\"editorRootItemKey\");\n      }, t.prototype.getEditorRootItem = function () {\n        return this.getItemMap().get(this.getEditorRootItemKey());\n      }, t.prototype.getItemMap = function () {\n        return this.get(\"itemMap\");\n      }, t.prototype.getFocusItemKey = function () {\n        return this.get(\"focusItemKey\");\n      }, t.prototype.getFocusItemMode = function () {\n        return this.get(\"focusItemMode\");\n      }, t.prototype.getEditingItemKey = function () {\n        return this.get(\"focusItemMode\") !== i.FocusItemMode.Editing ? null : this.getFocusItemKey();\n      }, t.prototype.getEditingDescItemKey = function () {\n        return this.get(\"focusItemMode\") !== i.FocusItemMode.EditingDesc ? null : this.getFocusItemKey();\n      }, t.prototype.getPopupMenuItemKey = function () {\n        return this.get(\"focusItemMode\") !== i.FocusItemMode.PopupMenu ? null : this.getFocusItemKey();\n      }, t.prototype.getItem = function (e) {\n        return this.getItemMap().get(e);\n      }, t.prototype.getParentItem = function (e) {\n        var t = this.getItem(e);\n        return t.getParentKey() ? this.getItem(t.getParentKey()) : null;\n      }, t.prototype.getItemVisualLevel = function (e) {\n        for (var t = this.getItem(e), n = 0; t && t.getKey() !== this.getEditorRootItemKey();) {\n          n++, t = this.getParentItem(t.getKey());\n        }\n\n        return n;\n      }, t.createWith = function (e) {\n        var n = new t();\n        return (n = n.merge({\n          rootItemKey: e.rootItemKey,\n          editorRootItemKey: e.editorRootItemKey\n        })).withMutations(function (t) {\n          e.items.forEach(function (e) {\n            t.update(\"itemMap\", function (t) {\n              return t.set(e.key, s.MindNodeModel.createWith(e));\n            });\n          });\n        });\n      }, t;\n    }(a.Record(c));\n\n    t.MindMapModel = u;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function o(e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), o(n(19)), o(n(17)), o(n(16)), o(n(43)), o(n(5)), o(n(44)), o(n(2)), o(n(4));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(3),\n        s = n(20),\n        c = n(1);\n    n(40);\n\n    var u = n(42),\n        p = n(16),\n        l = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.op = function (e, t, o) {\n          var r = n.props,\n              i = r.diagramState;\n          (0, r.onChange)(p.DiagramState.op(i, e, t, o));\n        }, n;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        var e = this,\n            t = this.props.diagramState,\n            n = t.mindMapModel.getEditingDescItemKey();\n        return i.createElement(u.default, null, function (o, r) {\n          var c;\n          return i.createElement(\"div\", {\n            className: a(\"bm-diagram\", (c = {}, c[\"\" + t.config.theme] = !0, c))\n          }, i.createElement(s.MindDragScrollWidget, {\n            diagramState: t,\n            op: e.op,\n            saveRef: o,\n            getRef: r\n          }), n && t.config.descEditorRenderFn(t, e.op, n, o));\n        });\n      }, t;\n    }(c.BaseWidget);\n\n    t.DiagramWidget = l;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    }),\n        i = this && this.__assign || Object.assign || function (e) {\n      for (var t, n = 1, o = arguments.length; n < o; n++) {\n        for (var r in t = arguments[n]) {\n          Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n        }\n      }\n\n      return e;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var a = n(0),\n        s = n(1),\n        c = n(21),\n        u = n(26),\n        p = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.canDragFunc = function () {\n          var e = document.getSelection();\n          return null === e.anchorNode || e.anchorNode.nodeType !== Node.TEXT_NODE;\n        }, n;\n      }\n\n      return r(t, e), t.prototype.componentDidMount = function () {\n        var e = this.props,\n            t = e.getRef,\n            n = t(\"topic-\" + e.diagramState.mindMapModel.getEditorRootItemKey()),\n            o = t(\"node-layer\"),\n            r = n.getBoundingClientRect(),\n            i = o.getBoundingClientRect();\n        this.dragScrollWidget.setViewBoxScrollDelta(0, r.top - i.top - this.dragScrollWidget.viewBox.getBoundingClientRect().height / 2 + r.height);\n      }, Object.defineProperty(t.prototype, \"dragScrollWidget\", {\n        get: function get() {\n          return this.props.getRef(\"DragScrollWidget\");\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.render = function () {\n        var e = this,\n            t = this.props.saveRef;\n        return a.createElement(c.DragScrollWidget, i({}, this.state, {\n          ref: t(\"DragScrollWidget\")\n        }), function (n, o) {\n          return a.createElement(u.NodeLayerWidget, i({}, e.props, {\n            setViewBoxScroll: n,\n            setViewBoxScrollDelta: o,\n            ref: t(\"MindNodeLayerWidget\")\n          }));\n        });\n      }, t;\n    }(s.BaseWidget);\n\n    t.MindDragScrollWidget = p;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(1),\n        s = n(22);\n    n(23);\n\n    var c = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.contentResizeCallback = function (e, t) {\n          if (n.oldContentRect) {\n            var o = {\n              width: n.content.clientWidth + 2 * n.viewBox.clientWidth,\n              height: n.content.clientHeight + 2 * n.viewBox.clientHeight\n            };\n            n.bigView.style.width = o.width + \"px\", n.bigView.style.height = o.height + \"px\";\n          }\n\n          n.oldContentRect = e[0].contentRect;\n        }, n.contentResizeObserver = new s.default(n.contentResizeCallback), n.contentRef = function (e) {\n          e && (n.content = e, n.contentResizeObserver.observe(n.content));\n        }, n.viewBoxRef = function (e) {\n          e && (n.viewBox = e, n.setViewBoxScroll(n.viewBox.clientWidth, n.viewBox.clientHeight));\n        }, n.bigViewRef = function (e) {\n          e && (n.bigView = e);\n        }, n.setWidgetStyle = function () {\n          n.content && n.viewBox && n.bigView && (n.bigView.style.width = 2 * (n.content.clientWidth + n.viewBox.clientWidth) + \"px\", n.bigView.style.height = 2 * (n.content.clientHeight + n.viewBox.clientHeight) + \"px\", n.content.style.left = n.viewBox.clientWidth + \"px\", n.content.style.top = n.viewBox.clientHeight + \"px\");\n        }, n.setViewBoxScroll = function (e, t) {\n          n.viewBox && (n.viewBox.scrollLeft = e, n.viewBox.scrollTop = t);\n        }, n.setViewBoxScrollDelta = function (e, t) {\n          n.viewBox && (n.viewBox.scrollLeft += e, n.viewBox.scrollTop += t);\n        }, n.onMouseDown = function (e) {\n          var t = n.props,\n              o = t.mouseKey,\n              r = t.needKeyPressed,\n              i = t.canDragFunc;\n\n          if ((!i || i()) && (0 === e.button && \"left\" === o || 2 === e.button && \"right\" === o)) {\n            if (r && !e.ctrlKey) return;\n            n._lastCoordX = n.viewBox.scrollLeft + e.nativeEvent.clientX, n._lastCoordY = n.viewBox.scrollTop + e.nativeEvent.clientY, window.addEventListener(\"mousemove\", n.onMouseMove), window.addEventListener(\"mouseup\", n.onMouseUp);\n          }\n        }, n.onMouseUp = function (e) {\n          window.removeEventListener(\"mousemove\", n.onMouseMove), window.removeEventListener(\"mouseup\", n.onMouseUp);\n        }, n.onMouseMove = function (e) {\n          n.viewBox.scrollLeft = n._lastCoordX - e.clientX, n.viewBox.scrollTop = n._lastCoordY - e.clientY;\n        }, n.handleContextMenu = function (e) {\n          e.preventDefault();\n        }, n.state = {\n          widgetStyle: {\n            width: \"10000px\",\n            height: \"10000px\"\n          }\n        }, n;\n      }\n\n      return r(t, e), t.prototype.componentDidMount = function () {\n        this.setWidgetStyle(), document.addEventListener(\"contextmenu\", this.handleContextMenu);\n      }, t.prototype.componentWillUnmount = function () {\n        document.removeEventListener(\"contextmenu\", this.handleContextMenu);\n      }, t.prototype.render = function () {\n        return i.createElement(\"div\", {\n          ref: this.viewBoxRef,\n          onMouseDown: this.onMouseDown,\n          className: \"drag-scroll-view\"\n        }, i.createElement(\"div\", {\n          style: this.state.widgetStyle,\n          ref: this.bigViewRef\n        }, i.createElement(\"div\", {\n          className: \"drag-scroll-content\",\n          ref: this.contentRef,\n          style: this.state.contentStyle\n        }, this.props.children(this.setViewBoxScroll, this.setViewBoxScrollDelta))));\n      }, t.defaultProps = {\n        mouseKey: \"left\",\n        needKeyPressed: !1\n      }, t;\n    }(a.BaseWidget);\n\n    t.DragScrollWidget = c;\n  }, function (e, t) {\n    e.exports = require(\"resize-observer-polyfill\");\n  }, function (e, t, n) {\n    var o = n(24);\n    \"string\" == typeof o && (o = [[e.i, o, \"\"]]);\n    n(7)(o, {\n      hmr: !0,\n      transform: void 0,\n      insertInto: void 0\n    }), o.locals && (e.exports = o.locals);\n  }, function (e, t, n) {\n    (e.exports = n(6)(!1)).push([e.i, \".drag-scroll-view {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: scroll; }\\n\\n.drag-scroll-content {\\n  position: relative;\\n  width: max-content; }\\n\", \"\"]);\n  }, function (e, t) {\n    e.exports = function (e) {\n      var t = \"undefined\" != typeof window && window.location;\n      if (!t) throw new Error(\"fixUrls requires window.location\");\n      if (!e || \"string\" != typeof e) return e;\n      var n = t.protocol + \"//\" + t.host,\n          o = n + t.pathname.replace(/\\/[^\\/]*$/, \"/\");\n      return e.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function (e, t) {\n        var r,\n            i = t.trim().replace(/^\"(.*)\"$/, function (e, t) {\n          return t;\n        }).replace(/^'(.*)'$/, function (e, t) {\n          return t;\n        });\n        return /^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i) ? e : (r = 0 === i.indexOf(\"//\") ? i : 0 === i.indexOf(\"/\") ? n + i : o + i.replace(/^\\.\\//, \"\"), \"url(\" + JSON.stringify(r) + \")\");\n      });\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(1),\n        s = n(27),\n        c = function (e) {\n      function t(t) {\n        return e.call(this, t) || this;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        var e = this.props,\n            t = e.setViewBoxScroll,\n            n = e.setViewBoxScrollDelta,\n            o = e.saveRef;\n        return i.createElement(\"div\", {\n          className: \"bm-node-layer\",\n          ref: o(\"node-layer\")\n        }, this.renderItems(t, n));\n      }, t.prototype.renderItems = function (e, t) {\n        var n = this.props,\n            o = n.diagramState,\n            r = n.op,\n            a = n.getRef,\n            c = n.saveRef,\n            u = o.mindMapModel.getEditorRootItemKey();\n        return i.createElement(s.RootNodeWidget, {\n          diagramState: o,\n          op: r,\n          nodeKey: u,\n          saveRef: c,\n          getRef: a,\n          setViewBoxScroll: e,\n          setViewBoxScrollDelta: t\n        });\n      }, t;\n    }(a.BaseWidget);\n\n    t.NodeLayerWidget = c;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(1),\n        s = n(3),\n        c = n(5),\n        u = n(36),\n        p = n(14),\n        l = n(15),\n        d = n(4),\n        f = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.needRelocation = !1, n.layoutSubLinks = function () {\n          var e = n.props,\n              t = e.diagramState,\n              o = e.nodeKey,\n              r = e.getRef,\n              i = t.mindMapModel.getItem(o);\n          i.getSubItemKeys().size > 0 && !i.getCollapse() && i.getSubItemKeys().forEach(function (e) {\n            r(\"link-\" + o + \"-\" + e).layout();\n          });\n        }, n;\n      }\n\n      return r(t, e), t.prototype.getNodeModel = function () {\n        var e = this.props,\n            t = e.diagramState,\n            n = e.nodeKey;\n        return t.mindMapModel.getItem(n);\n      }, t.prototype.getPartItems = function (e) {\n        var t = this.getNodeModel(),\n            n = t.getSubItemKeys().size,\n            o = t.getSubItemKeys().toArray();\n\n        switch (e) {\n          case c.DiagramLayoutDirection.LEFT_TO_RIGHT:\n            return [[], o];\n\n          case c.DiagramLayoutDirection.RIGHT_TO_LEFT:\n            return [o, []];\n\n          case c.DiagramLayoutDirection.LEFT_AND_RIGHT:\n            return [o.slice(Math.ceil(n / 2), n), o.slice(0, Math.ceil(n / 2))];\n        }\n      }, t.prototype.componentDidUpdate = function (e, t, n) {\n        if (this.needRelocation) {\n          var o = this.collapseIcon.getBoundingClientRect();\n          this.props.setViewBoxScrollDelta(o.left - this.oldCollapseIconRect.left, o.top - this.oldCollapseIconRect.top), this.needRelocation = !1;\n        }\n\n        this.layoutSubLinks();\n      }, t.prototype.componentDidMount = function () {\n        this.layoutSubLinks();\n      }, t.prototype.renderPartItems = function (e, t) {\n        var n = this,\n            o = this.props,\n            r = o.diagramState,\n            a = o.op,\n            s = o.setViewBoxScroll,\n            c = o.setViewBoxScrollDelta,\n            l = o.saveRef,\n            f = o.getRef;\n        if (0 === e.length) return null;\n        var g = [],\n            m = [];\n        e.forEach(function (e) {\n          var o = \"link-\" + n.props.nodeKey + \"-\" + e;\n          g.push(i.createElement(u.NodeWidget, {\n            key: e,\n            nodeKey: e,\n            dir: t,\n            diagramState: r,\n            op: a,\n            setViewBoxScroll: s,\n            setViewBoxScrollDelta: c,\n            saveRef: l,\n            getRef: f\n          })), m.push(i.createElement(p.LinkWidget, {\n            diagramState: r,\n            key: o,\n            ref: l(o),\n            fromNodeKey: n.props.nodeKey,\n            toNodeKey: e,\n            dir: t,\n            saveRef: l,\n            getRef: f,\n            isRoot: !0\n          }));\n        });\n        var h = \"bm-node-layer-\" + (t === d.NodeWidgetDirection.LEFT ? \"left\" : \"right\");\n        return i.createElement(\"div\", {\n          className: h,\n          ref: l(h)\n        }, g, m);\n      }, t.prototype.render = function () {\n        var e = this.props,\n            t = e.diagramState,\n            n = e.op,\n            o = e.nodeKey,\n            r = e.saveRef,\n            a = e.getRef,\n            c = t.mindMapModel,\n            u = t.config,\n            p = this.getPartItems(u.direction),\n            f = p[0],\n            g = p[1];\n        return i.createElement(i.Fragment, null, this.renderPartItems(f, d.NodeWidgetDirection.LEFT), i.createElement(\"div\", {\n          className: s(\"topic\"),\n          ref: o === c.getEditorRootItemKey() ? r(\"topic-\" + o) : null\n        }, i.createElement(l.TopicContentWidget, {\n          diagramState: t,\n          op: n,\n          nodeKey: o,\n          dir: d.NodeWidgetDirection.ROOT,\n          draggable: !1,\n          saveRef: r,\n          getRef: a\n        })), this.renderPartItems(g, d.NodeWidgetDirection.RIGHT));\n      }, t;\n    }(a.BaseWidget);\n\n    t.RootNodeWidget = f;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(3),\n        s = n(10),\n        c = n(2),\n        u = n(12);\n    n(13);\n\n    var p = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.onChange = function (e) {\n          var t = n.props,\n              o = t.op,\n              r = t.nodeKey;\n          o(c.OpType.SET_ITEM_CONTENT, r, e);\n        }, n.onMouseDown = function (e) {\n          e.stopPropagation();\n        }, n.onMouseMove = function (e) {\n          e.stopPropagation();\n        }, n;\n      }\n\n      return r(t, e), t.prototype.shouldComponentUpdate = function (e, t, n) {\n        var o = e.nodeKey,\n            r = e.diagramState,\n            i = this.props,\n            a = i.nodeKey,\n            s = i.diagramState;\n        if (o !== a) return !0;\n        var c = s.mindMapModel.getEditingItemKey(),\n            u = r.mindMapModel.getEditingItemKey();\n        return c !== u && (c === a || u === a) || s.mindMapModel.getItem(a) !== r.mindMapModel.getItem(o);\n      }, t.prototype.render = function () {\n        var e = this.props,\n            t = e.nodeKey,\n            n = e.diagramState,\n            o = e.saveRef,\n            r = n.mindMapModel,\n            c = r.getItem(t).getContent(),\n            p = !(t === r.getEditingItemKey());\n        return i.createElement(\"div\", {\n          className: a(\"bm-node-content\", {\n            \"content-editing\": !p,\n            \"bm-node-content-cursor\": !p\n          }),\n          ref: o(\"editor-\" + t),\n          onMouseDown: this.onMouseDown,\n          onMouseMove: this.onMouseMove\n        }, i.createElement(s.default, {\n          editorValue: c,\n          onChange: u.debounce(this.onChange),\n          readOnly: p\n        }));\n      }, t;\n    }(i.Component);\n\n    t.DefaultNodeContentEditor = p;\n  }, function (e, t) {\n    e.exports = require(\"slate-md-serializer\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.uuidv4 = function () {\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (e) {\n        var t = 16 * Math.random() | 0;\n        return (\"x\" == e ? t : 3 & t | 8).toString(16);\n      });\n    };\n  }, function (e, t) {\n    e.exports = require(\"slate\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      e[e.Ancestor = 0] = \"Ancestor\", e[e.Descendant = 1] = \"Descendant\", e[e.Sibling = 2] = \"Sibling\", e[e.None = 3] = \"None\";\n    }(t.NodeRelationship || (t.NodeRelationship = {}));\n  }, function (e, t, n) {\n    (e.exports = n(6)(!1)).push([e.i, \".bm-node-content {\\n  padding: 6px 6px; }\\n\\n.bm-node-content-cursor {\\n  cursor: text; }\\n\", \"\"]);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(3),\n        s = n(10),\n        c = n(2),\n        u = n(12);\n    n(13);\n\n    var p = function (e) {\n      function t(t) {\n        var n = e.call(this, t) || this;\n        return n.onChange = function (e) {\n          var t = n.props,\n              o = t.op,\n              r = t.nodeKey;\n          o(c.OpType.SET_ITEM_DESC, r, e);\n        }, n.onMouseDown = function (e) {\n          e.stopPropagation();\n        }, n.onMouseMove = function (e) {\n          e.stopPropagation();\n        }, n;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        var e = this.props,\n            t = e.nodeKey,\n            n = e.diagramState,\n            o = e.saveRef,\n            r = n.mindMapModel.getItem(t).getDesc();\n        return null != r && i.createElement(\"div\", {\n          className: a(\"bm-desc-editor\"),\n          ref: o(\"desc-\" + t),\n          onMouseDown: this.onMouseDown,\n          onMouseMove: this.onMouseMove\n        }, i.createElement(s.default, {\n          editorValue: r,\n          onChange: u.debounce(this.onChange)\n        }));\n      }, t;\n    }(i.Component);\n\n    t.DefaultNodeDescEditor = p;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = function (e) {\n      function t() {\n        return null !== e && e.apply(this, arguments) || this;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        return this.renderFocusItemBorder();\n      }, t.prototype.reLayout = function () {\n        this.forceUpdate();\n      }, t.prototype.renderFocusItemBorder = function () {\n        var e = this.props,\n            t = e.getRef,\n            n = e.diagramState,\n            o = n.mindMapModel,\n            r = n.config.focusBorderPadding,\n            a = o.getFocusItemKey();\n\n        if (a) {\n          var s = t(\"content-\" + a),\n              c = t(\"node-layer\");\n\n          if (s && c) {\n            var u = s.getBoundingClientRect(),\n                p = c.getBoundingClientRect();\n            return i.createElement(\"div\", {\n              className: \"bm-focus-svg\"\n            }, i.createElement(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              version: \"1.1\",\n              strokeWidth: \"2px\",\n              stroke: \"red\",\n              fill: \"none\",\n              width: \"3000px\",\n              height: \"3000px\"\n            }, i.createElement(\"rect\", {\n              x: \"\" + (u.left - p.left - r),\n              y: \"\" + (u.top - p.top - r),\n              rx: \"10\",\n              ry: \"10\",\n              width: \"\" + (u.width + 2 * r),\n              height: \"\" + (u.height + 2 * r)\n            })));\n          }\n        }\n\n        return null;\n      }, t;\n    }(i.Component);\n\n    t.DefaultFocusItemBorderSvg = a;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(1),\n        s = n(14),\n        c = n(15),\n        u = n(2),\n        p = n(3),\n        l = n(4),\n        d = function (e) {\n      function t(n) {\n        var o = e.call(this, n) || this;\n        return o.onClickCollapse = function (e) {\n          e.stopPropagation(), o.needRelocation = !0, o.oldCollapseIconRect = o.collapseIcon.getBoundingClientRect(), o.props.op(u.OpType.TOGGLE_COLLAPSE, o.props.nodeKey);\n        }, o.onDragStart = function (e) {\n          t.dragSrcItemKey = o.props.nodeKey, e.stopPropagation();\n        }, o.onDragEnter = function () {\n          o.setState({\n            dragEnter: !0\n          });\n        }, o.onDragLeave = function (e) {\n          var t = o.props,\n              n = t.getRef,\n              r = t.nodeKey,\n              i = e.nativeEvent.relatedTarget,\n              a = n(\"content-\" + r);\n          a == i || a.contains(i) || o.setState({\n            dragEnter: !1\n          });\n        }, o.onDrop = function (e) {\n          var n = o.props,\n              r = n.op,\n              i = n.nodeKey;\n          r(u.OpType.DRAG_AND_DROP, t.dragSrcItemKey, i), o.setState({\n            dragEnter: !1\n          });\n        }, o.needRelocation = !1, o.layoutSubLinks = function () {\n          var e = o.props,\n              t = e.diagramState,\n              n = e.nodeKey,\n              r = e.getRef,\n              i = t.mindMapModel.getItem(n);\n          i.getSubItemKeys().size > 0 && !i.getCollapse() && i.getSubItemKeys().forEach(function (e) {\n            r(\"link-\" + n + \"-\" + e).layout();\n          });\n        }, o.collapseIconRef = function (e) {\n          e && (o.collapseIcon = e);\n        }, o.state = {\n          dragEnter: !1\n        }, o;\n      }\n\n      return r(t, e), t.prototype.componentDidUpdate = function (e, t, n) {\n        if (this.needRelocation) {\n          var o = this.collapseIcon.getBoundingClientRect();\n          this.props.setViewBoxScrollDelta(o.left - this.oldCollapseIconRect.left, o.top - this.oldCollapseIconRect.top), this.needRelocation = !1;\n        }\n\n        this.layoutSubLinks();\n      }, t.prototype.componentDidMount = function () {\n        this.layoutSubLinks();\n      }, t.prototype.shouldComponentUpdate = function (e, t, n) {\n        return !0;\n      }, t.prototype.renderSubItems = function () {\n        var e = this.props,\n            n = e.diagramState,\n            o = e.op,\n            r = e.nodeKey,\n            a = e.dir,\n            c = e.setViewBoxScroll,\n            u = e.setViewBoxScrollDelta,\n            d = e.saveRef,\n            f = e.getRef,\n            g = n.mindMapModel.getItem(r);\n        if (0 === g.getSubItemKeys().size || g.getCollapse()) return null;\n        var m = [],\n            h = [];\n        g.getSubItemKeys().forEach(function (e) {\n          m.push(i.createElement(t, {\n            key: e,\n            nodeKey: e,\n            dir: a,\n            diagramState: n,\n            op: o,\n            setViewBoxScroll: c,\n            setViewBoxScrollDelta: u,\n            saveRef: d,\n            getRef: f\n          }));\n          var p = \"link-\" + r + \"-\" + e;\n          h.push(i.createElement(s.LinkWidget, {\n            diagramState: n,\n            key: p,\n            fromNodeKey: r,\n            toNodeKey: e,\n            dir: a,\n            getRef: f,\n            ref: d(p)\n          }));\n        });\n        var y = n.config,\n            v = a === l.NodeWidgetDirection.LEFT ? {\n          paddingTop: y.vMargin,\n          paddingBottom: y.vMargin,\n          paddingRight: y.hMargin\n        } : {\n          paddingTop: y.vMargin,\n          paddingBottom: y.vMargin,\n          paddingLeft: y.hMargin\n        };\n        return i.createElement(\"div\", {\n          className: p(\"bm-children\"),\n          style: v,\n          ref: d(\"children-\" + r)\n        }, m, h);\n      }, t.prototype.render = function () {\n        var e,\n            t,\n            n = this.props,\n            o = n.diagramState,\n            r = n.op,\n            a = n.nodeKey,\n            s = n.dir,\n            u = n.saveRef,\n            d = n.getRef,\n            f = o.mindMapModel,\n            g = f.getItem(a),\n            m = f.getItemVisualLevel(a);\n        return i.createElement(\"div\", {\n          className: p(\"bm-node\", \"bm-dir-\" + s)\n        }, i.createElement(\"div\", {\n          className: p(\"topic\", \"bm-dir-\" + s),\n          ref: u(\"topic-\" + a)\n        }, i.createElement(c.TopicContentWidget, {\n          diagramState: o,\n          op: r,\n          nodeKey: a,\n          dir: s,\n          draggable: !0,\n          saveRef: u,\n          getRef: d\n        }), g.getSubItemKeys().size > 0 ? i.createElement(\"div\", {\n          className: p(\"collapse-line\", (e = {\n            \"collapse-line-hide\": g.getCollapse()\n          }, e[\"normal-collapse-line-\" + s] = o.config.nodeStyle === l.NodeStyle.PRIMARY_HAS_BORDER_NORMAL_NO_BORDER && m > 1, e)),\n          ref: u(\"line-\" + a)\n        }, i.createElement(\"div\", {\n          ref: this.collapseIconRef,\n          className: p(\"collapse-icon\", (t = {\n            iconfont: g.getSubItemKeys().size > 0\n          }, t[\"bm-\" + (g.getCollapse() ? \"plus\" : \"minus\")] = g.getSubItemKeys().size > 0, t)),\n          onClick: this.onClickCollapse\n        })) : null), this.renderSubItems());\n      }, t;\n    }(a.BaseWidget);\n\n    t.NodeWidget = d;\n  }, function (e, t) {\n    e.exports = require(\"fbjs/lib/Keys\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(39),\n        s = n(2),\n        c = function (e) {\n      function t() {\n        var t = null !== e && e.apply(this, arguments) || this;\n        return t._handleClick = function (e) {\n          var n = t.props.visible;\n          !(e.target.contains === t.root) && n && t.props.handleVisibleChange && t.props.handleVisibleChange(!1);\n        }, t.rootRef = function (e) {\n          t.root = e;\n        }, t;\n      }\n\n      return r(t, e), t.prototype.componentDidMount = function () {\n        document.addEventListener(\"click\", this._handleClick);\n      }, t.prototype.componentWillUnmount = function () {\n        document.removeEventListener(\"click\", this._handleClick);\n      }, t.prototype.render = function () {\n        var e = this.props,\n            t = e.visible,\n            n = e.nodeKey,\n            o = e.items,\n            r = e.diagramState,\n            s = e.op,\n            c = r.mindMapModel.getEditorRootItemKey(),\n            u = o.map(function (e) {\n          return n !== c || e.rootCanUse ? i.createElement(a.NodePopupMenuItem, {\n            config: e,\n            key: n + \"-\" + e.label,\n            nodeKey: n,\n            diagramState: r,\n            op: s\n          }) : null;\n        });\n        return t && i.createElement(\"div\", {\n          className: \"bm-node-popup-menu\",\n          ref: this.rootRef\n        }, u);\n      }, t.defaultProps = {\n        items: [{\n          icon: \"edit\",\n          label: \"edit\",\n          rootCanUse: !0,\n          opType: s.OpType.SET_EDIT_ITEM_KEY\n        }, {\n          icon: \"add-sibling\",\n          label: \"add sibling\",\n          opType: s.OpType.ADD_SIBLING\n        }, {\n          icon: \"add-child\",\n          label: \"add child\",\n          rootCanUse: !0,\n          opType: s.OpType.ADD_CHILD\n        }, {\n          icon: \"notes\",\n          label: \"edit notes\"\n        }, {\n          icon: \"delete-node\",\n          label: \"delete node\",\n          opType: s.OpType.DELETE_NODE\n        }]\n      }, t;\n    }(i.Component);\n\n    t.NodePopupMenu = c;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(3),\n        s = n(2),\n        c = function (e) {\n      function t() {\n        var t = null !== e && e.apply(this, arguments) || this;\n        return t.onClick = function (e) {\n          e.stopPropagation();\n          var n = t.props,\n              o = n.nodeKey,\n              r = n.config,\n              i = n.op;\n          r.opType ? i(r.opType, o) : \"notes\" === r.icon && t.handleEditNotes();\n        }, t.handleEditNotes = function () {\n          var e = t.props,\n              n = e.nodeKey,\n              o = e.op;\n          e.diagramState.mindMapModel.getItem(n).getDesc() || o(s.OpType.SET_ITEM_DESC, n, \"\");\n        }, t;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        var e = this.props.config;\n        return i.createElement(\"div\", {\n          className: \"popup-menu-item\",\n          onClick: this.onClick\n        }, i.createElement(\"div\", {\n          className: a(\"icon\", \"iconfont\", \"bm-\" + e.icon),\n          onClick: this.onClick\n        }), i.createElement(\"div\", {\n          className: \"label\"\n        }, e.label));\n      }, t;\n    }(i.Component);\n\n    t.NodePopupMenuItem = c;\n  }, function (e, t, n) {\n    var o = n(41);\n    \"string\" == typeof o && (o = [[e.i, o, \"\"]]);\n    n(7)(o, {\n      hmr: !0,\n      transform: void 0,\n      insertInto: void 0\n    }), o.locals && (e.exports = o.locals);\n  }, function (e, t, n) {\n    (t = e.exports = n(6)(!1)).push([e.i, \"@import url(//at.alicdn.com/t/font_1280682_h3mafz4ucne.css);\", \"\"]), t.push([e.i, \".theme-orange .root-topic {\\n  background: orange; }\\n\\n.theme-orange .primary-topic {\\n  border: 2px solid orange; }\\n\\n.theme-orange .normal-topic {\\n  border: 2px solid orange; }\\n\\n.bm-diagram {\\n  width: 100%;\\n  height: 100%; }\\n\\n.bm-desc-editor {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 800px;\\n  height: 800px;\\n  border: orange;\\n  z-index: 10; }\\n\\n.iconfont {\\n  vertical-align: middle; }\\n\\n.none-pointer-events {\\n  pointer-events: none; }\\n\\n.bm-node-layer {\\n  position: relative;\\n  display: flex;\\n  align-items: center; }\\n  .bm-node-layer .bm-node {\\n    display: flex;\\n    align-items: center;\\n    padding: 10px; }\\n    .bm-node-layer .bm-node div {\\n      flex-shrink: 0; }\\n    .bm-node-layer .bm-node .bm-children {\\n      position: relative; }\\n  .bm-node-layer .topic {\\n    display: flex;\\n    position: relative;\\n    align-items: center; }\\n    .bm-node-layer .topic .content-editing {\\n      background-color: #e0e0e0; }\\n    .bm-node-layer .topic .content {\\n      word-wrap: break-word;\\n      white-space: pre-line;\\n      cursor: pointer; }\\n    .bm-node-layer .topic .content-drag-enter {\\n      background-color: brown; }\\n    .bm-node-layer .topic .content-dir-0 {\\n      padding: 6px 0 6px 20px; }\\n    .bm-node-layer .topic .content-dir-1 {\\n      padding: 6px 20px 6px 0; }\\n    .bm-node-layer .topic .collapse-line {\\n      height: 2px;\\n      width: 30px;\\n      background: orange; }\\n    .bm-node-layer .topic .collapse-line-hide {\\n      background: transparent; }\\n    .bm-node-layer .topic .normal-collapse-line-1 {\\n      position: absolute;\\n      bottom: -1px;\\n      right: 0; }\\n    .bm-node-layer .topic .normal-collapse-line-0 {\\n      position: absolute;\\n      bottom: -1px;\\n      left: 0; }\\n    .bm-node-layer .topic .collapse-icon {\\n      position: relative;\\n      top: -8px;\\n      left: 5px;\\n      border-radius: 50%;\\n      width: 20px;\\n      height: 20px;\\n      text-align: center;\\n      background-color: orange;\\n      cursor: pointer;\\n      padding: 0;\\n      font-size: 14px;\\n      line-height: 20px;\\n      border: 0; }\\n\\n.bm-node-layer-left {\\n  display: flex;\\n  position: relative;\\n  align-items: flex-end;\\n  flex-direction: column;\\n  padding-right: 60px; }\\n\\n.bm-node-layer-right {\\n  display: flex;\\n  position: relative;\\n  flex-direction: column;\\n  padding-left: 60px; }\\n\\n.bm-dir-0 {\\n  flex-direction: row-reverse; }\\n\\n.bm-dir-1 {\\n  flex-direction: row; }\\n\\n.bm-link {\\n  z-index: -1;\\n  position: absolute;\\n  left: 0;\\n  top: 0; }\\n\\n.bm-focus-svg {\\n  z-index: -1;\\n  position: absolute;\\n  left: 0;\\n  top: 0; }\\n\\n.bm-node-popup-menu {\\n  position: absolute;\\n  bottom: calc(100% + 5px);\\n  left: 0;\\n  padding: 0 8px;\\n  border-radius: 10px;\\n  background-color: white;\\n  box-shadow: #aaaaaa 5px 5px 10px;\\n  cursor: pointer;\\n  z-index: 1;\\n  width: max-content;\\n  height: 50px; }\\n  .bm-node-popup-menu .popup-menu-item {\\n    display: inline-block;\\n    margin: 10px; }\\n    .bm-node-popup-menu .popup-menu-item:hover {\\n      color: orange; }\\n    .bm-node-popup-menu .popup-menu-item .icon {\\n      text-align: center; }\\n    .bm-node-popup-menu .popup-menu-item .label {\\n      font-size: 20%; }\\n\\n.fXedfB {\\n  background: inherit; }\\n\", \"\"]);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var o,\n        r = this && this.__extends || (o = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    }, function (e, t) {\n      function n() {\n        this.constructor = e;\n      }\n\n      o(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = function (e) {\n      function t() {\n        var t = null !== e && e.apply(this, arguments) || this;\n        return t.getRef = function (e) {\n          return t[e];\n        }, t.saveRef = function (e) {\n          return function (n) {\n            n && (t[e] = n, t.fireListener(e, n));\n          };\n        }, t.observers = new Map(), t.fireListener = function (e, n) {\n          if (t.observers.has(e)) for (var o = 0, r = t.observers.get(e); o < r.length; o++) {\n            (0, r[o])(e, n);\n          }\n        }, t.registerRefListener = function (e, n) {\n          t.observers.has(e) ? t.observers.get(e).push(n) : t.observers.set(e, [n]);\n        }, t;\n      }\n\n      return r(t, e), t.prototype.render = function () {\n        return this.props.children(this.saveRef, this.getRef, this.registerRefListener.bind(this));\n      }, t;\n    }(n(0).Component);\n\n    t.default = i;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(5),\n        r = function r(e, t) {\n      void 0 === t && (t = {}), this.mindMapModel = e, this.config = Object.assign(o.defaultDiagramConfig, t), this.zoom = 1;\n    };\n\n    t.MindDiagramModel = r;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(17),\n        r = n(11),\n        i = n(8);\n    t.convertMindMapModelToRaw = function (e) {\n      var t = {};\n      t.rootItemKey = e.getRootItemKey(), t.items = e.getItemMap();\n      var n = e.getRootItem().getContent();\n      return t.title = \"string\" == typeof n ? n : r.default.serialize(n), t;\n    }, t.convertRawToMindMapModel = function (e) {\n      var t = new o.MindMapModel();\n      return (t = t.merge({\n        rootItemKey: e.rootItemKey,\n        editorRootItemKey: e.rootItemKey\n      })).withMutations(function (t) {\n        Object.keys(e.items).forEach(function (n) {\n          var o = e.items[n];\n          t.update(\"itemMap\", function (e) {\n            return e.set(o.key, i.MindNodeModel.createWith(o));\n          });\n        });\n      });\n    };\n  }]);\n});","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport cx from \"classnames\";\nimport { DiagramState, exportMindMapModelToJSON } from \"blink-mind-react\";\n\nexport class ToolbarItem extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  onClick = () => {\n    console.log(\"toolbar item click\");\n    let {config,diagramState,onChange} = this.props;\n    if (config.opType) {\n      this.props.op(config.opType, null);\n    } else if(config.clickHandler) {\n      config.clickHandler(diagramState,onChange);\n    }\n  };\n\n  render() {\n    const { config } = this.props;\n    return (\n      <span\n        className={cx(\"bm-toolbar-item\", \"iconfont\", `bm-${config.icon}`)}\n        onClick={this.onClick}\n      ></span>\n    );\n  }\n}\n","export const downloadFile = (url, filename) => {\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  link.click();\n};\n","import React from \"react\";\nimport './PopupContent.css';\nimport {convertMindMapModelToRaw, convertRawToMindMapModel, DiagramState} from 'blink-mind-react';\nimport {downloadFile} from \"../utils\";\nimport Popup from 'react-popup';\n\nexport function PopupExportContent(props) {\n\n  const exportJSON = () => {\n    let model = props.diagramState.mindMapModel;\n    const data = convertMindMapModelToRaw(model);\n    let json = JSON.stringify(data);\n    let url = `data:text/plain,${encodeURIComponent(json)}`;\n    downloadFile(url,`${data.title}.json`);\n    Popup.close();\n  };\n\n  return (\n    <div className='popup-content'>\n      <ul className='popup-content-list'>\n        <li className='popup-content-list-item' onClick={exportJSON}>JSON (.json)</li>\n      </ul>\n    </div>\n  )\n}\n\n\nexport function PopupOpenFileContent(props) {\n  let {diagramState,onChange} = props;\n  const openFile = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.json';\n    input.addEventListener('change',evt => {\n      const file = evt.target.files[0];\n      const fr = new FileReader();\n      fr.onload = evt => {\n        const txt = evt.target.result;\n        let obj = JSON.parse(txt);\n        console.log(obj);\n        let model = convertRawToMindMapModel(obj);\n        let newDiagramState = DiagramState.setMindMapModel(diagramState,model);\n        onChange(newDiagramState);\n      };\n      fr.readAsText(file);\n    });\n    input.click();\n    Popup.close();\n  };\n\n  return (\n    <div className='popup-content'>\n      <div>\n        Support for opening files in the following format\n      </div>\n      <ul className='popup-content-list'>\n        <li className='popup-content-list-item' >JSON (.json)</li>\n      </ul>\n\n      <div>\n        <button onClick={openFile}>Open File</button>\n        <button>Cancel</button>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { ToolbarItem, ToolbarItemConfig } from \"./ToolbarItem\";\nimport \"./Toolbar.css\";\nimport { OpType, DiagramState } from \"blink-mind-react\";\n\nimport { PopupExportContent, PopupOpenFileContent } from \"./PopupContent\";\n\nimport Popup from \"react-popup\";\n\nexport class Toolbar extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  showPopupExport = diagramState => {\n    console.log(\"showPopupExport\");\n    Popup.registerPlugin(\"popupExport\", function() {\n      this.create({\n        title: \"Please select export file format\",\n        content: <PopupExportContent diagramState={diagramState} />\n      });\n    });\n    Popup.plugins().popupExport();\n  };\n\n  showPopupOpenFile = (diagramState, onChange) => {\n    Popup.registerPlugin(\"popupOpenFile\", function() {\n      this.create({\n        title: \"Open File\",\n        content: (\n          <PopupOpenFileContent\n            diagramState={diagramState}\n            onChange={onChange}\n          />\n        )\n      });\n    });\n    Popup.plugins().popupOpenFile();\n  };\n\n  items = [\n    {\n      icon: \"newfile\",\n      label: \"new file\"\n      // opType: OpType.REDO\n    },\n    {\n      icon: \"openfile\",\n      label: \"open file\",\n      clickHandler: this.showPopupOpenFile\n    },\n    {\n      icon: \"export\",\n      label: \"export file\",\n      clickHandler: this.showPopupExport\n    },\n    {\n      icon: \"undo\",\n      label: \"undo\",\n      opType: OpType.UNDO\n    },\n    {\n      icon: \"redo\",\n      label: \"redo\",\n      opType: OpType.REDO\n    },\n    {\n      icon: \"add-sibling\",\n      label: \"add sibling\",\n      opType: OpType.ADD_SIBLING\n    },\n    {\n      icon: \"add-child\",\n      label: \"add child\",\n      opType: OpType.ADD_CHILD\n    },\n    {\n      icon: \"delete-node\",\n      label: \"delete node\",\n      opType: OpType.DELETE_NODE\n    }\n  ];\n\n  render() {\n    let { diagramState, onChange,op } = this.props;\n    let toolbarItems = this.items.map(item => (\n      <ToolbarItem\n        config={item}\n        key={item.label}\n        diagramState={diagramState}\n        onChange={onChange}\n        op={op}\n      />\n    ));\n    return (\n      <div>\n        <div className=\"bm-toolbar\">{toolbarItems}</div>\n        {/*{*/}\n        {/*this.state.popupType==='Export' ? <PopupExport/> : null*/}\n        {/*}*/}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Keys from \"fbjs/lib/Keys\";\nimport {\n  DiagramWidget,\n  MindMapModel,\n  DiagramConfig,\n  DiagramState\n} from \"blink-mind-react\";\n\nimport { Toolbar } from \"./Toolbar\";\nimport { OpType, FocusItemMode } from \"blink-mind-react\";\n\nexport class MindMap extends React.Component {\n  constructor(props) {\n    super(props);\n    let mindModel = MindMapModel.createWith({\n      rootItemKey: \"root\",\n      editorRootItemKey: \"root\",\n      items: [\n        { key: \"root\", content: \"MainTopic\", subItemKeys: [\"sub1\", \"sub2\"] },\n        {\n          key: \"sub1\",\n          parentKey: \"root\",\n          content: \"SubTopic\",\n          subItemKeys: [],\n          collapse: true\n        },\n        {\n          key: \"sub2\",\n          parentKey: \"root\",\n          content: \"SubTopic\",\n          subItemKeys: []\n        }\n      ]\n    });\n    let diagramConfig = {\n      hMargin: 10\n    };\n    let diagramState = DiagramState.createWith(mindModel, diagramConfig);\n    this.state = {\n      diagramState: diagramState\n    };\n  }\n\n  getFocusItemMode() {\n    return this.state.diagramState.mindMapModel.getFocusItemMode();\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n    document.removeEventListener(\"keyup\", this.onKeyUp);\n  }\n\n  onChange = diagramState => {\n    console.log(\"onChange\");\n    console.log(diagramState.mindMapModel);\n    this.setState({ diagramState });\n  };\n\n  onKeyDown = e => {\n    let focusItemMode = this.getFocusItemMode();\n    if (\n      focusItemMode === FocusItemMode.Normal ||\n      focusItemMode === FocusItemMode.PopupMenu\n    ) {\n      e.preventDefault();\n    }\n  };\n\n  onKeyUp = e => {\n    console.log(e);\n    let focusItemMode = this.getFocusItemMode();\n    switch (e.which) {\n      case Keys.TAB:\n        if (\n          focusItemMode === FocusItemMode.Normal ||\n          focusItemMode === FocusItemMode.PopupMenu\n        ) {\n          this.op(OpType.ADD_CHILD);\n        }\n        break;\n      case Keys.RETURN:\n        if (\n          focusItemMode === FocusItemMode.Normal ||\n          focusItemMode === FocusItemMode.PopupMenu\n        ) {\n          this.op(OpType.ADD_SIBLING);\n        }\n        if (focusItemMode === FocusItemMode.Editing) {\n          if (e.ctrlKey) {\n            this.op(OpType.ADD_SIBLING);\n          }\n        }\n        break;\n    }\n  };\n\n  op = (opType, nodeKey, arg) => {\n    let { diagramState } = this.state;\n    let newState = DiagramState.op(diagramState, opType, nodeKey, arg);\n    this.onChange(newState);\n  };\n\n  render() {\n    return (\n      <div className=\"mindmap\">\n        <Toolbar\n          diagramState={this.state.diagramState}\n          onChange={this.onChange}\n          op={this.op}\n        />\n        <DiagramWidget\n          diagramState={this.state.diagramState}\n          onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default MindMap;\n","import React from \"react\";\nimport MindMap from \"./component/MindMap\";\nimport \"./App.css\";\nimport \"./popup.css\"\n\nfunction App() {\n  return (\n    <>\n      <MindMap />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Popup from \"react-popup\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\nReactDOM.render(<Popup />, document.getElementById(\"popup\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}